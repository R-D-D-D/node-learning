(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(t,e,i){var n=i("b622"),r=n("toStringTag"),s={};s[r]="z",t.exports="[object z]"===String(s)},"0366":function(t,e,i){var n=i("1c0b");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},"0393":function(t,e,i){"use strict";i("0481"),i("4069");var n=i("5530"),r=(i("210b"),i("604c")),s=i("d9bd");e["a"]=r["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(s["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(s["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var i=this.getValue(t,e),n=this.getValue(t,e+1);t.isActive=this.toggleMethod(i),t.nextIsActive=this.toggleMethod(n)}}})},"045f":function(t,e,i){"use strict";var n=i("d7d2"),r=i("a559"),s=i("8362"),o=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var i=t.indexOf(":"),n=t.slice(0,i).trim().toLowerCase(),r=t.slice(i+1).trim();"undefined"===typeof e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]})),e):e};function a(t,e){for(var i=0;i<t.length;i++)e(t[i])}function l(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function u(t,e,i){var n=t;return s(e)?(i=e,"string"===typeof t&&(n={uri:t})):n=r({},e,{uri:t}),n.callback=i,n}function c(t,e,i){return e=u(t,e,i),h(e)}function h(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,r){e||(e=!0,t.callback(i,n,r))};function n(){4===f.readyState&&setTimeout(a,0)}function r(){var t=void 0;if(t=f.response?f.response:f.responseText||d(f),_)try{t=JSON.parse(t)}catch(e){}return t}function s(t){return clearTimeout(p),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,S)}function a(){if(!h){var e;clearTimeout(p),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var n=S,s=null;return 0!==e?(n={body:r(),statusCode:e,method:g,headers:{},url:m,rawRequest:f},f.getAllResponseHeaders&&(n.headers=o(f.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),i(s,n,n.body)}}var u,h,f=t.xhr||null;f||(f=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var p,m=f.url=t.uri||t.url,g=f.method=t.method||"GET",y=t.body||t.data,v=f.headers=t.headers||{},b=!!t.sync,_=!1,S={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:f};if("json"in t&&!1!==t.json&&(_=!0,v["accept"]||v["Accept"]||(v["Accept"]="application/json"),"GET"!==g&&"HEAD"!==g&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),y=JSON.stringify(!0===t.json?y:t.json))),f.onreadystatechange=n,f.onload=a,f.onerror=s,f.onprogress=function(){},f.onabort=function(){h=!0},f.ontimeout=s,f.open(g,m,!b,t.username,t.password),b||(f.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(p=setTimeout((function(){if(!h){h=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",s(t)}}),t.timeout)),f.setRequestHeader)for(u in v)v.hasOwnProperty(u)&&f.setRequestHeader(u,v[u]);else if(t.headers&&!l(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(f),f.send(y||null),f}function d(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(i){}return null}function f(){}t.exports=c,t.exports.default=c,c.XMLHttpRequest=n.XMLHttpRequest||f,c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:n.XDomainRequest,a(["get","put","post","patch","head","delete"],(function(t){c["delete"===t?"del":t]=function(e,i,n){return i=u(e,i,n),i.method=t.toUpperCase(),h(i)}}))},"0481":function(t,e,i){"use strict";var n=i("23e7"),r=i("a2bf"),s=i("7b0b"),o=i("50c4"),a=i("a691"),l=i("65f0");n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=s(this),i=o(e.length),n=l(e,0);return n.length=r(n,e,e,i,0,void 0===t?1:a(t)),n}})},"0538":function(t,e,i){"use strict";var n=i("1c0b"),r=i("861d"),s=[].slice,o={},a=function(t,e,i){if(!(e in o)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";o[e]=Function("C,a","return new C("+n.join(",")+")")}return o[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=s.call(arguments,1),o=function(){var n=i.concat(s.call(arguments));return this instanceof o?a(e,n.length,n):e.apply(t,n)};return r(e.prototype)&&(o.prototype=e.prototype),o}},"057f":function(t,e,i){var n=i("fc6a"),r=i("241c").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?a(t):r(n(t))}},"06c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("a630"),i("fb6a"),i("b0c0"),i("d3b7"),i("25f0"),i("3ca3");var n=i("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(n["a"])(t,e):void 0}}},"06cf":function(t,e,i){var n=i("83ab"),r=i("d1e7"),s=i("5c6c"),o=i("fc6a"),a=i("c04e"),l=i("5135"),u=i("0cfb"),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(i){}if(l(t,e))return s(!r.f.call(t,e),t[e])}},"0789":function(t,e,i){"use strict";i.d(e,"h",(function(){return c})),i.d(e,"g",(function(){return h})),i.d(e,"c",(function(){return d})),i.d(e,"d",(function(){return f})),i.d(e,"e",(function(){return p})),i.d(e,"f",(function(){return m})),i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return y}));i("99af");var n=i("d9f7");function r(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return(t=Array()).concat.apply(t,[e].concat(n))}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top center 0",i=arguments.length>2?arguments[2]:void 0;return{name:t,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:i},origin:{type:String,default:e}},render:function(e,i){var s="transition".concat(i.props.group?"-group":""),o={props:{name:t,mode:i.props.mode},on:{beforeEnter:function(t){t.style.transformOrigin=i.props.origin,t.style.webkitTransformOrigin=i.props.origin}}};return i.props.leaveAbsolute&&(o.on.leave=r(o.on.leave,(function(t){return t.style.position="absolute"}))),i.props.hideOnLeave&&(o.on.leave=r(o.on.leave,(function(t){return t.style.display="none"}))),e(s,Object(n["a"])(i.data,o),i.children)}}}function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return{name:t,functional:!0,props:{mode:{type:String,default:i}},render:function(i,r){return i("transition",Object(n["a"])(r.data,{props:{name:t},on:e}),r.children)}}}var a=i("ade3"),l=i("80d2"),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?"width":"height",n="offset".concat(Object(l["z"])(i));return{beforeEnter:function(t){t._parent=t.parentNode,t._initialStyle=Object(a["a"])({transition:t.style.transition,visibility:t.style.visibility,overflow:t.style.overflow},i,t.style[i])},enter:function(e){var r=e._initialStyle,s="".concat(e[n],"px");e.style.setProperty("transition","none","important"),e.style.visibility="hidden",e.style.visibility=r.visibility,e.style.overflow="hidden",e.style[i]="0",e.offsetHeight,e.style.transition=r.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame((function(){e.style[i]=s}))},afterEnter:s,enterCancelled:s,leave:function(t){t._initialStyle=Object(a["a"])({transition:"",visibility:"",overflow:t.style.overflow},i,t.style[i]),t.style.overflow="hidden",t.style[i]="".concat(t[n],"px"),t.offsetHeight,requestAnimationFrame((function(){return t.style[i]="0"}))},afterLeave:r,leaveCancelled:r};function r(e){t&&e._parent&&e._parent.classList.remove(t),s(e)}function s(t){var e=t._initialStyle[i];t.style.overflow=t._initialStyle.overflow,null!=e&&(t.style[i]=e),delete t._initialStyle}},c=(s("carousel-transition"),s("carousel-reverse-transition"),s("tab-transition")),h=s("tab-reverse-transition"),d=(s("menu-transition"),s("fab-transition","center center","out-in")),f=(s("dialog-transition"),s("dialog-bottom-transition"),s("fade-transition")),p=s("scale-transition"),m=(s("scroll-x-transition"),s("scroll-x-reverse-transition"),s("scroll-y-transition"),s("scroll-y-reverse-transition"),s("slide-x-transition")),g=(s("slide-x-reverse-transition"),s("slide-y-transition"),s("slide-y-reverse-transition"),o("expand-transition",u())),y=o("expand-x-transition",u("",!0))},"07ac":function(t,e,i){var n=i("23e7"),r=i("6f53").values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},"0a06":function(t,e,i){"use strict";var n=i("c532"),r=i("30b5"),s=i("f6b4"),o=i("5270"),a=i("4a7b");function l(t){this.defaults=t,this.interceptors={request:new s,response:new s}}l.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=a(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],i=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)i=i.then(e.shift(),e.shift());return i},l.prototype.getUri=function(t){return t=a(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,i){return this.request(n.merge(i||{},{method:t,url:e}))}})),n.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,i,r){return this.request(n.merge(r||{},{method:t,url:e,data:i}))}})),t.exports=l},"0bc6":function(t,e,i){},"0cfb":function(t,e,i){var n=i("83ab"),r=i("d039"),s=i("cc12");t.exports=!n&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"0d3b":function(t,e,i){var n=i("d039"),r=i("b622"),s=i("c430"),o=r("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,i="";return t.pathname="c%20d",e.forEach((function(t,n){e["delete"]("b"),i+=n+t})),s&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},"0df6":function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"0e44":function(t,e,i){"use strict";var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u(Array.isArray(t)?[]:{},t,e):t}function o(t,e,i){return t.concat(e).map((function(t){return s(t,i)}))}function a(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function l(t,e){try{return e in t}catch(t){return!1}}function u(t,e,i){(i=i||{}).arrayMerge=i.arrayMerge||o,i.isMergeableObject=i.isMergeableObject||n,i.cloneUnlessOtherwiseSpecified=s;var r=Array.isArray(e);return r===Array.isArray(t)?r?i.arrayMerge(t,e,i):function(t,e,i){var n={};return i.isMergeableObject(t)&&a(t).forEach((function(e){n[e]=s(t[e],i)})),a(e).forEach((function(r){(function(t,e){return l(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(n[r]=l(t,r)&&i.isMergeableObject(e[r])?function(t,e){if(!e.customMerge)return u;var i=e.customMerge(t);return"function"==typeof i?i:u}(r,i)(t[r],e[r],i):s(e[r],i))})),n}(t,e,i):s(e,i)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,i){return u(t,i,e)}),{})};var c=u;e["a"]=function(t){var e=(t=t||{}).storage||window&&window.localStorage,i=t.key||"vuex";(t.assertStorage||function(){e.setItem("@@",1),e.removeItem("@@")})(e);var n,r=function(){return(t.getState||function(t,e){var i;try{return(i=e.getItem(t))&&void 0!==i?JSON.parse(i):void 0}catch(t){}})(i,e)};return t.fetchBeforeUse&&(n=r()),function(s){t.fetchBeforeUse||(n=r()),"object"==typeof n&&null!==n&&(s.replaceState(t.overwrite?n:c(s.state,n,{arrayMerge:t.arrayMerger||function(t,e){return e},clone:!1})),(t.rehydrated||function(){})(s)),(t.subscriber||function(t){return function(e){return t.subscribe(e)}})(s)((function(n,r){(t.filter||function(){return!0})(n)&&(t.setState||function(t,e,i){return i.setItem(t,JSON.stringify(e))})(i,(t.reducer||function(t,e){return Array.isArray(e)?e.reduce((function(e,i){return function(t,e,i,n){return(e=e.split?e.split("."):e).slice(0,-1).reduce((function(t,e){return t[e]=t[e]||{}}),t)[e.pop()]=i,t}(e,i,function(t,e,i){return void 0===(t=(e.split?e.split("."):e).reduce((function(t,e){return t&&t[e]}),t))?void 0:t}(t,i))}),{}):t})(r,t.paths),e)}))}}},"0fd9":function(t,e,i){"use strict";i("99af"),i("4160"),i("caad"),i("13d5"),i("4ec9"),i("b64b"),i("d3b7"),i("ac1f"),i("2532"),i("3ca3"),i("5319"),i("159b"),i("ddb0");var n=i("ade3"),r=i("5530"),s=(i("4b85"),i("2b0e")),o=i("d9f7"),a=i("80d2"),l=["sm","md","lg","xl"],u=["start","end","center"];function c(t,e){return l.reduce((function(i,n){return i[t+Object(a["z"])(n)]=e(),i}),{})}var h=function(t){return[].concat(u,["baseline","stretch"]).includes(t)},d=c("align",(function(){return{type:String,default:null,validator:h}})),f=function(t){return[].concat(u,["space-between","space-around"]).includes(t)},p=c("justify",(function(){return{type:String,default:null,validator:f}})),m=function(t){return[].concat(u,["space-between","space-around","stretch"]).includes(t)},g=c("alignContent",(function(){return{type:String,default:null,validator:m}})),y={align:Object.keys(d),justify:Object.keys(p),alignContent:Object.keys(g)},v={align:"align",justify:"justify",alignContent:"align-content"};function b(t,e,i){var n=v[t];if(null!=i){if(e){var r=e.replace(t,"");n+="-".concat(r)}return n+="-".concat(i),n.toLowerCase()}}var _=new Map;e["a"]=s["a"].extend({name:"v-row",functional:!0,props:Object(r["a"])(Object(r["a"])(Object(r["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:h}},d),{},{justify:{type:String,default:null,validator:f}},p),{},{alignContent:{type:String,default:null,validator:m}},g),render:function(t,e){var i=e.props,r=e.data,s=e.children,a="";for(var l in i)a+=String(i[l]);var u=_.get(a);return u||function(){var t,e;for(e in u=[],y)y[e].forEach((function(t){var n=i[t],r=b(e,t,n);r&&u.push(r)}));u.push((t={"no-gutters":i.noGutters,"row--dense":i.dense},Object(n["a"])(t,"align-".concat(i.align),i.align),Object(n["a"])(t,"justify-".concat(i.justify),i.justify),Object(n["a"])(t,"align-content-".concat(i.alignContent),i.alignContent),t)),_.set(a,u)}(),t(i.tag,Object(o["a"])(r,{staticClass:"row",class:u}),s)}})},"10d2":function(t,e,i){"use strict";var n=i("8dd9");e["a"]=n["a"]},1148:function(t,e,i){"use strict";var n=i("a691"),r=i("1d80");t.exports="".repeat||function(t){var e=String(r(this)),i="",s=n(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},1276:function(t,e,i){"use strict";var n=i("d784"),r=i("44e7"),s=i("825a"),o=i("1d80"),a=i("4840"),l=i("8aa5"),u=i("50c4"),c=i("14c3"),h=i("9263"),d=i("d039"),f=[].push,p=Math.min,m=4294967295,g=!d((function(){return!RegExp(m,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(o(this)),s=void 0===i?m:i>>>0;if(0===s)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,s);var a,l,u,c=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,d+"g");while(a=h.call(g,n)){if(l=g.lastIndex,l>p&&(c.push(n.slice(p,a.index)),a.length>1&&a.index<n.length&&f.apply(c,a.slice(1)),u=a[0].length,p=l,c.length>=s))break;g.lastIndex===a.index&&g.lastIndex++}return p===n.length?!u&&g.test("")||c.push(""):c.push(n.slice(p)),c.length>s?c.slice(0,s):c}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=o(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,r,i):n.call(String(r),e,i)},function(t,r){var o=i(n,t,this,r,n!==e);if(o.done)return o.value;var h=s(t),d=String(this),f=a(h,RegExp),y=h.unicode,v=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),b=new f(g?h:"^(?:"+h.source+")",v),_=void 0===r?m:r>>>0;if(0===_)return[];if(0===d.length)return null===c(b,d)?[d]:[];var S=0,w=0,T=[];while(w<d.length){b.lastIndex=g?w:0;var x,E=c(b,g?d:d.slice(w));if(null===E||(x=p(u(b.lastIndex+(g?0:w)),d.length))===S)w=l(d,w,y);else{if(T.push(d.slice(S,w)),T.length===_)return T;for(var C=1;C<=E.length-1;C++)if(T.push(E[C]),T.length===_)return T;w=S=x}}return T.push(d.slice(S)),T}]}),!g)},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"132d":function(t,e,i){"use strict";i("7db0"),i("caad"),i("c975"),i("fb6a"),i("45fc"),i("a9e3"),i("2532"),i("498a"),i("c96a");var n,r=i("5530"),s=(i("4804"),i("7e2b")),o=i("a9ad"),a=i("af2b"),l=i("7560"),u=i("80d2"),c=i("2b0e"),h=i("58df");function d(t){return["fas","far","fal","fab","fad"].some((function(e){return t.includes(e)}))}function f(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4}(function(t){t["xSmall"]="12px",t["small"]="16px",t["default"]="24px",t["medium"]="28px",t["large"]="36px",t["xLarge"]="40px"})(n||(n={}));var p=Object(h["a"])(s["a"],o["a"],a["a"],l["a"]).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium:function(){return!1},hasClickListener:function(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon:function(){var t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(u["y"])(this,t)},getSize:function(){var t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=Object(u["u"])(t).find((function(e){return t[e]}));return e&&n[e]||Object(u["f"])(this.size)},getDefaultData:function(){var t={staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:Object(r["a"])({"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0},this.attrs$),on:this.listeners$};return t},applyColors:function(t){t.class=Object(r["a"])(Object(r["a"])({},t.class),this.themeClasses),this.setTextColor(this.color,t)},renderFontIcon:function(t,e){var i=[],n=this.getDefaultData(),r="material-icons",s=t.indexOf("-"),o=s<=-1;o?i.push(t):(r=t.slice(0,s),d(r)&&(r="")),n.class[r]=!0,n.class[t]=!o;var a=this.getSize();return a&&(n.style={fontSize:a}),this.applyColors(n),e(this.hasClickListener?"button":this.tag,n,i)},renderSvgIcon:function(t,e){var i=this.getSize(),n=Object(r["a"])(Object(r["a"])({},this.getDefaultData()),{},{style:i?{fontSize:i,height:i,width:i}:void 0});n.class["v-icon--svg"]=!0,this.applyColors(n);var s={attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:i||"24",width:i||"24",role:"img","aria-hidden":!0}};return e(this.hasClickListener?"button":"span",n,[e("svg",s,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent:function(t,e){var i=this.getDefaultData();i.class["v-icon--is-component"]=!0;var n=this.getSize();n&&(i.style={fontSize:n,height:n,width:n}),this.applyColors(i);var r=t.component;return i.props=t.props,i.nativeOn=i.on,e(r,i)}},render:function(t){var e=this.getIcon();return"string"===typeof e?f(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}});e["a"]=c["a"].extend({name:"v-icon",$_wrapperFor:p,functional:!0,render:function(t,e){var i=e.data,n=e.children,r="";return i.domProps&&(r=i.domProps.textContent||i.domProps.innerHTML||r,delete i.domProps.textContent,delete i.domProps.innerHTML),t(p,i,r?[r]:n)}})},"13d5":function(t,e,i){"use strict";var n=i("23e7"),r=i("d58f").left,s=i("a640"),o=i("ae40"),a=s("reduce"),l=o("reduce",{1:0});n({target:"Array",proto:!0,forced:!a||!l},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,i){var n=i("c6b6"),r=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var s=i.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),s=i("17c2"),o=i("9112");for(var a in r){var l=n[a],u=l&&l.prototype;if(u&&u.forEach!==s)try{o(u,"forEach",s)}catch(c){u.forEach=s}}},"166a":function(t,e,i){},1681:function(t,e,i){},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),s=i("ae40"),o=r("forEach"),a=s("forEach");t.exports=o&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},1800:function(t,e,i){"use strict";i("4de4");var n=i("2b0e");e["a"]=n["a"].extend({name:"v-list-item-action",functional:!0,render:function(t,e){var i=e.data,n=e.children,r=void 0===n?[]:n;i.staticClass=i.staticClass?"v-list-item__action ".concat(i.staticClass):"v-list-item__action";var s=r.filter((function(t){return!1===t.isComment&&" "!==t.text}));return s.length>1&&(i.staticClass+=" v-list-item__action--stack"),t("div",i,r)}})},"18a5":function(t,e,i){"use strict";var n=i("23e7"),r=i("857a"),s=i("af03");n({target:"String",proto:!0,forced:s("anchor")},{anchor:function(t){return r(this,"a","name",t)}})},"19aa":function(t,e){t.exports=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t}},"1b2c":function(t,e,i){},"1baa":function(t,e,i){"use strict";var n=i("5530"),r=(i("899c"),i("604c")),s=i("a9ad"),o=i("58df");e["a"]=Object(o["a"])(r["a"],s["a"]).extend({name:"v-list-item-group",provide:function(){return{isInGroup:!0,listItemGroup:this}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-list-item-group":!0})}},methods:{genData:function(){return this.setTextColor(this.color,Object(n["a"])(Object(n["a"])({},r["a"].options.methods.genData.call(this)),{},{attrs:{role:"listbox"}}))}}})},"1be4":function(t,e,i){var n=i("d066");t.exports=n("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,i){var n=i("b622"),r=n("iterator"),s=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){s=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}t.exports=function(t,e){if(!e&&!s)return!1;var i=!1;try{var n={};n[r]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(l){}return i}},"1c87":function(t,e,i){"use strict";i("99af"),i("ac1f"),i("5319"),i("498a"),i("9911");var n=i("ade3"),r=i("5530"),s=i("2b0e"),o=i("5607"),a=i("80d2");e["a"]=s["a"].extend({name:"routable",directives:{Ripple:o["a"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:function(){return{isActive:!1,proxyClass:""}},computed:{classes:function(){var t={};return this.to||(this.activeClass&&(t[this.activeClass]=this.isActive),this.proxyClass&&(t[this.proxyClass]=this.isActive)),t},computedRipple:function(){return null!=this.ripple?this.ripple:!this.disabled&&this.isClickable},isClickable:function(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink:function(){return this.to||this.href||this.link},styles:function(){return{}}},watch:{$route:"onRouteChange"},methods:{click:function(t){this.$emit("click",t)},generateRouteLink:function(){var t,e,i=this.exact,s=(t={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}]},Object(n["a"])(t,this.to?"nativeOn":"on",Object(r["a"])(Object(r["a"])({},this.$listeners),{},{click:this.click})),Object(n["a"])(t,"ref","link"),t);if("undefined"===typeof this.exact&&(i="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var o=this.activeClass,a=this.exactActiveClass||o;this.proxyClass&&(o="".concat(o," ").concat(this.proxyClass).trim(),a="".concat(a," ").concat(this.proxyClass).trim()),e=this.nuxt?"nuxt-link":"router-link",Object.assign(s.props,{to:this.to,exact:i,activeClass:o,exactActiveClass:a,append:this.append,replace:this.replace})}else e=(this.href?"a":this.tag)||"div","a"===e&&this.href&&(s.attrs.href=this.href);return this.target&&(s.attrs.target=this.target),{tag:e,data:s}},onRouteChange:function(){var t=this;if(this.to&&this.$refs.link&&this.$route){var e="".concat(this.activeClass," ").concat(this.proxyClass||"").trim(),i="_vnode.data.class.".concat(e);this.$nextTick((function(){Object(a["m"])(t.$refs.link,i)&&t.toggle()}))}},toggle:function(){}}})},"1cdc":function(t,e,i){var n=i("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},"1d2b":function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("d3b7");function n(t,e,i,n,r,s,o){try{var a=t[s](o),l=a.value}catch(u){return void i(u)}a.done?e(l):Promise.resolve(l).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var o=t.apply(e,i);function a(t){n(o,r,s,a,l,"next",t)}function l(t){n(o,r,s,a,l,"throw",t)}a(void 0)}))}}},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),s=i("2d00"),o=r("species");t.exports=function(t){return s>=51||!n((function(){var e=[],i=e.constructor={};return i[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1fb5":function(t,e,i){"use strict";e.byteLength=c,e.toByteArray=d,e.fromByteArray=m;for(var n=[],r=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");-1===i&&(i=e);var n=i===e?0:4-i%4;return[i,n]}function c(t){var e=u(t),i=e[0],n=e[1];return 3*(i+n)/4-n}function h(t,e,i){return 3*(e+i)/4-i}function d(t){var e,i,n=u(t),o=n[0],a=n[1],l=new s(h(t,o,a)),c=0,d=a>0?o-4:o;for(i=0;i<d;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;return 2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[c++]=255&e),1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e),l}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function p(t,e,i){for(var n,r=[],s=e;s<i;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(f(n));return r.join("")}function m(t){for(var e,i=t.length,r=i%3,s=[],o=16383,a=0,l=i-r;a<l;a+=o)s.push(p(t,a,a+o>l?l:a+o));return 1===r?(e=t[i-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"20f6":function(t,e,i){},"210b":function(t,e,i){},2266:function(t,e,i){var n=i("825a"),r=i("e95a"),s=i("50c4"),o=i("0366"),a=i("35a1"),l=i("9bdd"),u=function(t,e){this.stopped=t,this.result=e},c=t.exports=function(t,e,i,c,h){var d,f,p,m,g,y,v,b=o(e,i,c?2:1);if(h)d=t;else{if(f=a(t),"function"!=typeof f)throw TypeError("Target is not iterable");if(r(f)){for(p=0,m=s(t.length);m>p;p++)if(g=c?b(n(v=t[p])[0],v[1]):b(t[p]),g&&g instanceof u)return g;return new u(!1)}d=f.call(t)}y=d.next;while(!(v=y.call(d)).done)if(g=l(d,b,v.value,c),"object"==typeof g&&g&&g instanceof u)return g;return new u(!1)};c.stop=function(t){return new u(!0,t)}},"23a7":function(t,e,i){"use strict";i("99af"),i("a623"),i("4160"),i("caad"),i("d81d"),i("13d5"),i("fb6a"),i("a434"),i("b0c0"),i("a9e3"),i("159b");var n=i("2909"),r=i("5530"),s=i("53ca"),o=(i("5803"),i("2677")),a=i("cc20"),l=i("80d2"),u=i("d9bd"),c=i("d9f7");e["a"]=o["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(l["A"])(t).every((function(t){return null!=t&&"object"===Object(s["a"])(t)}))}}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var i=e.size,n=void 0===i?0:i;return t+n}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(l["r"])(e,1024===this.base))},internalArrayValue:function(){return Object(l["A"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var t=this;return this.isDirty?this.internalArrayValue.map((function(e){var i=e.name,n=void 0===i?"":i,r=e.size,s=void 0===r?0:r,o=t.truncateText(n);return t.showSize?"".concat(o," (").concat(Object(l["r"])(s,1024===t.base),")"):o})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(u["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.isMultiple?t:t?[t]:[];Object(l["i"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:void 0,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,i){return t.$createElement(a["a"],{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(i,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=o["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(c["c"])(t.data.style,{display:"none"})),t},genInput:function(){var t=o["a"].options.methods.genInput.call(this);return delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(i,n){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[n],file:i,index:n}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=o["a"].options.methods.genTextFieldSlot.call(this);return e.data.on=Object(r["a"])(Object(r["a"])({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(n["a"])(t.target.files||[]);this.internalValue=this.isMultiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"…").concat(t.slice(t.length-e))}}})},"23cb":function(t,e,i){var n=i("a691"),r=Math.max,s=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):s(i,e)}},"23e7":function(t,e,i){var n=i("da84"),r=i("06cf").f,s=i("9112"),o=i("6eeb"),a=i("ce4e"),l=i("e893"),u=i("94ca");t.exports=function(t,e){var i,c,h,d,f,p,m=t.target,g=t.global,y=t.stat;if(c=g?n:y?n[m]||a(m,{}):(n[m]||{}).prototype,c)for(h in e){if(f=e[h],t.noTargetGet?(p=r(c,h),d=p&&p.value):d=c[h],i=u(g?h:m+(y?".":"#")+h,t.forced),!i&&void 0!==d){if(typeof f===typeof d)continue;l(f,d)}(t.sham||d&&d.sham)&&s(f,"sham",!0),o(c,h,f,t)}}},"241c":function(t,e,i){var n=i("ca84"),r=i("7839"),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},2444:function(t,e,i){"use strict";(function(e){var n=i("c532"),r=i("c8af"),s={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function a(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=i("b50d")),t}var l={adapter:a(),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){l.headers[t]=n.merge(s)})),t.exports=l}).call(this,i("4362"))},"24b2":function(t,e,i){"use strict";i("a9e3");var n=i("80d2"),r=i("2b0e");e["a"]=r["a"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var t={},e=Object(n["f"])(this.height),i=Object(n["f"])(this.minHeight),r=Object(n["f"])(this.minWidth),s=Object(n["f"])(this.maxHeight),o=Object(n["f"])(this.maxWidth),a=Object(n["f"])(this.width);return e&&(t.height=e),i&&(t.minHeight=i),r&&(t.minWidth=r),s&&(t.maxHeight=s),o&&(t.maxWidth=o),a&&(t.width=a),t}}})},"24e2":function(t,e,i){"use strict";var n=i("e0c7");e["a"]=n["a"]},2532:function(t,e,i){"use strict";var n=i("23e7"),r=i("5a34"),s=i("1d80"),o=i("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(s(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"256f":function(t,e,i){"use strict";var n=i("4329"),r=8589934592,s=4294967296,o="shared",a=function(t,e){var i=1;t>e&&(i=-1);while(Math.abs(e-t)>s)t+=i*r;return t},l=function(t){var e,i;l.prototype.init.call(this),this.type_=t||o,this.push=function(t){this.type_!==o&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=a(t.dts,i),t.pts=a(t.pts,i),e=t.dts,this.trigger("data",t))},this.flush=function(){i=e,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,e=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};l.prototype=new n,t.exports={TimestampRolloverStream:l,handleRollover:a}},"25a8":function(t,e,i){},"25f0":function(t,e,i){"use strict";var n=i("6eeb"),r=i("825a"),s=i("d039"),o=i("ad6d"),a="toString",l=RegExp.prototype,u=l[a],c=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=a;(c||h)&&n(RegExp.prototype,a,(function(){var t=r(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in l)?o.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},2626:function(t,e,i){"use strict";var n=i("d066"),r=i("9bf2"),s=i("b622"),o=i("83ab"),a=s("species");t.exports=function(t){var e=n(t),i=r.f;o&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},2677:function(t,e,i){"use strict";var n=i("8654");e["a"]=n["a"]},2806:function(t,e,i){"use strict";var n,r,s,o,a,l=i("7fe1").toUnsigned,u=i("7fe1").toHexString,c=i("9afa");n=function(t){var e={},i=c.findBox(t,["moov","trak"]);return i.reduce((function(t,e){var i,n,r,s,o;return i=c.findBox(e,["tkhd"])[0],i?(n=i[0],r=0===n?12:20,s=l(i[r]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3]),o=c.findBox(e,["mdia","mdhd"])[0],o?(n=o[0],r=0===n?12:20,t[s]=l(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),t):null):null}),e)},r=function(t,e){var i,n,r;return i=c.findBox(e,["moof","traf"]),n=[].concat.apply([],i.map((function(e){return c.findBox(e,["tfhd"]).map((function(i){var n,r,s;return n=l(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),r=t[n]||9e4,s=c.findBox(e,["tfdt"]).map((function(t){var e,i;return e=t[0],i=l(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(i*=Math.pow(2,32),i+=l(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),i}))[0],s=s||1/0,s/r}))}))),r=Math.min.apply(null,n),isFinite(r)?r:0},s=function(t,e){var i,n=c.findBox(e,["moof","traf"]),r=0,s=0;if(n&&n.length)for(var o=c.parseTraf(n[0]),a=0;a<o.boxes.length;a++)"tfhd"===o.boxes[a].type?i=o.boxes[a].trackId:"tfdt"===o.boxes[a].type?r=o.boxes[a].baseMediaDecodeTime:"trun"===o.boxes[a].type&&o.boxes[a].samples.length&&(s=o.boxes[a].samples[0].compositionTimeOffset||0);var l=t[i]||9e4;return(r+s)/l},o=function(t){var e=c.findBox(t,["moov","trak"]),i=[];return e.forEach((function(t){var e=c.findBox(t,["mdia","hdlr"]),n=c.findBox(t,["tkhd"]);e.forEach((function(t,e){var r,s,o,a=c.parseType(t.subarray(8,12)),l=n[e];"vide"===a&&(r=new DataView(l.buffer,l.byteOffset,l.byteLength),s=r.getUint8(0),o=0===s?r.getUint32(12):r.getUint32(20),i.push(o))}))})),i},a=function(t){var e=c.findBox(t,["moov","trak"]),i=[];return e.forEach((function(t){var e,n,r={},s=c.findBox(t,["tkhd"])[0];s&&(e=new DataView(s.buffer,s.byteOffset,s.byteLength),n=e.getUint8(0),r.id=0===n?e.getUint32(12):e.getUint32(20));var o=c.findBox(t,["mdia","hdlr"])[0];if(o){var a=c.parseType(o.subarray(8,12));r.type="vide"===a?"video":"soun"===a?"audio":a}var h=c.findBox(t,["mdia","minf","stbl","stsd"])[0];if(h){var d=h.subarray(8);r.codec=c.parseType(d.subarray(4,8));var f,p,m=c.findBox(d,[r.codec])[0];m&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(f=m.subarray(78),p=c.parseType(f.subarray(4,8)),"avcC"===p&&f.length>11?(r.codec+=".",r.codec+=u(f[9]),r.codec+=u(f[10]),r.codec+=u(f[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(f=m.subarray(28),p=c.parseType(f.subarray(4,8)),"esds"===p&&f.length>20&&0!==f[19]?(r.codec+="."+u(f[19]),r.codec+="."+u(f[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var g=c.findBox(t,["mdia","mdhd"])[0];if(g&&s){var y=0===n?12:20;r.timescale=l(g[y]<<24|g[y+1]<<16|g[y+2]<<8|g[y+3])}i.push(r)})),i},t.exports={findBox:c.findBox,parseType:c.parseType,timescale:n,startTime:r,compositionStartTime:s,videoTrackIds:o,tracks:a}},2877:function(t,e,i){"use strict";function n(t,e,i,n,r,s,o,a){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=l):r&&(l=a?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:u}}i.d(e,"a",(function(){return n}))},2909:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("6b75");function r(t){if(Array.isArray(t))return Object(n["a"])(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=i("06c5");function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return r(t)||s(t)||Object(o["a"])(t)||a()}},2938:function(t,e,i){!function(e,i){t.exports=i()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=77)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t=0,e=1,i=0,n=!0){this.numerator=0,this.denominator=1,this.wholeValue=0,this.numerator=t,this.denominator=e,this.wholeValue=i,n&&this.simplify(),this.setRealValue()}static max(t,e){return t.RealValue>e.RealValue?t:e}static Equal(t,e){return t.wholeValue===e.wholeValue&&t.Denominator===e.Denominator&&t.Numerator===e.Numerator}static createFromFraction(t){return new n(t.numerator,t.denominator,t.wholeValue,!1)}static plus(t,e){const i=t.clone();return i.Add(e),i}static minus(t,e){const i=t.clone();return i.Sub(e),i}static multiply(t,e){return new n((t.wholeValue*t.denominator+t.numerator)*(e.wholeValue*e.denominator+e.numerator),t.denominator*e.denominator)}static greatestCommonDenominator(t,e){if(0===t)return e;if(1===e)return 1;for(;0!==e;)t>e?t-=e:e-=t;return t}toString(){let t=this.numerator+"/"+this.denominator;return 0!==this.wholeValue&&(t=this.wholeValue+" "+t),t}clone(){return new n(this.numerator,this.denominator,this.wholeValue,!1)}get Numerator(){return this.numerator}set Numerator(t){this.numerator!==t&&(this.numerator=t,this.simplify(),this.setRealValue())}get Denominator(){return this.denominator}set Denominator(t){this.denominator!==t&&(this.denominator=t,0!==this.numerator&&this.simplify(),this.setRealValue())}get WholeValue(){return this.wholeValue}set WholeValue(t){this.wholeValue!==t&&(this.wholeValue=t,this.setRealValue())}GetExpandedNumerator(){return this.wholeValue*this.denominator+this.numerator}IsNegative(){return this.realValue<0}get RealValue(){return this.realValue}expand(t){this.numerator*=t,this.denominator*=t,0!==this.wholeValue&&(this.numerator+=this.wholeValue*this.denominator,this.wholeValue=0)}Add(t){this.numerator=(this.wholeValue*this.denominator+this.numerator)*t.denominator+(t.wholeValue*t.denominator+t.numerator)*this.denominator,this.denominator=this.denominator*t.denominator,this.wholeValue=0,this.simplify(),this.setRealValue()}Sub(t){this.numerator=(this.wholeValue*this.denominator+this.numerator)*t.denominator-(t.wholeValue*t.denominator+t.numerator)*this.denominator,this.denominator=this.denominator*t.denominator,this.wholeValue=0,this.simplify(),this.setRealValue()}Quantize(t){if(this.denominator<=t)return this;const e=new n(this.numerator+1,this.denominator,this.wholeValue);for(;e.Denominator>t;)e.Numerator++;if(this.numerator>this.denominator){const i=new n(this.numerator-1,this.denominator,this.wholeValue);for(;i.Denominator>t;)i.Numerator--;if(i.Denominator<e.Denominator)return i}return e}Equals(t){return this.realValue===(null==t?void 0:t.realValue)}CompareTo(t){const e=this.realValue-t.realValue;return e?e<0?-1:1:0}lt(t){return this.realValue<t.realValue}lte(t){return this.realValue<=t.realValue}gt(t){return!this.lte(t)}gte(t){return!this.lt(t)}setRealValue(){this.realValue=this.wholeValue+this.numerator/this.denominator}simplify(){if(0===this.numerator)return void(this.denominator=1);const t=n.greatestCommonDenominator(Math.abs(this.numerator),Math.abs(this.denominator));this.numerator/=t,this.denominator/=t;const e=Math.floor(this.numerator/this.denominator);if(0!==e&&(this.wholeValue+=e,this.numerator-=e*this.denominator,0===this.numerator&&(this.denominator=1)),this.denominator>n.maximumAllowedNumber){const t=this.denominator/n.maximumAllowedNumber;this.numerator=Math.round(this.numerator/t),this.denominator=Math.round(this.denominator/t)}if(this.numerator>n.maximumAllowedNumber){const t=this.numerator/n.maximumAllowedNumber;this.numerator=Math.round(this.numerator/t),this.denominator=Math.round(this.denominator/t)}}isOnBeat(t){const e=this.distanceFromBeat(t);return Math.abs(e)<n.FloatInaccuracyTolerance}distanceFromBeat(t){const e=new n(1,t.Denominator);return this.RealValue%e.RealValue}}e.Fraction=n,n.maximumAllowedNumber=46340,n.FloatInaccuracyTolerance=1e-4},function(t,e,i){var n,r;!function(s,o){"use strict";void 0===(r="function"==typeof(n=function(){var t=function(){},e="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function n(t,e){var i=t[e];if("function"==typeof i.bind)return i.bind(t);try{return Function.prototype.bind.call(i,t)}catch(e){return function(){return Function.prototype.apply.apply(i,[t,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(i){return"debug"===i&&(i="log"),"undefined"!=typeof console&&("trace"===i&&e?r:void 0!==console[i]?n(console,i):void 0!==console.log?n(console,"log"):t)}function o(e,n){for(var r=0;r<i.length;r++){var s=i[r];this[s]=r<e?t:this.methodFactory(s,e,n)}this.log=this.debug}function a(t,e,i){return function(){"undefined"!=typeof console&&(o.call(this,e,i),this[t].apply(this,arguments))}}function l(t,e,i){return s(t)||a.apply(this,arguments)}function u(t,e,n){var r,s=this,a="loglevel";function u(){var t;if("undefined"!=typeof window){try{t=window.localStorage[a]}catch(t){}if(void 0===t)try{var e=window.document.cookie,i=e.indexOf(encodeURIComponent(a)+"=");-1!==i&&(t=/^([^;]+)/.exec(e.slice(i))[1])}catch(t){}return void 0===s.levels[t]&&(t=void 0),t}}t&&(a+=":"+t),s.name=t,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=n||l,s.getLevel=function(){return r},s.setLevel=function(e,n){if("string"==typeof e&&void 0!==s.levels[e.toUpperCase()]&&(e=s.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(r=e,!1!==n&&function(t){var e=(i[t]||"silent").toUpperCase();if("undefined"!=typeof window){try{return void(window.localStorage[a]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(a)+"="+e+";"}catch(t){}}}(e),o.call(s,e,t),"undefined"==typeof console&&e<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(t){u()||s.setLevel(t,!1)},s.enableAll=function(t){s.setLevel(s.levels.TRACE,t)},s.disableAll=function(t){s.setLevel(s.levels.SILENT,t)};var c=u();null==c&&(c=null==e?"WARN":e),s.setLevel(c,!1)}var c=new u,h={};c.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=h[t];return e||(e=h[t]=new u(t,c.getLevel(),c.methodFactory)),e};var d="undefined"!=typeof window?window.log:void 0;return c.noConflict=function(){return"undefined"!=typeof window&&window.log===c&&(window.log=d),c},c.getLoggers=function(){return h},c})?n.call(e,i,e,t):n)||(t.exports=r)}()},function(t,e,i){"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.C=0]="C",t[t.D=2]="D",t[t.E=4]="E",t[t.F=5]="F",t[t.G=7]="G",t[t.A=9]="A",t[t.B=11]="B"}(n=e.NoteEnum||(e.NoteEnum={})),function(t){t[t.SHARP=0]="SHARP",t[t.FLAT=1]="FLAT",t[t.NONE=2]="NONE",t[t.NATURAL=3]="NATURAL",t[t.DOUBLESHARP=4]="DOUBLESHARP",t[t.DOUBLEFLAT=5]="DOUBLEFLAT",t[t.TRIPLESHARP=6]="TRIPLESHARP",t[t.TRIPLEFLAT=7]="TRIPLEFLAT",t[t.QUARTERTONESHARP=8]="QUARTERTONESHARP",t[t.QUARTERTONEFLAT=9]="QUARTERTONEFLAT"}(r=e.AccidentalEnum||(e.AccidentalEnum={}));class s{constructor(t,e,i){this.accidental=r.NONE,this.fundamentalNote=t,this.octave=e,this.accidental=i,this.halfTone=t+12*(e+s.octXmlDiff)+s.HalfTonesFromAccidental(i),this.frequency=s.calcFrequency(this)}static getNoteEnumString(t){switch(t){case n.C:return"C";case n.D:return"D";case n.E:return"E";case n.F:return"F";case n.G:return"G";case n.A:return"A";case n.B:return"B";default:return""}}static CalculateTransposedHalfTone(t,e){const i=t.fundamentalNote+t.AccidentalHalfTones+e;return s.WrapAroundCheck(i,12)}static WrapAroundCheck(t,e){let i=0;for(;t<0;)t+=e,i--;for(;t>=e;)t-=e,i++;return{overflow:i,value:t}}static calcFrequency(t){let e,i=0;if(t instanceof s){const r=t;i=r.octave-1,e=r.fundamentalNote-n.A+r.AccidentalHalfTones}else"number"==typeof t&&(e=t-57);return 440*Math.pow(2,i)*Math.pow(2,e/12)}static calcFractionalKey(t){return Math.log(t/440)/Math.LN10*s.halftoneFactor+57}static fromFrequency(t){const e=s.calcFractionalKey(t)+.5,i=Math.floor(e/12)-s.octXmlDiff,n=Math.floor(e)%12;let o=n,a=r.NONE;return-1===this.pitchEnumValues.indexOf(o)&&(o=n-1,a=r.SHARP),new s(o,i,a)}static fromHalftone(t){const e=Math.floor(t/12)-s.octXmlDiff,i=t%12;let n=i,o=r.NONE;return-1===this.pitchEnumValues.indexOf(n)&&(n=i-1,o=r.SHARP),new s(n,e,o)}static ceiling(t){let e=t%=12;return-1===this.pitchEnumValues.indexOf(e)&&(e=t+1),e}static floor(t){let e=t%=12;return-1===this.pitchEnumValues.indexOf(e)&&(e=t-1),e}static HalfTonesFromAccidental(t){switch(t){case r.NONE:return 0;case r.SHARP:return 1;case r.FLAT:return-1;case r.NATURAL:return 0;case r.DOUBLESHARP:return 2;case r.DOUBLEFLAT:return-2;case r.QUARTERTONESHARP:return.5;case r.QUARTERTONEFLAT:return-.5;case r.TRIPLESHARP:return 3;case r.TRIPLEFLAT:return-3;default:throw new Error("Unhandled AccidentalEnum value")}}static AccidentalFromHalfTones(t){switch(t){case 0:return r.NONE;case 1:return r.SHARP;case-1:return r.FLAT;case 2:return r.DOUBLESHARP;case-2:return r.DOUBLEFLAT;case.5:return r.QUARTERTONESHARP;case-.5:return r.QUARTERTONEFLAT;case 3:return r.TRIPLESHARP;case-3:return r.TRIPLEFLAT;default:return t>0&&t<1?r.QUARTERTONESHARP:t<0&&t>-1?r.QUARTERTONEFLAT:r.QUARTERTONESHARP}}static accidentalVexflow(t){let e;switch(t){case r.NATURAL:e="n";break;case r.FLAT:e="b";break;case r.SHARP:e="#";break;case r.DOUBLESHARP:e="##";break;case r.TRIPLESHARP:e="++";break;case r.DOUBLEFLAT:e="bb";break;case r.TRIPLEFLAT:e="bbs";break;case r.QUARTERTONESHARP:e="+";break;case r.QUARTERTONEFLAT:e="d"}return e}get AccidentalHalfTones(){return s.HalfTonesFromAccidental(this.accidental)}get Octave(){return this.octave}get FundamentalNote(){return this.fundamentalNote}get Accidental(){return this.accidental}get Frequency(){return this.frequency}static get OctaveXmlDifference(){return s.octXmlDiff}getHalfTone(){return this.halfTone}getTransposedPitch(t){if(t>12)throw new Error("rewrite this method to handle bigger octave changes or don't use is with bigger octave changes!");return t>0?this.getHigherPitchByTransposeFactor(t):t<0?this.getLowerPitchByTransposeFactor(-t):this}DoEnharmonicChange(){switch(this.accidental){case r.FLAT:case r.DOUBLEFLAT:this.fundamentalNote=this.getPreviousFundamentalNote(this.fundamentalNote),this.accidental=s.AccidentalFromHalfTones(this.halfTone-(this.fundamentalNote+12*(this.octave+s.octXmlDiff)));break;case r.SHARP:case r.DOUBLESHARP:this.fundamentalNote=this.getNextFundamentalNote(this.fundamentalNote),this.accidental=s.AccidentalFromHalfTones(this.halfTone-(this.fundamentalNote+12*(this.octave+s.octXmlDiff)));break;default:return}}ToString(){let t=s.accidentalVexflow(this.accidental);return t||(t=""),"Key: "+s.getNoteEnumString(this.fundamentalNote)+t+", Note: "+this.fundamentalNote+", octave: "+this.octave.toString()}OperatorEquals(t){return!(!this||!t)&&this.FundamentalNote===t.FundamentalNote&&this.Octave===t.Octave&&this.Accidental===t.Accidental}OperatorNotEqual(t){return!(this===t)}getHigherPitchByTransposeFactor(t){const e=s.pitchEnumValues.indexOf(this.fundamentalNote);let i,n=this.octave;return e+t>s.pitchEnumValues.length-1?(i=s.pitchEnumValues[e+t-s.pitchEnumValues.length],n++):i=s.pitchEnumValues[e+t],new s(i,n,r.NONE)}getLowerPitchByTransposeFactor(t){const e=s.pitchEnumValues.indexOf(this.fundamentalNote);let i,n=this.octave;return e-t<0?(i=s.pitchEnumValues[s.pitchEnumValues.length+e-t],n--):i=s.pitchEnumValues[e-t],new s(i,n,r.NONE)}getNextFundamentalNote(t){let e=s.pitchEnumValues.indexOf(t);return e=(e+1)%s.pitchEnumValues.length,s.pitchEnumValues[e]}getPreviousFundamentalNote(t){const e=s.pitchEnumValues.indexOf(t);return e>0?s.pitchEnumValues[e-1]:s.pitchEnumValues[s.pitchEnumValues.length-1]}}e.Pitch=s,s.pitchEnumValues=[n.C,n.D,n.E,n.F,n.G,n.A,n.B],s.halftoneFactor=12/(Math.LN2/Math.LN10),s.octXmlDiff=3},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(1)),s=i(11),o=i(4),a=i(80),l=i(52),u=i(53),c=i(29);var h;e.BoundingBox=class{constructor(t,e,i=!1){this.isSymbol=!1,this.relativePositionHasBeenSet=!1,this.xBordersHaveBeenSet=!1,this.yBordersHaveBeenSet=!1,this.absolutePosition=new o.PointF2D,this.relativePosition=new o.PointF2D,this.size=new a.SizeF2D,this.marginSize=new a.SizeF2D,this.upperLeftCorner=new o.PointF2D,this.upperLeftMarginCorner=new o.PointF2D,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.borderMarginLeft=0,this.borderMarginRight=0,this.borderMarginTop=0,this.borderMarginBottom=0,this.childElements=[],this.parent=e,this.dataObject=t,this.isSymbol=i,this.xBordersHaveBeenSet=!1,this.yBordersHaveBeenSet=!1,e&&(this.Parent=e)}get RelativePositionHasBeenSet(){return this.relativePositionHasBeenSet}get XBordersHaveBeenSet(){return this.xBordersHaveBeenSet}set XBordersHaveBeenSet(t){this.xBordersHaveBeenSet=t}get YBordersHaveBeenSet(){return this.yBordersHaveBeenSet}set YBordersHaveBeenSet(t){this.yBordersHaveBeenSet=t}get AbsolutePosition(){return this.absolutePosition}set AbsolutePosition(t){this.absolutePosition=t}get RelativePosition(){return this.relativePosition}set RelativePosition(t){this.relativePosition=t,this.relativePositionHasBeenSet=!0}get Size(){return this.size}set Size(t){this.size=t}get MarginSize(){return this.marginSize}get UpperLeftCorner(){return this.upperLeftCorner}get UpperLeftMarginCorner(){return this.upperLeftMarginCorner}get BorderLeft(){return this.borderLeft}set BorderLeft(t){this.borderLeft=t,this.calculateRectangle()}get BorderRight(){return this.borderRight}set BorderRight(t){this.borderRight=t,this.calculateRectangle()}get BorderTop(){return this.borderTop}set BorderTop(t){this.borderTop=t,this.calculateRectangle()}get BorderBottom(){return this.borderBottom}set BorderBottom(t){this.borderBottom=t,this.calculateRectangle()}get BorderMarginLeft(){return this.borderMarginLeft>this.borderLeft?this.borderLeft:this.borderMarginLeft}set BorderMarginLeft(t){this.borderMarginLeft=t,this.calculateMarginRectangle()}get BorderMarginRight(){return this.borderMarginRight<this.borderRight?this.borderRight:this.borderMarginRight}set BorderMarginRight(t){this.borderMarginRight=t,this.calculateMarginRectangle()}get BorderMarginTop(){return this.borderMarginTop>this.borderTop?this.borderTop:this.borderMarginTop}set BorderMarginTop(t){this.borderMarginTop=t,this.calculateMarginRectangle()}get BorderMarginBottom(){return this.borderMarginBottom<this.borderBottom?this.borderBottom:this.borderMarginBottom}set BorderMarginBottom(t){this.borderMarginBottom=t,this.calculateMarginRectangle()}get BoundingRectangle(){return this.boundingRectangle}get BoundingMarginRectangle(){return this.boundingMarginRectangle}get ChildElements(){return this.childElements}set ChildElements(t){this.childElements=t}get Parent(){return this.parent}set Parent(t){if(this.parent){const t=this.parent.ChildElements.indexOf(this,0);t>-1&&this.parent.ChildElements.splice(t,1)}this.parent=t,this.parent.ChildElements.indexOf(this)>-1?r.default.error("BoundingBox of "+this.dataObject.constructor.name+" already in children list of "+this.parent.dataObject.constructor.name+"'s BoundingBox"):this.parent.ChildElements.push(this)}get DataObject(){return this.dataObject}get Center(){return new o.PointF2D(this.RelativePosition.x+(this.BorderMarginRight+this.BorderMarginLeft),this.RelativePosition.y+(this.BorderMarginBottom+this.BorderMarginTop))}setAbsolutePositionFromParent(){this.parent?(this.absolutePosition.x=this.parent.AbsolutePosition.x+this.relativePosition.x,this.absolutePosition.y=this.parent.AbsolutePosition.y+this.relativePosition.y):this.absolutePosition=this.relativePosition}calculateAbsolutePosition(){this.absolutePosition.x=this.relativePosition.x,this.absolutePosition.y=this.relativePosition.y;let t=this.parent;for(;t;)this.absolutePosition.x+=t.relativePosition.x,this.absolutePosition.y+=t.relativePosition.y,t=t.parent}calculateAbsolutePositionsRecursiveWithoutTopelement(){this.absolutePosition.x=0,this.absolutePosition.y=0;for(let t=0,e=this.ChildElements.length;t<e;++t)this.ChildElements[t].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)}calculateAbsolutePositionsRecursive(t,e){this.absolutePosition.x=this.relativePosition.x+t,this.absolutePosition.y=this.relativePosition.y+e;for(let i=0,n=this.ChildElements.length;i<n;++i)this.ChildElements[i].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)}calculateAbsolutePositionsOfChildren(){for(let t=0,e=this.ChildElements.length;t<e;++t)this.ChildElements[t].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)}calculateBoundingBox(){if(0===this.childElements.length)return;for(let l=0,u=this.ChildElements.length;l<u;++l)this.ChildElements[l].calculateBoundingBox();let t=Number.MAX_VALUE,e=Number.MIN_VALUE,i=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MAX_VALUE,s=Number.MIN_VALUE,o=Number.MAX_VALUE,a=Number.MIN_VALUE;this.isSymbol&&(t=this.borderLeft,e=this.borderRight,i=this.borderTop,n=this.borderBottom,r=this.borderMarginLeft,s=this.borderMarginRight,o=this.borderMarginTop,a=this.borderMarginBottom);for(let l=0,u=this.ChildElements.length;l<u;++l){const u=this.ChildElements[l];t=Math.min(t,u.relativePosition.x+u.borderLeft),e=Math.max(e,u.relativePosition.x+u.borderRight),i=Math.min(i,u.relativePosition.y+u.borderTop),n=Math.max(n,u.relativePosition.y+u.borderBottom),r=Math.min(r,u.relativePosition.x+u.borderMarginLeft),s=Math.max(s,u.relativePosition.x+u.borderMarginRight),o=Math.min(o,u.relativePosition.y+u.borderMarginTop),a=Math.max(a,u.relativePosition.y+u.borderMarginBottom)}this.borderLeft=t,this.borderRight=e,this.borderTop=i,this.borderBottom=n,this.borderMarginLeft=r,this.borderMarginRight=s,this.borderMarginTop=o,this.borderMarginBottom=a,this.calculateRectangle(),this.calculateMarginRectangle(),this.xBordersHaveBeenSet=!0,this.yBordersHaveBeenSet=!0}calculateTopBottomBorders(){if(0===this.childElements.length)return;for(let r=0,s=this.ChildElements.length;r<s;++r)this.ChildElements[r].calculateTopBottomBorders();let t=Number.MAX_VALUE,e=Number.MIN_VALUE,i=Number.MAX_VALUE,n=Number.MIN_VALUE;this.yBordersHaveBeenSet&&(t=this.borderTop,e=this.borderBottom,i=this.borderMarginTop,n=this.borderMarginBottom);for(let r=0,s=this.ChildElements.length;r<s;++r){const s=this.ChildElements[r];t=Math.min(t,s.relativePosition.y+s.borderTop),c.EngravingRules.FixStafflineBoundingBox&&s.dataObject instanceof u.StaffLineActivitySymbol||(e=Math.max(e,s.relativePosition.y+s.borderBottom)),i=Math.min(i,s.relativePosition.y+s.borderMarginTop),n=Math.max(n,s.relativePosition.y+s.borderMarginBottom)}this.borderTop=t,this.borderBottom=e,this.borderMarginTop=i,this.borderMarginBottom=n,this.calculateRectangle(),this.calculateMarginRectangle()}computeNonOverlappingPositionWithMargin(t,e,i){this.RelativePosition=new o.PointF2D(i.x,i.y),this.setAbsolutePositionFromParent();let n=0,r=!1;do{switch(e){case h.Left:case h.Right:n=this.relativePosition.x,t.calculateMarginPositionAlongDirection(this,e),r=Math.abs(n-this.relativePosition.x)>.001;break;case h.Up:case h.Down:n=this.relativePosition.y,t.calculateMarginPositionAlongDirection(this,e),r=Math.abs(n-this.relativePosition.y)>.001;break;default:throw new s.ArgumentOutOfRangeException("direction")}}while(r)}collisionDetection(t){const e=Math.min(this.AbsolutePosition.x+this.borderRight,t.absolutePosition.x+t.borderRight)-Math.max(this.AbsolutePosition.x+this.borderLeft,t.absolutePosition.x+t.borderLeft),i=Math.min(this.AbsolutePosition.y+this.borderBottom,t.absolutePosition.y+t.borderBottom)-Math.max(this.AbsolutePosition.y+this.borderTop,t.absolutePosition.y+t.borderTop);return e>0&&i>0}liesInsideBorders(t){const e=this.AbsolutePosition.x+this.borderLeft<=t.absolutePosition.x+t.borderLeft&&t.absolutePosition.x+t.borderLeft<=this.AbsolutePosition.x+this.borderRight,i=this.AbsolutePosition.x+this.borderLeft<=t.absolutePosition.x+t.borderRight&&t.absolutePosition.x+t.borderRight<=this.AbsolutePosition.x+this.borderRight;if(e&&i){const e=this.AbsolutePosition.y+this.borderTop<=t.absolutePosition.y+t.borderTop&&t.absolutePosition.y+t.borderTop<=this.AbsolutePosition.y+this.borderBottom,i=this.AbsolutePosition.y+this.borderTop<=t.absolutePosition.y+t.borderBottom&&t.absolutePosition.y+t.borderBottom<=this.AbsolutePosition.y+this.borderBottom;if(e&&i)return!0}return!1}pointLiesInsideBorders(t){return this.AbsolutePosition.x+this.borderLeft<=t.x&&t.x<=this.AbsolutePosition.x+this.borderRight&&this.AbsolutePosition.y+this.borderTop<=t.y&&t.y<=this.AbsolutePosition.y+this.borderBottom}marginCollisionDetection(t){const e=Math.min(this.AbsolutePosition.x+this.borderMarginRight,t.absolutePosition.x+t.borderMarginRight)-Math.max(this.AbsolutePosition.x+this.borderMarginLeft,t.absolutePosition.x+t.borderMarginLeft),i=Math.min(this.AbsolutePosition.y+this.borderMarginBottom,t.absolutePosition.y+t.borderMarginBottom)-Math.max(this.AbsolutePosition.y+this.borderMarginTop,t.absolutePosition.y+t.borderMarginTop);return e>0&&i>0}liesInsideMargins(t){const e=this.AbsolutePosition.x+this.borderMarginLeft<=t.absolutePosition.x+t.borderMarginLeft&&t.absolutePosition.x+t.borderMarginLeft<=this.AbsolutePosition.x+this.borderMarginRight,i=this.AbsolutePosition.x+this.borderMarginLeft<=t.absolutePosition.x+t.borderMarginRight&&t.absolutePosition.x+t.borderMarginRight<=this.AbsolutePosition.x+this.borderMarginRight;if(e&&i){const e=this.AbsolutePosition.y+this.borderMarginTop<=t.absolutePosition.y+t.borderMarginTop&&t.absolutePosition.y+t.borderMarginTop<=this.AbsolutePosition.y+this.borderMarginBottom,i=this.AbsolutePosition.y+this.borderMarginTop<=t.absolutePosition.y+t.borderMarginBottom&&t.absolutePosition.y+t.borderMarginBottom<=this.AbsolutePosition.y+this.borderMarginBottom;if(e&&i)return!0}return!1}pointLiesInsideMargins(t){return this.AbsolutePosition.x+this.borderMarginLeft<=t.x&&t.x<=this.AbsolutePosition.x+this.borderMarginRight&&this.AbsolutePosition.y+this.borderMarginTop<=t.y&&t.y<=this.AbsolutePosition.y+this.borderMarginBottom}computeNonOverlappingPosition(t,e,i){this.RelativePosition=new o.PointF2D(i.x,i.y),this.setAbsolutePositionFromParent();let n=0,r=!1;do{switch(e){case h.Left:case h.Right:n=this.relativePosition.x,t.calculatePositionAlongDirection(this,e),r=Math.abs(n-this.relativePosition.x)>1e-4;break;case h.Up:case h.Down:n=this.relativePosition.y,t.calculatePositionAlongDirection(this,e),r=Math.abs(n-this.relativePosition.y)>1e-4;break;default:throw new s.ArgumentOutOfRangeException("direction")}}while(r)}getClickedObjectOfType(t){const e=this.dataObject;if(this.pointLiesInsideBorders(t)&&e)return e;for(let i=0,n=this.childElements.length;i<n;++i){const e=this.childElements[i].getClickedObjectOfType(t);if(e)return e}}getObjectsInRegion(t,e=!0){if(this.dataObject)if(e){if(t.liesInsideBorders(this))return[this.dataObject]}else if(t.collisionDetection(this))return[this.dataObject];const i=[];for(const n of this.childElements)i.concat(n.getObjectsInRegion(t,e));return i}calculateRectangle(){this.upperLeftCorner=new o.PointF2D(this.BorderLeft,this.BorderTop),this.size=new a.SizeF2D(this.BorderRight-this.BorderLeft,this.BorderBottom-this.BorderTop),this.boundingRectangle=l.RectangleF2D.createFromLocationAndSize(this.upperLeftCorner,this.size)}calculateMarginRectangle(){this.upperLeftMarginCorner=new o.PointF2D(this.BorderMarginLeft,this.BorderMarginTop),this.marginSize=new a.SizeF2D(this.BorderMarginRight-this.BorderMarginLeft,this.BorderMarginBottom-this.BorderMarginTop),this.boundingMarginRectangle=l.RectangleF2D.createFromLocationAndSize(this.upperLeftMarginCorner,this.marginSize)}calculateMarginPositionAlongDirection(t,e){if(this!==t){if(this.isSymbol&&this.marginCollisionDetection(t)){let i=0;switch(e){case h.Left:return i=this.absolutePosition.x+this.borderMarginLeft-(t.absolutePosition.x+t.borderMarginRight),t.relativePosition.x+=i,void(t.absolutePosition.x+=i);case h.Right:return i=this.absolutePosition.x+this.borderMarginRight-(t.absolutePosition.x+t.borderMarginLeft),t.relativePosition.x+=i,void(t.absolutePosition.x+=i);case h.Up:return i=this.absolutePosition.y+this.borderMarginTop-(t.absolutePosition.y+t.borderMarginBottom),t.relativePosition.y+=i,void(t.absolutePosition.y+=i);case h.Down:return i=this.absolutePosition.y+this.borderMarginBottom-(t.absolutePosition.y+t.borderMarginTop),t.relativePosition.y+=i,void(t.absolutePosition.y+=i);default:throw new s.ArgumentOutOfRangeException("direction")}}for(let i=0,n=this.ChildElements.length;i<n;++i)this.ChildElements[i].calculateMarginPositionAlongDirection(t,e)}}calculatePositionAlongDirection(t,e){if(this!==t){if(this.isSymbol&&this.collisionDetection(t)){let i;switch(e){case h.Left:return i=this.absolutePosition.x+this.borderLeft-(t.absolutePosition.x+t.borderRight),t.relativePosition.x+=i,void(t.absolutePosition.x+=i);case h.Right:return i=this.absolutePosition.x+this.borderRight-(t.absolutePosition.x+t.borderLeft),t.relativePosition.x+=i,void(t.absolutePosition.x+=i);case h.Up:return i=this.absolutePosition.y+this.borderTop-(t.absolutePosition.y+t.borderBottom),t.relativePosition.y+=i,void(t.absolutePosition.y+=i);case h.Down:return i=this.absolutePosition.y+this.borderBottom-(t.absolutePosition.y+t.borderTop),t.relativePosition.y+=i,void(t.absolutePosition.y+=i);default:throw new s.ArgumentOutOfRangeException("direction")}}for(let i=0,n=this.ChildElements.length;i<n;++i)this.ChildElements[i].calculatePositionAlongDirection(t,e)}}},function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down"}(h=e.ColDirEnum||(e.ColDirEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}static get Empty(){return new n}static pointsAreEqual(t,e){return t.x===e.x&&t.y===e.y}ToString(){return"["+this.x+", "+this.y+"]"}}e.PointF2D=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphicalObject=class{get PositionAndShape(){return this.boundingBox}set PositionAndShape(t){this.boundingBox=t}}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractExpression=class{constructor(t){this.placement=t}static isStringInStringList(t,e){for(let i=0,n=t.length;i<n;++i){const n=t[i];if(e.toLowerCase()===n.toLowerCase().trim())return!0}return!1}get Placement(){return this.placement}static PlacementEnumFromString(t){switch(t.toLowerCase()){case"above":return n.Above;case"below":return n.Below;case"left":return n.Left;case"right":return n.Right;case"auto":default:return n.NotYetDefined}}},function(t){t[t.Above=0]="Above",t[t.Below=1]="Below",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.NotYetDefined=4]="NotYetDefined"}(n=e.PlacementEnum||(e.PlacementEnum={}))},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.LeftTop=0]="LeftTop",t[t.LeftCenter=1]="LeftCenter",t[t.LeftBottom=2]="LeftBottom",t[t.CenterTop=3]="CenterTop",t[t.CenterCenter=4]="CenterCenter",t[t.CenterBottom=5]="CenterBottom",t[t.RightTop=6]="RightTop",t[t.RightCenter=7]="RightCenter",t[t.RightBottom=8]="RightBottom"}(n=e.TextAlignmentEnum||(e.TextAlignmentEnum={})),e.TextAlignment=class{static IsLeft(t){return t===n.LeftTop||t===n.LeftCenter||t===n.LeftBottom}static IsCenterAligned(t){return t===n.CenterTop||t===n.CenterCenter||t===n.CenterBottom}static IsRight(t){return t===n.RightTop||t===n.RightCenter||t===n.RightBottom}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2),r=i(45),s=i(2),o=i(2),a=i(11);class l extends r.AbstractNotationInstruction{constructor(t=u.G,e=0,i=2){super(void 0),this.clefType=u.G,this.line=2,this.octaveOffset=0,this.line=i,this.clefType=t,this.octaveOffset=e,this.calcParameters()}static getDefaultClefFromMidiInstrument(t){switch(t){case c.Acoustic_Grand_Piano:case c.Electric_Bass_finger:case c.Electric_Bass_pick:case c.Fretless_Bass:case c.Slap_Bass_1:case c.Slap_Bass_2:case c.Synth_Bass_1:case c.Synth_Bass_2:case c.Contrabass:return new l(u.F,0,4);default:return new l(u.G,0,2)}}static getAllPossibleClefs(){const t=[];for(let e=0;e<=2;e++){const i=new l(u.G,e,2);t.push(i)}for(let e=-2;e<=0;e++){const i=new l(u.F,e,4);t.push(i)}return t}static isSupportedClef(t){switch(t){case u.G:case u.F:case u.C:case u.percussion:case u.TAB:return!0;default:return!1}}get ClefType(){return this.clefType}set ClefType(t){this.clefType=t}get Line(){return this.line}set Line(t){this.line=t}get OctaveOffset(){return this.octaveOffset}set OctaveOffset(t){this.octaveOffset=t}get ClefPitch(){return this.clefPitch}set ClefPitch(t){this.clefPitch=t}get ReferenceCyPosition(){return this.referenceCyPosition}set ReferenceCyPosition(t){this.referenceCyPosition=t}Equals(t){return this===t||!(!this||!t)&&this.clefPitch===t.clefPitch&&this.Line===t.Line}NotEqual(t){return!this.Equals(t)}ToString(){return"ClefType: "+this.clefType}calcParameters(){switch(this.clefType){case u.G:this.clefPitch=new n.Pitch(s.NoteEnum.G,1+this.octaveOffset,o.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line+2;break;case u.F:this.clefPitch=new n.Pitch(s.NoteEnum.F,0+this.octaveOffset,o.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line+1.5;break;case u.C:this.clefPitch=new n.Pitch(s.NoteEnum.C,1+this.octaveOffset,o.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line;break;case u.percussion:this.clefPitch=new n.Pitch(s.NoteEnum.C,2,o.AccidentalEnum.NONE),this.referenceCyPosition=2;break;case u.TAB:this.clefPitch=new n.Pitch(s.NoteEnum.G,0,o.AccidentalEnum.NONE),this.referenceCyPosition=0;break;default:throw new a.ArgumentOutOfRangeException("clefType")}}}var u,c;e.ClefInstruction=l,function(t){t[t.G=0]="G",t[t.F=1]="F",t[t.C=2]="C",t[t.percussion=3]="percussion",t[t.TAB=4]="TAB"}(u=e.ClefEnum||(e.ClefEnum={})),function(t){t[t.None=-1]="None",t[t.Acoustic_Grand_Piano=0]="Acoustic_Grand_Piano",t[t.Bright_Acoustic_Piano=1]="Bright_Acoustic_Piano",t[t.Electric_Grand_Piano=2]="Electric_Grand_Piano",t[t.Honky_tonk_Piano=3]="Honky_tonk_Piano",t[t.Electric_Piano_1=4]="Electric_Piano_1",t[t.Electric_Piano_2=5]="Electric_Piano_2",t[t.Harpsichord=6]="Harpsichord",t[t.Clavinet=7]="Clavinet",t[t.Celesta=8]="Celesta",t[t.Glockenspiel=9]="Glockenspiel",t[t.Music_Box=10]="Music_Box",t[t.Vibraphone=11]="Vibraphone",t[t.Marimba=12]="Marimba",t[t.Xylophone=13]="Xylophone",t[t.Tubular_Bells=14]="Tubular_Bells",t[t.Dulcimer=15]="Dulcimer",t[t.Drawbar_Organ=16]="Drawbar_Organ",t[t.Percussive_Organ=17]="Percussive_Organ",t[t.Rock_Organ=18]="Rock_Organ",t[t.Church_Organ=19]="Church_Organ",t[t.Reed_Organ=20]="Reed_Organ",t[t.Accordion=21]="Accordion",t[t.Harmonica=22]="Harmonica",t[t.Tango_Accordion=23]="Tango_Accordion",t[t.Acoustic_Guitar_nylon=24]="Acoustic_Guitar_nylon",t[t.Acoustic_Guitar_steel=25]="Acoustic_Guitar_steel",t[t.Electric_Guitar_jazz=26]="Electric_Guitar_jazz",t[t.Electric_Guitar_clean=27]="Electric_Guitar_clean",t[t.Electric_Guitar_muted=28]="Electric_Guitar_muted",t[t.Overdriven_Guitar=29]="Overdriven_Guitar",t[t.Distortion_Guitar=30]="Distortion_Guitar",t[t.Guitar_harmonics=31]="Guitar_harmonics",t[t.Acoustic_Bass=32]="Acoustic_Bass",t[t.Electric_Bass_finger=33]="Electric_Bass_finger",t[t.Electric_Bass_pick=34]="Electric_Bass_pick",t[t.Fretless_Bass=35]="Fretless_Bass",t[t.Slap_Bass_1=36]="Slap_Bass_1",t[t.Slap_Bass_2=37]="Slap_Bass_2",t[t.Synth_Bass_1=38]="Synth_Bass_1",t[t.Synth_Bass_2=39]="Synth_Bass_2",t[t.Violin=40]="Violin",t[t.Viola=41]="Viola",t[t.Cello=42]="Cello",t[t.Contrabass=43]="Contrabass",t[t.Tremolo_Strings=44]="Tremolo_Strings",t[t.Pizzicato_Strings=45]="Pizzicato_Strings",t[t.Orchestral_Harp=46]="Orchestral_Harp",t[t.Timpani=47]="Timpani",t[t.String_Ensemble_1=48]="String_Ensemble_1",t[t.String_Ensemble_2=49]="String_Ensemble_2",t[t.Synth_Strings_1=50]="Synth_Strings_1",t[t.Synth_Strings_2=51]="Synth_Strings_2",t[t.Choir_Aahs=52]="Choir_Aahs",t[t.Voice_Oohs=53]="Voice_Oohs",t[t.Synth_Voice=54]="Synth_Voice",t[t.Orchestra_Hit=55]="Orchestra_Hit",t[t.Trumpet=56]="Trumpet",t[t.Trombone=57]="Trombone",t[t.Tuba=58]="Tuba",t[t.Muted_Trumpet=59]="Muted_Trumpet",t[t.French_Horn=60]="French_Horn",t[t.Brass_Section=61]="Brass_Section",t[t.Synth_Brass_1=62]="Synth_Brass_1",t[t.Synth_Brass_2=63]="Synth_Brass_2",t[t.Soprano_Sax=64]="Soprano_Sax",t[t.Alto_Sax=65]="Alto_Sax",t[t.Tenor_Sax=66]="Tenor_Sax",t[t.Baritone_Sax=67]="Baritone_Sax",t[t.Oboe=68]="Oboe",t[t.English_Horn=69]="English_Horn",t[t.Bassoon=70]="Bassoon",t[t.Clarinet=71]="Clarinet",t[t.Piccolo=72]="Piccolo",t[t.Flute=73]="Flute",t[t.Recorder=74]="Recorder",t[t.Pan_Flute=75]="Pan_Flute",t[t.Blown_Bottle=76]="Blown_Bottle",t[t.Shakuhachi=77]="Shakuhachi",t[t.Whistle=78]="Whistle",t[t.Ocarina=79]="Ocarina",t[t.Lead_1_square=80]="Lead_1_square",t[t.Lead_2_sawtooth=81]="Lead_2_sawtooth",t[t.Lead_3_calliope=82]="Lead_3_calliope",t[t.Lead_4_chiff=83]="Lead_4_chiff",t[t.Lead_5_charang=84]="Lead_5_charang",t[t.Lead_6_voice=85]="Lead_6_voice",t[t.Lead_7_fifths=86]="Lead_7_fifths",t[t.Lead_8_bass_lead=87]="Lead_8_bass_lead",t[t.Pad_1_new_age=88]="Pad_1_new_age",t[t.Pad_2_warm=89]="Pad_2_warm",t[t.Pad_3_polysynth=90]="Pad_3_polysynth",t[t.Pad_4_choir=91]="Pad_4_choir",t[t.Pad_5_bowed=92]="Pad_5_bowed",t[t.Pad_6_metallic=93]="Pad_6_metallic",t[t.Pad_7_halo=94]="Pad_7_halo",t[t.Pad_8_sweep=95]="Pad_8_sweep",t[t.FX_1_rain=96]="FX_1_rain",t[t.FX_2_soundtrack=97]="FX_2_soundtrack",t[t.FX_3_crystal=98]="FX_3_crystal",t[t.FX_4_atmosphere=99]="FX_4_atmosphere",t[t.FX_5_brightness=100]="FX_5_brightness",t[t.FX_6_goblins=101]="FX_6_goblins",t[t.FX_7_echoes=102]="FX_7_echoes",t[t.FX_8_scifi=103]="FX_8_scifi",t[t.Sitar=104]="Sitar",t[t.Banjo=105]="Banjo",t[t.Shamisen=106]="Shamisen",t[t.Koto=107]="Koto",t[t.Kalimba=108]="Kalimba",t[t.Bag_pipe=109]="Bag_pipe",t[t.Fiddle=110]="Fiddle",t[t.Shanai=111]="Shanai",t[t.Tinkle_Bell=112]="Tinkle_Bell",t[t.Agogo=113]="Agogo",t[t.Steel_Drums=114]="Steel_Drums",t[t.Woodblock=115]="Woodblock",t[t.Taiko_Drum=116]="Taiko_Drum",t[t.Melodic_Tom=117]="Melodic_Tom",t[t.Synth_Drum=118]="Synth_Drum",t[t.Reverse_Cymbal=119]="Reverse_Cymbal",t[t.Guitar_Fret_Noise=120]="Guitar_Fret_Noise",t[t.Breath_Noise=121]="Breath_Noise",t[t.Seashore=122]="Seashore",t[t.Bird_Tweet=123]="Bird_Tweet",t[t.Telephone_Ring=124]="Telephone_Ring",t[t.Helicopter=125]="Helicopter",t[t.Applause=126]="Applause",t[t.Gunshot=127]="Gunshot",t[t.Percussion=128]="Percussion"}(c=e.MidiInstrument||(e.MidiInstrument={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty;function r(t){return"function"==typeof t}function s(t){return void 0===t}function o(t){return"[object String]"===Object.prototype.toString.call(t)}e.has=function(t,e){return n.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?"COLLECTION_NULL":s(t)?"COLLECTION_UNDEFINED":o(t)?"$s"+t:"$o"+t.toString()},e.makeString=function(t,i){if(void 0===i&&(i=","),null===t)return"COLLECTION_NULL";if(s(t))return"COLLECTION_UNDEFINED";if(o(t))return t.toString();var n="{",r=!0;for(var a in t)e.has(t,a)&&(r?r=!1:n+=i,n=n+a+":"+t[a]);return n+"}"},e.isFunction=r,e.isUndefined=s,e.isString=o,e.reverseCompareFunction=function(t){return s(t)||!r(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,i){return-1*t(e,i)}},e.compareToEquals=function(t){return function(e,i){return 0===t(e,i)}}},function(t,e,i){"use strict";i.r(e);const n=()=>{};n.L=(t,e)=>{if(!e)return;const i=Array.prototype.slice.call(e).join(" ");window.console.log(t+": "+i)},n.MakeException=t=>class extends Error{constructor(e,i){super(e),this.name=t,this.message=e,this.data=i}},n.RERR=n.RuntimeError=class{constructor(t,e){this.code=t,this.message=e}toString(){return"[RuntimeError] "+this.code+":"+this.message}},n.Merge=(t,e)=>{for(const i in e)t[i]=e[i];return t},n.Min=Math.min,n.Max=Math.max,n.forEach=(t,e)=>{for(let i=0;i<t.length;i++)e(t[i],i)},n.RoundN=(t,e)=>t%e>=e/2?parseInt(t/e,10)*e+e:parseInt(t/e,10)*e,n.MidLine=(t,e)=>{let i=e+(t-e)/2;return i%2>0&&(i=n.RoundN(10*i,5)/10),i},n.SortAndUnique=(t,e,i)=>{if(t.length>1){const n=[];let r;t.sort(e);for(let e=0;e<t.length;++e)0!==e&&i(t[e],r)||n.push(t[e]),r=t[e];return n}return t},n.Contains=(t,e)=>{let i=t.length;for(;i--;)if(t[i]===e)return!0;return!1},n.getCanvasContext=t=>{if(!t)throw new n.RERR("BadArgument","Invalid canvas selector: "+t);const e=document.getElementById(t);if(!e||!e.getContext)throw new n.RERR("UnsupportedBrowserError","This browser does not support HTML5 Canvas");return e.getContext("2d")},n.drawDot=(t,e,i,n="#55")=>{t.save(),t.setFillStyle(n),t.beginPath(),t.arc(e,i,3,0,2*Math.PI,!0),t.closePath(),t.fill(),t.restore()},n.BM=(t,e)=>{const i=(new Date).getTime();e();const r=(new Date).getTime()-i;n.L(t+r+"ms")},n.StackTrace=()=>(new Error).stack,n.W=(...t)=>{const e=t.join(" ");window.console.log("Warning: ",e,n.StackTrace())},(n.Prefix=t=>n.Prefix.prefix+t).prefix="vf-";class r{static GCD(t,e){if("number"!=typeof t||"number"!=typeof e)throw new n.RERR("BadArgument",`Invalid numbers: ${t}, ${e}`);let i;for(;0!==e;)i=e,e=t%e,t=i;return t}static LCM(t,e){return t*e/r.GCD(t,e)}static LCMM(t){if(0===t.length)return 0;if(1===t.length)return t[0];if(2===t.length)return r.LCM(t[0],t[1]);{const e=t[0];return t.shift(),r.LCM(e,r.LCMM(t))}}constructor(t,e){this.set(t,e)}set(t,e){return this.numerator=void 0===t?1:t,this.denominator=void 0===e?1:e,this}value(){return this.numerator/this.denominator}simplify(){let t=this.numerator,e=this.denominator;const i=r.GCD(t,e);return t/=i,e/=i,e<0&&(e=-e,t=-t),this.set(t,e)}add(t,e){let i,n;t instanceof r?(i=t.numerator,n=t.denominator):(i=void 0!==t?t:0,n=void 0!==e?e:1);const s=r.LCM(this.denominator,n),o=s/this.denominator,a=s/n,l=this.numerator*o+i*a;return this.set(l,s)}subtract(t,e){let i,n;t instanceof r?(i=t.numerator,n=t.denominator):(i=void 0!==t?t:0,n=void 0!==e?e:1);const s=r.LCM(this.denominator,n),o=s/this.denominator,a=s/n,l=this.numerator*o-i*a;return this.set(l,s)}multiply(t,e){let i,n;return t instanceof r?(i=t.numerator,n=t.denominator):(i=void 0!==t?t:1,n=void 0!==e?e:1),this.set(this.numerator*i,this.denominator*n)}divide(t,e){let i,n;return t instanceof r?(i=t.numerator,n=t.denominator):(i=void 0!==t?t:1,n=void 0!==e?e:1),this.set(this.numerator*n,this.denominator*i)}equals(t){const e=r.__compareA.copy(t).simplify(),i=r.__compareB.copy(this).simplify();return e.numerator===i.numerator&&e.denominator===i.denominator}greaterThan(t){const e=r.__compareB.copy(this);return e.subtract(t),e.numerator>0}greaterThanEquals(t){const e=r.__compareB.copy(this);return e.subtract(t),e.numerator>=0}lessThan(t){return!this.greaterThanEquals(t)}lessThanEquals(t){return!this.greaterThan(t)}clone(){return new r(this.numerator,this.denominator)}copy(t){return"number"==typeof t?this.set(t||0,1):this.set(t.numerator,t.denominator)}quotient(){return Math.floor(this.numerator/this.denominator)}fraction(){return this.numerator%this.denominator}abs(){return this.denominator=Math.abs(this.denominator),this.numerator=Math.abs(this.numerator),this}toString(){return this.numerator+"/"+this.denominator}toSimplifiedString(){return r.__tmp.copy(this).simplify().toString()}toMixedString(){let t="";const e=this.quotient(),i=r.__tmp.copy(this);return e<0?i.abs().fraction():i.fraction(),0!==e?(t+=e,0!==i.numerator&&(t+=" "+i.toSimplifiedString())):t=0===i.numerator?"0":i.toSimplifiedString(),t}parse(t){const e=t.split("/"),i=parseInt(e[0],10),n=e[1]?parseInt(e[1],10):1;return this.set(i,n)}}r.__compareA=new r,r.__compareB=new r,r.__tmp=new r;const s=n.MakeException("RegistryError");function o(t,e,i,n,r){t[e][i]||(t[e][i]={}),t[e][i][n]=r}class a{static get INDEXES(){return["type"]}constructor(){this.clear()}static enableDefaultRegistry(t){a.defaultRegistry=t}static getDefaultRegistry(){return a.defaultRegistry}static disableDefaultRegistry(){a.defaultRegistry=null}clear(){return this.index={id:{},type:{},class:{}},this}updateIndex({id:t,name:e,value:i,oldValue:n}){const r=this.getElementById(t);null!==n&&this.index[e][n]&&delete this.index[e][n][t],null!==i&&o(this.index,e,i,r.getAttribute("id"),r)}register(t,e){if(!(e=e||t.getAttribute("id")))throw new s("Can't add element without `id` attribute to registry",t);return t.setAttribute("id",e),o(this.index,"id",e,e,t),a.INDEXES.forEach(i=>{this.updateIndex({id:e,name:i,value:t.getAttribute(i),oldValue:null})}),t.onRegister(this),this}getElementById(t){return this.index.id[t]?this.index.id[t][t]:null}getElementsByAttribute(t,e){const i=this.index[t];return i&&i[e]?Object.keys(i[e]).map(t=>i[e][t]):[]}getElementsByType(t){return this.getElementsByAttribute("type",t)}getElementsByClass(t){return this.getElementsByAttribute("class",t)}onUpdate({id:t,name:e,value:i,oldValue:n}){return function(t,e){return t.filter(t=>t===e).length>0}(a.INDEXES.concat(["id","class"]),e)?(this.updateIndex({id:t,name:e,value:i,oldValue:n}),this):this}}a.defaultRegistry=null;class l{static newID(){return"auto"+l.ID++}constructor({type:t}={}){this.attrs={id:l.newID(),el:null,type:t||"Base",classes:{}},this.boundingBox=null,this.context=null,this.rendered=!1,a.getDefaultRegistry()&&a.getDefaultRegistry().register(this)}setStyle(t){return this.style=t,this}getStyle(){return this.style}applyStyle(t=this.context,e=this.getStyle()){return e?(t.save(),e.shadowColor&&t.setShadowColor(e.shadowColor),e.shadowBlur&&t.setShadowBlur(e.shadowBlur),e.fillStyle&&t.setFillStyle(e.fillStyle),e.strokeStyle&&t.setStrokeStyle(e.strokeStyle),e.lineWidth&&t.setLineWidth(e.lineWidth),this):this}restoreStyle(t=this.context,e=this.getStyle()){return e?(t.restore(),this):this}drawWithStyle(){this.checkContext(),this.applyStyle(),this.draw(),this.restoreStyle()}hasClass(t){return!0===this.attrs.classes[t]}addClass(t){return this.attrs.classes[t]=!0,this.registry&&this.registry.onUpdate({id:this.getAttribute("id"),name:"class",value:t,oldValue:null}),this}removeClass(t){return delete this.attrs.classes[t],this.registry&&this.registry.onUpdate({id:this.getAttribute("id"),name:"class",value:null,oldValue:t}),this}onRegister(t){return this.registry=t,this}isRendered(){return this.rendered}setRendered(t=!0){return this.rendered=t,this}getAttributes(){return this.attrs}getAttribute(t){return this.attrs[t]}setAttribute(t,e){const i=this.attrs.id,n=this.attrs[t];return this.attrs[t]=e,this.registry&&this.registry.onUpdate({id:i,name:t,value:e,oldValue:n}),this}getContext(){return this.context}setContext(t){return this.context=t,this}getBoundingBox(){return this.boundingBox}checkContext(){if(!this.context)throw new n.RERR("NoContext","No rendering context attached to instance");return this.context}}l.ID=1e3;class u{constructor(t,e,i,n){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.addPoint(t,e),this.addPoint(i,n)}width(){return this.x2-this.x1}height(){return this.y2-this.y1}addPoint(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}addX(t){this.addPoint(t,null)}addY(t){this.addPoint(null,t)}addQuadraticCurve(t,e,i,n,r,s){const o=t+2/3*(i-t),a=e+2/3*(n-e),l=o+1/3*(r-t),u=a+1/3*(s-e);this.addBezierCurve(t,e,o,a,l,u,r,s)}addBezierCurve(t,e,i,n,r,s,o,a){const l=[t,e],u=[i,n],c=[r,s],h=[o,a];let d;this.addPoint(l[0],l[1]),this.addPoint(h[0],h[1]);const f=(t,e)=>Math.pow(1-t,3)*l[e]+3*Math.pow(1-t,2)*t*u[e]+3*(1-t)*Math.pow(t,2)*c[e]+Math.pow(t,3)*h[e];for(d=0;d<=1;d++){const t=6*l[d]-12*u[d]+6*c[d],e=-3*l[d]+9*u[d]-9*c[d]+3*h[d],i=3*u[d]-3*l[d];if(0===e){if(0===t)continue;const e=-i/t;0<e&&e<1&&(0===d&&this.addX(f(e,d)),1===d&&this.addY(f(e,d)));continue}const n=Math.pow(t,2)-4*i*e;if(n<0)continue;const r=(-t+Math.sqrt(n))/(2*e);0<r&&r<1&&(0===d&&this.addX(f(r,d)),1===d&&this.addY(f(r,d)));const s=(-t-Math.sqrt(n))/(2*e);0<s&&s<1&&(0===d&&this.addX(f(s,d)),1===d&&this.addY(f(s,d)))}}}class c{static copy(t){return new c(t.x,t.y,t.w,t.h)}constructor(t,e,i,n){this.x=t,this.y=e,this.w=i,this.h=n}getX(){return this.x}getY(){return this.y}getW(){return this.w}getH(){return this.h}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setW(t){return this.w=t,this}setH(t){return this.h=t,this}move(t,e){this.x+=t,this.y+=e}clone(){return c.copy(this)}mergeWith(t,e){const i=t,n=this.x<i.x?this.x:i.x,r=this.y<i.y?this.y:i.y,s=Math.max(this.x+this.w,i.x+i.w)-n,o=Math.max(this.y+this.h,i.y+i.h)-r;return this.x=n,this.y=r,this.w=s,this.h=o,e&&this.draw(e),this}draw(t,e,i){e||(e=0),i||(i=0),t.rect(this.x+e,this.y+i,this.w,this.h),t.stroke()}}const h={glyphs:{v0:{x_min:0,x_max:514.5,ha:525,o:"m 236 648 b 246 648 238 648 242 648 b 288 646 261 648 283 648 b 472 513 364 634 428 587 b 514 347 502 464 514 413 b 462 163 514 272 499 217 b 257 44 409 83 333 44 b 50 163 181 44 103 83 b 0 347 14 217 0 272 b 40 513 0 413 12 464 b 236 648 87 591 155 638 m 277 614 b 253 616 273 616 261 616 b 242 616 247 616 243 616 b 170 499 193 609 181 589 b 159 348 163 446 159 398 b 166 222 159 308 161 266 b 201 91 174 138 183 106 b 257 76 215 81 235 76 b 311 91 277 76 299 81 b 347 222 330 106 338 138 b 353 348 352 266 353 308 b 344 499 353 398 351 446 b 277 614 333 587 322 606 m 257 -1 l 258 -1 l 255 -1 l 257 -1 m 257 673 l 258 673 l 255 673 l 257 673 "},v1:{x_min:-1.359375,x_max:344.359375,ha:351,o:"m 126 637 l 129 638 l 198 638 l 266 638 l 269 635 b 274 631 272 634 273 632 l 277 627 l 277 395 b 279 156 277 230 277 161 b 329 88 281 123 295 106 b 344 69 341 81 344 79 b 337 55 344 62 343 59 l 333 54 l 197 54 l 61 54 l 58 55 b 50 69 53 59 50 62 b 65 88 50 79 53 81 b 80 97 72 91 74 93 b 117 156 103 113 112 129 b 117 345 117 161 117 222 l 117 528 l 100 503 l 38 406 b 14 383 24 384 23 383 b -1 398 5 383 -1 390 b 4 415 -1 403 1 409 b 16 437 5 416 10 426 l 72 539 l 100 596 b 121 632 119 631 119 631 b 126 637 122 634 125 635 m 171 -1 l 172 -1 l 170 -1 l 171 -1 m 171 673 l 172 673 l 170 673 l 171 673 "},v2:{x_min:-1.359375,x_max:458.6875,ha:468,o:"m 197 648 b 216 648 201 648 208 648 b 258 646 232 648 253 648 b 419 546 333 637 393 599 b 432 489 428 528 432 509 b 356 342 432 440 405 384 b 235 278 322 313 288 295 b 69 170 166 256 107 217 b 69 169 69 170 69 169 b 69 169 69 169 69 169 b 74 173 69 169 72 170 b 209 222 112 204 163 222 b 310 195 247 222 274 215 b 371 179 332 184 352 179 b 396 181 379 179 387 179 b 428 202 409 184 423 194 b 442 212 431 209 436 212 b 458 197 450 212 458 206 b 441 148 458 190 449 165 b 299 44 409 84 353 44 b 288 45 295 44 292 44 b 250 61 274 45 268 49 b 122 99 212 86 164 99 b 73 91 104 99 88 97 b 28 63 53 84 34 72 b 14 54 25 56 20 54 b 1 62 9 54 4 56 l -1 65 l -1 79 b 0 99 -1 91 0 95 b 2 113 1 102 2 108 b 164 309 20 197 81 272 b 285 470 232 341 277 398 b 287 487 287 476 287 481 b 171 595 287 551 239 595 b 155 595 166 595 160 595 b 142 592 145 594 142 594 b 145 589 142 592 142 591 b 179 527 168 576 179 551 b 132 455 179 496 163 467 b 104 451 122 452 112 451 b 27 530 62 451 27 487 b 29 555 27 538 27 546 b 197 648 44 601 115 639 m 228 -1 l 230 -1 l 227 -1 l 228 -1 m 228 673 l 230 673 l 227 673 l 228 673 "},v3:{x_min:-1.359375,x_max:409.6875,ha:418,o:"m 174 648 b 191 648 176 648 183 648 b 225 648 204 648 220 648 b 402 523 317 638 389 588 b 404 503 404 517 404 510 b 402 484 404 495 404 488 b 264 373 389 437 334 394 b 257 370 259 371 257 371 b 257 370 257 370 257 370 b 264 369 258 370 261 369 b 409 202 359 334 409 267 b 318 72 409 152 381 104 b 200 43 281 52 240 43 b 23 113 134 43 69 68 b 0 169 6 129 0 149 b 77 249 0 210 29 249 l 77 249 b 152 174 125 249 152 212 b 103 102 152 145 137 116 b 103 102 103 102 103 102 b 147 94 103 101 132 95 b 153 94 149 94 151 94 b 265 206 219 94 265 141 b 264 226 265 213 265 219 b 147 355 253 299 204 353 b 126 371 133 356 126 362 b 147 388 126 383 132 388 b 254 474 196 391 238 424 b 259 502 258 484 259 494 b 182 592 259 544 228 582 b 156 595 175 595 166 595 b 115 592 142 595 129 594 l 111 591 l 115 588 b 152 524 141 574 152 549 b 92 449 152 491 130 458 b 76 448 87 448 81 448 b -1 530 32 448 -1 488 b 20 581 -1 548 5 566 b 174 648 55 619 108 641 m 204 -1 l 205 -1 l 202 -1 l 204 -1 m 204 673 l 205 673 l 202 673 l 204 673 "},v4:{x_min:0,x_max:468.21875,ha:478,o:"m 174 637 b 232 638 175 638 189 638 b 277 638 245 638 259 638 l 378 638 l 381 635 b 389 623 386 632 389 627 b 382 609 389 617 386 613 b 366 589 381 606 372 598 l 313 528 l 245 451 l 209 410 l 155 348 l 84 267 b 59 240 72 252 59 240 b 59 240 59 240 59 240 b 151 238 59 238 68 238 l 242 238 l 242 303 b 243 371 242 369 242 370 b 289 426 245 374 254 385 l 303 441 l 317 456 l 338 483 l 360 506 l 371 520 b 386 527 375 526 381 527 b 400 519 392 527 397 524 b 401 440 401 516 401 514 b 401 377 401 423 401 402 l 401 238 l 426 238 b 453 237 449 238 450 238 b 465 217 461 234 465 226 b 460 202 465 212 464 206 b 426 197 454 197 453 197 l 401 197 l 401 180 b 451 88 402 129 412 109 b 468 69 465 81 468 79 b 461 55 468 62 466 59 l 458 54 l 321 54 l 185 54 l 182 55 b 175 69 176 59 175 62 b 191 88 175 79 176 81 b 240 180 230 109 240 129 l 240 197 l 125 197 b 73 195 104 195 87 195 b 8 197 10 195 9 197 b 0 212 2 199 0 205 b 0 212 0 212 0 212 b 20 242 0 219 0 219 b 163 610 104 344 163 492 b 174 637 163 628 166 634 m 234 -1 l 235 -1 l 232 -1 l 234 -1 m 234 673 l 235 673 l 232 673 l 234 673 "},v5:{x_min:0,x_max:409.6875,ha:418,o:"m 47 637 b 53 638 49 638 50 638 b 69 634 55 638 61 637 b 210 610 114 619 161 610 b 363 634 259 610 311 619 b 382 638 372 637 378 638 b 392 634 386 638 389 637 b 397 623 396 630 397 627 b 393 610 397 620 396 616 b 298 505 368 552 338 520 b 212 494 277 498 246 494 b 65 517 163 494 106 502 b 61 517 62 517 61 517 b 61 517 61 517 61 517 b 51 408 61 517 51 412 b 51 408 51 408 51 408 b 51 408 51 408 51 408 b 61 412 53 408 55 409 b 125 434 80 421 103 430 b 185 441 145 440 166 441 b 409 244 310 441 409 353 b 401 191 409 227 406 209 b 197 43 375 105 287 43 b 159 47 183 43 171 44 b 23 123 112 56 61 86 b 0 180 6 140 0 159 b 76 260 0 220 31 260 b 92 259 81 260 87 259 b 152 183 132 251 152 216 b 100 112 152 152 134 122 b 95 111 98 112 95 111 b 95 111 95 111 95 111 b 129 98 95 109 119 101 b 148 97 136 97 141 97 b 264 235 206 97 261 158 b 265 248 265 240 265 244 b 210 398 265 312 243 373 b 179 408 201 406 194 408 b 174 408 178 408 176 408 b 53 369 130 408 88 394 b 34 359 39 359 38 359 b 17 374 24 359 17 365 b 39 628 17 384 38 625 b 47 637 40 631 43 635 m 204 -1 l 205 -1 l 202 -1 l 204 -1 m 204 673 l 205 673 l 202 673 l 204 673 "},v6:{x_min:0,x_max:475.03125,ha:485,o:"m 255 648 b 274 648 259 648 266 648 b 314 646 288 648 307 648 b 450 555 374 637 438 594 b 454 530 453 546 454 538 b 375 451 454 485 416 451 b 328 467 359 451 343 455 b 300 526 310 483 300 503 b 352 598 300 557 319 589 b 356 599 355 598 356 599 b 352 602 356 599 355 601 b 288 616 330 612 308 616 b 210 584 257 616 230 605 b 164 433 189 559 174 508 b 160 374 163 415 160 381 b 160 374 160 374 160 374 b 160 374 160 374 160 374 b 168 377 160 374 164 376 b 258 395 200 390 228 395 b 366 367 294 395 328 387 b 475 223 436 333 475 283 b 472 197 475 215 473 206 b 349 65 462 141 419 95 b 259 43 317 51 288 43 b 167 69 230 43 200 52 b 4 290 80 113 20 195 b 0 349 1 309 0 328 b 20 467 0 391 6 433 b 255 648 58 563 155 637 m 269 363 b 257 363 265 363 261 363 b 210 345 236 363 220 356 b 186 226 196 324 186 272 b 187 198 186 216 186 206 b 213 95 191 151 202 112 b 257 76 221 83 238 76 b 270 77 261 76 266 76 b 321 156 299 81 310 99 b 329 229 326 183 329 206 b 321 301 329 252 326 274 b 269 363 311 342 298 359 m 236 -1 l 238 -1 l 235 -1 l 236 -1 m 236 673 l 238 673 l 235 673 l 236 673 "},v7:{x_min:0,x_max:442.359375,ha:451,o:"m 147 648 b 166 649 153 649 160 649 b 313 598 217 649 273 630 b 340 587 323 588 328 587 l 341 587 b 412 628 367 587 390 601 b 427 638 416 635 421 638 b 439 632 431 638 435 637 b 442 623 441 630 442 628 b 430 569 442 616 439 603 b 352 369 408 492 377 410 b 300 259 325 324 313 298 b 273 84 283 205 273 140 b 265 55 273 65 272 59 l 261 54 l 181 54 l 99 54 l 96 55 b 91 61 95 56 92 59 l 89 63 l 89 77 b 147 263 89 133 111 202 b 261 401 176 313 212 355 b 378 541 315 449 349 489 l 382 548 l 375 544 b 240 495 333 512 285 495 b 129 535 198 495 160 509 b 84 560 108 552 95 560 b 76 559 81 560 78 560 b 31 487 59 555 43 530 b 14 470 27 473 24 470 b 1 477 8 470 4 471 l 0 480 l 0 553 l 0 627 l 1 630 b 16 638 4 635 9 638 b 23 635 17 638 20 637 b 49 626 36 626 39 626 b 96 638 59 626 80 630 b 104 639 99 638 102 639 b 117 644 107 641 112 642 b 147 648 125 645 137 648 m 220 -1 l 221 -1 l 219 -1 l 220 -1 m 220 673 l 221 673 l 219 673 l 220 673 "},v8:{x_min:0,x_max:488.640625,ha:499,o:"m 217 648 b 245 649 225 648 235 649 b 453 516 343 649 430 595 b 458 478 455 503 458 491 b 412 370 458 440 441 398 b 411 369 412 369 411 369 b 415 365 411 367 412 367 b 488 231 462 331 488 281 b 472 165 488 208 483 186 b 243 43 434 86 338 43 b 63 104 178 43 112 62 b 0 233 20 140 0 186 b 73 365 0 283 24 331 l 77 369 l 72 374 b 29 476 42 406 29 441 b 217 648 29 557 103 635 m 258 605 b 242 606 253 605 247 606 b 157 552 198 606 157 580 b 160 541 157 548 159 544 b 319 413 176 503 242 452 l 337 403 l 338 406 b 359 476 352 428 359 452 b 258 605 359 537 318 595 m 138 326 b 130 330 134 328 130 330 b 130 330 130 330 130 330 b 107 305 127 330 112 313 b 84 231 91 281 84 256 b 243 86 84 156 151 86 b 249 87 245 86 246 87 b 347 156 303 88 347 120 b 344 172 347 162 345 167 b 156 319 325 227 257 281 b 138 326 151 322 144 324 m 243 -1 l 245 -1 l 242 -1 l 243 -1 m 243 673 l 245 673 l 242 673 l 243 673 "},v9:{x_min:0,x_max:475.03125,ha:485,o:"m 191 646 b 212 649 198 648 205 649 b 255 644 227 649 243 646 b 458 448 348 616 428 539 b 475 342 469 415 475 378 b 460 244 475 308 469 274 b 193 44 421 124 303 44 b 91 69 157 44 122 51 b 19 161 43 97 19 126 b 21 181 19 167 20 174 b 98 241 32 220 65 241 b 170 186 129 241 160 223 b 172 166 171 179 172 173 b 121 94 172 134 152 102 b 117 93 118 94 117 93 b 121 90 117 93 118 91 b 185 76 142 80 164 76 b 270 119 220 76 251 91 b 308 259 287 145 300 194 b 313 317 310 277 313 310 b 313 317 313 317 313 317 b 313 317 313 317 313 317 b 304 315 313 317 308 316 b 216 295 273 302 245 295 b 145 308 193 295 170 299 b 19 398 88 327 42 360 b 0 469 5 420 0 444 b 24 551 0 496 8 526 b 191 646 54 596 125 637 m 227 614 b 215 616 224 616 220 616 b 202 614 210 616 206 616 b 152 535 174 610 163 592 b 144 463 147 509 144 485 b 152 391 144 440 147 417 b 216 328 163 344 179 328 b 280 391 253 328 269 344 b 288 463 285 417 288 440 b 280 535 288 485 285 509 b 227 614 269 594 258 610 m 236 -1 l 238 -1 l 235 -1 l 236 -1 m 236 673 l 238 673 l 235 673 l 236 673 "},va:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -8 -1 b -1 0 -5 -1 -4 0 b 16 -11 5 0 13 -4 b 83 -186 17 -12 47 -90 l 148 -358 l 148 -363 b 127 -385 148 -376 138 -385 b 112 -378 122 -385 118 -383 b 54 -226 110 -374 114 -385 b 0 -81 24 -147 0 -81 b -55 -226 -1 -81 -25 -147 b -114 -378 -115 -385 -111 -374 b -129 -385 -119 -383 -123 -385 b -149 -363 -140 -385 -149 -376 l -149 -358 l -84 -186 b -19 -11 -49 -90 -19 -12 b -8 -1 -17 -8 -12 -4 "},vb:{x_min:0,x_max:428.75,ha:438,o:"m 262 186 b 273 186 266 186 272 186 b 274 186 273 186 274 186 b 285 186 274 186 280 186 b 428 48 375 181 428 122 b 386 -68 428 12 416 -29 b 155 -187 329 -145 236 -187 b 12 -111 92 -187 38 -162 b 0 -51 4 -91 0 -72 b 262 186 0 58 122 179 "},vc:{x_min:0,x_max:447.8125,ha:457,o:"m 0 86 l 0 173 l 223 173 l 447 173 l 447 86 l 447 0 l 223 0 l 0 0 l 0 86 "},vf:{x_min:0,x_max:370.21875,ha:378,o:"m 0 0 l 0 277 l 61 277 l 122 277 l 122 0 l 122 -278 l 61 -278 l 0 -278 l 0 0 m 246 -1 l 246 277 l 308 277 l 370 277 l 370 -1 l 370 -278 l 308 -278 l 246 -278 l 246 -1 "},v10:{x_min:0,x_max:559.421875,ha:571,o:"m 5 127 b 14 127 6 127 9 127 b 51 126 25 127 43 127 b 175 98 93 122 138 112 l 186 94 b 279 51 210 86 255 65 b 285 47 280 51 283 48 b 319 27 291 44 311 31 l 326 22 b 359 0 332 19 352 4 l 367 -6 b 371 -9 368 -6 370 -8 l 379 -15 b 387 -22 383 -18 386 -20 l 398 -30 l 411 -40 l 417 -47 l 427 -55 l 434 -61 b 441 -66 436 -62 439 -65 l 446 -72 l 453 -77 l 462 -87 b 558 -188 490 -113 549 -176 b 559 -195 559 -191 559 -194 b 548 -205 559 -201 555 -205 b 541 -204 547 -205 544 -205 b 534 -198 539 -201 536 -199 l 525 -191 b 481 -162 518 -187 490 -167 b 472 -155 477 -159 472 -156 b 468 -152 470 -155 469 -154 b 461 -149 466 -152 464 -151 b 428 -130 454 -145 441 -137 b 371 -99 413 -122 372 -99 b 363 -95 371 -99 367 -98 b 353 -91 357 -94 353 -91 b 348 -90 353 -91 352 -91 b 332 -81 343 -87 341 -86 b 27 -12 230 -37 127 -13 b 0 -5 4 -11 2 -11 b 0 58 0 -2 0 27 b 0 122 0 88 0 120 b 5 127 1 124 4 126 "},v11:{x_min:-155.171875,x_max:153.8125,ha:157,o:"m -137 353 b -130 353 -136 353 -133 353 b -112 349 -125 353 -119 352 b -100 342 -110 347 -104 344 b 0 317 -69 326 -35 317 b 111 349 38 317 76 328 b 129 353 117 352 123 353 b 153 327 142 353 153 344 b 144 302 153 320 153 317 b 27 6 93 226 50 113 b 21 -13 24 -11 24 -11 b 0 -26 17 -22 8 -26 b -24 -12 -9 -26 -19 -22 b -28 5 -24 -9 -27 -2 b -145 302 -53 117 -95 224 b -155 327 -155 317 -155 320 b -137 353 -155 340 -148 349 "},v18:{x_min:0,x_max:323.9375,ha:331,o:"m 217 535 b 225 537 220 537 221 537 b 245 524 235 537 242 533 l 246 521 l 247 390 l 247 258 l 273 265 b 306 270 288 269 299 270 b 322 259 315 270 319 267 b 323 208 323 256 323 233 b 322 158 323 184 323 159 b 288 140 318 148 315 147 b 247 130 254 131 247 130 b 247 65 247 130 247 104 b 247 20 247 51 247 36 l 247 -88 l 273 -81 b 306 -76 289 -77 299 -76 b 318 -81 311 -76 315 -77 b 323 -123 323 -87 323 -86 l 323 -138 l 323 -154 b 318 -195 323 -191 323 -190 b 269 -210 314 -199 315 -199 b 249 -216 259 -213 250 -216 l 247 -216 l 247 -349 l 246 -483 l 245 -487 b 225 -499 242 -495 234 -499 b 206 -487 219 -499 210 -495 l 205 -483 l 205 -355 l 205 -227 l 204 -227 l 181 -233 l 138 -244 b 117 -249 127 -247 117 -249 b 115 -385 115 -249 115 -256 l 115 -523 l 114 -526 b 95 -538 110 -534 102 -538 b 74 -526 87 -538 78 -534 l 73 -523 l 73 -391 b 72 -260 73 -269 73 -260 b 72 -260 72 -260 72 -260 b 19 -273 61 -263 23 -273 b 0 -260 10 -273 4 -267 b 0 -209 0 -256 0 -256 l 0 -162 l 1 -158 b 61 -134 5 -148 5 -148 l 73 -131 l 73 -22 b 72 86 73 79 73 86 b 72 86 72 86 72 86 b 19 74 61 83 23 74 b 0 86 10 74 4 79 b 0 137 0 90 0 90 l 0 184 l 1 188 b 61 212 5 198 5 198 l 73 215 l 73 348 l 73 481 l 74 485 b 95 498 78 492 87 498 b 103 495 98 498 100 496 b 114 485 107 494 111 489 l 115 481 l 115 353 l 115 226 l 121 226 b 159 235 123 227 141 231 l 198 247 l 205 248 l 205 384 l 205 521 l 206 524 b 217 535 209 528 212 533 m 205 9 b 205 119 205 70 205 119 l 205 119 b 182 113 204 119 194 116 l 138 102 b 117 97 127 99 117 97 b 115 -12 115 97 115 91 l 115 -122 l 121 -120 b 159 -111 123 -119 141 -115 l 198 -101 l 205 -98 l 205 9 "},v1b:{x_min:0,x_max:559.421875,ha:571,o:"m 544 204 b 548 204 545 204 547 204 b 559 194 555 204 559 199 b 559 190 559 192 559 191 b 530 156 559 188 556 184 b 462 86 510 134 481 104 b 453 76 458 81 454 77 l 446 70 l 441 65 b 434 59 439 63 436 61 l 427 54 b 409 37 426 51 416 44 b 392 23 398 29 394 26 b 387 19 389 22 387 20 b 379 13 386 19 383 16 l 371 8 l 367 5 l 359 -1 l 337 -16 b 285 -48 319 -29 298 -41 l 279 -52 b 186 -95 255 -66 210 -87 l 175 -99 b 23 -129 127 -117 68 -129 b 17 -129 20 -129 19 -129 b 1 -123 2 -129 2 -129 b 0 -49 0 -122 0 -83 b 0 4 0 -22 0 1 b 27 11 2 9 4 9 b 185 31 78 12 145 20 b 198 34 186 31 193 33 b 314 73 234 44 277 58 b 349 88 328 79 340 84 b 353 90 352 90 353 90 b 363 94 353 90 357 93 b 371 98 367 97 371 98 b 428 129 372 98 413 120 b 461 148 441 136 454 144 b 468 151 464 149 466 151 b 472 154 469 152 470 154 b 481 161 473 155 477 158 b 525 190 490 166 518 186 l 534 197 b 540 201 536 198 539 199 b 544 204 541 202 544 204 "},v1d:{x_min:0,x_max:619.3125,ha:632,o:"m 274 184 b 307 186 285 186 296 186 b 616 22 465 186 597 116 b 619 -1 617 13 619 5 b 308 -187 619 -104 483 -187 b 0 -1 133 -187 0 -102 b 5 36 0 11 1 23 b 274 184 29 115 141 176 m 289 161 b 272 162 284 162 277 162 b 171 41 209 162 171 108 b 205 -73 171 5 182 -34 b 345 -163 243 -133 298 -163 b 436 -98 385 -163 420 -142 b 446 -43 443 -80 446 -62 b 289 161 446 47 377 147 "},v1e:{x_min:-402.890625,x_max:401.53125,ha:410,o:"m -219 173 b -213 174 -217 174 -215 174 b -202 173 -209 174 -205 173 b -114 86 -200 172 -179 151 b -28 0 -66 37 -28 0 b 40 84 -28 0 2 37 b 117 174 111 173 110 172 b 122 174 118 174 119 174 b 132 173 125 174 129 173 b 295 11 134 172 171 134 l 307 -1 l 336 34 b 374 76 366 72 368 74 b 381 77 375 77 378 77 b 401 56 392 77 401 68 b 400 48 401 54 401 51 b 223 -172 397 41 230 -166 b 210 -176 220 -174 215 -176 b 201 -174 206 -176 204 -176 b 112 -87 198 -173 178 -152 b 27 0 65 -38 27 0 b -42 -86 27 0 -4 -38 b -118 -174 -112 -174 -111 -173 b -123 -176 -119 -176 -121 -176 b -133 -174 -126 -176 -130 -174 b -296 -12 -136 -173 -172 -137 l -308 0 l -337 -34 b -375 -77 -367 -73 -370 -76 b -382 -79 -377 -79 -379 -79 b -402 -58 -393 -79 -402 -69 b -401 -49 -402 -55 -402 -52 b -224 172 -398 -43 -228 167 b -219 173 -223 172 -220 173 "},v1f:{x_min:-340.28125,x_max:338.921875,ha:346,o:"m -32 520 b -29 521 -31 520 -31 521 b -23 519 -27 521 -24 520 b -20 513 -21 517 -20 516 b -21 506 -20 512 -20 509 b -31 474 -23 502 -27 488 l -53 402 l -66 352 l -68 349 l -57 349 b -32 351 -51 349 -40 351 b 123 370 19 352 74 359 b 137 371 127 370 133 371 b 170 356 152 371 164 366 b 171 355 170 355 170 355 b 216 366 174 355 183 358 b 280 378 268 377 266 377 b 287 378 283 378 284 378 b 332 349 307 378 322 369 b 338 319 336 341 338 330 b 332 301 338 310 336 302 b 242 280 329 299 246 280 b 242 280 242 280 242 280 b 235 288 236 280 235 283 b 235 292 235 290 235 291 b 236 302 236 297 236 299 b 220 337 236 316 230 330 l 216 340 l 210 335 b 159 276 189 322 172 301 b 118 149 152 265 156 274 b 81 34 84 36 85 36 b -8 13 78 33 -4 13 b -8 13 -8 13 -8 13 b -14 20 -12 15 -14 15 b -8 44 -14 24 -12 31 b -2 66 -5 55 -2 65 b -2 66 -2 66 -2 66 l -2 66 b -43 41 -2 66 -21 55 b -114 4 -98 8 -98 8 b -144 0 -123 0 -134 0 b -242 99 -197 0 -242 43 b -242 109 -242 102 -242 105 b -212 219 -240 122 -242 116 b -185 312 -197 270 -185 312 l -185 312 b -189 312 -185 312 -186 312 b -259 312 -200 312 -227 312 b -321 310 -291 312 -310 310 b -334 312 -330 310 -334 312 b -340 319 -338 313 -340 316 b -336 326 -340 322 -338 324 b -291 337 -334 326 -314 331 l -247 347 l -210 348 b -172 348 -190 348 -172 348 b -168 363 -172 348 -171 355 b -145 442 -151 424 -145 441 b -133 452 -144 444 -140 446 l -77 489 b -32 520 -53 506 -32 520 m 57 334 b 53 335 55 335 54 335 b 44 334 50 335 49 335 b -70 316 8 326 -28 320 b -78 309 -78 316 -78 316 b -108 202 -80 305 -88 274 b -141 81 -136 112 -141 93 b -140 74 -141 79 -141 77 b -117 49 -137 59 -127 49 b -107 52 -114 49 -110 51 b 16 127 -106 54 14 126 b 42 217 16 127 42 215 b 49 241 42 222 44 229 b 73 320 53 251 73 317 b 57 334 73 327 65 333 "},v20:{x_min:-571.671875,x_max:570.3125,ha:582,o:"m -559 351 b -551 352 -556 352 -553 352 b -530 338 -543 352 -533 348 b -529 169 -530 337 -529 291 l -529 1 l -507 27 l -441 112 b -382 174 -394 169 -390 174 b -378 174 -381 174 -379 174 b -281 86 -370 174 -375 179 b -196 0 -234 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 53 86 -32 172 -12 151 b 138 0 100 37 138 0 b 208 84 140 0 170 37 b 284 174 279 173 279 172 b 289 174 285 174 288 174 b 300 173 294 174 298 173 b 462 11 303 172 340 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 375 -176 371 -176 b 280 -87 367 -173 347 -152 b 194 0 234 -38 194 0 b 126 -86 194 0 163 -38 b 49 -174 54 -174 55 -173 b 44 -176 47 -176 46 -176 b 34 -174 40 -176 36 -174 b -54 -87 31 -173 10 -152 b -140 0 -102 -38 -140 0 b -209 -86 -140 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -288 -176 b -300 -174 -294 -176 -298 -174 b -464 -11 -303 -173 -374 -102 l -476 0 l -506 -37 b -539 -76 -528 -65 -537 -74 b -551 -80 -543 -79 -547 -80 b -570 -68 -558 -80 -566 -76 l -571 -65 l -571 136 b -570 340 -571 331 -571 337 b -559 351 -568 344 -564 348 "},v22:{x_min:0,x_max:432.828125,ha:442,o:"m 209 186 b 213 187 210 187 212 187 b 216 187 215 187 216 187 b 224 174 216 186 220 180 b 420 -1 269 105 338 43 b 432 -12 431 -8 432 -9 b 421 -23 432 -15 432 -16 b 228 -180 345 -70 264 -137 b 219 -188 221 -188 221 -188 l 219 -188 b 208 -177 215 -188 215 -188 b 10 1 163 -106 93 -44 b 0 11 0 6 0 8 b 10 22 0 13 0 15 b 202 179 87 69 167 136 b 209 186 206 183 209 186 "},v23:{x_min:0,x_max:133.390625,ha:136,o:"m 54 66 b 65 68 58 68 61 68 b 122 37 88 68 110 56 b 133 -1 130 26 133 12 b 104 -58 133 -23 123 -44 b 66 -69 92 -65 78 -69 b 10 -38 44 -69 23 -58 b 0 -1 2 -27 0 -13 b 54 66 0 30 20 61 "},v25:{x_min:0,x_max:318.5,ha:325,o:"m 20 376 b 167 377 23 377 96 377 b 296 376 231 377 294 377 b 318 347 311 371 318 359 b 296 316 318 333 311 320 b 159 315 294 315 227 315 b 21 316 91 315 24 315 b 0 345 6 320 0 333 b 20 376 0 359 6 371 "},v26:{x_min:-21.78125,x_max:483.1875,ha:493,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 179 164 199 187 192 l 210 176 l 210 396 l 210 617 l 212 621 b 231 632 216 628 223 632 b 250 620 239 632 247 628 b 251 383 251 616 251 616 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 "},v27:{x_min:0,x_max:432.828125,ha:442,o:"m 208 184 b 213 187 209 186 212 187 b 224 176 217 187 221 183 b 245 147 225 172 235 159 b 419 -1 288 90 347 38 b 431 -8 424 -4 431 -8 b 432 -12 432 -9 432 -11 b 430 -18 432 -13 432 -16 b 364 -61 424 -20 383 -47 b 225 -183 307 -102 250 -152 b 223 -187 224 -184 223 -187 b 220 -188 221 -188 220 -188 b 208 -176 216 -188 210 -184 b 187 -148 205 -173 197 -159 b 12 0 144 -90 84 -38 b 0 11 4 5 0 8 b 16 24 0 13 4 18 b 183 158 83 69 141 115 b 208 184 194 169 198 173 m 183 105 b 176 113 181 109 176 113 b 172 109 176 113 175 112 b 92 45 149 90 117 62 l 88 41 l 102 31 b 247 -105 160 -6 210 -55 l 254 -115 l 257 -112 l 269 -102 b 340 -45 287 -87 319 -61 l 344 -43 l 330 -33 b 183 105 272 6 221 54 "},v28:{x_min:-73.5,x_max:72.140625,ha:74,o:"m -72 252 l -73 254 l 0 254 l 72 254 l 70 252 b 0 -1 70 248 0 -1 b -72 252 -1 -1 -72 248 "},v29:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m 175 273 b 182 274 178 273 181 274 b 202 262 190 274 198 269 b 204 158 204 259 204 259 l 204 56 l 250 112 b 303 174 296 172 298 172 b 308 174 304 174 307 174 b 318 173 313 174 317 173 b 481 11 322 172 357 134 l 494 -1 l 522 34 b 560 76 553 72 555 74 b 567 77 563 77 564 77 b 589 56 579 77 589 68 b 586 48 589 54 588 51 b 411 -172 583 41 416 -166 b 397 -176 406 -174 401 -176 b 387 -174 393 -176 390 -176 b 299 -87 386 -173 366 -152 b 213 0 253 -38 213 0 b 208 -6 213 0 210 -2 l 204 -12 l 204 -147 b 204 -210 204 -173 204 -194 b 198 -292 204 -297 204 -287 b 183 -299 194 -297 189 -299 b 164 -287 175 -299 167 -295 b 163 -174 163 -284 163 -284 l 161 -63 l 119 -117 b 65 -176 76 -170 73 -176 b 61 -176 63 -176 62 -176 b -35 -87 51 -174 57 -180 b -121 0 -83 -38 -121 0 b -190 -86 -122 0 -152 -38 b -266 -174 -261 -174 -259 -173 b -272 -176 -268 -176 -270 -176 b -281 -174 -276 -176 -280 -174 b -371 -86 -284 -173 -304 -152 b -457 0 -417 -38 -457 0 l -457 0 b -477 -26 -457 0 -470 -16 b -548 -227 -524 -88 -548 -161 b -536 -303 -548 -254 -544 -280 b -533 -317 -534 -309 -533 -313 b -553 -338 -533 -330 -541 -338 b -577 -315 -566 -338 -571 -333 b -590 -227 -586 -287 -590 -258 b -518 -9 -590 -154 -564 -77 b -465 56 -509 2 -504 8 l -402 134 b -363 174 -374 170 -371 174 b -359 174 -362 174 -360 174 b -262 86 -351 174 -356 179 b -176 0 -216 37 -176 0 b -107 84 -176 0 -145 37 b -31 174 -36 173 -38 172 b -25 174 -29 174 -28 174 b -16 173 -23 174 -19 173 b 147 11 -13 172 35 123 l 157 -1 l 160 1 l 163 4 l 163 130 b 164 260 163 256 163 258 b 175 273 166 266 170 270 "},v2a:{x_min:-21.78125,x_max:366.140625,ha:374,o:"m 276 1378 b 284 1379 279 1379 281 1379 b 306 1360 292 1379 298 1374 b 352 1247 326 1326 343 1286 b 366 1139 362 1213 366 1175 b 347 1009 366 1093 359 1049 l 344 1002 l 347 992 b 352 971 348 986 351 977 b 366 863 362 936 366 899 b 347 732 366 818 359 773 l 344 725 l 347 716 b 352 695 348 710 351 700 b 366 588 362 659 366 623 b 223 262 366 464 314 345 b 189 233 212 252 212 252 b 35 76 126 183 73 129 b -1 16 20 56 2 27 b -19 4 -4 9 -12 4 l -21 4 l -21 137 l -21 270 l -17 270 b 186 344 59 281 134 308 b 319 606 270 399 319 499 b 317 650 319 620 319 635 l 315 659 l 314 655 b 223 537 288 607 258 570 b 189 509 212 528 212 528 b 35 352 126 459 73 405 b -1 292 20 333 2 303 b -19 280 -4 285 -12 280 l -21 280 l -21 413 l -21 546 l -17 546 b 186 620 59 557 134 584 b 319 882 270 675 319 775 b 317 925 319 896 319 911 l 315 935 l 314 931 b 223 813 288 884 258 846 b 189 785 212 805 212 805 b 35 628 126 735 73 681 b -1 569 20 609 2 580 b -19 556 -4 562 -12 556 l -21 556 l -21 689 l -21 823 l -17 823 b 202 907 68 835 152 867 b 319 1157 280 968 319 1061 b 270 1338 319 1218 303 1281 b 262 1358 264 1349 262 1353 b 262 1364 262 1360 262 1363 b 276 1378 265 1371 269 1376 "},v2c:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -413 173 b -408 174 -412 174 -409 174 b -397 173 -404 174 -400 173 b -308 86 -394 172 -374 151 b -223 0 -261 37 -223 0 b -153 84 -223 0 -191 37 b -77 174 -83 173 -84 172 b -72 174 -76 174 -74 174 b -62 173 -68 174 -63 173 b 25 86 -59 172 -39 151 b 112 0 73 37 111 0 b 181 84 112 0 144 37 b 257 174 251 173 251 172 b 262 174 258 174 261 174 b 273 173 266 174 270 173 b 436 9 276 172 347 101 l 447 -1 l 477 36 b 522 79 511 79 513 79 l 522 79 b 552 51 533 79 539 73 b 596 -112 582 6 596 -51 b 567 -262 596 -161 586 -213 b 539 -322 558 -287 544 -316 b 524 -327 534 -326 529 -327 b 504 -315 515 -327 507 -323 b 503 -308 503 -312 503 -309 b 511 -285 503 -302 504 -297 b 555 -113 540 -227 555 -169 b 544 -34 555 -86 551 -59 b 522 19 540 -16 530 8 l 521 22 l 481 -26 l 405 -122 b 353 -176 366 -172 362 -176 b 349 -176 352 -176 351 -176 b 253 -87 341 -176 347 -180 b 167 0 206 -38 167 0 b 99 -86 167 0 136 -38 b 21 -174 27 -174 28 -173 b 17 -176 20 -176 19 -176 b 6 -174 13 -176 9 -174 b -81 -87 4 -173 -14 -152 b -167 0 -129 -38 -167 0 b -236 -86 -167 0 -198 -38 b -313 -174 -307 -174 -306 -173 b -318 -176 -314 -176 -315 -176 b -328 -174 -321 -176 -325 -174 b -491 -12 -330 -173 -367 -137 l -503 0 l -530 -34 b -570 -77 -562 -73 -564 -76 b -577 -79 -571 -79 -574 -79 b -597 -58 -588 -79 -597 -69 b -596 -49 -597 -55 -597 -52 b -417 172 -593 -43 -423 167 b -413 173 -417 172 -415 173 "},v2d:{x_min:0,x_max:438.28125,ha:447,o:"m 212 190 b 219 191 213 191 216 191 b 236 176 225 191 228 190 b 419 18 277 105 341 49 b 436 5 431 13 434 11 b 438 -1 438 4 438 1 b 424 -16 438 -8 432 -13 b 356 -49 409 -20 379 -36 b 234 -180 306 -83 258 -133 b 219 -192 230 -188 224 -192 b 200 -176 213 -192 206 -187 b 9 -15 157 -102 89 -45 b 0 0 2 -12 0 -6 b 16 18 0 9 2 12 b 200 176 93 48 159 104 b 212 190 205 186 208 188 m 239 113 b 236 117 238 116 238 117 b 230 108 235 117 234 115 b 92 -15 196 58 140 8 b 88 -18 91 -16 88 -18 b 92 -20 88 -18 91 -19 b 198 -116 130 -43 166 -74 b 200 -117 200 -117 200 -117 b 201 -117 200 -117 201 -117 b 264 -43 212 -98 242 -62 b 345 15 288 -19 321 4 b 348 18 347 16 348 16 b 344 20 348 18 347 19 b 239 113 307 41 266 79 "},v2f:{x_min:-1.359375,x_max:680.5625,ha:694,o:"m 597 1042 b 604 1042 600 1042 602 1042 b 642 1002 627 1042 642 1022 b 619 966 642 988 635 974 b 439 927 574 942 503 927 l 426 927 l 426 921 b 430 838 428 893 430 866 b 345 480 430 696 398 560 b 179 391 307 423 249 391 b 156 392 171 391 164 392 b 138 394 149 394 142 394 b 103 434 115 396 103 416 b 129 471 103 451 111 466 b 141 474 133 473 137 474 b 172 459 153 474 164 469 b 181 455 175 456 176 455 b 187 456 182 455 185 455 b 253 520 212 460 234 483 b 315 836 294 605 315 714 b 311 928 315 867 314 898 b 302 945 310 943 311 942 b 245 953 283 950 262 953 b 130 891 193 953 149 931 b 84 860 119 870 102 860 b 36 905 61 860 39 877 b 36 910 36 907 36 909 b 80 970 36 931 50 949 b 249 1017 125 1000 187 1017 b 322 1009 273 1017 299 1014 l 341 1003 b 436 991 372 995 406 991 b 577 1031 495 991 545 1004 b 597 1042 583 1038 590 1041 m 416 360 b 424 360 419 360 421 360 b 481 309 454 360 479 338 b 503 145 484 280 495 199 b 585 -185 525 16 555 -106 b 630 -245 596 -213 613 -237 l 634 -247 l 638 -245 b 647 -244 641 -245 645 -244 b 680 -278 666 -244 680 -262 b 664 -308 680 -290 675 -301 b 638 -312 658 -310 650 -312 b 613 -309 631 -312 623 -310 b 477 -201 555 -303 502 -260 b 417 -2 460 -159 434 -72 b 416 5 417 1 416 5 b 416 5 416 5 416 5 b 411 -5 415 5 413 0 b 359 -97 397 -33 377 -70 b 353 -106 355 -102 353 -105 b 359 -112 353 -108 355 -109 b 409 -130 375 -123 390 -129 b 426 -134 420 -130 421 -131 b 431 -147 428 -137 431 -141 b 420 -162 431 -152 427 -159 b 382 -169 409 -166 396 -169 b 323 -155 363 -169 341 -165 l 317 -152 l 314 -155 b 62 -303 240 -240 148 -295 b 36 -305 55 -305 44 -305 b 23 -303 29 -305 24 -305 b -1 -273 6 -299 -1 -287 b 31 -240 -1 -256 10 -240 b 36 -240 32 -240 34 -240 b 42 -241 38 -241 39 -241 b 134 -204 63 -241 99 -226 b 367 288 265 -115 357 81 b 375 330 368 313 370 320 b 416 360 383 347 400 358 m 360 -359 b 379 -359 363 -359 371 -359 b 424 -360 396 -359 416 -359 b 646 -502 536 -373 624 -430 b 649 -527 649 -510 649 -519 b 530 -673 649 -578 604 -635 l 521 -677 l 529 -681 b 653 -811 592 -714 637 -762 b 660 -853 658 -827 660 -839 b 645 -911 660 -873 656 -892 b 426 -1021 608 -981 519 -1021 b 283 -989 377 -1021 328 -1011 b 235 -949 249 -972 239 -964 b 234 -936 234 -946 234 -941 b 234 -928 234 -934 234 -931 l 235 -925 l 234 -927 l 225 -934 b 87 -982 186 -966 138 -982 b 80 -982 85 -982 83 -982 b 55 -981 70 -981 58 -981 b 17 -943 32 -981 17 -964 b 54 -904 17 -921 35 -904 b 78 -914 62 -904 72 -909 l 83 -918 l 88 -918 b 190 -831 122 -918 166 -881 b 269 -506 242 -727 269 -612 b 268 -462 269 -492 269 -477 b 266 -449 266 -458 266 -452 b 265 -444 266 -445 266 -444 b 257 -446 264 -444 261 -445 b 132 -545 196 -470 152 -505 b 88 -573 122 -563 104 -573 b 39 -523 63 -573 39 -553 b 63 -476 39 -505 44 -494 b 360 -359 136 -408 235 -369 m 419 -424 b 393 -423 411 -423 406 -423 l 375 -423 l 377 -426 b 379 -439 377 -427 378 -434 b 383 -510 382 -463 383 -487 b 314 -811 383 -609 360 -710 b 266 -893 296 -850 285 -870 b 264 -898 265 -896 264 -898 l 264 -898 b 264 -898 264 -898 264 -898 b 268 -898 264 -898 266 -898 b 273 -898 270 -898 272 -898 b 300 -909 283 -898 291 -900 b 426 -957 340 -941 385 -957 b 476 -949 443 -957 460 -954 b 547 -853 522 -931 547 -893 b 485 -745 547 -816 526 -775 b 397 -707 460 -727 432 -714 b 366 -675 375 -703 366 -692 b 396 -642 366 -657 377 -645 b 530 -557 455 -637 511 -601 b 536 -527 534 -548 536 -537 b 419 -424 536 -480 490 -437 "},v30:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 276 1900 b 284 1901 279 1900 281 1901 b 306 1883 291 1901 298 1896 b 367 1686 347 1825 367 1757 b 343 1558 367 1643 359 1600 l 338 1549 l 343 1537 b 367 1411 359 1497 367 1454 b 343 1282 367 1367 359 1324 l 338 1272 l 343 1261 b 367 1135 359 1221 367 1178 b 343 1007 367 1090 359 1047 l 338 996 l 343 985 b 367 859 359 945 367 902 b 343 731 367 814 359 771 l 338 720 l 343 709 b 367 582 359 667 367 626 b 289 362 367 503 340 426 b 239 312 276 345 259 330 b 29 77 152 237 76 152 b -1 18 14 54 2 30 b -19 4 -4 11 -12 4 l -21 4 l -21 133 l -20 260 l -13 262 b 98 299 17 269 62 284 b 111 305 103 302 110 305 b 167 334 123 310 156 327 b 319 595 264 391 319 491 b 313 659 319 616 318 638 b 310 667 311 664 311 667 b 307 663 310 667 308 666 b 240 588 289 637 269 614 b 16 331 141 505 62 413 b -1 294 8 316 1 302 b -19 280 -4 287 -12 280 l -21 280 l -21 408 l -20 537 l -13 538 b 98 576 17 545 62 560 b 111 581 103 578 110 581 b 167 610 123 587 156 603 b 319 871 264 667 319 767 b 313 935 319 892 318 913 b 310 942 311 941 311 942 b 307 939 310 942 308 941 b 240 864 289 913 269 889 b 16 607 141 781 62 689 b -1 570 8 592 1 578 b -19 556 -4 563 -12 556 l -21 556 l -21 684 l -20 813 l -13 814 b 98 852 17 821 62 836 b 111 857 103 855 110 857 b 167 886 123 863 156 880 b 319 1147 264 943 319 1043 b 313 1211 319 1168 318 1189 b 310 1218 311 1217 311 1218 b 307 1215 310 1218 308 1217 b 240 1140 289 1188 269 1165 b 16 884 141 1057 62 966 b -1 846 8 868 1 855 b -19 832 -4 839 -12 832 l -21 832 l -21 960 l -20 1089 l -13 1090 b 98 1128 17 1097 62 1111 b 111 1134 103 1131 110 1134 b 167 1163 123 1139 156 1156 b 319 1424 264 1220 319 1320 b 313 1486 319 1444 318 1465 b 310 1494 311 1493 311 1494 b 307 1492 310 1494 308 1493 b 240 1417 289 1464 269 1442 b 16 1160 141 1333 62 1242 b -1 1121 8 1145 1 1131 b -19 1109 -4 1115 -12 1109 l -21 1109 l -21 1236 l -20 1365 l -13 1367 b 98 1404 17 1374 62 1388 b 111 1410 103 1407 110 1410 b 250 1508 172 1437 215 1467 b 319 1701 296 1564 319 1633 b 270 1859 319 1757 303 1814 b 262 1882 265 1868 262 1875 b 276 1900 262 1890 266 1896 "},v31:{x_min:0,x_max:386.5625,ha:394,o:"m 0 173 l 0 347 l 193 347 l 386 347 l 386 173 l 386 0 l 193 0 l 0 0 l 0 173 "},v33:{x_min:-423.3125,x_max:421.9375,ha:431,o:"m -10 276 b -2 277 -8 277 -5 277 b 17 265 5 277 13 273 b 19 163 19 260 19 260 l 19 68 l 39 45 b 277 -95 122 -34 200 -81 b 289 -97 281 -97 285 -97 b 378 0 332 -97 371 -54 b 378 11 378 4 378 6 b 302 83 378 55 345 83 b 242 66 283 83 262 77 b 208 56 231 59 219 56 b 148 120 175 56 148 81 b 200 186 148 151 164 172 b 261 198 220 194 240 198 b 420 45 341 198 411 137 b 421 22 421 37 421 29 b 257 -198 421 -86 347 -188 b 242 -198 251 -198 247 -198 b 20 -105 181 -198 95 -163 l 19 -104 l 19 -183 b 19 -216 19 -195 19 -206 b 12 -273 19 -272 17 -267 b -2 -278 8 -277 2 -278 b -21 -266 -10 -278 -19 -274 b -23 -165 -23 -263 -23 -262 l -23 -69 l -44 -47 b -250 86 -117 23 -183 66 b -295 94 -270 93 -284 94 b -315 91 -302 94 -308 94 b -381 5 -356 81 -381 43 b -355 -56 -381 -16 -372 -40 b -299 -81 -338 -73 -319 -81 b -246 -68 -283 -81 -265 -77 b -212 -58 -234 -61 -223 -58 b -168 -77 -196 -58 -179 -65 b -151 -122 -156 -90 -151 -105 b -179 -174 -151 -141 -160 -162 b -239 -195 -194 -184 -217 -192 b -257 -197 -245 -195 -250 -197 b -423 -5 -349 -197 -423 -113 b -423 0 -423 -4 -423 -1 b -277 194 -420 97 -362 173 b -247 197 -268 197 -258 197 b -24 104 -185 197 -100 162 l -23 102 l -23 181 b -21 265 -23 260 -23 260 b -10 276 -20 269 -14 274 "},v34:{x_min:0,x_max:622.03125,ha:635,o:"m 398 417 b 406 419 401 419 404 419 b 427 398 417 419 427 409 b 427 391 427 395 427 392 b 34 -274 424 385 38 -272 b 20 -280 29 -278 25 -280 b 0 -259 9 -280 0 -270 b 0 -252 0 -256 0 -254 b 393 413 2 -247 389 410 b 398 417 394 415 397 416 m 592 417 b 600 419 594 419 597 419 b 622 398 611 419 622 409 b 620 391 622 395 620 392 b 227 -274 617 385 231 -272 b 213 -280 223 -278 219 -280 b 193 -259 202 -280 193 -270 b 194 -252 193 -256 193 -254 b 586 413 196 -247 582 410 b 592 417 588 415 590 416 "},v36:{x_min:-1.359375,x_max:1064.390625,ha:1086,o:"m 296 692 b 314 694 302 694 307 694 b 386 685 337 694 366 689 b 548 498 480 660 548 580 b 548 481 548 492 548 487 b 455 395 541 426 499 395 b 370 462 420 395 383 417 b 362 496 364 477 362 488 b 377 514 362 509 367 514 b 393 501 386 514 390 510 b 432 474 397 484 413 474 b 470 487 445 474 458 478 b 491 530 484 496 491 510 b 490 544 491 534 491 539 b 333 660 479 606 411 657 l 323 662 l 315 646 b 269 524 285 591 269 556 b 321 431 269 492 287 466 b 349 395 338 413 343 408 b 363 342 359 378 363 362 b 359 312 363 333 362 322 b 285 158 348 266 318 206 b 281 152 283 155 281 152 b 281 152 281 152 281 152 b 287 154 283 152 284 152 b 318 155 298 154 308 155 b 461 98 371 155 419 136 l 464 97 l 483 112 b 503 129 494 120 503 127 b 504 130 503 129 504 129 b 503 138 504 131 503 134 b 500 180 500 152 500 166 b 553 326 500 238 518 288 b 604 366 560 331 592 358 b 649 381 617 376 632 381 b 696 362 665 381 681 374 b 724 302 714 347 724 324 b 695 238 724 278 714 255 b 660 210 691 234 662 212 b 579 148 658 209 582 151 b 579 148 579 148 579 148 b 596 106 579 144 589 119 b 622 77 604 88 609 83 b 657 69 632 72 645 69 b 748 112 688 69 721 84 b 755 123 754 117 755 120 b 755 127 755 124 755 126 b 751 165 752 137 751 151 b 758 219 751 183 754 202 b 894 387 774 290 820 347 b 896 390 896 388 896 388 b 891 398 896 391 895 392 b 622 560 827 477 730 535 b 600 580 605 564 600 569 b 617 596 600 591 607 596 b 628 595 622 596 624 596 b 1057 248 846 552 1020 412 b 1064 191 1061 229 1064 209 b 922 0 1064 94 1005 9 b 902 -1 916 -1 909 -1 b 774 76 847 -1 800 26 b 769 83 770 81 770 83 b 769 81 769 83 769 83 b 627 -1 733 29 677 -1 b 548 27 597 -1 570 8 b 515 88 537 37 525 61 l 513 95 l 510 93 l 453 45 b 390 0 396 0 396 0 b 390 0 390 0 390 0 b 374 15 381 0 377 4 b 268 105 359 69 314 105 b 250 104 262 105 257 105 l 243 102 l 234 90 b 155 1 201 49 159 2 b 147 -1 152 0 149 -1 b 130 15 138 -1 130 6 b 132 20 130 18 132 19 b 136 31 133 22 134 27 b 220 131 149 74 178 109 b 231 137 225 134 230 136 b 302 278 280 202 302 244 b 265 335 302 299 295 309 b 209 442 234 363 213 402 b 209 455 209 446 209 451 b 279 648 209 502 232 564 l 285 659 l 283 659 b 176 627 238 653 210 645 b 57 477 111 594 66 538 b 55 459 55 471 55 464 b 72 409 55 437 61 415 b 93 403 78 405 87 403 b 152 467 123 403 151 431 b 168 488 153 483 157 488 b 185 462 181 488 185 483 l 185 460 b 137 344 183 409 168 369 b 78 322 119 328 98 322 b 13 360 50 322 25 335 b -1 426 4 380 -1 402 b 89 610 -1 488 32 559 b 296 692 147 659 210 685 m 926 348 b 921 353 924 351 922 353 b 914 348 920 353 918 351 b 823 167 857 306 823 237 b 828 124 823 154 826 138 b 890 31 837 79 862 40 b 896 31 892 31 894 31 b 956 104 916 31 940 59 b 970 191 965 129 970 159 b 966 241 970 208 969 224 b 926 348 959 277 945 313 m 627 326 b 619 326 624 326 622 326 b 598 316 611 326 604 323 b 568 215 579 288 568 255 b 568 208 568 213 568 210 b 571 183 570 195 570 184 l 571 183 b 594 201 571 183 582 191 l 634 231 b 660 259 653 247 656 248 b 664 278 662 266 664 272 b 627 326 664 299 649 320 "},v38:{x_min:-1.359375,x_max:651.96875,ha:665,o:"m 389 644 b 405 645 394 645 400 645 b 504 566 450 645 492 613 b 507 541 506 557 507 549 b 480 471 507 514 498 489 l 477 467 l 483 470 b 609 591 539 485 586 531 b 613 601 611 595 613 599 b 631 609 619 607 624 609 b 651 588 641 609 651 602 b 200 -946 651 584 204 -941 b 182 -957 197 -953 190 -957 b 163 -945 174 -957 166 -953 b 161 -939 161 -942 161 -942 b 217 -743 161 -931 170 -904 b 272 -555 247 -639 272 -555 b 272 -555 272 -555 272 -555 b 264 -560 272 -555 268 -557 b 140 -603 227 -589 182 -603 b 36 -567 102 -603 65 -592 b -1 -487 12 -548 -1 -517 b 17 -427 -1 -466 5 -445 b 103 -380 38 -395 70 -380 b 191 -433 137 -380 172 -398 b 205 -484 201 -448 205 -466 b 178 -553 205 -509 196 -535 l 175 -557 l 182 -555 b 307 -435 236 -539 284 -494 b 372 -213 308 -430 372 -215 b 372 -213 372 -213 372 -213 b 364 -219 372 -213 368 -216 b 240 -262 328 -247 283 -262 b 137 -226 202 -262 166 -249 b 99 -145 112 -206 99 -176 b 118 -84 99 -124 106 -104 b 204 -38 138 -54 171 -38 b 292 -91 238 -38 273 -56 b 306 -141 302 -106 306 -124 b 279 -212 306 -167 296 -194 l 276 -215 l 281 -213 b 408 -93 336 -198 385 -151 b 473 129 409 -88 473 127 b 473 129 473 129 473 129 b 465 122 473 129 469 126 b 341 80 428 94 383 80 b 236 115 303 80 266 91 b 200 195 213 136 200 165 b 217 256 200 217 206 238 b 304 303 239 287 272 303 b 393 249 338 303 374 285 b 406 199 402 234 406 217 b 379 129 406 173 397 148 l 377 126 l 382 127 b 509 248 436 142 485 190 b 574 470 510 254 574 469 b 574 470 574 470 574 470 b 566 464 574 470 570 467 b 442 421 529 435 484 421 b 337 458 404 421 367 433 b 300 537 313 478 300 508 b 389 644 300 585 334 635 "},v39:{x_min:-171.5,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 553 20 616 20 614 b 20 491 20 503 20 491 l 20 491 b 153 535 47 501 149 535 b 174 514 167 535 174 524 b 164 496 174 508 171 501 b 92 470 164 495 132 484 l 20 445 l 20 390 b 20 363 20 378 20 370 b 20 333 20 340 20 333 l 20 333 b 153 377 47 344 149 377 b 174 356 167 377 174 367 b 164 338 174 349 171 342 b 92 312 164 338 132 326 l 20 288 l 20 219 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 b -21 30 -21 -212 -21 -212 b -21 273 -21 163 -21 273 b -84 252 -21 273 -50 263 b -152 230 -133 234 -145 230 b -157 231 -155 230 -156 231 b -171 252 -166 234 -171 244 b -160 270 -171 259 -167 266 b -27 316 -159 270 -93 294 l -21 319 l -21 374 b -21 431 -21 406 -21 431 b -84 409 -21 431 -50 421 b -152 388 -133 392 -145 388 b -157 390 -155 388 -156 388 b -171 409 -166 392 -171 401 b -160 428 -171 417 -167 424 b -27 474 -159 428 -93 451 l -21 476 l -21 546 b -20 620 -21 614 -21 616 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},v3b:{x_min:0,x_max:484.5625,ha:494,o:"m 228 245 b 239 247 234 247 239 247 b 243 247 240 247 242 247 b 303 238 257 247 287 242 b 484 -2 417 208 484 104 b 412 -177 484 -65 461 -127 b 243 -248 363 -226 303 -248 b 6 -63 138 -248 36 -180 b 0 -1 1 -41 0 -20 b 228 245 0 127 98 240 m 255 181 b 240 183 247 183 245 183 b 232 181 238 183 235 183 b 142 152 200 180 168 170 l 138 149 l 190 97 l 242 44 l 294 97 l 345 149 l 340 152 b 255 181 315 169 284 180 m 147 -54 l 197 -1 l 147 51 l 95 104 l 91 99 b 62 -1 72 70 62 34 b 66 -43 62 -15 63 -29 b 91 -101 72 -63 80 -84 l 95 -106 l 147 -54 m 393 99 b 389 104 390 102 389 104 b 337 51 389 104 366 80 l 285 -1 l 337 -54 l 389 -106 l 393 -101 b 421 -1 412 -72 421 -36 b 393 99 421 34 412 69 m 294 -98 b 242 -45 265 -69 242 -45 b 190 -98 242 -45 219 -69 l 138 -151 l 142 -154 b 242 -184 172 -174 206 -184 b 340 -154 276 -184 311 -174 l 345 -151 l 294 -98 "},v3c:{x_min:0,x_max:450.53125,ha:460,o:"m 189 302 b 204 303 193 302 198 303 b 303 224 250 303 292 270 b 306 199 304 216 306 208 b 279 129 306 173 296 147 l 276 126 l 281 127 b 408 249 337 142 385 190 b 412 259 409 254 412 258 b 430 267 417 265 423 267 b 450 247 441 267 450 259 b 200 -605 450 242 204 -599 b 182 -616 197 -612 190 -616 b 163 -602 174 -616 166 -610 b 161 -598 161 -601 161 -601 b 217 -402 161 -589 170 -562 b 272 -213 247 -298 272 -213 b 272 -213 272 -213 272 -213 b 264 -219 272 -213 268 -216 b 140 -262 227 -247 182 -262 b 36 -226 102 -262 65 -249 b 0 -145 12 -206 0 -176 b 17 -84 0 -124 5 -104 b 103 -38 38 -54 70 -38 b 191 -91 137 -38 172 -56 b 205 -141 201 -106 205 -124 b 178 -212 205 -167 196 -194 l 175 -215 l 182 -213 b 307 -93 236 -198 284 -151 b 372 129 308 -88 372 127 b 372 129 372 129 372 129 b 364 122 372 129 368 126 b 240 80 328 94 283 80 b 137 115 202 80 166 91 b 99 194 111 136 99 165 b 189 302 99 244 133 292 "},v3e:{x_min:0,x_max:406.96875,ha:415,o:"m 21 183 b 28 183 24 183 25 183 b 42 181 34 183 39 183 b 127 108 47 179 47 179 b 202 41 168 72 202 41 b 279 108 204 41 238 72 b 357 177 321 145 356 176 b 375 183 363 181 370 183 b 406 151 392 183 406 169 b 404 137 406 147 405 141 b 322 62 401 131 398 129 b 251 0 284 27 251 0 b 322 -63 251 -1 284 -29 b 404 -138 398 -130 401 -133 b 406 -152 405 -142 406 -148 b 375 -184 406 -170 392 -184 b 357 -179 370 -184 363 -183 b 279 -109 356 -177 321 -147 b 202 -43 238 -73 204 -43 b 127 -109 202 -43 168 -73 b 49 -179 85 -147 50 -177 b 31 -184 43 -183 36 -184 b 0 -152 13 -184 0 -170 b 2 -138 0 -148 0 -142 b 83 -63 5 -133 8 -130 b 155 0 122 -29 155 -1 b 83 62 155 0 122 27 b 8 129 43 97 10 127 b 0 151 2 136 0 144 b 21 183 0 165 8 177 "},v3f:{x_min:-24.5,x_max:317.140625,ha:324,o:"m -24 -147 l -24 -5 l -20 -5 b -1 -19 -12 -5 -4 -11 b 58 -123 6 -43 31 -86 b 196 -278 93 -173 134 -219 b 317 -570 274 -356 317 -460 b 294 -713 317 -617 308 -666 l 289 -724 l 294 -735 b 317 -873 308 -780 317 -827 b 235 -1132 317 -963 288 -1054 b 209 -1165 228 -1140 224 -1146 b 189 -1177 204 -1172 196 -1177 b 171 -1164 182 -1177 175 -1172 b 168 -1154 170 -1161 168 -1159 b 181 -1132 168 -1149 172 -1142 b 269 -891 238 -1064 269 -975 b 269 -881 269 -886 269 -884 b 262 -814 269 -857 265 -827 b 258 -800 261 -811 259 -806 b 142 -628 240 -731 198 -667 b -8 -589 112 -606 47 -589 b -20 -589 -13 -589 -19 -589 l -24 -589 l -24 -449 l -24 -308 l -20 -308 b -1 -322 -12 -308 -4 -313 b 58 -424 6 -345 31 -388 b 194 -580 93 -476 136 -523 b 259 -660 221 -606 245 -635 b 261 -663 259 -662 261 -663 b 264 -656 262 -663 262 -660 b 269 -587 268 -632 269 -610 b 264 -521 269 -566 268 -544 b 262 -512 264 -517 262 -513 b 258 -498 261 -509 259 -503 b 142 -326 240 -428 198 -365 b -8 -287 112 -303 47 -288 b -20 -287 -13 -287 -19 -287 l -24 -287 l -24 -147 "},v40:{x_min:-1.359375,x_max:436.921875,ha:446,o:"m 213 205 b 217 205 215 205 216 205 b 234 194 224 205 234 199 b 236 187 234 194 235 190 l 245 167 l 261 129 l 270 106 b 355 -61 294 54 329 -13 b 420 -163 381 -105 402 -138 b 436 -188 435 -184 436 -184 b 436 -191 436 -190 436 -190 b 421 -206 436 -201 431 -206 l 421 -206 l 416 -206 l 405 -201 b 217 -158 347 -172 283 -158 b 31 -201 153 -158 88 -172 l 20 -206 l 14 -206 l 14 -206 b 0 -191 5 -206 0 -201 b -1 -188 0 -190 -1 -190 b 14 -163 -1 -186 0 -184 b 95 -34 36 -136 72 -77 b 166 106 119 8 148 68 l 175 129 l 183 148 l 200 188 b 213 205 205 199 208 202 "},v41:{x_min:-1.359375,x_max:556.6875,ha:568,o:"m 294 322 b 318 323 299 322 308 323 b 360 320 334 323 352 322 b 526 217 430 310 490 273 b 543 166 537 202 543 184 b 447 70 543 117 503 70 b 445 70 447 70 446 70 b 359 159 394 72 359 113 b 368 201 359 173 362 187 b 442 245 382 229 412 245 b 455 244 446 245 451 245 b 460 244 458 244 460 244 b 460 244 460 244 460 244 b 454 248 460 244 458 245 b 325 291 417 276 372 291 b 285 287 313 291 299 290 b 144 -2 183 269 144 190 b 281 -290 144 -208 179 -280 b 304 -291 289 -291 298 -291 b 524 -105 412 -291 506 -212 b 541 -84 526 -88 530 -84 b 556 -101 551 -84 556 -90 b 549 -138 556 -111 553 -122 b 334 -322 521 -237 435 -310 b 302 -324 323 -323 313 -324 b 13 -101 172 -324 54 -234 b -1 -1 4 -68 -1 -34 b 294 322 -1 161 121 303 "},v42:{x_min:-348.4375,x_max:24.5,ha:25,o:"m -330 155 b -322 156 -329 156 -326 156 b -315 156 -319 156 -317 156 b -298 147 -311 155 -308 154 b -19 30 -224 98 -122 55 l 2 26 b 24 -1 17 22 24 13 b 2 -27 24 -15 17 -23 l -19 -31 b -298 -148 -122 -56 -224 -99 b -322 -158 -313 -158 -315 -158 b -348 -131 -338 -158 -348 -145 b -344 -117 -348 -127 -347 -122 b -328 -104 -341 -112 -338 -111 b -127 -8 -269 -65 -202 -33 b -106 0 -115 -4 -106 -1 b -127 6 -106 0 -115 2 b -328 102 -202 31 -269 63 b -344 116 -338 109 -341 111 b -348 130 -347 120 -348 124 b -330 155 -348 141 -341 152 "},v43:{x_min:-442.359375,x_max:441,ha:450,o:"m -31 487 b -1 488 -21 488 -10 488 b 434 104 216 488 397 330 b 441 27 438 79 441 47 b 439 12 441 20 439 15 b 419 0 435 4 427 0 b 404 5 413 0 408 1 b 398 30 400 11 398 13 b 0 351 390 213 213 351 b -59 348 -20 351 -39 349 b -400 30 -251 324 -393 191 b -405 5 -400 13 -401 11 b -420 0 -409 1 -415 0 b -441 12 -428 0 -436 4 b -442 27 -441 15 -442 20 b -435 104 -442 47 -439 79 b -31 487 -401 316 -235 474 m -13 131 b -1 133 -9 133 -5 133 b 51 105 19 133 39 123 b 61 70 58 95 61 83 b 51 34 61 58 58 45 b -1 6 39 16 19 6 b -46 27 -17 6 -34 13 b -62 69 -57 38 -62 54 b -13 131 -62 98 -44 124 "},v44:{x_min:-21.78125,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},v45:{x_min:-402.890625,x_max:401.53125,ha:410,o:"m -10 273 b -4 274 -9 273 -6 274 b 16 262 4 274 12 269 b 17 158 17 259 17 259 l 17 56 l 62 112 b 117 174 110 172 110 172 b 122 174 118 174 119 174 b 132 173 125 174 129 173 b 295 11 134 172 171 134 l 307 -1 l 336 34 b 374 76 366 72 368 74 b 381 77 375 77 378 77 b 401 56 392 77 401 68 b 400 48 401 54 401 51 b 223 -172 397 41 230 -166 b 210 -176 220 -174 215 -176 b 201 -174 206 -176 204 -176 b 112 -87 198 -173 178 -152 b 27 0 65 -38 27 0 b 21 -6 27 0 24 -2 l 17 -12 l 17 -147 b 17 -210 17 -173 17 -194 b 10 -292 17 -297 16 -287 b -2 -299 6 -297 2 -299 b -21 -287 -10 -299 -19 -295 b -24 -174 -23 -284 -23 -284 l -24 -63 l -66 -117 b -121 -176 -110 -170 -114 -176 b -125 -176 -122 -176 -123 -176 b -296 -12 -134 -174 -125 -184 l -308 0 l -337 -34 b -375 -77 -367 -73 -370 -76 b -382 -79 -377 -79 -379 -79 b -402 -58 -393 -79 -402 -69 b -401 -49 -402 -55 -402 -52 b -224 170 -398 -43 -231 165 b -212 174 -221 173 -216 174 b -202 173 -208 174 -205 174 b -39 11 -200 172 -151 122 l -28 -1 l -25 1 l -24 4 l -24 130 b -23 260 -24 256 -24 258 b -10 273 -20 266 -16 270 "},v46:{x_min:0,x_max:627.46875,ha:640,o:"m 306 190 b 314 191 308 191 311 191 b 326 184 318 191 322 190 l 336 173 b 510 52 377 127 442 80 b 515 49 513 51 515 49 b 611 16 537 40 579 24 b 627 0 624 13 627 9 b 607 -18 627 -11 624 -13 b 330 -181 490 -49 389 -109 b 314 -192 323 -190 319 -192 b 306 -191 311 -192 308 -192 b 294 -177 302 -188 302 -188 b 257 -140 287 -170 265 -148 b 19 -18 193 -84 114 -44 b 0 0 2 -13 0 -11 b 16 16 0 9 2 13 b 110 49 47 24 89 40 b 117 52 111 49 114 51 b 145 65 126 56 130 58 b 281 163 200 93 245 124 b 300 186 288 170 291 174 b 306 190 300 187 303 188 m 317 137 b 313 142 315 141 314 142 b 308 137 313 142 311 141 b 161 4 276 84 220 33 b 155 0 159 1 155 0 b 163 -4 155 0 159 -2 b 308 -138 220 -34 276 -84 b 313 -142 311 -141 313 -142 b 317 -138 314 -142 315 -141 b 464 -4 351 -84 406 -34 b 470 0 468 -2 470 0 b 464 4 470 0 468 1 b 317 137 406 33 351 84 "},v47:{x_min:-24.5,x_max:315.78125,ha:322,o:"m -24 -145 l -24 -5 l -20 -5 b 1 -26 -10 -5 -6 -9 b 175 -241 31 -86 96 -166 b 314 -548 259 -323 304 -420 b 315 -589 315 -555 315 -571 b 314 -630 315 -606 315 -623 b 298 -730 311 -664 306 -699 l 295 -742 l 296 -748 b 314 -850 304 -778 311 -813 b 315 -892 315 -857 315 -874 b 314 -932 315 -909 315 -925 b 298 -1032 311 -967 306 -1002 l 295 -1045 l 296 -1050 b 314 -1153 304 -1081 311 -1115 b 315 -1193 315 -1160 315 -1177 b 314 -1235 315 -1211 315 -1228 b 217 -1526 306 -1338 270 -1444 b 201 -1533 213 -1532 208 -1533 b 182 -1522 193 -1533 185 -1529 b 179 -1514 181 -1518 179 -1517 b 189 -1489 179 -1508 182 -1501 b 266 -1217 240 -1403 266 -1308 b 262 -1156 266 -1196 265 -1177 b 110 -907 247 -1043 190 -950 b 0 -889 87 -895 50 -889 l -1 -889 l -24 -889 l -24 -749 l -24 -610 l -20 -610 b 1 -631 -10 -610 -6 -614 b 175 -846 31 -691 96 -771 b 259 -956 213 -884 236 -914 b 265 -966 262 -961 264 -966 b 265 -966 265 -966 265 -966 b 265 -953 265 -964 265 -959 b 266 -920 266 -943 266 -932 b 262 -853 266 -898 265 -873 b 110 -605 247 -741 190 -648 b 0 -587 87 -592 50 -587 l -1 -587 l -24 -587 l -24 -448 l -24 -308 l -20 -308 b 1 -328 -10 -308 -6 -312 b 175 -544 31 -388 96 -469 b 259 -655 213 -581 236 -612 b 265 -663 262 -659 264 -663 b 265 -663 265 -663 265 -663 b 265 -650 265 -663 265 -657 b 266 -617 266 -641 266 -630 b 262 -551 266 -595 265 -570 b 110 -303 247 -438 190 -345 b 0 -284 87 -290 50 -284 l -1 -284 l -24 -284 l -24 -145 "},v49:{x_min:0,x_max:630.203125,ha:643,o:"m 308 204 b 314 205 310 205 313 205 b 326 201 319 205 323 204 b 355 154 328 199 338 180 b 401 83 362 142 392 95 l 409 72 b 431 41 412 66 424 49 b 619 -174 498 -51 570 -134 b 630 -192 626 -180 630 -186 b 626 -202 630 -195 628 -199 b 616 -206 623 -205 620 -206 b 552 -188 608 -206 592 -202 b 310 -155 488 -169 392 -155 b 268 -156 295 -155 281 -155 b 77 -188 197 -161 126 -173 b 13 -206 35 -202 20 -206 b 9 -206 12 -206 10 -206 b 0 -191 2 -202 0 -197 b 8 -176 0 -186 2 -180 b 204 49 58 -136 138 -43 l 220 72 l 227 83 b 295 188 245 108 281 166 b 308 204 299 197 304 202 m 315 147 b 314 147 315 147 314 147 b 314 147 314 147 314 147 b 306 129 314 145 310 138 l 296 105 b 281 72 292 97 284 77 l 274 56 b 181 -123 247 -4 212 -72 l 174 -134 l 176 -133 b 314 -123 215 -127 272 -123 b 451 -133 356 -123 413 -127 l 454 -134 l 449 -123 b 353 56 417 -72 381 -4 l 347 72 b 332 105 344 77 336 97 l 322 129 b 315 147 318 138 315 145 "},v4a:{x_min:70.78125,x_max:378.390625,ha:315,o:"m 246 373 b 254 373 249 373 251 373 b 372 324 303 373 360 351 b 378 302 377 317 378 309 b 338 251 378 278 362 255 b 328 249 334 249 332 249 b 283 294 303 249 283 270 b 288 315 283 301 284 308 b 289 319 289 317 289 319 b 289 319 289 319 289 319 b 283 320 289 320 287 320 b 270 322 279 322 274 322 b 206 288 242 322 215 308 b 206 283 206 287 206 285 b 257 223 206 267 230 238 b 284 206 272 213 277 210 b 351 90 328 173 351 130 b 340 47 351 74 348 59 b 205 -30 314 -2 264 -30 b 182 -29 198 -30 190 -30 b 84 15 147 -24 103 -5 b 70 48 74 24 70 36 b 108 99 70 70 85 94 b 121 102 112 101 117 102 b 167 56 147 102 167 80 b 159 31 167 48 164 40 l 156 26 l 157 26 b 190 20 167 22 178 20 b 220 26 201 20 212 22 b 258 65 243 34 258 51 b 257 70 258 66 258 69 b 204 126 249 94 234 109 b 114 258 148 158 114 209 b 125 302 114 273 118 288 b 246 373 147 342 193 370 "},v4b:{x_min:0,x_max:503.609375,ha:514,o:"m 274 430 b 277 430 276 430 277 430 b 310 394 296 430 310 415 b 308 383 310 391 308 387 b 306 367 307 381 307 374 b 236 120 298 305 272 210 b 40 -273 189 -5 125 -134 b 20 -287 35 -283 27 -287 b 5 -281 14 -287 9 -285 b 0 -267 1 -277 0 -273 b 9 -242 0 -262 2 -255 b 246 395 137 -12 232 242 b 274 430 249 416 257 427 m 468 430 b 472 430 469 430 470 430 b 503 394 490 430 503 415 b 502 383 503 391 503 387 b 499 367 502 381 500 374 b 431 120 491 305 465 210 b 234 -273 382 -5 318 -134 b 213 -287 228 -283 220 -287 b 198 -281 208 -287 202 -285 b 193 -267 194 -277 193 -273 b 202 -242 193 -262 196 -255 b 439 395 330 -12 426 242 b 468 430 442 416 451 427 "},v4d:{x_min:-311.6875,x_max:310.328125,ha:317,o:"m -9 388 b -2 390 -8 390 -5 390 b 5 388 1 390 4 390 b 19 378 10 387 16 383 b 23 333 23 371 23 371 b 24 298 23 299 24 298 b 81 276 34 298 65 285 b 213 91 145 240 190 177 b 224 24 217 76 224 36 b 257 24 224 24 235 24 b 299 19 292 24 292 24 b 310 -1 306 15 310 6 b 299 -23 310 -11 306 -19 b 257 -27 292 -27 292 -27 b 224 -29 235 -27 224 -29 b 213 -95 224 -40 217 -80 b 81 -280 190 -181 145 -244 b 24 -301 65 -290 34 -301 b 23 -335 24 -301 23 -303 l 23 -340 b 17 -381 23 -374 23 -374 b -1 -391 13 -388 5 -391 b -21 -381 -9 -391 -17 -388 b -27 -340 -27 -374 -27 -374 l -27 -335 b -28 -301 -27 -303 -27 -301 b -85 -280 -38 -301 -69 -290 b -217 -95 -149 -244 -194 -181 b -228 -29 -221 -80 -228 -40 b -259 -27 -228 -29 -238 -27 b -300 -23 -294 -27 -294 -27 b -311 -2 -307 -19 -311 -11 b -294 23 -311 8 -304 19 b -259 24 -291 23 -284 24 b -228 24 -239 24 -228 24 b -217 91 -228 36 -221 76 b -85 276 -194 177 -149 240 b -28 298 -69 285 -38 298 b -27 333 -27 298 -27 299 b -27 371 -27 362 -27 369 b -9 388 -24 378 -17 385 m -27 136 b -28 247 -27 197 -28 247 b -61 216 -31 247 -53 226 b -123 33 -95 172 -121 98 l -125 24 l -76 24 l -27 24 l -27 136 m 29 242 b 24 247 27 245 24 247 b 23 136 24 247 23 197 l 23 24 l 72 24 l 121 24 l 119 33 b 29 242 115 116 77 206 m -27 -140 l -27 -27 l -76 -27 l -125 -27 l -123 -36 b -61 -220 -121 -102 -95 -176 b -28 -251 -53 -230 -31 -251 b -27 -140 -28 -251 -27 -201 m 119 -36 l 121 -27 l 72 -27 l 23 -27 l 23 -140 b 24 -251 23 -201 24 -251 b 57 -220 27 -251 49 -230 b 119 -36 91 -176 117 -102 "},v4e:{x_min:0,x_max:239.5625,ha:244,o:"m 10 460 b 20 462 13 462 14 462 b 39 449 28 462 35 458 l 40 446 l 40 326 b 40 205 40 259 40 205 b 127 227 40 205 80 215 b 220 249 196 244 213 249 b 227 247 224 249 225 248 b 238 237 231 245 235 241 l 239 233 l 239 -106 l 239 -448 l 238 -451 b 219 -463 234 -459 225 -463 b 198 -451 210 -463 202 -459 l 197 -448 l 197 -324 b 197 -201 197 -248 197 -201 b 110 -223 196 -201 157 -210 b 17 -245 42 -240 24 -245 b 10 -242 13 -245 13 -244 b 0 -233 6 -241 2 -237 l 0 -230 l 0 108 l 0 446 l 0 449 b 10 460 2 453 6 458 m 197 22 b 197 70 197 41 197 58 b 196 116 197 113 197 116 l 196 116 b 118 97 196 116 160 106 l 40 77 l 40 -18 b 40 -112 40 -69 40 -112 l 119 -93 l 197 -73 l 197 22 "},v51:{x_min:-1.359375,x_max:455.96875,ha:465,o:"m 352 541 b 357 542 353 542 355 542 b 377 530 364 542 372 537 l 378 526 l 378 394 l 379 262 l 404 266 b 436 270 420 269 430 270 b 450 265 443 270 446 269 b 455 220 455 259 455 260 l 455 208 l 455 161 l 454 156 b 411 140 449 147 447 147 b 378 133 393 137 379 134 b 378 68 378 133 378 106 b 378 22 378 54 378 38 l 379 -87 l 404 -83 b 436 -79 420 -80 430 -79 b 450 -84 443 -79 446 -80 b 455 -129 455 -90 455 -88 l 455 -141 l 455 -188 l 454 -192 b 413 -209 449 -202 447 -202 b 382 -215 398 -212 383 -215 l 378 -215 l 378 -345 l 378 -380 b 375 -485 378 -484 378 -480 b 357 -494 371 -491 364 -494 b 340 -485 351 -494 344 -491 b 336 -383 337 -480 336 -484 l 336 -349 l 336 -223 l 334 -223 b 291 -231 334 -223 314 -227 l 247 -240 l 247 -371 l 246 -503 l 245 -506 b 225 -519 242 -514 234 -519 b 206 -506 219 -519 210 -514 l 205 -503 l 205 -376 l 205 -248 l 160 -256 l 115 -265 l 115 -396 l 115 -527 l 114 -531 b 95 -544 110 -539 102 -544 b 76 -531 87 -544 78 -539 l 73 -527 l 73 -399 b 73 -273 73 -330 73 -273 b 49 -277 73 -273 61 -274 b 17 -281 32 -280 24 -281 b 4 -276 10 -281 8 -280 b -1 -234 0 -269 -1 -272 b 0 -219 -1 -229 0 -224 l 0 -170 l 1 -167 b 10 -158 2 -163 6 -159 b 49 -149 13 -156 16 -155 l 73 -145 l 73 -34 b 73 76 73 26 73 76 b 49 72 73 76 61 74 b 17 68 32 69 24 68 b 4 73 10 68 8 69 b -1 115 0 80 -1 77 b 0 130 -1 120 0 124 l 0 179 l 1 181 b 10 191 2 186 6 190 b 49 199 13 192 16 194 l 73 204 l 73 338 b 73 374 73 352 73 365 b 77 483 73 484 73 477 b 95 492 81 489 88 492 b 111 483 100 492 107 489 b 115 378 115 477 115 483 l 115 342 b 117 212 115 223 115 212 b 204 229 117 212 200 227 l 205 229 l 205 365 l 205 502 l 206 505 b 225 517 210 513 219 517 b 245 505 234 517 242 513 l 246 502 l 247 369 l 247 237 l 249 237 b 336 254 253 238 336 254 b 337 390 336 254 337 302 l 337 526 l 338 530 b 352 541 341 535 347 539 m 336 15 b 336 126 336 102 336 126 l 336 126 b 291 117 336 126 315 122 l 247 109 l 247 -1 l 247 -112 l 249 -112 b 336 -95 253 -111 336 -95 b 336 15 336 -95 336 -56 m 205 -120 b 205 -55 205 -120 205 -93 b 205 -9 205 -41 205 -24 l 205 101 l 160 93 l 115 84 l 115 -26 b 115 -83 115 -49 115 -69 b 117 -137 115 -133 115 -137 b 205 -120 118 -137 204 -120 "},v52:{x_min:-10.890625,x_max:298.078125,ha:294,o:"m 138 473 b 142 474 140 473 141 474 b 164 459 148 474 153 470 b 191 402 183 442 191 423 b 181 353 191 388 187 371 b 178 349 179 352 178 349 b 179 348 178 348 179 348 b 185 349 181 348 182 348 b 255 376 210 355 234 363 b 272 381 264 381 266 381 b 298 355 287 381 298 370 b 288 330 298 348 298 345 b 171 34 238 254 194 141 b 166 13 168 16 168 16 b 144 1 161 5 152 1 b 121 15 134 1 125 5 b 115 33 119 18 117 24 b 0 330 91 145 49 252 b -10 355 -9 345 -10 348 b 13 381 -10 371 0 381 b 31 376 19 381 25 380 b 132 345 61 358 103 345 l 136 345 l 137 355 b 145 378 138 359 142 370 b 152 415 149 394 152 405 b 137 452 152 427 148 438 b 133 464 134 458 133 460 b 138 473 133 467 134 470 "},v53:{x_min:0,x_max:902.421875,ha:921,o:"m 17 240 b 24 241 19 241 21 241 b 32 240 28 241 31 241 b 46 229 38 238 43 234 b 50 88 50 223 50 237 b 50 -1 50 63 50 34 b 50 -90 50 -36 50 -65 b 46 -231 50 -238 50 -224 b 25 -242 42 -238 34 -242 b 0 -224 14 -242 4 -235 b 0 2 0 -222 0 -108 b 0 223 0 112 0 220 b 17 240 2 230 9 237 m 110 240 b 118 241 111 241 114 241 b 126 240 121 241 123 241 b 142 223 133 237 140 230 b 144 123 144 220 144 205 b 144 29 144 45 144 29 b 144 29 144 29 144 29 b 393 183 166 106 264 167 b 450 186 412 184 431 186 b 756 29 600 186 732 120 b 756 29 756 29 756 29 b 758 123 758 29 758 45 b 760 227 758 226 758 223 b 784 241 766 237 774 241 b 804 229 792 241 800 237 b 809 88 808 223 809 237 l 809 -1 l 809 -90 b 804 -231 809 -238 808 -224 b 784 -242 800 -238 792 -242 b 762 -231 775 -242 766 -238 b 758 -124 756 -224 758 -231 b 756 -30 758 -47 758 -30 b 756 -30 756 -30 756 -30 b 509 -184 736 -108 637 -169 b 450 -187 488 -187 469 -187 b 144 -30 300 -187 168 -122 b 144 -30 144 -30 144 -30 b 144 -124 144 -30 144 -47 b 140 -231 144 -231 144 -224 b 118 -242 134 -238 126 -242 b 92 -224 107 -242 96 -235 b 92 2 92 -222 92 -108 b 92 223 92 112 92 220 b 110 240 95 230 102 237 m 432 161 b 413 162 426 162 420 162 b 313 41 351 162 313 109 b 347 -73 313 5 323 -34 b 487 -163 385 -133 439 -163 b 578 -97 526 -163 562 -142 b 588 -43 585 -80 588 -62 b 432 161 588 47 518 147 m 868 240 b 876 241 869 241 872 241 b 884 240 879 241 882 241 b 898 229 890 238 894 234 b 902 88 902 223 902 237 l 902 -1 l 902 -90 b 898 -231 902 -238 902 -224 b 876 -242 892 -238 884 -242 b 852 -224 865 -242 854 -235 b 850 2 850 -222 850 -108 b 852 223 850 112 850 220 b 868 240 853 230 860 237 "},v54:{x_min:-24.5,x_max:317.140625,ha:324,o:"m -24 -161 l -24 -5 l -20 -5 b 0 -24 -9 -5 -2 -12 b 171 -315 21 -124 84 -233 b 317 -660 268 -406 317 -531 b 187 -1014 317 -782 274 -909 b 161 -1034 172 -1034 171 -1034 b 141 -1013 149 -1034 141 -1025 b 152 -991 141 -1004 142 -1002 b 266 -682 228 -899 266 -788 b 174 -430 266 -588 236 -498 b -23 -317 136 -388 66 -348 b -24 -161 -23 -316 -24 -285 "},v55:{x_min:0,x_max:551.25,ha:563,o:"m 289 644 b 304 645 294 645 299 645 b 404 566 349 645 392 613 b 406 541 405 557 406 549 b 379 471 406 514 397 489 l 377 467 l 382 470 b 509 591 438 485 485 531 b 513 601 510 595 513 599 b 530 609 518 607 524 609 b 551 588 540 609 551 602 b 200 -605 551 584 204 -599 b 182 -616 197 -612 190 -616 b 163 -602 174 -616 166 -610 b 161 -598 161 -601 161 -601 b 217 -402 161 -589 170 -562 b 272 -213 247 -298 272 -213 b 272 -213 272 -213 272 -213 b 264 -219 272 -213 268 -216 b 140 -262 227 -247 182 -262 b 36 -226 102 -262 65 -249 b 0 -145 12 -206 0 -176 b 17 -84 0 -124 5 -104 b 103 -38 38 -54 70 -38 b 191 -91 137 -38 172 -56 b 205 -141 201 -106 205 -124 b 178 -212 205 -167 196 -194 l 175 -215 l 182 -213 b 307 -93 236 -198 284 -151 b 372 129 308 -88 372 127 b 372 129 372 129 372 129 b 364 122 372 129 368 126 b 240 80 328 94 283 80 b 137 115 202 80 166 91 b 99 195 112 136 99 165 b 118 256 99 217 106 238 b 204 303 138 287 171 303 b 292 249 238 303 273 285 b 306 199 302 234 306 217 b 279 129 306 173 296 148 l 276 126 l 281 127 b 408 248 336 142 385 190 b 473 470 409 254 473 469 b 473 470 473 470 473 470 b 465 464 473 470 469 467 b 341 421 428 435 383 421 b 236 458 303 421 266 433 b 200 537 212 478 200 508 b 289 644 200 585 234 635 "},v58:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 259 1553 b 265 1553 261 1553 264 1553 b 288 1540 272 1553 277 1550 b 367 1351 340 1493 367 1424 b 336 1221 367 1308 357 1263 l 332 1211 l 333 1208 b 367 1077 356 1170 367 1124 b 336 945 367 1032 357 986 l 332 935 l 333 932 b 367 800 356 893 367 848 b 336 669 367 756 357 710 l 332 659 l 333 656 b 367 523 356 617 367 571 b 345 412 367 485 360 446 b 231 273 322 356 284 310 b -1 19 121 195 27 93 b -17 4 -4 11 -10 5 l -21 4 l -21 134 l -21 265 l -17 265 b 133 291 20 265 96 278 b 318 537 245 328 318 433 b 307 603 318 559 315 582 b 303 614 304 612 304 614 b 298 609 302 614 300 613 b 231 549 281 589 258 567 b -1 295 121 471 27 369 b -17 280 -4 287 -10 281 l -21 280 l -21 410 l -21 541 l -17 541 b 133 567 20 541 96 555 b 318 813 245 605 318 709 b 307 880 318 835 315 859 b 303 891 304 888 304 891 b 298 885 302 891 300 888 b 231 825 281 866 258 843 b -1 571 121 748 27 645 b -17 556 -4 563 -10 557 l -21 556 l -21 687 l -21 817 l -17 817 b 133 843 20 817 96 830 b 318 1089 245 881 318 985 b 307 1156 318 1111 315 1134 b 303 1167 304 1164 304 1167 b 298 1161 302 1167 300 1164 b 231 1102 281 1140 258 1120 b -1 848 121 1024 27 921 b -17 832 -4 839 -10 834 l -21 832 l -21 963 l -21 1093 l -17 1093 b 114 1113 12 1093 78 1103 b 313 1314 215 1142 289 1218 b 318 1364 317 1331 318 1347 b 255 1511 318 1422 295 1478 b 243 1532 247 1519 243 1525 b 259 1553 243 1540 250 1550 "},v59:{x_min:0,x_max:464.140625,ha:474,o:"m 0 0 l 0 347 l 76 347 l 153 347 l 153 0 l 153 -348 l 76 -348 l 0 -348 l 0 0 m 308 -1 l 308 347 l 386 347 l 464 347 l 464 -1 l 464 -348 l 386 -348 l 308 -348 l 308 -1 "},v5a:{x_min:-171.5,x_max:170.140625,ha:174,o:"m -6 566 b 0 567 -5 567 -2 567 b 14 556 6 567 12 563 b 92 285 14 555 50 433 b 170 13 166 33 170 19 b 168 13 170 13 170 13 b 161 1 168 8 167 4 l 159 0 l 122 0 l 84 0 l 81 1 b 21 195 76 5 78 -5 b -32 381 -8 297 -32 381 b -87 197 -32 381 -57 298 b -141 8 -115 94 -140 9 b -155 0 -142 2 -149 0 b -171 15 -163 0 -171 5 b -14 556 -171 18 -24 528 b -6 566 -14 560 -10 564 "},v5b:{x_min:-441,x_max:439.640625,ha:449,o:"m -428 -2 b -421 0 -427 -1 -424 0 b -406 -6 -416 0 -409 -2 b -400 -31 -401 -12 -400 -15 b -1 -352 -392 -215 -215 -352 b 58 -349 19 -352 38 -351 b 398 -31 250 -326 392 -192 b 404 -6 398 -15 400 -12 b 419 -1 408 -2 413 -1 b 439 -13 427 -1 435 -5 b 439 -29 439 -16 439 -22 b 434 -105 439 -48 438 -80 b 0 -489 397 -333 213 -489 b -68 -484 -23 -489 -44 -488 b -441 -36 -280 -452 -436 -263 b -441 -30 -441 -34 -441 -31 b -428 -2 -441 -11 -439 -5 m -13 -9 b -1 -8 -9 -8 -5 -8 b 50 -36 19 -8 39 -19 b 61 -72 57 -47 61 -59 b 50 -106 61 -84 57 -97 b -1 -134 39 -124 19 -134 b -46 -115 -17 -134 -34 -129 b -62 -72 -57 -102 -62 -87 b -13 -9 -62 -44 -44 -16 "},v5c:{x_min:0,x_max:447.8125,ha:457,o:"m 0 -87 l 0 0 l 223 0 l 447 0 l 447 -87 l 447 -174 l 223 -174 l 0 -174 l 0 -87 "},v5d:{x_min:-1.359375,x_max:592.078125,ha:604,o:"m 280 692 b 295 694 283 692 289 694 b 310 692 300 694 307 692 b 357 630 340 684 357 657 b 336 580 357 612 351 594 b 311 538 321 566 311 549 b 352 492 311 512 330 492 b 366 495 357 492 362 492 b 397 553 390 503 397 517 b 415 603 397 576 402 591 b 460 623 427 617 443 623 b 509 599 479 623 498 614 b 522 559 518 587 522 573 b 494 506 522 538 513 519 b 451 495 481 498 473 496 b 415 488 432 495 426 494 b 394 449 404 483 394 464 b 394 448 394 448 394 448 l 394 440 l 397 433 b 428 409 404 420 413 413 b 438 408 431 408 435 408 b 479 431 450 408 462 415 b 528 455 495 448 510 455 b 548 452 534 455 541 453 b 592 391 577 442 592 416 b 549 331 592 365 577 340 b 528 327 541 328 534 327 b 479 351 510 327 495 335 b 438 374 464 367 450 374 b 417 369 431 374 424 373 b 394 333 402 360 394 348 b 400 312 394 326 396 319 b 451 287 408 294 420 288 b 513 258 484 285 499 278 b 522 223 519 247 522 234 b 461 159 522 190 496 159 b 449 161 457 159 453 159 b 397 229 416 167 397 191 b 366 288 397 265 390 278 b 352 290 362 290 357 290 b 315 262 336 290 321 280 b 311 245 313 256 311 251 b 334 204 311 233 318 220 b 355 170 348 190 351 184 b 357 152 356 166 357 159 b 355 136 357 147 356 140 b 295 88 345 104 321 88 b 232 152 264 88 232 112 b 255 204 232 174 238 186 b 279 244 273 222 279 231 l 279 245 b 238 290 279 270 259 290 b 224 288 234 290 228 290 b 193 229 200 278 193 265 b 141 161 193 191 174 167 b 129 159 137 159 133 159 b 68 223 93 159 68 190 b 77 258 68 234 70 247 b 138 287 91 278 106 285 b 185 302 166 287 175 291 b 196 333 193 312 196 323 b 174 369 196 347 187 360 b 152 374 166 373 159 374 b 111 351 140 374 126 367 b 62 327 95 335 80 327 b 51 328 58 327 54 327 b -1 391 16 334 -1 363 b 53 455 -1 420 17 449 b 62 455 57 455 59 455 b 111 431 80 455 95 448 b 152 408 127 415 140 408 b 161 409 155 408 159 408 b 193 433 176 413 186 420 l 196 440 l 196 448 b 196 451 196 449 196 449 b 190 471 196 459 194 463 b 137 495 182 489 167 495 l 134 495 l 134 495 b 68 560 95 495 68 521 b 129 623 68 596 95 623 b 144 621 134 623 138 623 b 193 553 175 614 193 589 b 224 495 193 517 200 503 b 238 492 228 492 234 492 b 279 538 259 492 279 512 b 254 580 279 549 269 566 b 232 630 239 594 232 612 b 280 692 232 657 250 684 m 307 456 b 295 458 303 458 299 458 b 230 391 258 458 230 426 b 236 360 230 381 231 371 b 295 324 249 337 272 324 b 353 360 318 324 341 337 b 360 391 357 370 360 381 b 307 456 360 421 340 451 "},v60:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m -367 173 b -362 174 -366 174 -364 174 b -351 173 -357 174 -353 173 b -262 86 -348 172 -328 151 b -176 0 -216 37 -176 0 b -107 84 -176 0 -145 37 b -31 174 -36 173 -38 172 b -25 174 -29 174 -28 174 b -16 173 -23 174 -19 173 b 72 86 -13 172 6 151 b 157 0 119 37 157 0 b 227 84 159 0 189 37 b 303 174 298 173 296 172 b 308 174 304 174 307 174 b 318 173 313 174 317 173 b 481 11 322 172 357 134 l 494 -1 l 522 34 b 560 76 553 72 555 74 b 567 77 563 77 564 77 b 589 56 579 77 589 68 b 586 48 589 54 588 51 b 411 -172 583 41 416 -166 b 397 -176 406 -174 401 -176 b 387 -174 393 -176 390 -176 b 299 -87 386 -173 366 -152 b 213 0 253 -38 213 0 b 144 -86 213 0 182 -38 b 68 -174 73 -174 74 -173 b 62 -176 66 -176 65 -176 b 53 -174 59 -176 55 -174 b -35 -87 50 -173 29 -152 b -121 0 -83 -38 -121 0 b -190 -86 -122 0 -152 -38 b -266 -174 -261 -174 -259 -173 b -272 -176 -268 -176 -270 -176 b -281 -174 -276 -176 -280 -174 b -371 -86 -284 -173 -304 -152 b -457 0 -417 -38 -457 0 l -457 0 b -477 -26 -457 0 -470 -16 b -548 -227 -524 -88 -548 -161 b -536 -303 -548 -254 -544 -280 b -533 -317 -534 -309 -533 -313 b -553 -338 -533 -330 -541 -338 b -577 -315 -566 -338 -571 -333 b -590 -227 -586 -287 -590 -258 b -518 -9 -590 -154 -564 -77 b -465 56 -509 2 -504 8 l -402 134 b -367 173 -375 169 -372 172 "},v62:{x_min:46.28125,x_max:669.671875,ha:563,o:"m 183 376 b 189 376 185 376 187 376 b 212 374 197 376 208 376 b 265 337 234 369 253 355 b 274 317 268 331 273 320 b 274 316 274 317 274 316 b 280 323 276 316 276 319 b 311 358 288 337 299 348 b 319 366 315 360 318 365 b 356 376 326 373 340 376 b 382 371 364 376 374 374 b 428 337 400 366 417 352 b 436 317 431 331 436 320 b 438 316 436 317 436 316 b 442 323 438 316 439 319 b 475 358 451 337 462 348 b 483 366 477 360 481 365 b 518 376 488 373 503 376 b 544 373 528 376 536 376 b 604 285 579 360 604 326 b 597 249 604 273 601 258 b 543 63 596 247 544 70 b 541 54 543 61 541 55 b 540 44 540 51 540 47 b 552 23 540 33 545 23 b 552 23 552 23 552 23 b 647 126 586 29 627 72 b 658 138 651 136 653 138 b 660 138 660 138 660 138 b 669 129 666 137 669 136 b 654 88 669 122 665 109 b 562 -12 631 43 602 9 l 549 -19 b 521 -27 540 -24 530 -27 b 447 30 490 -27 458 -4 b 443 58 445 38 443 48 b 450 93 443 72 446 84 b 504 278 453 97 504 272 b 507 288 506 283 506 287 b 509 298 507 292 509 295 b 491 326 509 310 502 320 b 487 327 490 327 488 327 b 479 324 484 327 483 326 b 441 270 462 316 443 288 b 435 249 441 265 436 254 b 398 127 434 248 419 195 b 362 4 379 61 362 5 b 328 -1 359 -1 362 -1 b 314 -1 323 -1 319 -1 b 302 -1 310 -1 306 -1 b 266 4 266 -1 269 -1 b 265 6 265 5 265 5 b 303 144 265 13 272 34 b 343 278 325 216 343 276 b 344 288 343 281 344 285 b 345 298 345 291 345 295 b 330 326 345 310 340 320 b 323 327 328 327 325 327 b 317 324 322 327 321 326 b 279 270 300 316 281 288 b 273 249 279 265 274 254 b 236 127 272 248 255 195 b 200 4 216 61 200 5 b 164 -1 197 -1 198 -1 b 151 -1 161 -1 156 -1 b 140 -1 147 -1 142 -1 b 103 4 104 -1 106 -1 b 103 6 103 5 103 5 b 141 144 103 13 108 34 b 181 278 161 216 179 276 b 182 288 181 281 181 285 b 183 298 182 291 183 295 b 168 324 183 310 178 320 b 160 327 166 326 163 327 b 141 320 156 327 151 324 b 69 230 112 305 85 272 b 57 215 65 217 62 215 b 55 215 57 215 55 215 b 46 224 49 215 46 217 b 59 260 46 231 50 242 b 151 363 81 306 112 341 b 161 369 155 365 160 367 b 183 376 166 371 174 374 "},v68:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -533 324 b -525 327 -530 326 -528 327 b -504 305 -514 327 -504 317 b -504 305 -504 305 -504 305 b -513 284 -504 299 -504 299 b -556 112 -541 226 -556 167 b -545 33 -556 84 -552 58 b -524 -20 -541 15 -532 -9 l -522 -23 l -491 15 l -413 111 b -355 174 -367 169 -363 174 b -351 174 -353 174 -352 174 b -254 86 -343 174 -348 179 b -168 -1 -208 37 -168 -1 b -100 84 -168 -1 -137 37 b -23 173 -28 173 -29 172 b -19 174 -21 174 -20 174 b -8 173 -14 174 -10 173 b 155 11 -5 172 43 123 l 166 -1 l 168 1 l 170 4 l 170 130 b 171 260 170 256 170 258 b 191 274 175 269 183 274 b 205 267 196 274 201 272 b 212 158 212 262 210 273 l 212 56 l 257 112 b 311 173 304 172 304 172 b 317 174 313 174 314 174 b 326 173 319 174 323 173 b 490 11 329 172 366 134 l 502 -1 l 530 34 b 568 76 560 72 563 74 b 575 77 570 77 573 77 b 596 56 586 77 596 68 b 594 48 596 54 596 51 b 417 -172 592 41 424 -166 b 405 -176 415 -174 409 -176 b 396 -174 401 -176 398 -176 b 307 -87 393 -173 372 -152 b 221 -1 259 -38 221 -1 b 216 -6 221 -1 219 -2 l 212 -12 l 212 -147 b 212 -210 212 -173 212 -194 b 205 -292 212 -297 210 -287 b 191 -299 201 -297 196 -299 b 172 -287 183 -299 175 -295 b 170 -174 171 -284 171 -284 l 170 -63 l 127 -117 b 73 -176 84 -170 80 -176 b 68 -176 72 -176 70 -176 b -27 -87 59 -174 65 -180 b -114 0 -74 -38 -112 0 b -182 -86 -114 0 -145 -38 b -258 -174 -253 -174 -253 -173 b -264 -176 -259 -176 -262 -176 b -274 -174 -268 -176 -272 -174 b -438 -11 -277 -173 -348 -102 l -449 0 l -479 -37 b -524 -80 -513 -80 -514 -80 l -524 -80 b -553 -52 -534 -80 -540 -74 b -597 109 -583 -8 -597 48 b -560 280 -597 165 -585 224 b -533 324 -548 310 -540 322 "},v6c:{x_min:-1.359375,x_max:193.28125,ha:197,o:"m 78 233 b 87 233 81 233 84 233 b 187 140 132 233 174 195 b 193 102 190 127 193 115 b 43 -113 193 22 136 -62 b 27 -119 36 -116 31 -119 b 19 -108 21 -119 19 -115 b 29 -97 19 -102 20 -101 b 102 13 73 -72 102 -27 b 92 51 102 26 98 40 l 91 54 l 84 54 b 8 104 53 54 21 74 b -1 142 1 116 -1 130 b 78 233 -1 187 31 227 "},v6d:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m 544 335 b 553 337 548 337 551 337 b 575 313 563 337 570 330 b 589 226 583 285 589 256 b 517 8 589 152 563 76 b 464 -58 507 -4 503 -9 l 401 -136 b 362 -176 372 -172 370 -176 b 357 -176 360 -176 359 -176 b 261 -87 349 -174 355 -180 b 175 0 215 -38 175 0 b 106 -86 175 0 144 -38 b 29 -174 35 -174 36 -173 b 24 -176 28 -176 27 -176 b 14 -174 21 -176 17 -174 b -73 -87 12 -173 -8 -152 b -159 0 -121 -38 -159 0 b -228 -86 -160 0 -190 -38 b -304 -174 -299 -174 -298 -173 b -310 -176 -306 -176 -308 -176 b -319 -174 -314 -176 -318 -174 b -483 -12 -323 -173 -359 -137 l -495 0 l -524 -34 b -562 -77 -553 -73 -556 -76 b -568 -79 -564 -79 -566 -79 b -590 -58 -581 -79 -590 -69 b -588 -49 -590 -55 -589 -52 b -412 170 -585 -43 -417 165 b -398 174 -408 173 -402 174 b -389 173 -394 174 -392 174 b -300 86 -387 172 -366 151 b -215 -1 -254 37 -215 -1 b -145 84 -215 -1 -183 37 b -69 173 -74 173 -76 172 b -63 174 -68 174 -66 174 b -54 173 -61 174 -57 173 b 34 86 -51 172 -31 151 b 119 -1 81 37 119 -1 b 189 84 121 -1 151 37 b 265 173 259 173 258 172 b 270 174 266 174 269 174 b 280 173 274 174 279 173 b 370 84 283 172 303 151 b 455 -1 416 37 455 -1 l 455 -1 b 476 24 455 -1 469 15 b 547 226 522 87 547 159 b 534 302 547 252 543 278 b 532 317 533 308 532 313 b 544 335 532 326 536 333 "},v6f:{x_min:-80.3125,x_max:78.9375,ha:81,o:"m 63 191 b 69 192 65 192 66 192 b 77 188 72 192 76 191 b 78 183 78 187 78 186 b 74 158 78 179 77 172 l 66 115 b 9 -161 49 30 10 -158 b -10 -187 6 -172 -1 -181 b -34 -194 -17 -191 -25 -194 b -80 -147 -58 -194 -80 -174 b -80 -141 -80 -144 -80 -142 b 9 70 -80 -134 -73 -117 l 49 163 b 63 191 59 188 61 190 "},v70:{x_min:0,x_max:436.921875,ha:446,o:"m 213 190 b 217 191 215 191 216 191 b 231 184 223 191 228 188 b 249 154 240 167 246 159 b 419 18 292 91 348 45 b 436 -1 435 11 436 8 b 424 -16 436 -9 434 -13 b 308 -87 394 -26 340 -59 b 231 -186 276 -117 257 -142 b 219 -192 228 -191 225 -192 b 198 -174 209 -192 208 -191 b 47 -33 161 -113 110 -63 b 10 -16 34 -26 17 -19 b 0 -1 2 -13 0 -9 b 17 18 0 8 1 11 b 198 173 95 48 156 101 b 213 190 206 187 208 188 "},v72:{x_min:-423.3125,x_max:421.9375,ha:431,o:"m -262 197 b -247 197 -257 197 -253 197 b -118 162 -210 197 -163 184 b 40 45 -61 134 -13 98 b 277 -95 119 -33 200 -81 b 289 -97 281 -97 285 -97 b 378 0 332 -97 371 -55 b 378 11 378 4 378 6 b 302 83 378 55 345 83 b 242 66 283 83 262 77 b 208 56 231 59 219 56 b 148 120 175 56 148 81 b 201 186 148 151 164 172 b 261 198 220 194 240 198 b 420 45 341 198 411 136 b 421 22 421 37 421 29 b 245 -199 421 -93 338 -199 b 238 -198 243 -199 240 -199 b -44 -47 148 -194 50 -141 b -250 86 -114 22 -183 66 b -295 94 -270 91 -283 94 b -315 91 -302 94 -307 94 b -381 4 -356 81 -381 43 b -355 -56 -381 -18 -372 -40 b -298 -81 -338 -73 -319 -81 b -246 -68 -283 -81 -265 -77 b -212 -58 -234 -61 -223 -58 b -178 -69 -200 -58 -189 -62 b -151 -122 -160 -81 -151 -101 b -171 -167 -151 -138 -157 -155 b -239 -195 -185 -181 -213 -192 b -257 -197 -245 -197 -250 -197 b -423 -5 -352 -197 -423 -109 b -412 65 -423 16 -419 40 b -262 197 -389 137 -329 188 "},v74:{x_min:-206.890625,x_max:428.75,ha:438,o:"m 389 -351 b 394 -351 390 -351 393 -351 b 428 -385 413 -351 428 -367 b 428 -394 428 -388 428 -391 b 394 -428 426 -406 421 -410 l 332 -473 l 269 -516 l 205 -560 l 141 -603 l 77 -648 l 13 -692 l -50 -737 l -114 -780 l -145 -802 b -171 -813 -157 -810 -163 -813 b -175 -813 -172 -813 -174 -813 b -206 -777 -194 -811 -206 -795 b -202 -760 -206 -771 -205 -766 b -87 -675 -197 -752 -206 -757 l -34 -639 l 83 -557 l 145 -514 l 209 -470 l 272 -427 b 389 -351 375 -356 381 -352 "},v75:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -137 381 b -130 383 -134 383 -133 383 b -111 371 -122 383 -114 378 b -55 224 -110 370 -85 305 b 0 80 -25 145 -1 80 b 54 224 0 80 24 145 b 112 377 114 384 110 373 b 127 384 118 381 122 384 b 148 362 138 384 148 374 l 148 356 l 83 183 b 16 9 47 88 17 11 b -1 0 12 2 5 0 b -14 5 -5 0 -10 1 b -84 183 -19 9 -13 -6 l -149 356 l -149 362 b -137 381 -149 371 -145 378 "},v78:{x_min:0,x_max:193.28125,ha:197,o:"m 85 514 b 95 517 88 517 89 517 b 114 505 103 517 110 513 l 115 502 l 115 376 b 115 249 115 306 115 249 b 141 258 117 249 127 252 l 167 266 l 172 266 b 190 254 181 265 187 262 l 193 251 l 193 202 l 193 188 b 187 147 193 149 191 152 b 147 130 183 142 182 141 l 115 119 l 115 9 b 115 -99 115 -51 115 -99 b 141 -91 115 -99 127 -95 b 171 -81 166 -81 167 -81 l 171 -81 b 191 -94 181 -81 189 -87 b 193 -142 191 -97 193 -120 b 191 -195 193 -167 191 -194 b 125 -227 187 -205 187 -204 l 115 -230 l 115 -366 l 115 -503 l 114 -506 b 95 -519 110 -514 102 -519 b 74 -506 87 -519 78 -514 l 73 -503 l 73 -374 b 73 -245 73 -260 73 -245 b 73 -245 73 -245 73 -245 b 55 -252 72 -245 63 -249 l 32 -260 b 19 -263 27 -262 23 -263 b 4 -256 13 -263 8 -260 b 0 -215 0 -251 0 -254 b 0 -199 0 -210 0 -206 l 0 -152 l 1 -149 b 8 -140 2 -145 5 -141 b 42 -127 9 -140 24 -133 l 73 -116 l 73 -5 b 73 23 73 4 73 15 b 73 105 73 70 73 105 b 49 97 73 105 61 101 b 17 88 32 91 23 88 b 4 95 10 88 8 91 b 0 137 0 101 0 98 b 0 151 0 141 0 145 l 0 199 l 1 202 b 43 224 5 212 5 212 l 73 234 l 73 367 l 73 502 l 74 505 b 85 514 77 509 81 513 "},v79:{x_min:-1.359375,x_max:899.703125,ha:918,o:"m 307 349 b 332 351 315 351 323 351 b 443 340 367 351 408 347 b 741 47 607 306 720 195 b 744 0 743 31 744 16 b 660 -303 744 -90 713 -206 b 28 -755 534 -531 304 -695 b 14 -756 23 -755 19 -756 b -1 -741 4 -756 -1 -750 b 21 -720 -1 -731 1 -728 b 567 -56 337 -601 548 -344 b 568 -11 568 -41 568 -24 b 442 285 568 129 525 233 b 325 319 406 308 367 319 b 93 177 232 319 137 266 b 84 154 91 170 84 155 b 84 154 84 154 84 154 b 88 156 84 154 85 155 b 159 177 110 170 134 177 b 257 134 194 177 231 162 b 294 41 281 108 294 73 b 171 -97 294 -24 246 -90 b 156 -98 166 -97 161 -98 b 6 74 73 -98 6 -22 b 6 80 6 76 6 79 b 307 349 10 223 141 340 m 839 215 b 845 216 841 216 842 216 b 862 213 852 216 860 215 b 899 163 887 206 899 184 b 872 117 899 145 890 127 b 847 111 865 112 856 111 b 808 130 833 111 818 117 b 796 162 800 140 796 151 b 839 215 796 187 812 212 m 839 -112 b 845 -112 841 -112 842 -112 b 862 -115 852 -112 860 -113 b 899 -165 887 -122 899 -144 b 872 -210 899 -183 890 -201 b 847 -217 865 -215 856 -217 b 808 -198 833 -217 818 -210 b 796 -165 800 -188 796 -177 b 839 -112 796 -140 812 -116 "},v7a:{x_min:-1.359375,x_max:386.5625,ha:394,o:"m 249 535 b 257 537 251 537 253 537 b 276 524 266 537 273 533 l 277 521 l 279 419 l 279 316 l 304 323 b 337 328 319 326 330 328 b 353 316 347 328 349 324 b 355 266 355 315 355 290 b 353 215 355 241 355 217 b 319 198 349 206 347 205 b 279 187 284 190 279 188 b 279 156 279 187 279 174 b 279 136 279 151 279 144 l 279 84 l 289 87 l 330 98 b 367 105 352 102 362 105 b 378 101 372 105 375 104 b 386 61 385 95 386 94 b 386 40 386 55 386 48 l 386 -5 l 385 -8 b 374 -19 383 -12 378 -18 b 291 -40 372 -19 347 -26 b 279 -43 284 -41 279 -43 b 279 -83 279 -43 279 -59 b 279 -95 279 -87 279 -91 l 279 -145 l 304 -140 b 337 -133 321 -136 330 -133 b 349 -140 343 -133 347 -136 b 355 -181 355 -145 355 -142 l 355 -197 l 355 -210 b 349 -252 355 -249 355 -247 b 300 -269 345 -258 347 -258 b 280 -274 291 -272 281 -273 l 279 -274 l 277 -378 l 277 -483 l 276 -487 b 257 -499 273 -495 265 -499 b 238 -487 249 -499 242 -495 l 236 -483 l 236 -384 l 236 -285 l 235 -285 l 212 -291 l 170 -301 b 148 -308 159 -305 148 -306 b 147 -415 147 -308 147 -313 l 147 -523 l 145 -526 b 126 -538 141 -534 133 -538 b 106 -526 118 -538 110 -534 l 104 -523 l 104 -420 b 103 -317 104 -326 104 -317 b 103 -317 103 -317 103 -317 b 50 -330 92 -322 54 -330 b 31 -317 42 -330 35 -326 b 29 -267 29 -315 29 -315 l 29 -219 l 32 -216 b 92 -192 36 -206 36 -206 l 104 -190 l 104 -138 b 103 -87 104 -91 104 -87 b 103 -87 103 -87 103 -87 b 88 -91 103 -87 96 -88 l 49 -101 b 17 -106 32 -105 23 -106 b 6 -102 13 -106 10 -105 b -1 -62 0 -97 -1 -95 b 0 -41 -1 -56 0 -49 l 0 4 l 1 6 b 10 16 2 11 6 15 b 91 37 12 18 38 24 l 104 41 l 104 93 b 103 144 104 140 104 144 b 103 144 103 144 103 144 b 50 131 92 141 54 131 b 31 144 42 131 35 137 b 29 195 29 147 29 148 l 29 242 l 32 245 b 92 269 36 255 36 255 l 104 273 l 104 377 l 104 481 l 106 485 b 126 498 110 492 118 498 b 134 495 129 498 132 496 b 145 485 138 494 142 489 l 147 481 l 147 383 l 147 283 l 152 284 b 190 294 155 285 171 290 l 230 303 l 236 305 l 236 413 l 236 521 l 238 524 b 249 535 240 528 243 533 m 236 126 b 235 177 236 154 236 177 l 235 177 b 213 172 235 177 225 174 l 170 161 b 147 155 157 158 147 155 b 147 124 147 155 147 142 b 147 102 147 117 147 111 l 147 52 l 153 54 l 228 72 l 236 74 l 236 126 m 236 -105 b 235 -54 236 -65 236 -54 l 235 -54 b 231 -55 235 -54 234 -54 b 172 -69 227 -55 204 -62 l 149 -76 l 147 -76 l 147 -127 l 147 -179 l 152 -177 b 190 -167 155 -177 171 -173 l 230 -158 l 236 -156 l 236 -105 "},v7c:{x_min:0,x_max:300.8125,ha:307,o:"m 49 505 b 53 506 50 505 51 506 b 70 496 58 506 62 503 b 81 485 73 492 78 488 l 96 473 l 111 459 l 122 449 l 134 438 l 182 396 l 255 330 b 292 291 292 298 292 298 l 292 290 l 292 284 l 283 270 b 209 36 234 197 209 113 b 288 -170 209 -44 235 -119 b 299 -184 295 -179 299 -181 b 300 -191 300 -187 300 -188 b 285 -206 300 -199 294 -206 b 280 -206 283 -206 281 -206 b 247 -201 270 -202 259 -201 b 176 -222 223 -201 197 -208 b 114 -340 136 -249 114 -292 b 172 -471 114 -384 134 -433 b 185 -492 182 -481 185 -487 b 181 -502 185 -496 183 -499 b 171 -508 176 -505 174 -508 b 152 -498 166 -508 160 -503 b 0 -284 65 -428 12 -352 b 0 -260 0 -278 0 -270 b 1 -238 0 -252 0 -242 b 148 -140 16 -177 73 -140 b 209 -148 167 -140 189 -142 b 215 -149 212 -148 215 -149 b 215 -149 215 -149 215 -149 l 215 -149 b 201 -136 215 -148 209 -142 l 157 -97 l 96 -41 b 17 34 21 24 17 29 b 17 37 17 36 17 36 b 17 38 17 37 17 38 b 25 56 17 44 17 44 b 110 298 81 131 110 219 b 46 474 110 367 88 431 b 38 491 40 480 38 487 b 49 505 38 498 42 502 "},v7d:{x_min:-1.359375,x_max:436.921875,ha:446,o:"m 213 205 b 217 205 215 205 216 205 b 234 194 224 205 234 199 b 236 187 234 194 235 190 l 245 167 l 261 129 l 270 106 b 355 -61 294 54 329 -13 b 420 -163 381 -105 402 -138 b 436 -188 435 -184 436 -184 b 436 -191 436 -190 436 -190 b 421 -206 436 -201 431 -206 l 421 -206 l 416 -206 l 405 -201 b 217 -158 347 -172 283 -158 b 31 -201 153 -158 88 -172 l 20 -206 l 14 -206 l 14 -206 b 0 -191 5 -206 0 -201 b -1 -188 0 -190 -1 -190 b 14 -163 -1 -186 0 -184 b 95 -34 36 -136 72 -77 b 166 106 119 8 148 68 l 175 129 l 183 148 l 200 188 b 213 205 205 199 208 202 "},v7f:{x_min:0,x_max:367.5,ha:375,o:"m 0 124 l 0 187 l 61 187 l 122 187 l 122 138 l 122 91 l 153 61 l 183 30 l 213 61 l 243 91 l 243 138 l 243 187 l 306 187 l 367 187 l 367 124 l 367 61 l 321 61 l 274 61 l 243 30 l 213 0 l 243 -31 l 274 -62 l 321 -62 l 367 -62 l 367 -124 l 367 -188 l 306 -188 l 243 -188 l 243 -140 l 243 -93 l 213 -62 l 183 -31 l 153 -62 l 122 -93 l 122 -140 l 122 -188 l 61 -188 l 0 -188 l 0 -124 l 0 -62 l 46 -62 l 92 -62 l 123 -31 l 153 0 l 123 30 l 92 61 l 46 61 l 0 61 l 0 124 "},v80:{x_min:29.9375,x_max:420.578125,ha:371,o:"m 115 345 b 221 347 117 345 166 347 b 411 345 306 347 409 345 b 420 330 416 342 420 335 b 415 319 420 326 419 321 b 178 118 397 303 179 118 b 178 117 178 118 178 117 b 181 117 178 117 178 117 b 189 117 182 117 185 117 b 193 117 190 117 191 117 b 247 98 215 117 232 111 b 296 75 266 83 280 76 b 302 75 299 75 300 75 b 322 91 311 75 315 79 b 322 91 322 91 322 91 b 322 91 322 91 322 91 b 319 91 322 91 321 91 b 313 90 318 90 315 90 b 283 107 300 90 288 97 b 277 126 279 114 277 121 b 319 167 277 149 295 167 b 319 167 319 167 319 167 b 362 118 347 167 362 147 b 355 82 362 108 359 96 b 311 33 349 65 340 55 b 224 1 284 12 253 1 b 194 5 213 1 204 2 b 168 18 183 8 178 11 b 110 36 151 30 130 36 b 57 15 88 36 68 29 b 47 11 54 12 51 11 b 31 20 40 11 34 13 b 29 26 31 22 29 25 b 68 66 29 36 39 45 b 285 250 73 71 281 248 b 285 250 285 250 285 250 b 231 252 285 252 261 252 b 137 250 190 252 141 250 b 93 227 122 248 110 241 b 78 220 88 222 83 220 b 66 227 74 220 70 222 b 63 234 65 229 63 231 b 85 291 63 241 69 252 b 115 345 108 342 108 344 "},v81:{x_min:0,x_max:428.75,ha:438,o:"m 262 186 b 273 186 266 186 272 186 b 274 186 273 186 274 186 b 285 186 274 186 280 186 b 428 48 375 181 428 122 b 386 -68 428 12 416 -29 b 155 -187 329 -145 236 -187 b 12 -111 92 -187 38 -162 b 0 -51 4 -91 0 -72 b 262 186 0 58 122 179 m 366 131 b 352 134 362 133 357 134 b 219 81 321 134 269 115 b 47 -111 126 23 50 -62 b 47 -112 47 -111 47 -112 b 77 -136 47 -129 58 -136 b 264 -45 118 -136 194 -101 b 382 109 336 12 382 76 b 366 131 382 120 377 129 "},v83:{x_min:-1.359375,x_max:847.96875,ha:865,o:"m 488 1499 b 495 1500 490 1500 492 1500 b 541 1465 507 1500 521 1490 b 679 1078 622 1372 679 1210 b 677 1050 679 1068 677 1060 b 477 642 668 893 604 764 l 443 609 l 431 596 l 431 592 l 438 562 l 449 508 l 460 458 b 481 355 475 390 481 355 b 481 355 481 355 481 355 b 490 356 481 355 485 355 b 528 358 495 356 511 358 b 558 356 540 358 552 356 b 839 95 699 338 808 237 b 847 22 845 72 847 47 b 631 -303 847 -113 766 -242 b 620 -309 623 -308 620 -309 l 620 -310 b 631 -359 620 -310 626 -333 l 646 -435 l 660 -496 b 672 -588 668 -535 672 -563 b 664 -653 672 -610 669 -630 b 383 -875 630 -792 509 -875 b 201 -810 321 -875 257 -855 b 129 -680 151 -768 129 -730 b 274 -530 129 -592 200 -530 b 351 -553 300 -530 326 -538 b 412 -669 393 -582 412 -626 b 287 -805 412 -735 366 -800 l 279 -805 l 285 -809 b 383 -830 318 -823 351 -830 b 586 -718 464 -830 540 -789 b 626 -584 612 -678 626 -631 b 619 -528 626 -566 623 -548 b 612 -495 619 -526 616 -510 b 577 -324 590 -387 577 -324 b 577 -324 577 -324 577 -324 b 568 -326 575 -324 571 -324 b 528 -334 558 -328 537 -333 b 465 -338 506 -337 485 -338 b 24 -11 269 -338 87 -206 b -1 145 8 41 -1 93 b 96 442 -1 249 32 351 b 322 714 166 541 236 626 l 352 745 l 345 782 l 332 843 l 315 921 b 303 984 310 950 304 978 b 295 1082 298 1017 295 1049 b 413 1426 295 1208 336 1329 b 488 1499 436 1456 477 1496 m 549 1301 b 541 1301 547 1301 544 1301 b 411 1207 500 1301 447 1263 b 355 1004 374 1152 355 1079 b 359 942 355 984 356 963 b 371 881 362 927 363 917 l 385 818 b 392 782 389 799 392 784 l 392 782 b 434 828 393 782 424 816 b 607 1165 534 941 594 1060 b 608 1193 608 1175 608 1183 b 597 1270 608 1224 604 1254 b 549 1301 589 1286 571 1299 m 398 528 b 393 555 396 542 393 553 b 392 555 393 555 393 555 b 317 470 390 555 347 505 b 190 298 266 408 212 334 b 127 70 148 227 127 148 b 155 -77 127 19 137 -30 b 468 -303 209 -216 333 -303 b 519 -299 484 -303 502 -302 b 568 -284 541 -295 568 -287 l 568 -284 b 563 -263 568 -284 566 -274 l 534 -120 l 511 -13 l 496 61 l 480 133 b 469 187 472 176 469 187 b 468 188 469 187 469 188 b 416 162 462 188 430 172 b 337 13 364 126 337 69 b 413 -124 337 -40 363 -93 b 428 -144 424 -131 428 -137 b 428 -149 428 -145 428 -148 b 409 -166 426 -161 419 -166 b 394 -162 405 -166 400 -165 b 240 77 302 -122 240 -27 l 240 77 b 430 342 240 197 315 301 l 436 344 l 426 394 l 398 528 m 548 194 b 526 195 540 195 532 195 b 519 195 524 195 521 195 l 514 195 l 518 177 l 539 79 l 552 15 l 566 -48 l 594 -187 l 605 -240 b 612 -266 609 -254 611 -266 b 612 -266 612 -266 612 -266 b 641 -248 613 -266 630 -256 b 744 -98 692 -212 730 -156 b 751 -40 749 -79 751 -59 b 548 194 751 76 665 181 "},v84:{x_min:25.859375,x_max:164.6875,ha:168,o:"m 34 369 b 40 370 35 370 38 370 b 59 353 49 370 50 367 b 164 40 122 254 155 158 b 164 0 164 33 164 16 b 164 -40 164 -16 164 -34 b 59 -353 155 -158 122 -254 b 40 -371 53 -366 47 -371 b 34 -370 38 -371 36 -370 b 25 -358 28 -367 25 -363 b 31 -337 25 -352 27 -347 b 92 0 72 -234 92 -117 b 31 335 92 116 72 233 b 25 356 27 345 25 352 b 34 369 25 363 28 366 "},v86:{x_min:-571.671875,x_max:570.3125,ha:582,o:"m -386 173 b -381 174 -385 174 -383 174 b -370 173 -377 174 -372 173 b -281 86 -367 172 -347 151 b -196 0 -235 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 53 86 -32 172 -12 151 b 138 0 100 37 138 0 b 208 84 140 0 170 37 b 284 174 279 173 277 172 b 289 174 285 174 288 174 b 299 173 294 174 298 173 b 462 11 303 172 338 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 374 -176 371 -176 b 280 -87 367 -173 345 -152 b 194 0 234 -38 194 0 b 125 -86 194 0 163 -38 b 49 -174 54 -174 55 -173 b 43 -176 47 -176 46 -176 b 34 -174 40 -176 36 -174 b -54 -87 31 -173 10 -152 b -140 0 -102 -38 -140 0 b -209 -86 -141 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -289 -176 b -300 -174 -295 -176 -299 -174 b -464 -12 -304 -173 -340 -137 l -476 0 l -504 -34 b -543 -77 -534 -73 -537 -76 b -549 -79 -545 -79 -547 -79 b -571 -58 -562 -79 -571 -69 b -568 -49 -571 -55 -570 -52 b -392 172 -566 -43 -396 167 b -386 173 -390 172 -387 173 "},v8a:{x_min:-170.140625,x_max:168.78125,ha:172,o:"m -160 567 b -122 567 -159 567 -149 567 l -87 567 l -84 566 b -74 553 -78 563 -77 560 b -20 366 -73 551 -49 466 b 31 186 8 267 31 186 b 85 371 31 186 55 269 b 140 559 114 473 138 557 b 153 567 141 564 148 567 b 168 559 159 567 166 564 b 168 555 168 557 168 557 b 92 281 168 548 159 513 b 14 13 50 134 14 13 b 0 0 14 6 6 0 b -17 15 -8 0 -17 8 b -93 283 -17 15 -51 136 b -170 552 -166 533 -170 548 b -170 553 -170 552 -170 552 b -160 567 -170 560 -167 564 "},v8b:{x_min:0,x_max:319.859375,ha:326,o:"m 149 508 b 159 509 152 509 155 509 b 186 494 170 509 181 503 b 190 440 190 487 190 488 l 190 430 l 190 377 l 242 377 l 251 377 b 303 373 298 377 296 377 b 319 345 314 367 319 356 b 304 319 319 335 314 324 b 250 315 296 315 299 315 l 242 315 l 190 315 l 190 262 l 190 252 b 186 198 190 204 190 205 b 159 183 179 188 170 183 b 132 198 148 183 138 188 b 127 252 127 205 127 204 l 127 262 l 127 315 l 76 315 l 68 315 b 14 319 20 315 21 315 b 0 347 4 324 0 335 b 14 373 0 356 4 367 b 68 377 21 377 20 377 l 76 377 l 127 377 l 127 430 l 127 440 b 132 494 127 488 127 487 b 149 508 136 501 142 505 "},v8c:{x_min:-330.75,x_max:329.390625,ha:336,o:"m -133 483 b -117 484 -127 484 -122 484 b 31 373 -51 484 9 440 b 35 348 34 365 35 356 b -25 285 35 313 10 285 b -87 331 -55 285 -76 302 b -167 402 -100 376 -133 402 b -191 398 -175 402 -183 401 b -227 341 -215 388 -227 369 b -225 320 -227 334 -227 327 b -13 74 -209 230 -125 133 b 6 65 -4 70 5 66 l 9 63 l 10 65 b 117 231 12 68 40 112 l 189 341 l 242 424 b 268 460 262 456 264 458 b 283 464 273 463 277 464 b 308 438 296 464 308 453 l 308 437 b 287 396 308 430 308 428 l 95 98 l 59 43 l 58 41 l 65 37 b 253 -156 151 -8 217 -77 b 281 -285 272 -199 281 -244 b 148 -481 281 -381 231 -463 b 115 -485 137 -484 126 -485 b -32 -376 51 -485 -9 -442 b -36 -349 -35 -366 -36 -358 b 25 -287 -36 -315 -12 -287 b 85 -333 54 -287 74 -302 b 166 -403 99 -377 133 -403 b 190 -399 174 -403 182 -402 b 225 -342 215 -390 225 -370 b 224 -322 225 -335 225 -328 b 12 -76 208 -231 125 -134 b -8 -66 2 -72 -6 -68 l -10 -65 l -12 -66 b -118 -231 -13 -68 -42 -113 l -190 -342 l -243 -426 b -269 -462 -264 -458 -265 -458 b -284 -466 -274 -464 -279 -466 b -310 -440 -298 -466 -310 -455 l -310 -438 b -288 -398 -310 -430 -308 -430 l -96 -99 l -59 -44 l -59 -43 l -66 -38 b -281 284 -198 33 -281 158 l -281 284 b -133 483 -281 392 -220 474 m 254 177 b 266 179 258 177 262 179 b 319 149 287 179 307 167 b 329 115 326 140 329 127 b 319 79 329 102 326 90 b 268 51 307 61 287 51 b 221 72 250 51 234 58 b 205 115 210 84 205 99 b 254 177 205 142 223 170 m -281 -54 b -269 -52 -277 -52 -273 -52 b -223 -73 -253 -52 -235 -59 b -206 -116 -212 -84 -206 -101 b -216 -151 -206 -129 -209 -141 b -269 -179 -228 -170 -249 -179 b -314 -159 -285 -179 -302 -173 b -330 -116 -325 -147 -330 -131 b -281 -54 -330 -88 -313 -61 "},v8d:{x_min:-1.359375,x_max:255.890625,ha:261,o:"m 118 514 b 127 517 121 517 122 517 b 147 505 136 517 142 513 l 148 502 l 148 403 b 148 306 148 351 148 306 b 174 315 149 306 160 310 l 200 324 l 205 323 b 223 312 213 323 220 319 l 225 308 l 225 260 b 225 245 225 255 225 249 b 220 204 225 208 224 209 b 179 188 216 199 215 199 l 148 177 l 148 124 l 148 70 l 189 84 b 236 98 219 94 230 98 b 247 94 240 98 243 97 b 255 52 254 88 255 87 b 255 33 255 47 255 40 l 254 -12 l 253 -15 b 249 -22 253 -18 250 -20 l 245 -24 l 196 -41 l 148 -58 l 148 -108 b 148 -158 148 -136 148 -158 b 174 -148 148 -158 160 -154 b 204 -140 198 -140 200 -140 l 204 -140 b 224 -152 213 -140 221 -145 b 225 -201 224 -155 225 -177 b 224 -254 225 -226 224 -251 b 157 -284 220 -262 220 -262 l 148 -288 l 148 -395 l 148 -503 l 147 -506 b 127 -519 142 -514 134 -519 b 107 -506 119 -519 111 -514 l 106 -503 l 106 -403 b 106 -303 106 -316 106 -303 b 104 -303 104 -303 104 -303 b 88 -310 104 -303 96 -306 l 63 -319 b 51 -322 59 -320 55 -322 b 36 -315 46 -322 40 -319 b 31 -273 32 -309 31 -312 b 31 -258 31 -269 31 -263 l 31 -210 l 34 -206 b 40 -198 35 -204 38 -199 b 74 -186 42 -197 57 -191 l 106 -173 l 106 -123 b 106 -97 106 -112 106 -104 b 106 -72 106 -76 106 -72 b 104 -72 106 -72 106 -72 b 20 -99 89 -79 23 -99 b 0 -84 10 -99 2 -93 b -1 -37 0 -81 -1 -59 b 0 11 -1 -15 0 9 b 58 40 4 22 2 22 l 106 56 l 106 109 b 106 123 106 115 106 119 b 106 162 106 147 106 162 b 81 155 106 162 93 159 b 50 147 65 149 55 147 b 36 152 43 147 40 148 b 31 194 32 158 31 156 b 31 209 31 198 31 204 l 31 256 l 34 260 b 76 281 38 269 38 269 l 106 292 l 106 396 l 106 502 l 107 505 b 118 514 110 509 114 513 "},v8f:{x_min:-21.78125,x_max:362.0625,ha:369,o:"m 302 1031 b 308 1032 304 1032 307 1032 b 330 1016 318 1032 325 1027 b 362 867 351 970 362 920 b 340 738 362 824 353 780 l 336 727 l 340 717 b 362 591 355 677 362 634 b 257 323 362 496 325 401 b 204 272 243 306 227 290 b 20 56 129 206 66 133 b -1 18 12 44 0 22 b -19 4 -4 9 -12 4 l -21 4 l -21 140 l -21 276 l -12 277 b 167 333 61 288 127 309 b 319 598 262 388 319 491 b 311 664 319 620 317 642 l 310 673 l 304 664 b 204 548 279 620 250 587 b 20 333 129 483 66 409 b -1 292 12 320 0 298 b -19 280 -4 285 -12 280 l -21 280 l -21 416 l -21 552 l -12 553 b 167 609 61 564 127 585 b 319 874 264 666 319 770 b 294 992 319 914 311 954 b 288 1011 288 1004 288 1007 b 302 1031 288 1021 294 1028 "},v90:{x_min:-171.5,x_max:483.1875,ha:493,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 495 20 616 20 616 b 20 373 20 427 20 373 b 115 410 20 373 63 390 l 210 448 l 210 531 b 212 620 210 614 210 616 b 231 632 215 628 223 632 b 246 627 236 632 242 631 b 251 541 251 620 251 628 l 251 463 l 315 489 b 387 514 368 509 381 514 b 393 513 390 514 392 514 b 406 494 402 510 406 502 b 397 476 406 487 404 480 b 323 446 396 474 363 462 l 251 417 l 251 283 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -19 -217 -9 -229 -16 -224 l -20 -215 l -21 48 l -21 310 l -83 287 b -152 262 -133 266 -145 262 b -157 263 -153 262 -155 262 b -171 283 -166 266 -171 274 b -161 301 -171 290 -167 297 b -91 328 -160 302 -129 315 l -21 356 l -21 487 l -20 617 l -19 621 b -8 631 -17 626 -12 630 m 210 288 b 210 401 210 351 210 401 b 114 365 209 401 167 384 l 20 327 l 20 238 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 180 164 199 187 192 l 209 177 b 209 177 209 177 209 177 b 210 288 210 177 210 199 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 "},v92:{x_min:0,x_max:598.890625,ha:611,o:"m 62 181 b 77 183 66 183 72 183 b 91 181 83 183 88 183 b 202 131 100 180 106 177 l 299 87 l 394 131 b 517 183 499 181 502 183 b 519 183 517 183 518 183 b 598 104 567 183 598 144 b 577 49 598 84 592 65 b 518 15 567 38 563 37 b 484 0 499 6 484 0 b 518 -16 484 -1 499 -8 b 577 -51 563 -38 567 -40 b 598 -105 592 -66 598 -86 b 519 -184 598 -145 567 -184 b 517 -184 518 -184 517 -184 b 394 -133 502 -184 499 -183 l 299 -88 l 202 -133 b 81 -184 99 -183 95 -184 b 77 -184 80 -184 78 -184 b 0 -105 29 -184 0 -145 b 20 -51 0 -86 5 -66 b 80 -16 29 -40 34 -38 b 114 -1 98 -8 114 -1 b 80 15 114 0 98 6 b 20 49 34 37 29 38 b 0 104 6 65 0 84 b 62 181 0 140 23 174 m 88 134 b 74 136 85 134 80 136 b 68 134 72 136 69 136 b 46 104 54 130 46 117 b 55 81 46 95 49 88 b 149 34 59 76 53 80 b 224 -1 190 15 224 0 b 144 -38 224 -1 187 -18 b 54 -84 59 -79 58 -79 b 46 -105 49 -90 46 -98 b 76 -137 46 -122 58 -137 b 78 -137 77 -137 77 -137 b 194 -86 87 -137 76 -141 b 298 -36 250 -58 298 -36 b 298 -36 298 -36 298 -36 b 402 -84 299 -36 345 -58 b 518 -137 522 -141 510 -137 b 521 -137 519 -137 519 -137 b 551 -105 539 -137 551 -122 b 541 -83 551 -98 548 -90 b 447 -36 537 -77 544 -81 b 374 -1 406 -16 374 -1 b 447 34 374 0 406 15 b 541 81 544 80 537 76 b 551 104 548 88 551 97 b 521 136 551 120 539 136 b 518 136 519 136 519 136 b 517 136 518 136 517 136 l 517 136 b 402 83 511 136 511 136 b 298 34 345 56 299 34 b 298 34 298 34 298 34 b 194 84 298 34 250 56 b 88 134 137 111 89 133 "},v93:{x_min:0,x_max:438.28125,ha:447,o:"m 212 205 b 219 205 213 205 216 205 b 239 183 228 205 231 204 b 421 -163 298 40 363 -83 b 438 -191 434 -180 438 -186 b 436 -197 438 -192 438 -195 b 424 -206 434 -204 431 -206 b 406 -201 420 -206 415 -205 b 216 -156 347 -172 281 -156 b 23 -205 148 -156 80 -173 b 14 -206 20 -206 17 -206 b 0 -191 6 -206 0 -201 b 6 -176 0 -187 1 -183 b 202 192 63 -104 142 45 b 212 205 205 199 208 202 m 264 48 l 249 81 l 243 94 l 242 91 b 89 -126 208 36 137 -66 b 81 -138 85 -133 81 -138 b 81 -138 81 -138 81 -138 b 81 -138 81 -138 81 -138 b 95 -133 81 -138 87 -136 b 280 -94 156 -108 221 -94 b 334 -98 299 -94 317 -95 b 343 -99 338 -99 343 -99 b 343 -99 343 -99 343 -99 b 338 -94 343 -99 341 -97 b 264 48 318 -58 287 1 "},v94:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -9 215 b 0 217 -6 217 -4 217 b 19 205 8 217 14 213 b 20 142 20 202 20 201 l 20 84 l 23 84 b 144 -27 81 74 129 30 b 148 -66 147 -40 148 -54 b 36 -213 148 -134 103 -197 b 0 -219 24 -217 12 -219 b -145 -104 -68 -219 -129 -173 b -149 -68 -148 -91 -149 -79 b -24 84 -149 6 -98 74 l -21 84 l -21 142 b -19 205 -20 201 -20 202 b -9 215 -17 209 -13 213 m -21 -15 b -23 41 -21 37 -21 41 b -23 41 -23 41 -23 41 b -76 11 -35 40 -62 26 b -108 -65 -98 -11 -108 -38 b -1 -176 -108 -122 -65 -176 b 107 -65 63 -176 107 -122 b 74 11 107 -38 96 -11 b 20 41 61 26 32 41 b 20 -15 20 41 20 15 b 19 -74 20 -72 20 -72 b 0 -87 14 -83 6 -87 b -19 -74 -8 -87 -16 -83 b -21 -15 -20 -72 -20 -72 "},v95:{x_min:0,x_max:406.96875,ha:415,o:"m 55 181 b 70 183 61 183 66 183 b 111 170 85 183 99 179 b 160 130 115 167 137 149 l 202 95 l 245 130 b 319 181 299 176 302 179 b 334 183 325 183 330 183 b 406 109 375 183 406 148 b 401 81 406 99 405 91 b 348 24 394 65 390 59 b 318 -1 332 11 318 0 b 348 -26 318 -1 332 -12 b 401 -83 390 -61 394 -66 b 406 -111 405 -93 406 -101 b 334 -184 406 -149 375 -184 b 319 -183 330 -184 325 -184 b 245 -131 302 -180 299 -177 l 202 -97 l 160 -131 b 85 -183 107 -177 103 -180 b 70 -184 80 -184 76 -184 b 0 -111 31 -184 0 -149 b 4 -83 0 -101 1 -93 b 58 -26 10 -66 16 -61 b 88 -1 74 -12 88 -1 b 58 24 88 0 74 11 b 10 69 23 54 17 59 b 0 109 2 81 0 95 b 55 181 0 142 21 173 m 83 133 b 72 136 78 136 76 136 b 57 131 66 136 61 134 b 46 109 49 126 46 117 b 50 93 46 104 47 98 b 107 45 51 91 77 70 b 160 0 137 20 160 0 b 107 -47 160 -1 137 -22 b 50 -94 77 -72 51 -93 b 46 -111 47 -99 46 -105 b 59 -134 46 -120 50 -130 b 72 -137 62 -136 68 -137 b 83 -136 76 -137 80 -136 b 144 -84 84 -134 107 -116 b 202 -36 176 -58 202 -36 b 261 -84 202 -36 230 -58 b 323 -136 299 -116 321 -134 b 334 -137 326 -136 330 -137 b 345 -134 338 -137 343 -136 b 360 -111 355 -130 360 -120 b 355 -94 360 -105 359 -99 b 299 -47 353 -93 329 -72 b 245 0 269 -22 245 -1 b 299 45 245 0 269 20 b 355 93 329 70 353 91 b 360 109 359 98 360 104 b 345 133 360 119 355 129 b 334 136 343 134 338 136 b 323 134 330 136 326 134 b 261 83 321 133 299 115 b 202 34 230 56 202 34 b 144 83 202 34 176 56 b 83 133 106 115 84 133 "},v97:{x_min:-228.671875,x_max:227.3125,ha:232,o:"m -217 487 l -213 488 l 0 488 l 212 488 l 216 487 b 225 476 220 484 224 480 l 227 473 l 227 244 l 227 15 l 225 12 b 206 0 223 4 215 0 b 197 1 204 0 200 0 b 187 12 193 4 189 6 l 186 15 l 186 138 l 186 262 l -1 262 l -187 262 l -187 138 l -187 15 l -189 12 b -208 0 -193 4 -200 0 b -227 12 -216 0 -223 4 l -228 15 l -228 244 l -228 473 l -227 476 b -217 487 -225 480 -221 484 "},v9a:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 230 1031 b 238 1032 232 1032 235 1032 b 259 1014 245 1032 251 1027 b 367 662 330 906 367 782 b 364 602 367 641 367 621 b 232 317 352 488 304 384 b 57 120 155 245 103 187 b -1 18 31 84 6 40 b -19 4 -4 11 -12 4 l -21 4 l -21 159 l -21 315 l -16 315 b 96 335 10 315 62 324 b 315 695 227 380 315 527 b 313 738 315 709 314 724 b 224 991 304 825 273 916 b 216 1013 219 999 216 1007 b 230 1031 216 1021 220 1028 "},v9b:{x_min:-24.5,x_max:313.0625,ha:319,o:"m -24 -133 l -24 -5 l -20 -5 b -1 -19 -12 -5 -4 -11 b 142 -213 13 -61 74 -144 b 258 -376 196 -269 230 -315 b 313 -605 295 -449 313 -528 b 292 -742 313 -652 306 -699 b 288 -752 289 -748 288 -752 b 288 -752 288 -752 288 -752 b 292 -764 289 -753 291 -757 b 313 -907 306 -811 313 -860 b 292 -1045 313 -954 306 -1002 b 288 -1054 289 -1050 288 -1054 b 288 -1054 288 -1054 288 -1054 b 292 -1067 289 -1054 291 -1060 b 313 -1210 306 -1113 313 -1161 b 292 -1346 313 -1257 306 -1304 b 288 -1357 289 -1353 288 -1357 b 288 -1357 288 -1357 288 -1357 b 292 -1368 289 -1357 291 -1363 b 313 -1512 306 -1415 313 -1464 b 292 -1648 313 -1560 306 -1605 b 288 -1660 289 -1654 288 -1660 b 288 -1660 288 -1660 288 -1660 b 292 -1671 289 -1660 291 -1665 b 313 -1814 306 -1719 313 -1766 b 250 -2040 313 -1897 291 -1977 b 232 -2062 238 -2057 236 -2059 b 221 -2065 230 -2063 225 -2065 b 200 -2045 210 -2065 201 -2057 b 200 -2043 200 -2044 200 -2044 b 208 -2026 200 -2037 202 -2034 b 269 -1826 249 -1966 269 -1897 b 153 -1544 269 -1726 230 -1625 b -9 -1472 115 -1506 58 -1481 b -21 -1471 -14 -1471 -19 -1471 l -24 -1471 l -24 -1343 l -24 -1215 l -20 -1215 b -1 -1229 -12 -1215 -4 -1221 b 142 -1424 13 -1270 74 -1353 b 257 -1582 196 -1478 228 -1524 b 264 -1594 261 -1589 264 -1594 l 264 -1594 b 265 -1582 264 -1594 264 -1589 b 270 -1525 268 -1562 270 -1544 b 153 -1243 270 -1424 228 -1321 b -9 -1170 115 -1203 58 -1178 b -21 -1168 -14 -1170 -19 -1168 l -24 -1168 l -24 -1041 l -24 -913 l -20 -913 b -1 -927 -12 -913 -4 -918 b 142 -1121 13 -967 74 -1050 b 257 -1281 196 -1175 228 -1221 b 264 -1292 261 -1286 264 -1292 l 264 -1292 b 265 -1279 264 -1292 264 -1286 b 270 -1222 268 -1261 270 -1242 b 153 -941 270 -1121 228 -1018 b -9 -867 115 -900 58 -875 b -21 -866 -14 -867 -19 -866 l -24 -866 l -24 -738 l -24 -610 l -20 -610 b -1 -624 -12 -610 -4 -616 b 142 -818 13 -664 74 -749 b 257 -978 196 -873 228 -918 b 264 -989 261 -984 264 -989 l 264 -989 b 265 -977 264 -989 264 -984 b 270 -920 268 -959 270 -939 b 153 -638 270 -818 228 -716 b -9 -564 115 -598 58 -573 b -21 -563 -14 -564 -19 -563 l -24 -563 l -24 -435 l -24 -308 l -20 -308 b -1 -322 -12 -308 -4 -313 b 142 -516 13 -363 74 -446 b 257 -675 196 -571 228 -616 b 264 -687 261 -681 264 -687 l 264 -687 b 265 -674 264 -687 264 -681 b 270 -617 268 -656 270 -637 b 153 -335 270 -516 228 -413 b -9 -262 115 -295 58 -270 b -21 -260 -14 -262 -19 -260 l -24 -260 l -24 -133 "},v9c:{x_min:-166.0625,x_max:-25.859375,ha:0,o:"m -49 369 b -42 370 -46 369 -44 370 b -27 360 -36 370 -29 366 b -25 355 -27 359 -25 358 b -32 335 -25 351 -28 347 b -92 52 -66 248 -87 159 b -93 -1 -93 43 -93 20 b -92 -54 -93 -23 -93 -45 b -32 -337 -85 -162 -66 -251 b -25 -355 -27 -349 -25 -352 b -42 -371 -25 -365 -32 -371 b -61 -353 -50 -371 -51 -369 b -163 -63 -119 -262 -153 -165 b -166 -1 -166 -37 -166 -31 b -163 62 -166 30 -166 36 b -61 352 -153 163 -119 260 b -49 369 -54 365 -51 366 "},v9e:{x_min:0,x_max:607.0625,ha:619,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 m 347 631 b 353 632 348 632 351 632 b 374 620 363 632 371 628 b 375 383 375 616 375 616 l 375 148 l 377 151 b 492 199 415 183 454 199 b 537 191 507 199 522 197 b 607 84 582 176 607 134 b 583 0 607 58 598 29 b 455 -142 562 -40 533 -72 l 378 -215 b 355 -229 364 -229 362 -229 b 334 -216 345 -229 337 -224 l 333 -212 l 333 201 l 333 616 l 334 620 b 347 631 337 624 341 630 m 465 131 b 451 133 461 133 455 133 b 445 133 449 133 446 133 b 379 87 419 129 396 113 l 375 80 l 375 -37 l 375 -156 l 378 -152 b 499 81 451 -72 499 20 l 499 83 b 465 131 499 113 490 126 "},va3:{x_min:58.53125,x_max:228.671875,ha:294,o:"m 138 371 b 142 373 140 371 141 373 b 178 342 149 373 156 366 b 228 251 217 297 228 278 b 228 244 228 248 228 247 b 176 147 227 212 212 184 b 123 73 152 122 132 93 b 121 62 122 70 121 66 b 145 13 121 48 129 31 b 153 -2 151 6 153 1 b 149 -9 153 -5 152 -6 b 144 -11 148 -11 145 -11 b 129 -1 140 -11 136 -8 b 61 87 89 37 68 68 b 58 113 59 95 58 105 b 110 215 58 144 74 177 b 163 287 134 240 155 269 b 166 299 166 291 166 295 b 141 348 166 313 157 330 b 133 360 134 356 133 358 b 133 363 133 362 133 362 b 138 371 133 367 136 370 "},va5:{x_min:0,x_max:349.8125,ha:357,o:"m 88 302 b 103 303 93 302 98 303 b 202 224 149 303 191 270 b 205 199 204 216 205 208 b 178 129 205 173 196 147 l 175 126 l 182 127 b 307 249 236 142 284 190 b 313 259 308 254 311 258 b 329 267 317 265 323 267 b 349 247 340 267 349 259 b 201 -263 349 242 204 -258 b 182 -273 197 -270 190 -273 b 163 -260 174 -273 166 -269 b 161 -256 161 -259 161 -258 b 217 -59 161 -248 170 -220 b 272 129 247 43 272 127 b 272 129 272 129 272 129 b 264 122 272 129 268 126 b 140 80 227 94 183 80 b 36 115 102 80 65 91 b 0 194 10 136 0 165 b 88 302 0 244 32 292 "},va9:{x_min:-24.5,x_max:314.421875,ha:321,o:"m -24 -145 l -24 -5 l -20 -5 b 0 -23 -9 -5 -2 -12 b 27 -87 4 -38 14 -66 b 138 -220 53 -136 88 -177 b 235 -328 179 -255 208 -288 b 314 -592 287 -409 314 -501 b 292 -732 314 -639 307 -687 l 289 -742 l 294 -756 b 314 -896 307 -802 314 -849 b 292 -1035 314 -943 307 -991 l 289 -1045 l 294 -1057 b 314 -1197 307 -1104 314 -1152 b 292 -1338 314 -1246 307 -1292 l 289 -1347 l 294 -1360 b 314 -1500 307 -1407 314 -1454 b 273 -1689 314 -1565 300 -1628 b 250 -1712 265 -1710 261 -1712 b 228 -1691 236 -1712 228 -1704 l 228 -1685 l 234 -1675 b 270 -1507 258 -1621 270 -1564 b 98 -1193 270 -1381 209 -1261 b 40 -1174 76 -1179 58 -1174 b -10 -1189 24 -1174 8 -1178 b -20 -1192 -14 -1192 -16 -1192 l -24 -1192 l -24 -1052 l -24 -913 l -20 -913 b 0 -931 -9 -913 -2 -920 b 27 -995 4 -946 14 -974 b 138 -1128 53 -1043 88 -1085 b 257 -1275 190 -1172 228 -1220 b 262 -1283 259 -1279 262 -1283 l 262 -1283 b 269 -1249 264 -1282 268 -1260 b 270 -1206 270 -1233 270 -1220 b 98 -891 270 -1075 206 -957 b 40 -871 76 -877 58 -871 b -10 -886 24 -871 8 -875 b -20 -889 -14 -889 -16 -889 l -24 -889 l -24 -749 l -24 -610 l -20 -610 b 0 -628 -9 -610 -2 -617 b 27 -692 4 -644 14 -671 b 138 -825 53 -741 88 -782 b 257 -973 190 -870 228 -917 b 262 -981 259 -977 262 -981 l 262 -981 b 269 -946 264 -979 268 -957 b 270 -903 270 -931 270 -917 b 98 -588 270 -774 206 -655 b 40 -569 76 -574 58 -569 b -10 -584 24 -569 8 -574 b -20 -587 -14 -587 -16 -587 l -24 -587 l -24 -448 l -24 -308 l -20 -308 b 0 -326 -9 -308 -2 -315 b 27 -390 4 -341 14 -369 b 138 -523 53 -438 88 -480 b 257 -670 190 -567 228 -614 b 262 -678 259 -674 262 -678 b 262 -678 262 -678 262 -678 b 269 -644 264 -677 268 -656 b 270 -601 270 -628 270 -614 b 98 -285 270 -471 206 -352 b 40 -266 76 -273 58 -266 b -10 -281 24 -266 8 -272 b -20 -284 -14 -284 -16 -284 l -24 -284 l -24 -145 "},vaa:{x_min:-1.359375,x_max:752.703125,ha:768,o:"m 490 985 b 504 986 495 986 500 986 b 604 907 551 986 593 954 b 607 884 607 900 607 892 b 581 813 607 857 597 831 l 578 810 l 583 811 b 710 932 638 827 687 873 b 714 943 711 936 713 942 b 730 952 720 949 725 952 b 752 931 741 952 752 943 b 200 -946 752 927 204 -941 b 182 -957 197 -953 190 -957 b 163 -945 174 -957 166 -953 b 161 -939 161 -942 161 -942 b 217 -743 161 -931 170 -904 b 272 -555 247 -639 272 -555 b 272 -555 272 -555 272 -555 b 264 -560 272 -555 268 -557 b 140 -603 227 -589 182 -603 b 36 -567 102 -603 65 -592 b -1 -487 12 -548 -1 -517 b 17 -427 -1 -466 5 -445 b 103 -380 38 -395 70 -380 b 191 -433 137 -380 172 -398 b 205 -484 201 -448 205 -466 b 178 -553 205 -509 196 -535 l 175 -557 l 182 -555 b 307 -435 236 -539 284 -494 b 372 -213 308 -430 372 -215 b 372 -213 372 -213 372 -213 b 364 -219 372 -213 368 -216 b 240 -262 328 -247 283 -262 b 137 -226 202 -262 166 -249 b 99 -145 112 -206 99 -176 b 118 -84 99 -124 106 -104 b 204 -38 138 -54 171 -38 b 292 -91 238 -38 273 -56 b 306 -141 302 -106 306 -124 b 279 -212 306 -167 296 -194 l 276 -215 l 281 -213 b 408 -93 336 -198 385 -151 b 473 129 409 -88 473 127 b 473 129 473 129 473 129 b 465 122 473 129 469 126 b 341 80 428 94 383 80 b 236 115 303 80 266 91 b 200 195 213 136 200 165 b 217 256 200 217 206 238 b 304 303 239 287 272 303 b 393 249 338 303 374 285 b 406 199 402 234 406 217 b 379 129 406 173 397 148 l 377 126 l 382 127 b 509 248 436 142 485 190 b 574 470 510 254 574 469 b 574 470 574 470 574 470 b 566 464 574 470 570 467 b 442 421 529 435 484 421 b 337 458 404 421 367 433 b 300 538 314 477 300 508 b 318 598 300 559 306 580 b 404 645 340 630 372 645 b 494 592 439 645 475 627 b 507 541 502 577 507 559 b 480 471 507 516 498 489 l 477 467 l 483 470 b 608 589 537 485 586 531 b 675 811 611 595 675 810 b 675 811 675 811 675 811 b 666 806 675 811 671 809 b 543 763 628 777 585 763 b 438 799 504 763 468 775 b 401 878 412 820 401 849 b 490 985 401 928 434 977 "},vab:{x_min:0,x_max:272.21875,ha:278,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 "},vad:{x_min:0,x_max:873.828125,ha:892,o:"m 0 0 l 0 703 l 81 703 l 164 703 l 164 0 l 164 -705 l 81 -705 l 0 -705 l 0 0 m 225 0 l 225 703 l 246 703 l 268 703 l 268 366 l 268 30 l 274 36 b 314 79 284 44 302 63 b 413 302 357 137 392 213 b 432 327 419 324 421 327 b 449 306 443 327 447 322 b 611 115 457 195 529 115 b 651 122 624 115 638 117 b 728 316 705 140 724 188 b 729 388 728 342 729 366 b 671 635 729 533 711 602 b 581 662 649 652 616 662 b 477 637 545 662 510 653 l 475 635 l 477 634 b 503 627 488 632 495 631 b 545 556 532 612 545 584 b 491 480 545 524 526 491 b 465 474 481 476 473 474 b 379 563 417 474 379 516 b 389 602 379 576 382 588 b 541 691 409 641 479 681 b 582 694 555 692 568 694 b 865 462 714 694 834 598 b 873 392 871 440 873 416 b 865 317 873 367 871 341 b 639 84 839 194 748 101 b 612 83 630 83 620 83 b 511 116 577 83 543 94 b 504 120 509 119 506 120 b 504 120 504 120 504 120 b 469 59 504 120 488 93 l 432 -1 l 469 -61 b 504 -122 488 -94 504 -122 b 504 -122 504 -122 504 -122 b 511 -117 506 -122 509 -120 b 612 -84 543 -95 577 -84 b 665 -91 630 -84 647 -87 b 869 -338 771 -122 850 -216 b 873 -392 872 -356 873 -374 b 798 -595 873 -469 847 -539 b 581 -695 741 -662 660 -695 b 406 -626 517 -695 454 -671 b 381 -563 389 -607 381 -585 b 465 -477 381 -519 413 -477 b 545 -559 514 -477 545 -519 b 503 -628 545 -587 532 -613 b 477 -635 495 -632 488 -634 l 475 -637 l 477 -638 b 581 -663 510 -655 545 -663 b 671 -637 616 -663 649 -653 b 729 -391 711 -603 729 -534 b 728 -317 729 -367 728 -344 b 623 -117 722 -173 698 -124 b 611 -116 619 -116 615 -116 b 449 -308 528 -116 457 -198 b 432 -328 447 -323 443 -328 b 413 -303 421 -328 419 -326 b 314 -80 392 -215 357 -138 b 274 -37 302 -65 284 -45 l 268 -31 l 268 -367 l 268 -705 l 246 -705 l 225 -705 l 225 0 "},vb1:{x_min:78.9375,x_max:485.921875,ha:417,o:"m 362 378 b 378 380 367 380 372 380 b 472 348 415 380 453 367 b 485 315 481 338 485 327 b 462 273 485 298 477 281 b 439 267 454 269 446 267 b 398 290 424 267 409 274 b 344 319 385 309 364 319 b 281 269 315 319 289 301 b 279 262 280 266 279 262 b 276 256 279 260 277 258 b 274 249 276 254 274 251 b 238 127 273 248 257 192 b 201 4 217 61 201 5 b 166 -1 198 -1 200 -1 b 153 -1 163 -1 157 -1 b 141 -1 148 -1 144 -1 b 104 4 106 -1 107 -1 b 104 6 104 5 104 5 b 142 144 104 13 110 34 b 182 278 164 219 181 276 b 183 288 182 281 182 285 b 185 302 185 292 185 298 b 164 330 185 317 176 328 b 159 330 163 330 161 330 b 102 302 140 330 119 320 b 91 294 95 295 93 294 b 88 294 91 294 89 294 b 78 303 83 294 78 298 b 81 312 78 306 78 309 b 200 373 106 347 160 373 b 215 371 205 373 209 371 b 266 335 235 367 254 353 b 269 331 268 333 269 331 b 269 331 269 331 269 331 b 273 335 269 331 270 334 b 362 378 298 359 330 376 "},vb3:{x_min:0,x_max:227.3125,ha:232,o:"m 91 213 b 100 215 93 215 96 215 b 227 58 167 215 224 144 b 227 52 227 56 227 54 b 61 -201 227 -43 164 -138 b 29 -216 44 -212 36 -216 b 23 -210 27 -216 24 -213 b 21 -205 21 -208 21 -206 b 34 -192 21 -201 25 -197 b 122 -55 89 -161 122 -106 b 104 6 122 -33 117 -12 l 103 9 l 96 9 b 4 79 57 9 17 38 b 0 112 1 90 0 101 b 91 213 0 163 36 209 "},vb4:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -533 324 b -525 327 -530 326 -528 327 b -504 305 -514 327 -504 317 b -504 305 -504 305 -504 305 b -513 284 -504 299 -504 299 b -556 112 -541 226 -556 167 b -545 33 -556 84 -552 58 b -524 -20 -541 15 -532 -9 l -522 -23 l -491 15 l -413 111 b -355 174 -367 169 -363 174 b -351 174 -353 174 -352 174 b -254 86 -343 174 -348 179 b -168 -1 -208 37 -168 -1 b -100 84 -168 -1 -137 37 b -23 173 -28 173 -29 172 b -19 174 -21 174 -20 174 b -8 173 -14 174 -10 173 b 80 86 -5 172 13 151 b 166 -1 127 37 166 -1 b 235 84 166 -1 197 37 b 311 173 306 173 304 172 b 317 174 313 174 314 174 b 326 173 319 174 323 173 b 490 11 329 172 366 134 l 502 -1 l 530 34 b 568 76 560 72 563 74 b 575 77 570 77 573 77 b 596 56 586 77 596 68 b 594 48 596 54 596 51 b 417 -172 592 41 424 -166 b 405 -176 415 -174 409 -176 b 396 -174 401 -176 398 -176 b 307 -87 393 -173 372 -152 b 221 -1 259 -38 221 -1 b 152 -86 221 -1 190 -38 b 76 -176 81 -174 83 -173 b 70 -176 74 -176 73 -176 b 61 -174 66 -176 62 -174 b -27 -87 58 -173 38 -152 b -114 -1 -74 -38 -112 -1 b -182 -86 -114 -1 -145 -38 b -258 -176 -253 -174 -253 -173 b -264 -176 -259 -176 -262 -176 b -274 -174 -268 -176 -272 -174 b -438 -11 -277 -173 -348 -102 l -449 0 l -479 -37 b -524 -80 -513 -80 -514 -80 l -524 -80 b -553 -52 -534 -80 -540 -74 b -597 109 -583 -8 -597 48 b -560 280 -597 165 -585 224 b -533 324 -548 310 -540 322 "},vb6:{x_min:0,x_max:556.6875,ha:568,o:"m 289 545 b 298 546 292 545 295 546 b 318 533 306 546 315 541 b 319 428 319 530 319 528 l 319 327 l 334 327 b 526 223 412 326 485 285 b 543 172 537 206 543 190 b 447 76 543 122 503 76 b 445 76 446 76 446 76 b 359 165 394 77 359 119 b 368 205 359 179 362 192 b 441 251 382 233 412 251 b 455 249 446 251 451 251 b 460 248 458 249 460 248 b 460 248 460 248 460 248 b 454 254 460 249 458 251 b 334 295 419 280 378 294 l 319 295 l 319 4 l 319 -287 l 321 -285 b 328 -285 322 -285 325 -285 b 524 -99 424 -277 507 -198 b 541 -79 526 -84 530 -79 b 556 -97 551 -79 556 -84 b 548 -133 556 -105 553 -117 b 334 -317 521 -233 434 -306 b 322 -319 329 -317 323 -317 l 319 -319 l 319 -424 b 319 -471 319 -444 319 -459 b 313 -541 319 -544 318 -535 b 298 -548 308 -545 303 -548 b 279 -534 289 -548 281 -542 b 277 -424 277 -531 277 -530 l 277 -317 l 273 -317 b 13 -95 153 -305 51 -217 b 0 2 4 -62 0 -29 b 182 295 0 126 66 238 b 274 324 210 309 249 320 l 277 324 l 277 427 b 279 533 277 528 277 530 b 289 545 281 538 285 542 m 277 2 b 277 291 277 161 277 291 b 268 288 277 291 273 290 b 144 1 179 265 144 184 b 276 -284 144 -199 175 -267 l 277 -285 l 277 2 "},vb7:{x_min:-176.9375,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 503 20 616 20 614 b 20 391 20 442 20 391 b 84 424 20 391 49 406 l 147 456 l 152 456 b 153 456 153 456 153 456 b 175 435 166 456 175 446 b 172 427 175 433 174 430 b 92 380 170 420 172 421 l 20 342 l 20 245 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 b -21 54 -21 -212 -21 -212 b -21 322 -21 201 -21 322 b -85 290 -21 322 -50 308 l -148 256 l -153 256 b -155 256 -155 256 -155 256 b -176 277 -167 256 -176 266 b -174 285 -176 280 -175 283 b -93 333 -171 294 -174 292 l -21 370 l -21 494 b -20 620 -21 616 -21 616 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},vb9:{x_min:-122.5,x_max:121.140625,ha:124,o:"m -16 145 b 0 147 -10 147 -5 147 b 121 -1 66 147 121 77 b 114 -49 121 -16 118 -33 b -1 -148 95 -112 47 -148 b -85 -106 -31 -148 -61 -134 b -122 -1 -110 -76 -122 -38 b -16 145 -122 68 -81 134 m 12 111 b 0 113 8 113 4 113 b -68 22 -29 113 -61 73 b -70 0 -69 15 -70 6 b -13 -113 -70 -49 -47 -98 b -1 -115 -9 -115 -5 -115 b 63 -40 24 -115 53 -83 b 68 -1 66 -27 68 -15 b 12 111 68 48 46 97 "},vba:{x_min:-118.421875,x_max:597.53125,ha:381,o:"m 460 574 b 464 574 461 574 462 574 b 488 574 470 574 481 574 b 500 573 491 574 498 574 b 594 503 543 570 588 538 b 597 488 596 498 597 494 b 528 417 597 449 564 417 b 502 423 519 417 510 419 b 465 481 477 434 465 458 b 488 528 465 499 472 516 b 490 530 490 530 490 530 b 490 530 490 530 490 530 b 468 517 488 530 475 523 b 349 340 419 485 377 420 b 347 330 348 334 347 330 b 383 328 347 328 363 328 b 428 326 423 328 424 328 b 442 302 438 320 442 312 b 430 281 442 294 438 285 b 385 276 424 277 426 276 l 377 276 l 332 276 l 330 269 b 178 -117 303 126 250 -9 b 1 -249 129 -194 69 -237 b -20 -251 -6 -251 -13 -251 b -114 -187 -65 -251 -100 -227 b -118 -156 -117 -177 -118 -166 b -51 -84 -118 -116 -91 -84 b -31 -87 -46 -84 -39 -86 b 16 -152 0 -95 16 -124 b -12 -205 16 -173 8 -194 b -16 -208 -14 -206 -16 -208 b -14 -208 -16 -208 -14 -208 b -9 -206 -14 -208 -12 -208 b 74 -124 23 -197 54 -166 b 172 224 98 -79 125 22 b 185 276 178 252 183 274 b 185 276 185 276 185 276 b 141 276 185 276 181 276 b 91 280 96 276 96 276 b 77 302 83 285 77 294 b 91 326 77 312 83 320 b 148 328 95 328 96 328 l 198 330 l 202 341 b 460 574 249 473 351 566 "},vbf:{x_min:-53.078125,x_max:513.140625,ha:485,o:"m 185 383 b 196 384 187 383 191 384 b 277 334 230 384 259 365 b 288 301 281 324 288 306 b 288 297 288 298 288 297 b 294 302 289 297 291 299 b 394 370 323 338 367 367 b 404 371 398 370 401 371 b 510 272 453 371 498 328 b 513 237 513 262 513 251 b 507 172 513 217 511 192 b 326 -34 487 59 412 -26 b 314 -36 322 -36 318 -36 b 274 -24 298 -36 283 -31 l 265 -16 b 224 44 246 -1 232 20 b 223 49 224 47 223 49 b 223 49 223 49 223 49 b 149 -197 221 48 149 -194 b 149 -198 149 -197 149 -198 b 170 -210 149 -202 155 -205 b 187 -215 174 -210 175 -212 b 204 -231 201 -219 204 -222 b 197 -245 204 -240 202 -242 l 194 -248 l 76 -248 l -42 -248 l -46 -245 b -53 -231 -51 -242 -53 -240 b -35 -215 -53 -222 -49 -217 b -13 -210 -21 -212 -20 -212 b -6 -208 -10 -209 -8 -208 b 0 -206 -6 -208 -2 -206 b 25 -188 13 -201 21 -195 b 163 280 28 -183 163 276 b 166 291 163 283 164 287 b 167 302 167 295 167 299 b 155 324 167 315 161 324 b 155 324 155 324 155 324 b 65 230 125 322 85 280 b 53 215 61 217 58 215 b 51 215 53 215 51 215 b 42 224 46 215 42 217 b 57 263 42 231 47 244 b 140 360 77 305 104 337 b 152 370 144 365 149 369 b 185 383 157 376 172 381 m 374 306 b 366 308 371 308 368 308 b 300 273 348 308 321 294 b 284 254 288 262 287 259 b 280 242 283 249 281 245 b 257 169 279 240 270 213 l 236 98 l 236 93 b 251 48 238 77 243 61 b 279 27 258 37 272 27 b 281 27 279 27 280 27 b 291 31 281 27 287 30 b 396 170 334 52 378 109 b 406 247 402 197 406 224 b 401 277 406 259 405 270 b 374 306 397 290 383 303 "},vc3:{x_min:-10.890625,x_max:299.4375,ha:294,o:"m 136 460 b 142 462 137 462 140 462 b 166 449 152 462 161 456 b 171 428 168 446 168 445 b 288 131 194 322 238 209 b 298 115 295 120 296 117 b 299 106 298 112 299 109 b 273 81 299 91 287 81 b 255 86 268 81 261 83 b 155 116 225 104 183 116 l 152 116 l 149 108 b 141 83 148 102 144 91 b 134 48 137 69 134 58 b 149 9 134 34 140 24 b 153 -1 152 5 153 1 b 149 -9 153 -5 152 -6 b 144 -11 148 -11 147 -11 b 122 2 138 -11 133 -6 b 95 61 104 20 95 38 b 107 108 95 74 99 90 b 108 113 107 111 108 112 b 107 113 108 113 108 113 b 102 113 106 113 104 113 b 31 86 76 108 53 98 b 14 80 24 81 20 80 b -10 106 0 80 -10 91 b 0 131 -10 115 -9 116 b 115 430 49 209 91 317 b 136 460 119 451 123 456 "},vd0:{x_min:-10.890625,x_max:299.4375,ha:294,o:"m 44 174 b 51 174 47 174 49 174 b 68 173 55 174 61 174 l 287 112 l 551 40 b 615 20 617 22 609 23 b 626 0 622 16 626 8 b 615 -22 626 -9 622 -18 b 613 -23 613 -23 613 -23 b 613 -23 613 -23 613 -23 b 287 -113 613 -24 597 -29 l 68 -174 b 53 -176 61 -176 57 -176 b 39 -172 47 -176 43 -174 b 27 -151 31 -167 27 -159 b 39 -129 27 -141 31 -133 b 230 -74 43 -124 20 -131 l 370 -36 l 468 -9 b 498 0 484 -4 498 -1 b 468 8 498 0 484 2 l 370 34 l 230 73 b 40 126 28 129 43 124 b 27 149 31 131 27 140 b 44 174 27 161 34 170 m 205 110 l 205 300 b 205 330 245 330 245 300 l 245 300 l 245 -300 b 245 -330 205 -330 205 -300 l 205 -300 l 205 110 l 345 90 m 345 90 l 345 330 b 345 360 385 360 385 330 l 385 330 l 385 -270 b 385 -300 345 -300 345 -270 l 345 -270 l 345 90 "},vd1:{x_min:-20,x_max:320,ha:257,o:"m -8 200 b -8 210 8 200 16 200 l 20 148 -199 l 23 -615 b 0 -629 9 -629 6 -629 l -21 -612 l -21 -201 l -21 216 l -20 200 m 16 200 l 310 0 l 240 0 l 16 140 l 16 -120 l 240 0 l 310 0 l 16 -200 "},vd2:{x_min:0,x_max:430.75,ha:386,o:"m 0 200 l 0 -200 l 430 -200 l 430 200 l 0 200 "},vd3:{x_min:0,x_max:430.75,ha:386,o:"m 0 200 l 0 -200 l 430 -200 l 430 200 l 0 200 l 50 150 l 380 150 l 380 -150 l 50 -150 l 50 150 "},vd4:{x_min:0,x_max:430.75,ha:360,o:"m 0 150 l 0 -150 l 430 -150 l 430 150 l 0 150 "},vd5:{x_min:0,x_max:430.75,ha:360,o:"m 0 150 l 0 -150 l 430 -150 l 430 150 l 0 150 l 50 100 l 380 100 l 380 -100 l 50 -100 l 50 100"},vd6:{x_min:0,x_max:430.75,ha:360,o:"m -146 537 b -138 538 -143 538 -141 538 b -118 525 -129 538 -121 533 b -117 390 -117 522 -117 521 b -115 259 -117 268 -117 259 b -115 259 -115 259 -115 259 b -59 272 -104 263 -62 272 b -39 259 -50 272 -42 267 b -37 209 -38 257 -37 233 b -39 159 -37 185 -38 162 b -85 138 -43 149 -44 149 l -117 131 l -117 21 b -115 -88 -117 -80 -117 -88 b -115 -88 -115 -88 -115 -88 b -59 -75 -104 -84 -62 -75 b -44 -81 -52 -75 -48 -77 b -38 -124 -38 -87 -38 -85 b -38 -138 -38 -124 -38 -138 b -38 -152 -38 -138 -38 -152 b -44 -195 -38 -191 -38 -190 b -85 -209 -48 -200 -48 -200 l -117 -217 l -117 -349 b -118 -486 -117 -481 -117 -482 b -138 -499 -121 -494 -129 -499 b -153 -493 -143 -499 -149 -497 b -159 -415 -158 -487 -159 -496 b -159 -355 -159 -398 -159 -379 b -159 -227 -159 -284 -159 -227 b -205 -238 -159 -227 -180 -232 b -250 -249 -230 -244 -250 -249 b -251 -386 -251 -249 -251 -311 b -252 -525 -251 -521 -251 -522 b -272 -538 -255 -534 -264 -538 b -287 -532 -277 -538 -283 -536 b -293 -452 -292 -527 -293 -536 b -293 -391 -293 -436 -293 -415 b -294 -260 -293 -269 -293 -260 b -294 -260 -294 -260 -294 -260 b -348 -272 -306 -264 -345 -272 b -368 -259 -357 -272 -365 -267 b -369 -209 -369 -257 -369 -233 b -368 -159 -369 -185 -369 -162 b -323 -139 -364 -149 -362 -148 l -293 -131 l -293 -22 b -294 87 -293 80 -293 87 b -294 87 -294 87 -294 87 b -348 75 -306 84 -345 75 b -368 88 -357 75 -365 80 b -369 138 -369 91 -369 114 b -368 188 -369 162 -369 186 b -323 209 -364 198 -362 199 l -293 216 l -293 349 b -292 486 -293 481 -293 482 b -272 499 -288 494 -280 499 b -257 493 -266 499 -261 497 b -251 414 -251 487 -251 496 b -251 354 -251 398 -251 378 b -251 226 -251 284 -251 226 b -205 238 -250 226 -230 231 b -159 249 -180 244 -159 249 b -159 385 -159 249 -159 310 b -157 525 -159 521 -159 522 b -146 537 -156 530 -151 535 z m -159 11 b -159 120 -159 98 -159 120 l -159 120 b -175 116 -160 120 -167 119 b -221 105 -184 114 -204 109 l -251 98 l -251 -12 b -251 -121 -251 -72 -251 -121 b -205 -110 -250 -121 -230 -116 b -159 -99 -180 -104 -159 -99 b -159 11 -159 -99 -159 -49 z m 89 517 b 97 519 92 518 94 519 b 117 505 106 519 114 513 b 119 376 119 502 119 501 l 119 249 l 145 258 b 176 267 169 266 172 267 b 177 267 176 267 177 267 b 196 255 186 267 192 263 l 197 252 l 197 205 b 197 181 197 195 197 187 b 193 149 197 153 197 153 b 152 131 190 144 187 143 l 119 120 l 119 10 b 119 -100 119 -62 119 -100 b 145 -91 120 -100 131 -96 b 173 -82 159 -86 171 -82 b 176 -81 174 -81 175 -81 b 196 -94 185 -81 193 -87 b 198 -151 197 -97 198 -125 b 197 -194 198 -172 197 -192 b 153 -218 193 -203 192 -204 l 119 -230 l 119 -367 l 118 -504 l 117 -507 b 97 -519 113 -514 105 -519 b 82 -512 92 -519 87 -517 b 76 -434 77 -507 76 -516 b 76 -374 76 -418 76 -398 b 76 -245 76 -303 76 -245 b 52 -254 76 -245 65 -249 b 19 -263 34 -260 25 -263 b 6 -257 13 -263 10 -261 b 0 -214 0 -251 0 -253 b 0 -200 0 -210 0 -205 b 0 -188 0 -196 0 -192 b 6 -143 0 -147 0 -149 b 46 -126 10 -139 10 -139 l 76 -115 l 76 -5 b 76 106 76 56 76 106 b 51 98 76 106 64 102 b 18 89 34 92 25 89 b 6 95 13 89 10 91 b 0 139 0 101 0 99 b 0 153 0 143 0 148 b 0 179 0 163 0 172 b 44 225 0 215 3 211 l 76 236 l 76 369 b 78 505 76 501 76 502 b 89 517 80 510 85 515 z "},vd7:{x_min:0,x_max:430.75,ha:360,o:"m 283 633 b 291 634 286 634 289 634 b 311 621 300 634 308 629 b 313 505 313 618 313 617 b 313 393 313 443 313 393 b 378 425 313 393 343 407 l 443 458 l 448 458 b 449 458 449 458 449 458 b 471 437 462 458 471 448 b 469 429 471 434 470 432 b 387 382 466 421 469 423 l 313 344 l 313 247 l 313 150 l 315 152 b 433 201 353 184 394 201 b 479 193 448 201 464 198 b 549 86 524 177 549 135 b 526 1 549 59 541 29 b 395 -143 504 -39 475 -71 b 316 -214 351 -182 341 -191 b 292 -229 302 -228 300 -229 b 272 -216 283 -229 275 -224 b 271 55 271 -212 271 -212 b 270 323 271 203 270 323 b 205 291 270 323 241 308 l 140 258 l 135 258 b 134 258 135 258 134 258 b 112 279 121 258 112 267 b 114 287 112 281 113 284 b 196 334 117 295 114 293 l 271 371 l 271 495 b 272 621 271 617 271 618 b 283 633 274 626 279 631 z m 404 133 b 391 134 400 134 395 134 b 384 134 388 134 386 134 b 318 88 358 130 335 114 l 313 81 l 313 -37 l 313 -156 l 316 -152 b 439 83 391 -71 439 22 l 439 84 b 404 133 439 115 430 128 z m -8 633 l -8 633 b 0 634 -6 634 -3 634 b 20 621 8 634 17 629 b 21 384 21 618 21 617 l 21 150 l 24 152 b 141 201 62 184 102 201 b 187 193 157 201 172 198 b 257 86 232 177 257 135 b 234 1 257 59 250 29 b 103 -143 212 -39 183 -71 b 24 -214 60 -182 49 -191 b 0 -229 10 -228 8 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 203 l -21 618 l -20 621 b -8 633 -18 626 -13 631 z m 113 133 l 113 133 b 99 134 109 134 103 134 b 93 134 97 134 94 134 b 26 88 66 130 43 114 l 21 81 l 21 -37 l 21 -156 l 25 -152 b 148 83 99 -71 148 22 l 148 84 b 113 133 148 115 138 128 z "}},cssFontWeight:"normal",ascender:1903,underlinePosition:-125,cssFontStyle:"normal",boundingBox:{yMin:-2065.375,xMin:-695.53125,yMax:1901.578125,xMax:1159.671875},resolution:1e3,descender:-2066,familyName:"VexFlow-18",lineHeight:4093,underlineThickness:50};function d(t,e,i,n,r,s){let o,a,l,u=0;function c(){return e+t[u++]*n}function h(){return i+t[u++]*r}for(;u<t.length;)switch(o=t[u++],o){case"m":case"l":s[o](c(),h());break;case"q":a=c(),l=h(),s.q(c(),h(),a,l);break;case"b":a=c(),l=h(),s.b(c(),h(),c(),h(),a,l)}}class f extends l{static loadMetrics(t,e,i){const r=t.glyphs[e];if(!r)throw new n.RERR("BadGlyph",`Glyph ${e} does not exist in font.`);const s=r.x_min,o=r.x_max,a=r.ha;let l;if(r.o)return i?r.cached_outline?l=r.cached_outline:(l=r.o.split(" "),r.cached_outline=l):(r.cached_outline&&delete r.cached_outline,l=r.o.split(" ")),{x_min:s,x_max:o,ha:a,outline:l};throw new n.RERR("BadGlyph",`Glyph ${e} has no outline defined.`)}static renderGlyph(t,e,i,n,r,s){const o=72*n/(100*h.resolution),a=f.loadMetrics(h,r,!s);f.renderOutline(t,a.outline,o,e,i)}static renderOutline(t,e,i,n,r){t.beginPath(),t.moveTo(n,r),d(e,n,r,i,-i,{m:t.moveTo.bind(t),l:t.lineTo.bind(t),q:t.quadraticCurveTo.bind(t),b:t.bezierCurveTo.bind(t)}),t.fill()}static getOutlineBoundingBox(t,e,i,n){const r=new u;return d(t,i,n,e,-e,{m:r.addPoint.bind(r),l:r.addPoint.bind(r),q:r.addQuadraticCurve.bind(r),b:r.addBezierCurve.bind(r)}),new c(r.x1,r.y1,r.width(),r.height())}constructor(t,e,i){super(),this.setAttribute("type","Glyph"),this.code=t,this.point=e,this.options={cache:!0,font:h},this.metrics=null,this.x_shift=0,this.y_shift=0,this.originShift={x:0,y:0},i?this.setOptions(i):this.reset()}setOptions(t){n.Merge(this.options,t),this.reset()}setPoint(t){return this.point=t,this}setStave(t){return this.stave=t,this}setXShift(t){return this.x_shift=t,this}setYShift(t){return this.y_shift=t,this}reset(){this.scale=72*this.point/(100*this.options.font.resolution),this.metrics=f.loadMetrics(this.options.font,this.code,this.options.cache),this.bbox=f.getOutlineBoundingBox(this.metrics.outline,this.scale,0,0)}getMetrics(){if(!this.metrics)throw new n.RuntimeError("BadGlyph",`Glyph ${this.code} is not initialized.`);return{x_min:this.metrics.x_min*this.scale,x_max:this.metrics.x_max*this.scale,width:this.bbox.getW(),height:this.bbox.getH()}}setOriginX(t){const{bbox:e}=this,i=(t-Math.abs(e.getX()/e.getW()))*e.getW();this.originShift.x=-i}setOriginY(t){const{bbox:e}=this,i=(t-Math.abs(e.getY()/e.getH()))*e.getH();this.originShift.y=-i}setOrigin(t,e){this.setOriginX(t),this.setOriginY(e)}render(t,e,i){if(!this.metrics)throw new n.RuntimeError("BadGlyph",`Glyph ${this.code} is not initialized.`);const r=this.metrics.outline,s=this.scale;this.setRendered(),this.applyStyle(t),f.renderOutline(t,r,s,e+this.originShift.x,i+this.originShift.y),this.restoreStyle(t)}renderToStave(t){if(this.checkContext(),!this.metrics)throw new n.RuntimeError("BadGlyph",`Glyph ${this.code} is not initialized.`);if(!this.stave)throw new n.RuntimeError("GlyphError","No valid stave");const e=this.metrics.outline,i=this.scale;this.setRendered(),this.applyStyle(),f.renderOutline(this.context,e,i,t+this.x_shift,this.stave.getYForGlyphs()+this.y_shift),this.restoreStyle()}}const p={STEM_WIDTH:1.5,STEM_HEIGHT:35,STAVE_LINE_THICKNESS:1,RESOLUTION:16384,DEFAULT_NOTATION_FONT_SCALE:39,DEFAULT_TABLATURE_FONT_SCALE:39,SLASH_NOTEHEAD_WIDTH:15,TEXT_HEIGHT_OFFSET_HACK:1,IsKerned:!0,clefProperties:t=>{if(!t)throw new n.RERR("BadArgument","Invalid clef: "+t);const e=p.clefProperties.values[t];if(!e)throw new n.RERR("BadArgument","Invalid clef: "+t);return e}};p.clefProperties.values={treble:{line_shift:0},bass:{line_shift:6},tenor:{line_shift:4},alto:{line_shift:3},soprano:{line_shift:1},percussion:{line_shift:0},"mezzo-soprano":{line_shift:2},"baritone-c":{line_shift:5},"baritone-f":{line_shift:5},subbass:{line_shift:7},french:{line_shift:-1}},p.keyProperties=(t,e,i)=>{void 0===e&&(e="treble");const r={octave_shift:0};"object"==typeof i&&n.Merge(r,i);const s=t.split("/");if(s.length<2)throw new n.RERR("BadArguments","Key must have note + octave and an optional glyph: "+t);const o=s[0].toUpperCase(),a=p.keyProperties.note_values[o];if(!a)throw new n.RERR("BadArguments","Invalid key name: "+o);a.octave&&(s[1]=a.octave);let l=parseInt(s[1],10);l+=-1*r.octave_shift;let u=(7*l-28+a.index)/2;u+=p.clefProperties(e).line_shift;let c=0;u<=0&&2*u%2==0&&(c=1),u>=6&&2*u%2==0&&(c=-1);const h=void 0!==a.int_val?12*l+a.int_val:null,d=a.code,f=a.shift_right;let m={};if(s.length>2&&s[2]){const t=s[2].toUpperCase();m=p.keyProperties.customNoteHeads[t]||{}}return{key:o,octave:l,line:u,int_value:h,accidental:a.accidental,code:d,stroke:c,shift_right:f,displaced:!1,...m}},p.keyProperties.note_values={C:{index:0,int_val:0,accidental:null},CN:{index:0,int_val:0,accidental:"n"},"C#":{index:0,int_val:1,accidental:"#"},"C##":{index:0,int_val:2,accidental:"##"},CB:{index:0,int_val:-1,accidental:"b"},CBB:{index:0,int_val:-2,accidental:"bb"},D:{index:1,int_val:2,accidental:null},DN:{index:1,int_val:2,accidental:"n"},"D#":{index:1,int_val:3,accidental:"#"},"D##":{index:1,int_val:4,accidental:"##"},DB:{index:1,int_val:1,accidental:"b"},DBB:{index:1,int_val:0,accidental:"bb"},E:{index:2,int_val:4,accidental:null},EN:{index:2,int_val:4,accidental:"n"},"E#":{index:2,int_val:5,accidental:"#"},"E##":{index:2,int_val:6,accidental:"##"},EB:{index:2,int_val:3,accidental:"b"},EBB:{index:2,int_val:2,accidental:"bb"},F:{index:3,int_val:5,accidental:null},FN:{index:3,int_val:5,accidental:"n"},"F#":{index:3,int_val:6,accidental:"#"},"F##":{index:3,int_val:7,accidental:"##"},FB:{index:3,int_val:4,accidental:"b"},FBB:{index:3,int_val:3,accidental:"bb"},G:{index:4,int_val:7,accidental:null},GN:{index:4,int_val:7,accidental:"n"},"G#":{index:4,int_val:8,accidental:"#"},"G##":{index:4,int_val:9,accidental:"##"},GB:{index:4,int_val:6,accidental:"b"},GBB:{index:4,int_val:5,accidental:"bb"},A:{index:5,int_val:9,accidental:null},AN:{index:5,int_val:9,accidental:"n"},"A#":{index:5,int_val:10,accidental:"#"},"A##":{index:5,int_val:11,accidental:"##"},AB:{index:5,int_val:8,accidental:"b"},ABB:{index:5,int_val:7,accidental:"bb"},B:{index:6,int_val:11,accidental:null},BN:{index:6,int_val:11,accidental:"n"},"B#":{index:6,int_val:12,accidental:"#"},"B##":{index:6,int_val:13,accidental:"##"},BB:{index:6,int_val:10,accidental:"b"},BBB:{index:6,int_val:9,accidental:"bb"},R:{index:6,int_val:9,rest:!0},X:{index:6,accidental:"",octave:4,code:"v3e",shift_right:5.5}},p.keyProperties.customNoteHeads={D0:{code:"v27",shift_right:0,stem_up_x_offset:0,stem_down_x_offset:0,stem_up_y_offset:-1,stem_down_y_offset:0},D1:{code:"v2d",shift_right:-.5},D2:{code:"v22",shift_right:-.5},D3:{code:"v70",shift_right:-.5},T0:{code:"v49",shift_right:-2,stem_up_y_offset:-4,stem_down_y_offset:4},T1:{code:"v93",shift_right:.5,stem_up_y_offset:-4,stem_down_y_offset:4},T2:{code:"v40",shift_right:.5,stem_up_y_offset:-4,stem_down_y_offset:4},T3:{code:"v7d",shift_right:.5,stem_up_y_offset:-4,stem_down_y_offset:4},X0:{code:"v92",stem_up_x_offset:-2,stem_down_x_offset:0,stem_up_y_offset:4,stem_down_y_offset:4},X1:{code:"v95",shift_right:-.5,stem_up_y_offset:4,stem_down_y_offset:4},X2:{code:"v3e",shift_right:.5,stem_up_y_offset:4,stem_down_y_offset:4},X3:{code:"v3b",shift_right:0,stem_up_x_offset:-1.2,stem_down_x_offset:0,stem_up_y_offset:-1,stem_down_y_offset:2},S1:{code:"vd3",shift_right:0},S2:{code:"vd2",shift_right:0},R1:{code:"vd5",shift_right:0},R2:{code:"vd4",shift_right:0}},p.integerToNote=t=>{if(void 0===t)throw new n.RERR("BadArguments","Undefined integer for integerToNote");if(t<-2)throw new n.RERR("BadArguments","integerToNote requires integer > -2: "+t);const e=p.integerToNote.table[t];if(!e)throw new n.RERR("BadArguments","Unknown note value for integer: "+t);return e},p.integerToNote.table={0:"C",1:"C#",2:"D",3:"D#",4:"E",5:"F",6:"F#",7:"G",8:"G#",9:"A",10:"A#",11:"B"},p.tabToGlyph=(t,e=1)=>{let i=null,n=0,r=0;if("X"===t.toString().toUpperCase()){const t=new f("v7f",p.DEFAULT_TABLATURE_FONT_SCALE).getMetrics();i="v7f",n=t.width,r=-t.height/2}else n=p.textWidth(t.toString());return{text:t,code:i,getWidth:()=>n*e,shift_y:r}},p.textWidth=t=>7*t.toString().length,p.articulationCodes=t=>p.articulationCodes.articulations[t],p.articulationCodes.articulations={"a.":{code:"v23",between_lines:!0},av:{code:"v28",between_lines:!0},"a>":{code:"v42",between_lines:!0},"a-":{code:"v25",between_lines:!0},"a^":{code:"va",between_lines:!1},"a+":{code:"v8b",between_lines:!1},ao:{code:"v94",between_lines:!1},ah:{code:"vb9",between_lines:!1},"a@a":{code:"v43",between_lines:!1},"a@u":{code:"v5b",between_lines:!1},"a|":{code:"v75",between_lines:!1},am:{code:"v97",between_lines:!1},"a,":{code:"vb3",between_lines:!1}},p.accidentalCodes=t=>p.accidentalCodes.accidentals[t],p.accidentalCodes.accidentals={"#":{code:"v18",parenRightPaddingAdjustment:-1},"##":{code:"v7f",parenRightPaddingAdjustment:-1},b:{code:"v44",parenRightPaddingAdjustment:-2},bb:{code:"v26",parenRightPaddingAdjustment:-2},n:{code:"v4e",parenRightPaddingAdjustment:-1},"{":{code:"v9c",parenRightPaddingAdjustment:-1},"}":{code:"v84",parenRightPaddingAdjustment:-1},db:{code:"v9e",parenRightPaddingAdjustment:-1},d:{code:"vab",parenRightPaddingAdjustment:0},bbs:{code:"v90",parenRightPaddingAdjustment:-1},"++":{code:"v51",parenRightPaddingAdjustment:-1},"+":{code:"v78",parenRightPaddingAdjustment:-1},"+-":{code:"v8d",parenRightPaddingAdjustment:-1},"++-":{code:"v7a",parenRightPaddingAdjustment:-1},bs:{code:"vb7",parenRightPaddingAdjustment:-1},bss:{code:"v39",parenRightPaddingAdjustment:-1},o:{code:"vd0",parenRightPaddingAdjustment:-1},k:{code:"vd1",parenRightPaddingAdjustment:-1},ashs:{code:"vd6",parenRightPaddingAdjustment:-1},afhf:{code:"vd7",parenRightPaddingAdjustment:-1}},p.accidentalColumnsTable={1:{a:[1],b:[1]},2:{a:[1,2]},3:{a:[1,3,2],b:[1,2,1],second_on_bottom:[1,2,3]},4:{a:[1,3,4,2],b:[1,2,3,1],spaced_out_tetrachord:[1,2,1,2]},5:{a:[1,3,5,4,2],b:[1,2,4,3,1],spaced_out_pentachord:[1,2,3,2,1],very_spaced_out_pentachord:[1,2,1,2,1]},6:{a:[1,3,5,6,4,2],b:[1,2,4,5,3,1],spaced_out_hexachord:[1,3,2,1,3,2],very_spaced_out_hexachord:[1,2,1,2,1,2]}},p.ornamentCodes=t=>p.ornamentCodes.ornaments[t],p.ornamentCodes.ornaments={mordent:{code:"v1e"},mordent_inverted:{code:"v45"},turn:{code:"v72"},turn_inverted:{code:"v33"},tr:{code:"v1f"},upprall:{code:"v60"},downprall:{code:"vb4"},prallup:{code:"v6d"},pralldown:{code:"v2c"},upmordent:{code:"v29"},downmordent:{code:"v68"},lineprall:{code:"v20"},prallprall:{code:"v86"}},p.keySignature=t=>{const e=p.keySignature.keySpecs[t];if(!e)throw new n.RERR("BadKeySignature",`Bad key signature spec: '${t}'`);if(!e.acc)return[];const i=p.keySignature.accidentalList(e.acc),r=[];for(let n=0;n<e.num;++n){const t=i[n];r.push({type:e.acc,line:t})}return r},p.keySignature.keySpecs={C:{acc:null,num:0},Am:{acc:null,num:0},F:{acc:"b",num:1},Dm:{acc:"b",num:1},Bb:{acc:"b",num:2},Gm:{acc:"b",num:2},Eb:{acc:"b",num:3},Cm:{acc:"b",num:3},Ab:{acc:"b",num:4},Fm:{acc:"b",num:4},Db:{acc:"b",num:5},Bbm:{acc:"b",num:5},Gb:{acc:"b",num:6},Ebm:{acc:"b",num:6},Cb:{acc:"b",num:7},Abm:{acc:"b",num:7},G:{acc:"#",num:1},Em:{acc:"#",num:1},D:{acc:"#",num:2},Bm:{acc:"#",num:2},A:{acc:"#",num:3},"F#m":{acc:"#",num:3},E:{acc:"#",num:4},"C#m":{acc:"#",num:4},B:{acc:"#",num:5},"G#m":{acc:"#",num:5},"F#":{acc:"#",num:6},"D#m":{acc:"#",num:6},"C#":{acc:"#",num:7},"A#m":{acc:"#",num:7}},p.unicode={sharp:String.fromCharCode(parseInt("266F",16)),flat:String.fromCharCode(parseInt("266D",16)),natural:String.fromCharCode(parseInt("266E",16)),triangle:String.fromCharCode(parseInt("25B3",16)),"o-with-slash":String.fromCharCode(parseInt("00F8",16)),degrees:String.fromCharCode(parseInt("00B0",16)),circle:String.fromCharCode(parseInt("25CB",16))},p.keySignature.accidentalList=t=>({b:[2,.5,2.5,1,3,1.5,3.5],"#":[0,1.5,-.5,1,2.5,.5,2]}[t]),p.parseNoteDurationString=t=>{if("string"!=typeof t)return null;const e=/(\d*\/?\d+|[a-z])(d*)([nrhms]|$)/.exec(t);if(!e)return null;const i=e[1],n=e[2].length;let r=e[3];return 0===r.length&&(r="n"),{duration:i,dots:n,type:r}},p.parseNoteStruct=t=>{const e=t.duration,i=p.parseNoteDurationString(e);if(!i)return null;let n=p.durationToTicks(i.duration);if(null==n)return null;let r=t.type;const s=[];if(r){if(!p.getGlyphProps.validTypes[r])return null}else r=i.type||"n",void 0!==t.keys&&t.keys.forEach((t,e)=>{const i=t.split("/");i&&3===i.length&&(s[e]=i[2])});const o=t.dots?t.dots:i.dots;if("number"!=typeof o)return null;let a=n;for(let l=0;l<o;l++){if(a<=1)return null;a/=2,n+=a}return{duration:i.duration,type:r,customTypes:s,dots:o,ticks:n}},p.sanitizeDuration=t=>{const e=p.durationAliases[t];if(void 0!==e&&(t=e),void 0===p.durationToTicks.durations[t])throw new n.RERR("BadArguments","The provided duration is not valid: "+t);return t},p.durationToFraction=t=>(new r).parse(p.sanitizeDuration(t)),p.durationToNumber=t=>p.durationToFraction(t).value(),p.durationToTicks=t=>{t=p.sanitizeDuration(t);const e=p.durationToTicks.durations[t];return void 0===e?null:e},p.durationToTicks.durations={"1/2":2*p.RESOLUTION,1:p.RESOLUTION/1,2:p.RESOLUTION/2,4:p.RESOLUTION/4,8:p.RESOLUTION/8,16:p.RESOLUTION/16,32:p.RESOLUTION/32,64:p.RESOLUTION/64,128:p.RESOLUTION/128,256:p.RESOLUTION/256},p.durationAliases={w:"1",h:"2",q:"4",b:"256"},p.getGlyphProps=(t,e)=>{t=p.sanitizeDuration(t);const i=p.getGlyphProps.duration_codes[t];if(void 0===i)return null;e||(e="n");let n=i.type[e];if(void 0===n){const t=p.keyProperties.customNoteHeads[e.toUpperCase()];if(void 0===t)return null;n={code_head:t.code,...t}}return{...i.common,...n}},p.getGlyphProps.validTypes={n:{name:"note"},r:{name:"rest"},h:{name:"harmonic"},m:{name:"muted"},s:{name:"slash"}},p.getGlyphProps.duration_codes={"1/2":{common:{getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"v53",t).getMetrics().width},stem:!1,stem_offset:0,flag:!1,stem_up_extension:-p.STEM_HEIGHT,stem_down_extension:-p.STEM_HEIGHT,tabnote_stem_up_extension:-p.STEM_HEIGHT,tabnote_stem_down_extension:-p.STEM_HEIGHT,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v53"},h:{code_head:"v59"},m:{code_head:"vf",stem_offset:0},r:{code_head:"v31",rest:!0,position:"B/5",dot_shiftY:.5},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}},1:{common:{getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"v1d",t).getMetrics().width},stem:!1,stem_offset:0,flag:!1,stem_up_extension:-p.STEM_HEIGHT,stem_down_extension:-p.STEM_HEIGHT,tabnote_stem_up_extension:-p.STEM_HEIGHT,tabnote_stem_down_extension:-p.STEM_HEIGHT,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v1d"},h:{code_head:"v46"},m:{code_head:"v92",stem_offset:-3},r:{code_head:"v5c",rest:!0,position:"D/5",dot_shiftY:.5},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}},2:{common:{getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"v81",t).getMetrics().width},stem:!0,stem_offset:0,flag:!1,stem_up_extension:0,stem_down_extension:0,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v81"},h:{code_head:"v2d"},m:{code_head:"v95",stem_offset:-3},r:{code_head:"vc",stem:!1,rest:!0,position:"B/4",dot_shiftY:-.5},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}},4:{common:{getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!1,stem_up_extension:0,stem_down_extension:0,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e",stem_offset:-3},r:{code_head:"v7c",stem:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1.5,line_below:1.5},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}},8:{common:{getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,beam_count:1,code_flag_upstem:"v54",code_flag_downstem:"v9a",stem_up_extension:0,stem_down_extension:0,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"va5",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1,line_below:1},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}},16:{common:{beam_count:2,getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v3f",code_flag_downstem:"v8f",stem_up_extension:0,stem_down_extension:0,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v3c",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1,line_below:2},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}},32:{common:{beam_count:3,getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v47",code_flag_downstem:"v2a",stem_up_extension:9,stem_down_extension:9,tabnote_stem_up_extension:8,tabnote_stem_down_extension:5,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v55",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-1.5,line_above:2,line_below:2},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}},64:{common:{beam_count:4,getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"va9",code_flag_downstem:"v58",stem_up_extension:13,stem_down_extension:13,tabnote_stem_up_extension:12,tabnote_stem_down_extension:9,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v38",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-1.5,line_above:2,line_below:3},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}},128:{common:{beam_count:5,getWidth(t=p.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v9b",code_flag_downstem:"v30",stem_up_extension:22,stem_down_extension:22,tabnote_stem_up_extension:21,tabnote_stem_down_extension:18,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"vaa",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:1.5,line_above:3,line_below:3},s:{getWidth:()=>p.SLASH_NOTEHEAD_WIDTH,position:"B/4"}}}},p.smufl={},p.smufl.to_code_points={bracketTop:"v1b",bracketBottom:"v10",barlineTick:"v6f",segno:"v8c",coda:"v4d",gClef:"v83",cClef:"vad",fClef:"v79",unpitchedPercussionClef1:"v59","6stringTabClef":"v2f",timeSig0:"v0",timeSig1:"v1",timeSig2:"v2",timeSig3:"v3",timeSig4:"v4",timeSig5:"v5",timeSig6:"v6",timeSig7:"v7",timeSig8:"v8",timeSig9:"v9",timeSigCommon:"v41",timeSigCutCommon:"vb6",noteheadDoubleWhole:"v53",noteheadWhole:"v1d",noteheadHalf:"v81",noteheadBlack:"vb",noteheadXWhole:"v92",noteheadXHalf:"v95",noteheadXBlack:"v3e",noteheadCircleX:"v3b",noteheadTriangleUpWhole:"v49",noteheadTriangleUpHalf:"v93",noteheadTriangleUpBlack:"v40",noteheadDiamondWhole:"v46",noteheadDiamondHalf:"v2d",noteheadDiamondBlack:"v22",augmentationDot:"v23",tremolo1:"v74",flag8thUp:"v54",flag8thDown:"v9a",flag16thUp:"v3f",flag16thDown:"v8f",flag32ndUp:"v47",flag32ndDown:"v2a",flag64thUp:"va9",flag64thDown:"v58",flag128thUp:"v9b",flag128thDown:"v30",accidentalFlat:"v44",accidentalNatural:"v4e",accidentalSharp:"v18",accidentalDoubleSharp:"v7f",accidentalDoubleFlat:"v26",accidentalParensLeft:"v9c",accidentalParensRight:"v84",accidentalQuarterToneFlatStein:"vab",accidentalThreeQuarterTonesFlatZimmermann:"v9e",accidentalQuarterToneSharpStein:"v78",accidentalThreeQuarterTonesSharpStein:"v51",accidentalBuyukMucennebFlat:"v39",accidentalBakiyeFlat:"vb7",accidentalKomaSharp:"v51",accidentalKucukMucennebSharp:"v8d",accidentalKoron:"vd1",accidentalSori:"vd0",articAccentAbove:"v42",articAccentBelow:"v42",articTenutoAbove:"v25",articTenutoBelow:"v25",articStaccatoAbove:"v23",articStaccatoBelow:"v23",articStaccatissimoAbove:"v28",articMarcatoAbove:"va",fermataAbove:"v43",fermataBelow:"v5b",breathMarkComma:"v6c",breathMarkUpbow:"v8a",caesura:"v34",caesuraCurved:"v4b",restMaxima:"v59",restDoubleWhole:"v31",restWhole:"v5c",restHalf:"vc",restQuarter:"v7c",rest8th:"va5",rest16th:"v3c",rest32nd:"v55",rest64th:"v38",rest128th:"vaa",dynamicPiano:"vbf",dynamicMezzo:"v62",dynamicForte:"vba",dynamicRinforzando:"vba",dynamicSforzando:"v4a",dynamicZ:"v80",ornamentTrill:"v1f",ornamentTurn:"v72",ornamentTurnSlash:"v33",ornamentMordent:"v45",ornamentMordentInverted:"v1e",ornamentTremblement:"v86",ornamentPrecompAppoggTrill:"v20",ornamentPrecompSlideTrillDAnglebert:"v60",ornamentPrecompSlideTrillBach:"v29",ornamentPrecompTrillSuffixDandrieu:"v6d",ornamentPrecompDoubleCadenceUpperPrefix:"vb4",ornamentPrecompDoubleCadenceUpperPrefixTurn:"v68",ornamentPrecompTrillLowerSuffix:"v2c",stringsDownBow:"v94",stringsUpBow:"v75",stringsHarmonic:"vb9",pluckedSnapPizzicatoAbove:"v94",pluckedLeftHandPizzicato:"v8b",keyboardPedalPed:"v36",keyboardPedalUp:"v5d",pictChokeCymbal:"vb3",wiggleArpeggiatoUp:"va3",arrowheadBlackUp:"vc3",arrowheadBlackDown:"v52"},p.TIME4_4={num_beats:4,beat_value:4,resolution:p.RESOLUTION};class m{static get WIDTH(){return 600}static get HEIGHT(){return 400}static get CANVAS_BROWSER_SIZE_LIMIT(){return 32767}static SanitizeCanvasDims(t,e){return Math.max(t,e)>this.CANVAS_BROWSER_SIZE_LIMIT&&(n.W("Canvas dimensions exceed browser limit. Cropping to "+this.CANVAS_BROWSER_SIZE_LIMIT),t>this.CANVAS_BROWSER_SIZE_LIMIT&&(t=this.CANVAS_BROWSER_SIZE_LIMIT),e>this.CANVAS_BROWSER_SIZE_LIMIT&&(e=this.CANVAS_BROWSER_SIZE_LIMIT)),[t,e]}constructor(t){this.vexFlowCanvasContext=t,t.canvas?this.canvas=t.canvas:this.canvas={width:m.WIDTH,height:m.HEIGHT}}clear(){this.vexFlowCanvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}openGroup(){}closeGroup(){}add(){}setFont(t,e,i){return this.vexFlowCanvasContext.font=(i||"")+" "+e+"pt "+t,this}setRawFont(t){return this.vexFlowCanvasContext.font=t,this}setFillStyle(t){return this.vexFlowCanvasContext.fillStyle=t,this}setBackgroundFillStyle(t){return this.background_fillStyle=t,this}setStrokeStyle(t){return this.vexFlowCanvasContext.strokeStyle=t,this}setShadowColor(t){return this.vexFlowCanvasContext.shadowColor=t,this}setShadowBlur(t){return this.vexFlowCanvasContext.shadowBlur=t,this}setLineWidth(t){return this.vexFlowCanvasContext.lineWidth=t,this}setLineCap(t){return this.vexFlowCanvasContext.lineCap=t,this}setLineDash(t){return this.vexFlowCanvasContext.lineDash=t,this}scale(t,e){return this.vexFlowCanvasContext.scale(parseFloat(t),parseFloat(e))}resize(t,e){return[t,e]=this.SanitizeCanvasDims(parseInt(t,10),parseInt(e,10)),this.vexFlowCanvasContext.resize(t,e)}rect(t,e,i,n){return this.vexFlowCanvasContext.rect(t,e,i,n)}fillRect(t,e,i,n){return this.vexFlowCanvasContext.fillRect(t,e,i,n)}clearRect(t,e,i,n){return this.vexFlowCanvasContext.clearRect(t,e,i,n)}beginPath(){return this.vexFlowCanvasContext.beginPath()}moveTo(t,e){return this.vexFlowCanvasContext.moveTo(t,e)}lineTo(t,e){return this.vexFlowCanvasContext.lineTo(t,e)}bezierCurveTo(t,e,i,n,r,s){return this.vexFlowCanvasContext.bezierCurveTo(t,e,i,n,r,s)}quadraticCurveTo(t,e,i,n){return this.vexFlowCanvasContext.quadraticCurveTo(t,e,i,n)}arc(t,e,i,n,r,s){return this.vexFlowCanvasContext.arc(t,e,i,n,r,s)}glow(){return this.vexFlowCanvasContext.glow()}fill(){return this.vexFlowCanvasContext.fill()}stroke(){return this.vexFlowCanvasContext.stroke()}closePath(){return this.vexFlowCanvasContext.closePath()}measureText(t){return this.vexFlowCanvasContext.measureText(t)}fillText(t,e,i){return this.vexFlowCanvasContext.fillText(t,e,i)}save(){return this.vexFlowCanvasContext.save()}restore(){return this.vexFlowCanvasContext.restore()}}class g{constructor(t){this.element=t,this.paper=Raphael(t),this.path="",this.pen={x:0,y:0},this.lineWidth=1,this.state={scale:{x:1,y:1},font_family:"Arial",font_size:8,font_weight:800},this.attributes={"stroke-width":.3,fill:"black",stroke:"black",font:"10pt Arial"},this.background_attributes={"stroke-width":0,fill:"white",stroke:"white",font:"10pt Arial"},this.shadow_attributes={width:0,color:"black"},this.state_stack=[]}openGroup(){}closeGroup(){}add(){}setFont(t,e,i){return this.state.font_family=t,this.state.font_size=e,this.state.font_weight=i,this.attributes.font=(this.state.font_weight||"")+" "+this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this}setRawFont(t){return this.attributes.font=t,this}setFillStyle(t){return this.attributes.fill=t,this}setBackgroundFillStyle(t){return this.background_attributes.fill=t,this.background_attributes.stroke=t,this}setStrokeStyle(t){return this.attributes.stroke=t,this}setShadowColor(t){return this.shadow_attributes.color=t,this}setShadowBlur(t){return this.shadow_attributes.width=t,this}setLineWidth(t){this.attributes["stroke-width"]=t,this.lineWidth=t}setLineDash(){return this}setLineCap(){return this}scale(t,e){return this.state.scale={x:t,y:e},this.attributes.transform="S"+t+","+e+",0,0",this.attributes.scale=t+","+e+",0,0",this.attributes.font=this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this.background_attributes.transform="S"+t+","+e+",0,0",this.background_attributes.font=this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this}clear(){this.paper.clear()}resize(t,e){return this.element.style.width=t,this.paper.setSize(t,e),this}setViewBox(t){this.paper.canvas.setAttribute("viewBox",t)}rect(t,e,i,n){return n<0&&(e+=n,n=-n),this.paper.rect(t,e,i-.5,n-.5).attr(this.attributes).attr("fill","none").attr("stroke-width",this.lineWidth),this}fillRect(t,e,i,n){return n<0&&(e+=n,n=-n),this.paper.rect(t,e,i-.5,n-.5).attr(this.attributes),this}clearRect(t,e,i,n){return n<0&&(e+=n,n=-n),this.paper.rect(t,e,i-.5,n-.5).attr(this.background_attributes),this}beginPath(){return this.path="",this.pen.x=0,this.pen.y=0,this}moveTo(t,e){return this.path+="M"+t+","+e,this.pen.x=t,this.pen.y=e,this}lineTo(t,e){return this.path+="L"+t+","+e,this.pen.x=t,this.pen.y=e,this}bezierCurveTo(t,e,i,n,r,s){return this.path+="C"+t+","+e+","+i+","+n+","+r+","+s,this.pen.x=r,this.pen.y=s,this}quadraticCurveTo(t,e,i,n){return this.path+="Q"+t+","+e+","+i+","+n,this.pen.x=i,this.pen.y=n,this}arc(t,e,i,n,r,s){function o(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}if((n=o(n))>(r=o(r))){const t=n;n=r,r=t,s=!s}const a=r-n;return a>Math.PI?(this.arcHelper(t,e,i,n,n+a/2,s),this.arcHelper(t,e,i,n+a/2,r,s)):this.arcHelper(t,e,i,n,r,s),this}arcHelper(t,e,i,n,r,s){const o=t+i*Math.cos(n),a=e+i*Math.sin(n),l=t+i*Math.cos(r),u=e+i*Math.sin(r);let c=0,h=0;s?(h=1,r-n<Math.PI&&(c=1)):r-n>Math.PI&&(c=1),this.path+="M"+o+","+a+",A"+i+","+i+",0,"+c+","+h+","+l+","+u+"M"+this.pen.x+","+this.pen.y}glow(){const t=this.paper.set();if(this.shadow_attributes.width>0){const e=this.shadow_attributes,i=e.width/2;for(let n=1;n<=i;n++)t.push(this.paper.path(this.path).attr({stroke:e.color,"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*n).toFixed(3),opacity:+((e.opacity||.3)/i).toFixed(3),transform:this.attributes.transform,scale:this.attributes.scale}))}return t}fill(){const t=this.paper.path(this.path).attr(this.attributes).attr("stroke-width",0);return this.glow(t),this}stroke(){const t=this.lineWidth*(this.state.scale.x+this.state.scale.y)/2,e=this.paper.path(this.path).attr(this.attributes).attr("fill","none").attr("stroke-width",t);return this.glow(e),this}closePath(){return this.path+="Z",this}measureText(t){const e=this.paper.text(0,0,t).attr(this.attributes).attr("fill","none").attr("stroke","none"),i=e.getBBox();return e.remove(),{width:i.width,height:i.height}}fillText(t,e,i){return this.paper.text(e+this.measureText(t).width/2,i-this.state.font_size/(2.25*this.state.scale.y),t).attr(this.attributes),this}save(){return this.state_stack.push({state:{font_family:this.state.font_family},attributes:{font:this.attributes.font,fill:this.attributes.fill,stroke:this.attributes.stroke,"stroke-width":this.attributes["stroke-width"]},shadow_attributes:{width:this.shadow_attributes.width,color:this.shadow_attributes.color}}),this}restore(){const t=this.state_stack.pop();return this.state.font_family=t.state.font_family,this.attributes.font=t.attributes.font,this.attributes.fill=t.attributes.fill,this.attributes.stroke=t.attributes.stroke,this.attributes["stroke-width"]=t.attributes["stroke-width"],this.shadow_attributes.width=t.shadow_attributes.width,this.shadow_attributes.color=t.shadow_attributes.color,this}}const y={path:{x:!0,y:!0,width:!0,height:!0},rect:{},text:{width:!0,height:!0}};{const t={"font-family":!0,"font-weight":!0,"font-style":!0,"font-size":!0};n.Merge(y.rect,t),n.Merge(y.path,t)}class v{constructor(t){this.element=t,this.svgNS="http://www.w3.org/2000/svg";const e=this.create("svg");this.element.appendChild(e),this.svg=e,this.groups=[this.svg],this.parent=this.svg,this.path="",this.pen={x:NaN,y:NaN},this.lineWidth=1,this.state={scale:{x:1,y:1},"font-family":"Arial","font-size":"8pt","font-weight":"normal"},this.attributes={"stroke-width":.3,fill:"black",stroke:"black","stroke-dasharray":"none","font-family":"Arial","font-size":"10pt","font-weight":"normal","font-style":"normal"},this.background_attributes={"stroke-width":0,fill:"white",stroke:"white","stroke-dasharray":"none","font-family":"Arial","font-size":"10pt","font-weight":"normal","font-style":"normal"},this.shadow_attributes={width:0,color:"black"},this.state_stack=[],this.iePolyfill()}create(t){return document.createElementNS(this.svgNS,t)}openGroup(t,e,i){const r=this.create("g");return this.groups.push(r),this.parent.appendChild(r),this.parent=r,t&&r.setAttribute("class",n.Prefix(t)),e&&r.setAttribute("id",n.Prefix(e)),i&&i.pointerBBox&&r.setAttribute("pointer-events","bounding-box"),r}closeGroup(){this.groups.pop(),this.parent=this.groups[this.groups.length-1]}add(t){this.parent.appendChild(t)}iePolyfill(){"undefined"!=typeof navigator&&(this.ie=/MSIE 9/i.test(navigator.userAgent)||/MSIE 10/i.test(navigator.userAgent)||/rv:11\.0/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent))}setFont(t,e,i){let r=!1,s=!1,o="normal";"string"==typeof i&&(-1!==i.indexOf("italic")&&(i=i.replace(/italic/g,""),s=!0),-1!==i.indexOf("bold")&&(i=i.replace(/bold/g,""),r=!0),i=i.replace(/ /g,"")),o=s?"italic":o;const a={"font-family":t,"font-size":e+"pt","font-weight":i=void 0===(i=r?"bold":i)||""===i?"normal":i,"font-style":o};return this.fontSize=Number(e),n.Merge(this.attributes,a),n.Merge(this.state,a),this}setRawFont(t){const e=(t=t.trim()).split(" ");return this.attributes["font-family"]=e[1],this.state["font-family"]=e[1],this.attributes["font-size"]=e[0],this.state["font-size"]=e[0],this.fontSize=Number(e[0].match(/\d+/)),this}setFillStyle(t){return this.attributes.fill=t,this}setBackgroundFillStyle(t){return this.background_attributes.fill=t,this.background_attributes.stroke=t,this}setStrokeStyle(t){return this.attributes.stroke=t,this}setShadowColor(t){return this.shadow_attributes.color=t,this}setShadowBlur(t){return this.shadow_attributes.width=t,this}setLineWidth(t){this.attributes["stroke-width"]=t,this.lineWidth=t}setLineDash(t){if("[object Array]"===Object.prototype.toString.call(t))return t=t.join(", "),this.attributes["stroke-dasharray"]=t,this;throw new n.RERR("ArgumentError","lineDash must be an array of integers.")}setLineCap(t){return this.attributes["stroke-linecap"]=t,this}resize(t,e){this.width=t,this.height=e,this.element.style.width=t;const i={width:t,height:e};return this.applyAttributes(this.svg,i),this.scale(this.state.scale.x,this.state.scale.y),this}scale(t,e){this.state.scale={x:t,y:e};const i=this.width/t,n=this.height/e;return this.setViewBox(0,0,i,n),this}setViewBox(...t){if(1===t.length){const[e]=t;this.svg.setAttribute("viewBox",e)}else{const[e,i,n,r]=t,s=e+" "+i+" "+n+" "+r;this.svg.setAttribute("viewBox",s)}}applyAttributes(t,e){const i=y[t.nodeName];return Object.keys(e).forEach(n=>{i&&i[n]||t.setAttributeNS(null,n,e[n])}),t}clear(){for(;this.svg.lastChild;)this.svg.removeChild(this.svg.lastChild);this.scale(this.state.scale.x,this.state.scale.y)}rect(t,e,i,r,s){r<0&&(e+=r,r*=-1);const o=this.create("rect");return void 0===s&&(s={fill:"none","stroke-width":this.lineWidth,stroke:"black"}),n.Merge(s,{x:t,y:e,width:i,height:r}),this.applyAttributes(o,s),this.add(o),this}fillRect(t,e,i,n){return n<0&&(e+=n,n*=-1),this.rect(t,e,i,n,this.attributes),this}clearRect(t,e,i,n){return this.rect(t,e,i,n,this.background_attributes),this}beginPath(){return this.path="",this.pen.x=NaN,this.pen.y=NaN,this}moveTo(t,e){return this.path+="M"+t+" "+e,this.pen.x=t,this.pen.y=e,this}lineTo(t,e){return this.path+="L"+t+" "+e,this.pen.x=t,this.pen.y=e,this}bezierCurveTo(t,e,i,n,r,s){return this.path+="C"+t+" "+e+","+i+" "+n+","+r+" "+s,this.pen.x=r,this.pen.y=s,this}quadraticCurveTo(t,e,i,n){return this.path+="Q"+t+" "+e+","+i+" "+n,this.pen.x=i,this.pen.y=n,this}arc(t,e,i,n,r,s){function o(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}if((n=o(n))>(r=o(r))){const t=n;n=r,r=t,s=!s}const a=r-n;return a>Math.PI?(this.arcHelper(t,e,i,n,n+a/2,s),this.arcHelper(t,e,i,n+a/2,r,s)):this.arcHelper(t,e,i,n,r,s),this}arcHelper(t,e,i,n,r,s){const o=t+i*Math.cos(n),a=e+i*Math.sin(n),l=t+i*Math.cos(r),u=e+i*Math.sin(r);let c=0,h=0;s?(h=1,r-n<Math.PI&&(c=1)):r-n>Math.PI&&(c=1),this.path+="M"+o+" "+a+" A"+i+" "+i+" 0 "+c+" "+h+" "+l+" "+u,isNaN(this.pen.x)||isNaN(this.pen.y)||(this.peth+="M"+this.pen.x+" "+this.pen.y)}closePath(){return this.path+="Z",this}glow(){if(this.shadow_attributes.width>0){const t=this.shadow_attributes,e=t.width/2;for(let i=1;i<=e;i++){const n={stroke:t.color,"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(.4*t.width/e*i).toFixed(3),opacity:+((t.opacity||.3)/e).toFixed(3)},r=this.create("path");n.d=this.path,this.applyAttributes(r,n),this.add(r)}}return this}fill(t){this.glow();const e=this.create("path");return void 0===t&&(n.Merge(t={},this.attributes),t.stroke="none"),t.d=this.path,this.applyAttributes(e,t),this.add(e),this}stroke(){this.glow();const t=this.create("path"),e={};return n.Merge(e,this.attributes),e.fill="none",e["stroke-width"]=this.lineWidth,e.d=this.path,this.applyAttributes(t,e),this.add(t),this}measureText(t){const e=this.create("text");if("function"!=typeof e.getBBox)return{x:0,y:0,width:0,height:0};e.textContent=t,this.applyAttributes(e,this.attributes),this.svg.appendChild(e);let i=e.getBBox();return this.ie&&""!==t&&"italic"===this.attributes["font-style"]&&(i=this.ieMeasureTextFix(i,t)),this.svg.removeChild(e),i}ieMeasureTextFix(t){const e=1.196*Number(this.fontSize)+1.9598,i=t.width-e,n=t.height-1.5;return{x:t.x,y:t.y,width:i,height:n}}fillText(t,e,i){if(!t||t.length<=0)return;const r={};n.Merge(r,this.attributes),r.stroke="none",r.x=e,r.y=i;const s=this.create("text");s.textContent=t,this.applyAttributes(s,r),this.add(s)}save(){return this.state_stack.push({state:{"font-family":this.state["font-family"],"font-weight":this.state["font-weight"],"font-style":this.state["font-style"],"font-size":this.state["font-size"],scale:this.state.scale},attributes:{"font-family":this.attributes["font-family"],"font-weight":this.attributes["font-weight"],"font-style":this.attributes["font-style"],"font-size":this.attributes["font-size"],fill:this.attributes.fill,stroke:this.attributes.stroke,"stroke-width":this.attributes["stroke-width"],"stroke-dasharray":this.attributes["stroke-dasharray"]},shadow_attributes:{width:this.shadow_attributes.width,color:this.shadow_attributes.color},lineWidth:this.lineWidth}),this}restore(){const t=this.state_stack.pop();return this.state["font-family"]=t.state["font-family"],this.state["font-weight"]=t.state["font-weight"],this.state["font-style"]=t.state["font-style"],this.state["font-size"]=t.state["font-size"],this.state.scale=t.state.scale,this.attributes["font-family"]=t.attributes["font-family"],this.attributes["font-weight"]=t.attributes["font-weight"],this.attributes["font-style"]=t.attributes["font-style"],this.attributes["font-size"]=t.attributes["font-size"],this.attributes.fill=t.attributes.fill,this.attributes.stroke=t.attributes.stroke,this.attributes["stroke-width"]=t.attributes["stroke-width"],this.attributes["stroke-dasharray"]=t.attributes["stroke-dasharray"],this.shadow_attributes.width=t.shadow_attributes.width,this.shadow_attributes.color=t.shadow_attributes.color,this.lineWidth=t.lineWidth,this}}let b=null;class _{static get Backends(){return{CANVAS:1,RAPHAEL:2,SVG:3,VML:4}}static get LineEndType(){return{NONE:1,UP:2,DOWN:3}}static get USE_CANVAS_PROXY(){return!1}static get lastContext(){return b}static set lastContext(t){b=t}static buildContext(t,e,i,n,r){const s=new _(t,e);i&&n&&s.resize(i,n),r||(r="#FFF");const o=s.getContext();return o.setBackgroundFillStyle(r),_.lastContext=o,o}static getCanvasContext(t,e,i,n){return _.buildContext(t,_.Backends.CANVAS,e,i,n)}static getRaphaelContext(t,e,i,n){return _.buildContext(t,_.Backends.RAPHAEL,e,i,n)}static getSVGContext(t,e,i,n){return _.buildContext(t,_.Backends.SVG,e,i,n)}static bolsterCanvasContext(t){return _.USE_CANVAS_PROXY?new m(t):(t.vexFlowCanvasContext=t,["clear","setFont","setRawFont","setFillStyle","setBackgroundFillStyle","setStrokeStyle","setShadowColor","setShadowBlur","setLineWidth","setLineCap","setLineDash","openGroup","closeGroup","getGroup"].forEach(e=>{t[e]=t[e]||m.prototype[e]}),t)}static drawDashedLine(t,e,i,n,r,s){t.beginPath();const o=n-e,a=r-i,l=Math.atan2(a,o);let u=e,c=i;t.moveTo(e,i);let h=0,d=!0;for(;!(o<0?u<=n:u>=n)||!(a<0?c<=r:c>=r);){const e=s[h++%s.length],i=u+Math.cos(l)*e;u=o<0?Math.max(n,i):Math.min(n,i);const f=c+Math.sin(l)*e;c=a<0?Math.max(r,f):Math.min(r,f),d?t.lineTo(u,c):t.moveTo(u,c),d=!d}t.closePath(),t.stroke()}constructor(t,e){if(this.elementId=t,!this.elementId)throw new n.RERR("BadArgument","Invalid id for renderer.");if(this.element=document.getElementById(t),this.element||(this.element=t),this.ctx=null,this.paper=null,this.backend=e,this.backend===_.Backends.CANVAS){if(!this.element.getContext)throw new n.RERR("BadElement","Can't get canvas context from element: "+t);this.ctx=_.bolsterCanvasContext(this.element.getContext("2d"))}else if(this.backend===_.Backends.RAPHAEL)this.ctx=new g(this.element);else{if(this.backend!==_.Backends.SVG)throw new n.RERR("InvalidBackend","No support for backend: "+this.backend);this.ctx=new v(this.element)}}resize(t,e){if(this.backend===_.Backends.CANVAS){if(!this.element.getContext)throw new n.RERR("BadElement","Can't get canvas context from element: "+this.elementId);[t,e]=m.SanitizeCanvasDims(t,e);const i=window.devicePixelRatio||1;this.element.width=t*i,this.element.height=e*i,this.element.style.width=t+"px",this.element.style.height=e+"px",this.ctx=_.bolsterCanvasContext(this.element.getContext("2d")),this.ctx.scale(i,i)}else this.ctx.resize(t,e);return this}getContext(){return this.ctx}}class S extends l{static get CATEGORY(){return"stem"}static get UP(){return 1}static get DOWN(){return-1}static get WIDTH(){return p.STEM_WIDTH}static get HEIGHT(){return p.STEM_HEIGHT}constructor(t={}){super(),this.setAttribute("type","Stem"),this.x_begin=t.x_begin||0,this.x_end=t.x_end||0,this.y_top=t.y_top||0,this.y_bottom=t.y_bottom||0,this.stem_extension=t.stem_extension||0,this.stem_direction=t.stem_direction||0,this.hide=t.hide||!1,this.isStemlet=t.isStemlet||!1,this.stemletHeight=t.stemletHeight||0,this.renderHeightAdjustment=0,this.setOptions(t)}setOptions(t){this.stem_up_y_offset=t.stem_up_y_offset||0,this.stem_down_y_offset=t.stem_down_y_offset||0}setNoteHeadXBounds(t,e){return this.x_begin=t,this.x_end=e,this}setDirection(t){this.stem_direction=t}setExtension(t){this.stem_extension=t}getExtension(){return this.stem_extension}setYBounds(t,e){this.y_top=t,this.y_bottom=e}getCategory(){return S.CATEGORY}getHeight(){const t=this.stem_direction===S.UP?this.stem_up_y_offset:this.stem_down_y_offset;return(this.y_bottom-this.y_top)*this.stem_direction+(S.HEIGHT-t+this.stem_extension)*this.stem_direction}getBoundingBox(){throw new n.RERR("NotImplemented","getBoundingBox() not implemented.")}getExtents(){const t=this.stem_direction===S.UP,e=[this.y_top,this.y_bottom],i=S.HEIGHT+this.stem_extension,n=(t?Math.min:Math.max)(...e),r=(t?Math.max:Math.min)(...e);return{topY:n+i*-this.stem_direction,baseY:r}}setVisibility(t){return this.hide=!t,this}setStemlet(t,e){return this.isStemlet=t,this.stemletHeight=e,this}draw(){if(this.setRendered(),this.hide)return;const t=this.checkContext();let e,i;const r=this.stem_direction;r===S.DOWN?(e=this.x_begin,i=this.y_top+this.stem_down_y_offset):(e=this.x_end,i=this.y_bottom-this.stem_up_y_offset);const s=this.getHeight();!function(...t){S.DEBUG&&n.L("Vex.Flow.Stem",t)}("Rendering stem - ","Top Y: ",this.y_top,"Bottom Y: ",this.y_bottom);const o=this.isStemlet?s-this.stemletHeight*this.stem_direction:0;t.save(),this.applyStyle(t),t.beginPath(),t.setLineWidth(S.WIDTH),t.moveTo(e,i-o),t.lineTo(e,i-s-this.renderHeightAdjustment*r),t.stroke(),this.restoreStyle(t),t.restore()}}class w extends l{static get LOCATION_TOP(){return 1}static get LOCATION_BOTTOM(){return-1}static get NESTING_OFFSET(){return 15}constructor(t,e){if(super(),this.setAttribute("type","Tuplet"),!t||!t.length)throw new n.RuntimeError("BadArguments","No notes provided for tuplet.");this.options=n.Merge({},e),this.notes=t,this.num_notes="num_notes"in this.options?this.options.num_notes:t.length,this.options.beats_occupied&&this.beatsOccupiedDeprecationWarning(),this.notes_occupied=this.options.notes_occupied||this.options.beats_occupied||2,"bracketed"in this.options?this.bracketed=this.options.bracketed:this.bracketed=t.some(t=>null===t.beam),this.ratioed="ratioed"in this.options?this.options.ratioed:Math.abs(this.notes_occupied-this.num_notes)>1,this.point=28,this.y_pos=16,this.x_pos=100,this.width=200,this.location=this.options.location||w.LOCATION_TOP,ht.AlignRestsToNotes(t,!0,!0),this.resolveGlyphs(),this.attach()}attach(){for(let t=0;t<this.notes.length;t++)this.notes[t].setTuplet(this)}detach(){for(let t=0;t<this.notes.length;t++)this.notes[t].resetTuplet(this)}setBracketed(t){return this.bracketed=!!t,this}setRatioed(t){return this.ratioed=!!t,this}setTupletLocation(t){if(t){if(t!==w.LOCATION_TOP&&t!==w.LOCATION_BOTTOM)throw new n.RERR("BadArgument","Invalid tuplet location: "+t)}else t=w.LOCATION_TOP;return this.location=t,this}getNotes(){return this.notes}getNoteCount(){return this.num_notes}beatsOccupiedDeprecationWarning(){const t=["beats_occupied has been deprecated as an ","option for tuplets. Please use notes_occupied ","instead. Calls to getBeatsOccupied and ","setBeatsOccupied should now be routed to ","getNotesOccupied and setNotesOccupied instead"].join("");console&&console.warn?console.warn(t):console&&console.log(t)}getBeatsOccupied(){return this.beatsOccupiedDeprecationWarning(),this.getNotesOccupied()}setBeatsOccupied(t){return this.beatsOccupiedDeprecationWarning(),this.setNotesOccupied(t)}getNotesOccupied(){return this.notes_occupied}setNotesOccupied(t){this.detach(),this.notes_occupied=t,this.resolveGlyphs(),this.attach()}resolveGlyphs(){this.numerator_glyphs=[];let t=this.num_notes;for(;t>=1;)this.numerator_glyphs.unshift(new f("v"+t%10,this.point)),t=parseInt(t/10,10);for(this.denom_glyphs=[],t=this.notes_occupied;t>=1;)this.denom_glyphs.unshift(new f("v"+t%10,this.point)),t=parseInt(t/10,10)}getNestedTupletCount(){const t=this.location,e=this.notes[0];let i=r(e,t),n=r(e,t);function r(t,e){return t.tupletStack.filter(t=>t.location===e).length}return this.notes.forEach(e=>{const s=r(e,t);i=s>i?s:i,n=s<n?s:n}),i-n}getYPosition(){const t=this.getNestedTupletCount()*w.NESTING_OFFSET*-this.location,e=this.options.y_offset||0,i=this.notes[0];let n;if(this.location===w.LOCATION_TOP){n=i.getStave().getYForLine(0)-15;for(let t=0;t<this.notes.length;++t){const e=this.notes[t].getStemDirection()===S.UP?this.notes[t].getStemExtents().topY-10:this.notes[t].getStemExtents().baseY-20;e<n&&(n=e)}}else{n=i.getStave().getYForLine(4)+20;for(let t=0;t<this.notes.length;++t){const e=this.notes[t].getStemDirection()===S.UP?this.notes[t].getStemExtents().baseY+20:this.notes[t].getStemExtents().topY+10;e>n&&(n=e)}}return n+t+e}draw(){this.checkContext(),this.setRendered();const t=this.notes[0],e=this.notes[this.notes.length-1];this.bracketed?(this.x_pos=t.getTieLeftX()-5,this.width=e.getTieRightX()-this.x_pos+5):(this.x_pos=t.getStemX(),this.width=e.getStemX()-this.x_pos),this.y_pos=this.getYPosition();const i=(t,e)=>t+e.getMetrics().width;let n=this.numerator_glyphs.reduce(i,0);this.ratioed&&(n=this.denom_glyphs.reduce(i,n),n+=.32*this.point);const r=this.x_pos+this.width/2-n/2;if(this.bracketed){const t=this.width/2-n/2-5;t>0&&(this.context.fillRect(this.x_pos,this.y_pos,t,1),this.context.fillRect(this.x_pos+this.width/2+n/2+5,this.y_pos,t,1),this.context.fillRect(this.x_pos,this.y_pos+(this.location===w.LOCATION_BOTTOM),1,10*this.location),this.context.fillRect(this.x_pos+this.width,this.y_pos+(this.location===w.LOCATION_BOTTOM),1,10*this.location))}let s=0;if(this.numerator_glyphs.forEach(t=>{t.render(this.context,r+s,this.y_pos+this.point/3-2),s+=t.getMetrics().width}),this.ratioed){const t=r+s+.16*this.point,e=.06*this.point;this.context.beginPath(),this.context.arc(t,this.y_pos-.08*this.point,e,0,2*Math.PI,!0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(t,this.y_pos+.12*this.point,e,0,2*Math.PI,!0),this.context.closePath(),this.context.fill(),s+=.32*this.point,this.denom_glyphs.forEach(t=>{t.render(this.context,r+s,this.y_pos+this.point/3-2),s+=t.getMetrics().width})}}}function T(t){let e=0;return t.forEach(t=>{t.keyProps&&t.keyProps.forEach(t=>{e+=t.line-3})}),e>=0?S.DOWN:S.UP}const x="L",E="B";class C extends l{static getDefaultBeamGroups(t){t&&"c"!==t||(t="4/4");const e={"1/2":["1/2"],"2/2":["1/2"],"3/2":["1/2"],"4/2":["1/2"],"1/4":["1/4"],"2/4":["1/4"],"3/4":["1/4"],"4/4":["1/4"],"1/8":["1/8"],"2/8":["2/8"],"3/8":["3/8"],"4/8":["2/8"],"1/16":["1/16"],"2/16":["2/16"],"3/16":["3/16"],"4/16":["2/16"]}[t];if(void 0!==e)return e.map(t=>(new r).parse(t));{const e=parseInt(t.split("/")[0],10),i=parseInt(t.split("/")[1],10);if(e%3==0)return[new r(3,i)];if(i>4)return[new r(2,i)];if(i<=4)return[new r(1,i)]}return[new r(1,4)]}static applyAndGetBeams(t,e,i){return C.generateBeams(t.getTickables(),{groups:i,stem_direction:e})}static generateBeams(t,e){e||(e={}),e.groups&&e.groups.length||(e.groups=[new r(2,8)]);const i=e.groups.map(t=>{if(!t.multiply)throw new n.RuntimeError("InvalidBeamGroups","The beam groups must be an array of Vex.Flow.Fractions");return t.clone().multiply(p.RESOLUTION,1)}),s=t;let o=0,a=[],l=[];function u(){i.length-1>o?o+=1:o=0}!function(){let t=[];s.forEach(e=>{if(t=[],e.shouldIgnoreTicks())return a.push(l),void(l=t);l.push(e);const n=i[o].clone(),s=l.reduce((t,e)=>e.getTicks().clone().add(t),new r(0,1)),c=p.durationToNumber(e.duration)<8;c&&e.tuplet&&(n.numerator*=2),s.greaterThan(n)?(c||t.push(l.pop()),a.push(l),l=t,u()):s.equals(n)&&(a.push(l),l=t,u())}),l.length>0&&a.push(l)}(),function(){const t=[];a.forEach(i=>{let n=[];i.forEach((i,r,s)=>{const o=0===r||r===s.length-1,a=s[r-1],l=!e.beam_rests&&i.isRest(),u=e.beam_rests&&e.beam_middle_only&&i.isRest()&&o;let c=!1;if(e.maintain_stem_directions&&a&&!i.isRest()&&!a.isRest()){const t=a.getStemDirection();c=i.getStemDirection()!==t}const h=parseInt(i.duration,10)<8;l||u||c||h?(n.length>0&&t.push(n),n=c?[i]:[]):n.push(i)}),n.length>0&&t.push(n)}),a=t}(),a.forEach(t=>{let i;if(e.maintain_stem_directions){const e=function(t){for(let e=0;e<t.length;e++){const i=t[e];if(!i.isRest())return i}return!1}(t);i=e?e.getStemDirection():S.UP}else i=e.stem_direction?e.stem_direction:T(t);!function(t,e){t.forEach(t=>{t.setStemDirection(e)})}(t,i)});const c=a.filter(t=>{if(t.length>1){let e=!0;return t.forEach(t=>{t.getIntrinsicTicks()>=p.durationToTicks("4")&&(e=!1)}),e}return!1}),h=function(){const t=[];return a.forEach(e=>{let i=null;e.forEach(e=>{e.tuplet&&i!==e.tuplet&&(i=e.tuplet,t.push(i))})}),t}(),d=[];return c.forEach(t=>{const i=new C(t);e.show_stemlets&&(i.render_options.show_stemlets=!0),e.secondary_breaks&&(i.render_options.secondary_break_ticks=p.durationToTicks(e.secondary_breaks)),!0===e.flat_beams&&(i.render_options.flat_beams=!0,i.render_options.flat_beam_offset=e.flat_beam_offset),d.push(i)}),h.forEach(t=>{const e=t.notes[0].stem_direction===S.DOWN?w.LOCATION_BOTTOM:w.LOCATION_TOP;t.setTupletLocation(e);let i=!1;for(let n=0;n<t.notes.length;n++)if(null===t.notes[n].beam){i=!0;break}t.setBracketed(i)}),d}constructor(t,e){if(super(),this.setAttribute("type","Beam"),!t||t===[])throw new n.RuntimeError("BadArguments","No notes provided for beam.");if(1===t.length)throw new n.RuntimeError("BadArguments","Too few notes for beam.");if(this.ticks=t[0].getIntrinsicTicks(),this.ticks>=p.durationToTicks("4"))throw new n.RuntimeError("BadArguments","Beams can only be applied to notes shorter than a quarter note.");let i,r;for(this.stem_direction=S.UP,i=0;i<t.length;++i)if(r=t[i],r.hasStem()){this.stem_direction=r.getStemDirection();break}let s=this.stem_direction;for(e&&"stavenotes"===t[0].getCategory()?s=T(t):e&&"tabnotes"===t[0].getCategory()&&(s=t.reduce((t,e)=>t+e.stem_direction,0)>-1?S.UP:S.DOWN),i=0;i<t.length;++i)r=t[i],e&&(r.setStemDirection(s),this.stem_direction=s),r.setBeam(this);this.postFormatted=!1,this.notes=t,this.beam_count=this.getBeamCount(),this.break_on_indices=[],this.render_options={beam_width:5,max_slope:.25,min_slope:-.25,slope_iterations:20,slope_cost:100,show_stemlets:!1,stemlet_extension:7,partial_beam_length:10,flat_beams:!1,min_flat_beam_offset:15}}getNotes(){return this.notes}getBeamCount(){return this.notes.map(t=>t.getGlyph().beam_count).reduce((t,e)=>e>t?e:t)}breakSecondaryAt(t){return this.break_on_indices=t,this}getSlopeY(t,e,i,n){return i+(t-e)*n}calculateSlope(){const{notes:t,stem_direction:e,render_options:{max_slope:i,min_slope:n,slope_iterations:r,slope_cost:s}}=this,o=t[0],a=((t,e)=>{const i=t.getStemExtents().topY,n=t.getStemX();return(e.getStemExtents().topY-i)/(e.getStemX()-n)})(o,t[t.length-1]),l=(i-n)/r;let u=Number.MAX_VALUE,c=0,h=0;for(let d=n;d<=i;d+=l){let i=0,n=0;for(let s=1;s<t.length;++s){const r=t[s],a=this.getSlopeY(r.getStemX(),o.getStemX(),o.getStemExtents().topY,d)+n,l=r.getStemExtents().topY;if(l*e<a*e){const t=Math.abs(l-a);n+=t*-e,i+=t*s}else i+=(l-a)*e}const r=a/2,l=s*Math.abs(r-d)+Math.abs(i);l<u&&(u=l,c=d,h=n)}this.slope=c,this.y_shift=h}calculateFlatSlope(){const{notes:t,stem_direction:e,render_options:{beam_width:i,min_flat_beam_offset:n,flat_beam_offset:r}}=this;let s=0,o=0,a=0,l=0;for(let d=0;d<t.length;d++){const i=t[d],n=i.getStemExtents().topY;s+=n,e===S.DOWN&&l<n?(l=n,o=Math.max(...i.getYs()),a=i.getBeamCount()):e===S.UP&&(0===l||l>n)&&(l=n,o=Math.min(...i.getYs()),a=i.getBeamCount())}let u=s/t.length;const c=n+a*(1.5*i),h=o+c*-e;e===S.DOWN&&u<h?u=o+c:e===S.UP&&u>h&&(u=o-c),r?(e===S.DOWN&&u>r||e===S.UP&&u<r)&&(this.render_options.flat_beam_offset=u):this.render_options.flat_beam_offset=u,this.slope=0,this.y_shift=0}getBeamYToDraw(){let t=this.notes[0].getStemExtents().topY;return this.render_options.flat_beams&&this.render_options.flat_beam_offset&&(t=this.render_options.flat_beam_offset),t}applyStemExtensions(){const{notes:t,slope:e,y_shift:i,stem_direction:n,beam_count:r,render_options:{show_stemlets:s,stemlet_extension:o,beam_width:a}}=this,l=t[0],u=this.getBeamYToDraw(),c=l.getStemX();for(let h=0;h<t.length;++h){const l=t[h],d=l.getStemX(),{topY:f}=l.getStemExtents(),p=this.getSlopeY(d,c,u,e)+i,m=l.getStem().getExtension(),g=n===S.UP?f-p:p-f;if(l.stem.setExtension(m+g),l.stem.renderHeightAdjustment=-S.WIDTH/2,l.isRest()&&s){const t=(r-1)*a*1.5+a;l.stem.setVisibility(!0).setStemlet(!0,t+o)}}}lookupBeamDirection(t,e,i,n){if("4"===t)return x;const r=""+p.durationToNumber(t)/2,s=e<p.durationToTicks(r),o=n<p.durationToTicks(r),a=i<p.durationToTicks(r);return s&&o&&a?E:s&&!o&&a?x:!s&&o&&a?"R":this.lookupBeamDirection(r,e,i,n)}getBeamLines(t){const e=p.durationToTicks(t),i=[];let n=!1,r=null;const s=this.render_options.partial_beam_length;let o=!1,a=0;for(let u=0;u<this.notes.length;++u){const l=this.notes[u];a+=l.ticks.value();let c=!1;parseInt(t,10)>=8&&(c=-1!==this.break_on_indices.indexOf(u),this.render_options.secondary_break_ticks&&a>=this.render_options.secondary_break_ticks&&(a=0,c=!0));const h=l.getIntrinsicTicks()<e,d=l.getStemX()-S.WIDTH/2,f=this.notes[u-1],p=this.notes[u+1],m=p&&p.getIntrinsicTicks()<e,g=f&&f.getIntrinsicTicks()<e,y=f&&p&&h&&!g&&!m;if(h)if(n)r=i[i.length-1],r.end=d,c&&(n=!1,p&&!m&&null===r.end&&(r.end=r.start-s));else{if(r={start:d,end:null},n=!0,y){const e=f.getIntrinsicTicks(),i=p.getIntrinsicTicks(),n=l.getIntrinsicTicks(),o=this.lookupBeamDirection(t,e,n,i);[x,E].includes(o)?r.end=r.start-s:r.end=r.start+s}else m?c&&(r.end=r.start-s,n=!1):r.end=(o||0===u)&&p?r.start+s:r.start-s;i.push(r)}else n=!1;o=c}const l=i[i.length-1];return l&&null===l.end&&(l.end=l.start-s),i}drawStems(){this.notes.forEach(t=>{t.getStem()&&t.getStem().setContext(this.context).draw()},this)}drawBeamLines(){this.checkContext();const t=["4","8","16","32","64"],e=this.notes[0];let i=this.getBeamYToDraw();const n=e.getStemX(),r=this.render_options.beam_width*this.stem_direction;for(let s=0;s<t.length;++s){const e=t[s],o=this.getBeamLines(e);for(let t=0;t<o.length;++t){const e=o[t],s=e.start,a=this.getSlopeY(s,n,i,this.slope),l=e.end,u=this.getSlopeY(l,n,i,this.slope);this.context.beginPath(),this.context.moveTo(s,a),this.context.lineTo(s,a+r),this.context.lineTo(l+1,u+r),this.context.lineTo(l+1,u),this.context.closePath(),this.context.fill()}i+=1.5*r}}preFormat(){return this}postFormat(){this.postFormatted||("tabnotes"===this.notes[0].getCategory()||this.render_options.flat_beams?this.calculateFlatSlope():this.calculateSlope(),this.applyStemExtensions(),this.postFormatted=!0)}draw(){this.checkContext(),this.setRendered(),this.unbeamable||(this.postFormatted||this.postFormat(),this.drawStems(),this.applyStyle(),this.drawBeamLines(),this.restoreStyle())}}class A extends l{static get Mode(){return{STRICT:1,SOFT:2,FULL:3}}constructor(t){if(super(),this.setAttribute("type","Voice"),"string"==typeof t){const e=t.match(/(\d+)\/(\d+)/);e&&(t={num_beats:e[1],beat_value:e[2],resolution:p.RESOLUTION})}this.time=n.Merge({num_beats:4,beat_value:4,resolution:p.RESOLUTION},t),this.totalTicks=new r(this.time.num_beats*(this.time.resolution/this.time.beat_value),1),this.resolutionMultiplier=1,this.tickables=[],this.ticksUsed=new r(0,1),this.smallestTickCount=this.totalTicks.clone(),this.largestTickWidth=0,this.stave=null,this.mode=A.Mode.STRICT,this.voiceGroup=null}getTotalTicks(){return this.totalTicks}getTicksUsed(){return this.ticksUsed}getLargestTickWidth(){return this.largestTickWidth}getSmallestTickCount(){return this.smallestTickCount}getTickables(){return this.tickables}getMode(){return this.mode}setMode(t){return this.mode=t,this}getResolutionMultiplier(){return this.resolutionMultiplier}getActualResolution(){return this.resolutionMultiplier*this.time.resolution}setStave(t){return this.stave=t,this.boundingBox=null,this}getBoundingBox(){let t,e,i,r;if(!this.boundingBox){if(!this.stave)throw new n.RERR("NoStave","Can't get bounding box without stave.");for(t=this.stave,e=null,r=0;r<this.tickables.length;++r)this.tickables[r].setStave(t),i=this.tickables[r].getBoundingBox(),i&&(e=e?e.mergeWith(i):i);this.boundingBox=e}return this.boundingBox}getVoiceGroup(){if(!this.voiceGroup)throw new n.RERR("NoVoiceGroup","No voice group for voice.");return this.voiceGroup}setVoiceGroup(t){return this.voiceGroup=t,this}setStrict(t){return this.mode=t?A.Mode.STRICT:A.Mode.SOFT,this}isComplete(){return this.mode!==A.Mode.STRICT&&this.mode!==A.Mode.FULL||this.ticksUsed.equals(this.totalTicks)}addTickable(t){if(!t.shouldIgnoreTicks()){const e=t.getTicks();if(this.ticksUsed.add(e),(this.mode===A.Mode.STRICT||this.mode===A.Mode.FULL)&&this.ticksUsed.greaterThan(this.totalTicks))throw this.ticksUsed.subtract(e),new n.RERR("BadArgument","Too many ticks.");e.lessThan(this.smallestTickCount)&&(this.smallestTickCount=e.clone()),this.resolutionMultiplier=this.ticksUsed.denominator,this.totalTicks.add(0,this.ticksUsed.denominator)}return this.tickables.push(t),t.setVoice(this),this}addTickables(t){for(let e=0;e<t.length;++e)this.addTickable(t[e]);return this}preFormat(){return this.preFormatted||(this.tickables.forEach(t=>{t.getStave()||t.setStave(this.stave)}),this.preFormatted=!0),this}draw(t=this.context,e=this.stave){this.setRendered();let i=null;for(let r=0;r<this.tickables.length;++r){const s=this.tickables[r];if(e&&s.setStave(e),!s.getStave())throw new n.RuntimeError("MissingStave","The voice cannot draw tickables without staves.");if(0===r&&(i=s.getBoundingBox()),r>0&&i){const t=s.getBoundingBox();t&&i.mergeWith(t)}s.setContext(t),s.drawWithStyle()}this.boundingBox=i}}function P(t,e,i,r,s){if(e!==M.type.BOLD_DOUBLE_LEFT&&e!==M.type.BOLD_DOUBLE_RIGHT)throw new n.RERR("InvalidConnector","A REPEAT_BEGIN or REPEAT_END type must be provided.");let o=3,a=3.5;e===M.type.BOLD_DOUBLE_RIGHT&&(o=-5,a=3),t.fillRect(i+o,r,1,s-r),t.fillRect(i-2,r,a,s-r)}class M extends l{static get type(){return{SINGLE_RIGHT:0,SINGLE_LEFT:1,SINGLE:1,DOUBLE:2,BRACE:3,BRACKET:4,BOLD_DOUBLE_LEFT:5,BOLD_DOUBLE_RIGHT:6,THIN_DOUBLE:7,NONE:8}}static get typeString(){return{singleRight:M.type.SINGLE_RIGHT,singleLeft:M.type.SINGLE_LEFT,single:M.type.SINGLE,double:M.type.DOUBLE,brace:M.type.BRACE,bracket:M.type.BRACKET,boldDoubleLeft:M.type.BOLD_DOUBLE_LEFT,boldDoubleRight:M.type.BOLD_DOUBLE_RIGHT,thinDouble:M.type.THIN_DOUBLE,none:M.type.NONE}}constructor(t,e){super(),this.setAttribute("type","StaveConnector"),this.thickness=p.STAVE_LINE_THICKNESS,this.width=3,this.top_stave=t,this.bottom_stave=e,this.type=M.type.DOUBLE,this.font={family:"times",size:16,weight:"normal"},this.x_shift=0,this.texts=[]}setType(t){return(t="string"==typeof t?M.typeString[t]:t)>=M.type.SINGLE_RIGHT&&t<=M.type.NONE&&(this.type=t),this}setText(t,e){return this.texts.push({content:t,options:n.Merge({shift_x:0,shift_y:0},e)}),this}setFont(t){n.Merge(this.font,t)}setXShift(t){if("number"!=typeof t)throw n.RERR("InvalidType","x_shift must be a Number");return this.x_shift=t,this}draw(){const t=this.checkContext();this.setRendered();let e=this.top_stave.getYForLine(0),i=this.bottom_stave.getYForLine(this.bottom_stave.getNumLines()-1)+this.thickness,r=this.width,s=this.top_stave.getX();(this.type===M.type.SINGLE_RIGHT||this.type===M.type.BOLD_DOUBLE_RIGHT||this.type===M.type.THIN_DOUBLE)&&(s=this.top_stave.getX()+this.top_stave.width);let o=i-e;switch(this.type){case M.type.SINGLE:case M.type.SINGLE_LEFT:case M.type.SINGLE_RIGHT:r=1;break;case M.type.DOUBLE:s-=this.width+2;break;case M.type.BRACE:{r=12;const n=this.top_stave.getX()-2+this.x_shift,s=e,a=n,l=i,u=n-r,c=s+o/2,h=u-.9*r,d=s+.2*o,f=n+1.1*r,p=c-.135*o,m=f,g=c+.135*o,y=h,v=l-.2*o,b=u-r,_=v,S=n+.4*r,w=c+.135*o,T=S,x=c-.135*o,E=b,C=d;t.beginPath(),t.moveTo(n,s),t.bezierCurveTo(h,d,f,p,u,c),t.bezierCurveTo(m,g,y,v,a,l),t.bezierCurveTo(b,_,S,w,u,c),t.bezierCurveTo(T,x,E,C,n,s),t.fill(),t.stroke();break}case M.type.BRACKET:e-=4,i+=4,o=i-e,f.renderGlyph(t,s-5,e-3,40,"v1b",!0),f.renderGlyph(t,s-5,i+3,40,"v10",!0),s-=this.width+2;break;case M.type.BOLD_DOUBLE_LEFT:P(t,this.type,s+this.x_shift,e,i);break;case M.type.BOLD_DOUBLE_RIGHT:P(t,this.type,s,e,i);break;case M.type.THIN_DOUBLE:r=1;break;case M.type.NONE:break;default:throw new n.RERR("InvalidType",`The provided StaveConnector.type (${this.type}) is invalid`)}this.type!==M.type.BRACE&&this.type!==M.type.BOLD_DOUBLE_LEFT&&this.type!==M.type.BOLD_DOUBLE_RIGHT&&this.type!==M.type.NONE&&t.fillRect(s,e,r,o),this.type===M.type.THIN_DOUBLE&&t.fillRect(s-3,e,r,o),t.save(),t.lineWidth=2,t.setFont(this.font.family,this.font.size,this.font.weight);for(let n=0;n<this.texts.length;n++){const e=this.texts[n],i=t.measureText(""+e.content).width,r=this.top_stave.getX()-i-24+e.options.shift_x,s=(this.top_stave.getYForLine(0)+this.bottom_stave.getBottomLineY())/2+e.options.shift_y;t.fillText(""+e.content,r,s+4)}t.restore()}}class k extends l{constructor(){super(),this.setAttribute("type","Tickable"),this.ticks=new r(0,1),this.intrinsicTicks=0,this.tickMultiplier=new r(1,1),this.width=0,this.x_shift=0,this.voice=null,this.tickContext=null,this.modifierContext=null,this.modifiers=[],this.preFormatted=!1,this.postFormatted=!1,this.tuplet=null,this.tupletStack=[],this.align_center=!1,this.center_x_shift=0,this.ignore_ticks=!1,this.formatterMetrics={freedom:{left:0,right:0},duration:"",iterations:0,space:{used:0,mean:0,deviation:0}}}reset(){return this}getTicks(){return this.ticks}shouldIgnoreTicks(){return this.ignore_ticks}getWidth(){return this.width}getFormatterMetrics(){return this.formatterMetrics}setXShift(t){this.x_shift=t}getCenterXShift(){return this.isCenterAligned()?this.center_x_shift:0}isCenterAligned(){return this.align_center}setCenterAlignment(t){return this.align_center=t,this}getVoice(){if(!this.voice)throw new n.RERR("NoVoice","Tickable has no voice.");return this.voice}setVoice(t){this.voice=t}getTuplet(){return this.tuplet}resetTuplet(t){let e,i;if(t){const n=this.tupletStack.indexOf(t);return-1!==n&&(this.tupletStack.splice(n,1),e=t.getNoteCount(),i=t.getNotesOccupied(),this.applyTickMultiplier(e,i)),this}for(;this.tupletStack.length;)e=(t=this.tupletStack.pop()).getNoteCount(),i=t.getNotesOccupied(),this.applyTickMultiplier(e,i);return this}setTuplet(t){if(t){this.tupletStack.push(t);const e=t.getNoteCount(),i=t.getNotesOccupied();this.applyTickMultiplier(i,e)}return this.tuplet=t,this}addToModifierContext(t){this.modifierContext=t,this.preFormatted=!1}addModifier(t){return this.modifiers.push(t),this.preFormatted=!1,this}getModifiers(){return this.modifiers}setTickContext(t){this.tickContext=t,this.preFormatted=!1}preFormat(){this.preFormatted||(this.width=0,this.modifierContext&&(this.modifierContext.preFormat(),this.width+=this.modifierContext.getWidth()))}postFormat(){return this.postFormatted||(this.postFormatted=!0),this}getIntrinsicTicks(){return this.intrinsicTicks}setIntrinsicTicks(t){this.intrinsicTicks=t,this.ticks=this.tickMultiplier.clone().multiply(this.intrinsicTicks)}getTickMultiplier(){return this.tickMultiplier}applyTickMultiplier(t,e){this.tickMultiplier.multiply(t,e),this.ticks=this.tickMultiplier.clone().multiply(this.intrinsicTicks)}setDuration(t){const e=t.numerator*(p.RESOLUTION/t.denominator);this.ticks=this.tickMultiplier.clone().multiply(e),this.intrinsicTicks=this.ticks.value()}}class L extends k{static get CATEGORY(){return"note"}static get STAVEPADDING(){return 12}static plotMetrics(t,e,i){const r=e.getMetrics(),s=e.getAbsoluteX()-r.modLeftPx-r.extraLeftPx,o=e.getAbsoluteX()-r.extraLeftPx,a=e.getAbsoluteX(),l=e.getAbsoluteX()+r.noteWidth,u=e.getAbsoluteX()+r.noteWidth+r.extraRightPx,c=e.getAbsoluteX()+r.noteWidth+r.extraRightPx+r.modRightPx,h=c+e.getFormatterMetrics().freedom.right,d=c-s;t.save(),t.setFont("Arial",8,""),t.fillText(Math.round(d)+"px",s+e.getXShift(),i);const f=i+7;function p(i,n,r,s=f){t.beginPath(),t.setStrokeStyle(r),t.setFillStyle(r),t.setLineWidth(3),t.moveTo(i+e.getXShift(),s),t.lineTo(n+e.getXShift(),s),t.stroke()}p(s,o,"red"),p(o,a,"#999"),p(a,l,"green"),p(l,u,"#999"),p(u,c,"red"),p(c,h,"#DD0"),p(s-e.getXShift(),s,"#BBB"),n.drawDot(t,a+e.getXShift(),f,"blue");const m=e.getFormatterMetrics();if(m.iterations>0){const n=m.space.deviation,r=n>=0?"+":"";t.setFillStyle("red"),t.fillText(r+Math.round(n),a+e.getXShift(),i-10)}t.restore()}constructor(t){if(super(),this.setAttribute("type","Note"),!t)throw new n.RuntimeError("BadArguments","Note must have valid initialization data to identify duration and type.");const e=p.parseNoteStruct(t);if(!e)throw new n.RuntimeError("BadArguments","Invalid note initialization object: "+JSON.stringify(t));if(this.duration=e.duration,this.dots=e.dots,this.noteType=e.type,this.customTypes=e.customTypes,t.duration_override?this.setDuration(t.duration_override):this.setIntrinsicTicks(e.ticks),this.modifiers=[],this.glyph=p.getGlyphProps(this.duration,this.noteType),this.customGlyphs=this.customTypes.map(t=>p.getGlyphProps(this.duration,t)),this.positions&&("object"!=typeof this.positions||!this.positions.length))throw new n.RuntimeError("BadArguments","Note keys must be array type.");this.playNote=null,this.tickContext=null,this.modifierContext=null,this.ignore_ticks=!1,this.width=0,this.extraLeftPx=0,this.extraRightPx=0,this.x_shift=0,this.left_modPx=0,this.right_modPx=0,this.voice=null,this.preFormatted=!1,this.ys=[],t.align_center&&this.setCenterAlignment(t.align_center),this.stave=null,this.render_options={annotation_spacing:5,stave_padding:L.STAVEPADDING}}getPlayNote(){return this.playNote}setPlayNote(t){return this.playNote=t,this}isRest(){return!1}addStroke(t,e){return e.setNote(this),e.setIndex(t),this.modifiers.push(e),this.setPreFormatted(!1),this}getStave(){return this.stave}setStave(t){return this.stave=t,this.setYs([t.getYForLine(0)]),this.context=this.stave.context,this}getCategory(){return L.CATEGORY}setContext(t){return this.context=t,this}getExtraLeftPx(){return this.extraLeftPx}getExtraRightPx(){return this.extraRightPx}setExtraLeftPx(t){return this.extraLeftPx=t,this}setExtraRightPx(t){return this.extraRightPx=t,this}shouldIgnoreTicks(){return this.ignore_ticks}getLineNumber(){return 0}getLineForRest(){return 0}getGlyph(){return this.glyph}getGlyphWidth(){return this.glyph.getWidth(this.render_options.glyph_font_scale)}setYs(t){return this.ys=t,this}getYs(){if(0===this.ys.length)throw new n.RERR("NoYValues","No Y-values calculated for this note.");return this.ys}getYForTopText(t){if(!this.stave)throw new n.RERR("NoStave","No stave attached to this note.");return this.stave.getYForTopText(t)}getBoundingBox(){return null}getVoice(){if(!this.voice)throw new n.RERR("NoVoice","Note has no voice.");return this.voice}setVoice(t){return this.voice=t,this.preFormatted=!1,this}getTickContext(){return this.tickContext}setTickContext(t){return this.tickContext=t,this.preFormatted=!1,this}getDuration(){return this.duration}isDotted(){return this.dots>0}hasStem(){return!1}getDots(){return this.dots}getNoteType(){return this.noteType}setBeam(){return this}setModifierContext(t){return this.modifierContext=t,this}addModifier(t,e=0){return t.setNote(this),t.setIndex(e),this.modifiers.push(t),this.setPreFormatted(!1),this}getModifierStartXY(){if(!this.preFormatted)throw new n.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");return{x:this.getAbsoluteX(),y:this.ys[0]}}getMetrics(){if(!this.preFormatted)throw new n.RERR("UnformattedNote","Can't call getMetrics on an unformatted note.");let t=0,e=0;null!=this.modifierContext&&(t=this.modifierContext.state.left_shift,e=this.modifierContext.state.right_shift);const i=this.getWidth();return{width:i,noteWidth:i-t-e-this.extraLeftPx-this.extraRightPx,left_shift:this.x_shift,modLeftPx:t,modRightPx:e,extraLeftPx:this.extraLeftPx,extraRightPx:this.extraRightPx}}setWidth(t){this.width=t}getWidth(){if(!this.preFormatted)throw new n.RERR("UnformattedNote","Can't call GetWidth on an unformatted note.");return this.width+(this.modifierContext?this.modifierContext.getWidth():0)}setXShift(t){return this.x_shift=t,this}getXShift(){return this.x_shift}getX(){if(!this.tickContext)throw new n.RERR("NoTickContext","Note needs a TickContext assigned for an X-Value");return this.tickContext.getX()+this.x_shift}getAbsoluteX(){if(!this.tickContext)throw new n.RERR("NoTickContext","Note needs a TickContext assigned for an X-Value");let t=this.tickContext.getX();return this.stave&&(t+=this.stave.getNoteStartX()+this.render_options.stave_padding),this.isCenterAligned()&&(t+=this.getCenterXShift()),t}setPreFormatted(t){if(this.preFormatted=t,this.preFormatted){const t=this.tickContext.getExtraPx();this.left_modPx=Math.max(this.left_modPx,t.left),this.right_modPx=Math.max(this.right_modPx,t.right)}}}class I extends L{static get CATEGORY(){return"notehead"}constructor(t){if(super(t),this.setAttribute("type","NoteHead"),this.index=t.index,this.x=t.x||0,this.y=t.y||0,this.note_type=t.note_type,this.duration=t.duration,this.displaced=t.displaced||!1,this.stem_direction=t.stem_direction||B.STEM_UP,this.line=t.line,this.glyph=p.getGlyphProps(this.duration,this.note_type),!this.glyph)throw new n.RuntimeError("BadArguments",`No glyph found for duration '${this.duration}' and type '${this.note_type}'`);this.glyph_code=this.glyph.code_head,this.x_shift=t.x_shift||0,t.custom_glyph_code&&(this.custom_glyph=!0,this.glyph_code=t.custom_glyph_code,this.stem_up_x_offset=t.stem_up_x_offset||0,this.stem_down_x_offset=t.stem_down_x_offset||0),this.style=t.style,this.slashed=t.slashed,n.Merge(this.render_options,{glyph_font_scale:t.glyph_font_scale||p.DEFAULT_NOTATION_FONT_SCALE,stroke_px:3}),this.setWidth(this.glyph.getWidth(this.render_options.glyph_font_scale))}getCategory(){return I.CATEGORY}getWidth(){return this.width}isDisplaced(){return!0===this.displaced}getGlyph(){return this.glyph}setX(t){return this.x=t,this}getY(){return this.y}setY(t){return this.y=t,this}getLine(){return this.line}setLine(t){return this.line=t,this}getAbsoluteX(){const t=this.preFormatted?super.getAbsoluteX():this.x,e=S.WIDTH/2;return t+(this.displaced?(this.width-e)*this.stem_direction:0)}getBoundingBox(){if(!this.preFormatted)throw new n.RERR("UnformattedNote","Can't call getBoundingBox on an unformatted note.");const t=this.stave.getSpacingBetweenLines(),e=t/2,i=this.y-e;return new p.BoundingBox(this.getAbsoluteX(),i,this.width,t)}setStave(t){const e=this.getLine();return this.stave=t,this.setY(t.getYForNote(e)),this.context=this.stave.context,this}preFormat(){if(this.preFormatted)return this;const t=this.getWidth()+this.extraLeftPx+this.extraRightPx;return this.setWidth(t),this.setPreFormatted(!0),this}draw(){this.checkContext(),this.setRendered();const t=this.context;let e=this.getAbsoluteX();this.custom_glyph&&(e+=this.stem_direction===S.UP?this.stem_up_x_offset:this.stem_down_x_offset);const i=this.y;!function(...t){I.DEBUG&&n.L("Vex.Flow.NoteHead",t)}("Drawing note head '",this.note_type,this.duration,"' at",e,i);const r=this.stem_direction,s=this.render_options.glyph_font_scale;if(this.style&&this.applyStyle(t),"s"===this.note_type){const n=this.stave.getSpacingBetweenLines();!function(t,e,i,n,r,s){const o=p.SLASH_NOTEHEAD_WIDTH;t.save(),t.setLineWidth(p.STEM_WIDTH);let a=!1;if(p.durationToNumber(e)>2&&(a=!0),a||(i-=p.STEM_WIDTH/2*r),t.beginPath(),t.moveTo(i,n+s),t.lineTo(i,n+1),t.lineTo(i+o,n-s),t.lineTo(i+o,n),t.lineTo(i,n+s),t.closePath(),a?t.fill():t.stroke(),p.durationToFraction(e).equals(.5)){const e=[-3,-1,o+1,o+3];for(let r=0;r<e.length;r++)t.beginPath(),t.moveTo(i+e[r],n-10),t.lineTo(i+e[r],n+11),t.stroke()}t.restore()}(t,this.duration,e,i,r,n)}else f.renderGlyph(t,e,i,s,this.glyph_code);this.style&&this.restoreStyle(t)}}class O extends L{constructor(t){super(t),this.setAttribute("type","StemmableNote"),this.stem=null,this.stemExtensionOverride=null,this.beam=null}getStem(){return this.stem}setStem(t){return this.stem=t,this}buildStem(){const t=new S;return this.setStem(t),this}buildFlag(){const{glyph:t,beam:e}=this,i=null===e;if(t&&t.flag&&i){const e=this.getStemDirection()===S.DOWN?t.code_flag_downstem:t.code_flag_upstem;this.flag=new f(e,this.render_options.glyph_font_scale)}}getTopGlyph(){return this.getStemDirection()===S.DOWN?this.customGlyphs[this.customGlyphs.length-1]:this.customGlyphs[0]}getStemLength(){return S.HEIGHT+this.getStemExtension()}getBeamCount(){const t=this.getGlyph();return t?t.beam_count:0}getStemMinumumLength(){let t=p.durationToFraction(this.duration).value()<=1?0:20;switch(this.duration){case"8":null==this.beam&&(t=35);break;case"16":t=null==this.beam?35:25;break;case"32":t=null==this.beam?45:35;break;case"64":t=null==this.beam?50:40;break;case"128":t=null==this.beam?55:45}return t}getStemDirection(){return this.stem_direction}setStemDirection(t){if(t||(t=S.UP),t!==S.UP&&t!==S.DOWN)throw new n.RERR("BadArgument","Invalid stem direction: "+t);if(this.stem_direction=t,this.stem){this.stem.setDirection(t),this.stem.setExtension(this.getStemExtension());const e=this.getTopGlyph()||this.getGlyph();this.stem.setOptions({stem_up_y_offset:e.stem_up_y_offset,stem_down_y_offset:e.stem_down_y_offset})}return this.reset(),this.flag&&this.buildFlag(),this.beam=null,this.preFormatted&&this.preFormat(),this}getStemX(){const t=this.getAbsoluteX()+this.x_shift,e=this.getAbsoluteX()+this.x_shift+this.getGlyphWidth();return this.stem_direction===S.DOWN?t:e}getCenterGlyphX(){return this.getAbsoluteX()+this.x_shift+this.getGlyphWidth()/2}getStemExtension(){const t=this.getGlyph();return null!=this.stemExtensionOverride?this.stemExtensionOverride:t?1===this.getStemDirection()?t.stem_up_extension:t.stem_down_extension:0}setStemLength(t){return this.stemExtensionOverride=t-S.HEIGHT,this}getStemExtents(){return this.stem.getExtents()}setBeam(t){return this.beam=t,this}getYForTopText(t){const e=this.getStemExtents();return this.hasStem()?Math.min(this.stave.getYForTopText(t),e.topY-this.render_options.annotation_spacing*(t+1)):this.stave.getYForTopText(t)}getYForBottomText(t){const e=this.getStemExtents();return this.hasStem()?Math.max(this.stave.getYForTopText(t),e.baseY+this.render_options.annotation_spacing*t):this.stave.getYForBottomText(t)}hasFlag(){return p.getGlyphProps(this.duration).flag&&!this.beam}postFormat(){return this.beam&&this.beam.postFormat(),this.postFormatted=!0,this}drawStem(t){this.checkContext(),this.setRendered(),this.setStem(new S(t)),this.stem.setContext(this.context).draw()}}class R extends l{static get CATEGORY(){return"none"}static get Position(){return{LEFT:1,RIGHT:2,ABOVE:3,BELOW:4}}static get PositionString(){return{above:R.Position.ABOVE,below:R.Position.BELOW,left:R.Position.LEFT,right:R.Position.RIGHT}}constructor(){super(),this.setAttribute("type","Modifier"),this.width=0,this.note=null,this.index=null,this.text_line=0,this.position=R.Position.LEFT,this.modifier_context=null,this.x_shift=0,this.y_shift=0,this.spacingFromNextModifier=0}getCategory(){return R.CATEGORY}getWidth(){return this.width}setWidth(t){return this.width=t,this}getNote(){return this.note}setNote(t){return this.note=t,this}getIndex(){return this.index}setIndex(t){return this.index=t,this}getModifierContext(){return this.modifier_context}setModifierContext(t){return this.modifier_context=t,this}getPosition(){return this.position}setPosition(t){return this.position="string"==typeof t?R.PositionString[t]:t,this}setTextLine(t){return this.text_line=t,this}setYShift(t){return this.y_shift=t,this}setSpacingFromNextModifier(t){this.spacingFromNextModifier=t}getSpacingFromNextModifier(){return this.spacingFromNextModifier}setXShift(t){this.x_shift=0,this.position===R.Position.LEFT?this.x_shift-=t:this.x_shift+=t}getXShift(){return this.x_shift}draw(){throw this.checkContext(),new n.RERR("MethodNotImplemented","draw() not implemented for this modifier.")}alignSubNotesWithNote(t,e){const i=e.getTickContext(),n=i.getExtraPx(),r=i.getX()-n.left-n.extraLeft+this.getSpacingFromNextModifier();t.forEach(t=>{const i=t.getTickContext();t.setStave(e.stave),i.setXOffset(r)})}}class N extends R{static get CATEGORY(){return"dots"}static format(t,e){const i=e.right_shift;if(!t||0===t.length)return!1;const n=[],r={};for(let h=0;h<t.length;++h){const e=t[h],i=e.getNote();let s,o;"function"==typeof i.getKeyProps?(s=i.getKeyProps()[e.getIndex()],o=s.displaced?i.getExtraRightPx():0):(s={line:.5},o=0);const a=i.getAttribute("id");n.push({line:s.line,note:i,note_id:a,dot:e}),r[a]=Math.max(r[a]||o,o)}n.sort((t,e)=>e.line-t.line);let s=i,o=0,a=null,l=null,u=null,c=0;for(let h=0;h<n.length;++h){const{dot:t,note:e,note_id:i,line:d}=n[h];d===a&&e===l||(s=r[i]),e.isRest()||d===a||(.5===Math.abs(d%1)?c=0:(c=.5,null==l||l.isRest()||a-d!=.5?d+c===u&&(c=-.5):c=-.5)),e.isRest()?t.dot_shiftY+=-c:t.dot_shiftY=-c,u=d+c,t.setXShift(s),s+=t.getWidth()+1,o=s>o?s:o,a=d,l=e}return e.right_shift+=o,!0}constructor(){super(),this.setAttribute("type","Dot"),this.note=null,this.index=null,this.position=R.Position.RIGHT,this.radius=2,this.setWidth(5),this.dot_shiftY=0}getCategory(){return N.CATEGORY}setNote(t){this.note=t,"gracenotes"===this.note.getCategory()&&(this.radius*=.5,this.setWidth(3))}setDotShiftY(t){return this.dot_shiftY=t,this}draw(){if(this.checkContext(),this.setRendered(),!this.note||null===this.index)throw new n.RERR("NoAttachedNote","Can't draw dot without a note and index.");const t=this.note.stave.options.spacing_between_lines_px,e=this.note.getModifierStartXY(this.position,this.index,{forceFlagRight:!0});"tabnotes"===this.note.getCategory()&&(e.y=this.note.getStemExtents().baseY);const i=e.x+this.x_shift+this.width-this.radius,r=e.y+this.y_shift+this.dot_shiftY*t,s=this.context;s.beginPath(),s.arc(i,r,this.radius,0,2*Math.PI,!1),s.fill()}}function D(t,e,i){const n=(e.isrest?0:1)*i;t.line+=n,t.maxLine+=n,t.minLine+=n,t.note.setKeyLine(0,t.note.getKeyLine(0)+n)}class B extends O{static get CATEGORY(){return"stavenotes"}static get STEM_UP(){return S.UP}static get STEM_DOWN(){return S.DOWN}static get DEFAULT_LEDGER_LINE_OFFSET(){return 3}static format(t,e){if(!t||t.length<2)return!1;if(t[0].getStave())return B.formatByY(t,e);const i=[];for(let n=0;n<t.length;n++){const e=t[n].getKeyProps(),r=e[0].line;let s=e[e.length-1].line;const o=t[n].getStemDirection(),a=t[n].getStemLength()/10,l=t[n].getStemMinumumLength()/10;let u;t[n].isRest()?(u=r+t[n].glyph.line_above,s=r-t[n].glyph.line_below):(u=1===o?e[e.length-1].line+a:e[e.length-1].line,s=1===o?e[0].line:e[0].line-a),i.push({line:e[0].line,maxLine:u,minLine:s,isrest:t[n].isRest(),stemDirection:o,stemMax:a,stemMin:l,voice_shift:t[n].getVoiceShiftWidth(),is_displaced:t[n].isDisplaced(),note:t[n]})}const r=i.length;let s=i[0];const o=r>2?i[1]:null;let a=r>2?i[2]:i[1];2===r&&-1===s.stemDirection&&1===a.stemDirection&&(s=i[1],a=i[0]);const l=Math.max(s.voice_shift,a.voice_shift);let u,c=0;if(2===r){const t=s.stemDirection===a.stemDirection?0:.5;return s.stemDirection===a.stemDirection&&s.minLine<=a.maxLine&&(s.isrest||(u=Math.abs(s.line-(a.maxLine+.5)),u=Math.max(u,s.stemMin),s.minLine=s.line-u,s.note.setStemLength(10*u))),s.minLine<=a.maxLine+t&&(s.isrest?D(s,a,1):a.isrest?D(a,s,-1):(c=l,s.stemDirection===a.stemDirection?s.note.setXShift(c+3):a.note.setXShift(c))),!0}return null!==o&&o.minLine<a.maxLine+.5&&(o.isrest||(u=Math.abs(o.line-(a.maxLine+.5)),u=Math.max(u,o.stemMin),o.minLine=o.line-u,o.note.setStemLength(10*u))),o.isrest&&!s.isrest&&!a.isrest&&(s.minLine<=o.maxLine||o.minLine<=a.maxLine)?(o.maxLine-o.minLine<s.minLine-a.maxLine?function(t,e,i){const r=t.line-n.MidLine(e.minLine,i.maxLine);t.note.setKeyLine(0,t.note.getKeyLine(0)-r),t.line-=r,t.maxLine-=r,t.minLine-=r}(o,s,a):(c=l+3,o.note.setXShift(c)),!0):s.isrest&&o.isrest&&a.isrest?(D(s,o,1),D(a,o,-1),!0):(o.isrest&&s.isrest&&o.minLine<=a.maxLine&&D(o,a,1),o.isrest&&a.isrest&&s.minLine<=o.maxLine&&D(o,s,-1),s.isrest&&s.minLine<=o.maxLine&&D(s,o,1),a.isrest&&o.minLine<=a.maxLine&&D(a,o,-1),(!s.isrest&&!o.isrest&&s.minLine<=o.maxLine+.5||!o.isrest&&!a.isrest&&o.minLine<=a.maxLine)&&(c=l+3,o.note.setXShift(c)),!0)}static formatByY(t,e){let i=!0;for(let n=0;n<t.length;n++)i=i&&null!=t[n].getStave();if(!i)throw new n.RERR("Stave Missing","All notes must have a stave - Vex.Flow.ModifierContext.formatMultiVoice!");let r=0;for(let n=0;n<t.length-1;n++){let e=t[n],i=t[n+1];e.getStemDirection()===S.DOWN&&(e=t[n+1],i=t[n]);const s=e.getKeyProps(),o=i.getKeyProps(),a=.5,l=e.getStave().getYForLine(5-s[0].line+a);i.getStave().getYForLine(5-o[o.length-1].line-a)-l<0&&(r=e.getVoiceShiftWidth()+2,i.setXShift(r))}e.right_shift+=r}static postFormat(t){return!!t&&(t.forEach(t=>t.postFormat()),!0)}constructor(t){if(super(t),this.setAttribute("type","StaveNote"),this.keys=t.keys,this.clef=t.clef,this.octave_shift=t.octave_shift,this.beam=null,this.glyph=p.getGlyphProps(this.duration,this.noteType),!this.glyph)throw new n.RuntimeError("BadArguments","Invalid note initialization data (No glyph found): "+JSON.stringify(t));this.displaced=!1,this.dot_shiftY=0,this.keyProps=[],this.use_default_head_x=!1,this.note_heads=[],this.modifiers=[],n.Merge(this.render_options,{glyph_font_scale:t.glyph_font_scale||p.DEFAULT_NOTATION_FONT_SCALE,stroke_px:t.stroke_px||B.DEFAULT_LEDGER_LINE_OFFSET}),this.calculateKeyProps(),this.buildStem(),t.auto_stem?this.autoStem():this.setStemDirection(t.stem_direction),this.reset(),this.buildFlag()}reset(){super.reset();const t=this.note_heads.map(t=>t.getStyle());this.buildNoteHeads(),this.note_heads.forEach((e,i)=>e.setStyle(t[i])),this.stave&&this.note_heads.forEach(t=>t.setStave(this.stave)),this.calcExtraPx()}setBeam(t){return this.beam=t,this.calcExtraPx(),this}getCategory(){return B.CATEGORY}buildStem(){this.setStem(new S({hide:!!this.isRest()}))}buildNoteHeads(){this.note_heads=[];const t=this.getStemDirection(),e=this.getKeys();let i,n,r,s=null,o=null,a=!1;t===S.UP?(i=0,n=e.length,r=1):t===S.DOWN&&(i=e.length-1,n=-1,r=-1);for(let l=i;l!==n;l+=r){const e=this.keyProps[l],i=e.line;null===s?s=i:(o=Math.abs(s-i),0===o||.5===o?a=!a:(a=!1,this.use_default_head_x=!0)),s=i;const n=new I({duration:this.duration,note_type:this.noteType,displaced:a,stem_direction:t,custom_glyph_code:e.code,glyph_font_scale:this.render_options.glyph_font_scale,x_shift:e.shift_right,stem_up_x_offset:e.stem_up_x_offset,stem_down_x_offset:e.stem_down_x_offset,line:e.line});this.note_heads[l]=n}}autoStem(){this.minLine=this.keyProps[0].line,this.maxLine=this.keyProps[this.keyProps.length-1].line;const t=(this.minLine+this.maxLine)/2<3?S.UP:S.DOWN;this.setStemDirection(t)}calculateKeyProps(){let t=null;for(let e=0;e<this.keys.length;++e){const i=this.keys[e];this.glyph.rest&&(this.glyph.position=i);const r={octave_shift:this.octave_shift||0},s=p.keyProperties(i,this.clef,r);if(!s)throw new n.RuntimeError("BadArguments","Invalid key for note properties: "+i);"R"===s.key&&("1"===this.duration||"w"===this.duration?s.line=4:s.line=3);const o=s.line;null===t?t=o:.5===Math.abs(t-o)&&(this.displaced=!0,s.displaced=!0,this.keyProps.length>0&&(this.keyProps[e-1].displaced=!0)),t=o,this.keyProps.push(s)}t=-1/0,this.keyProps.forEach(e=>{e.line<t&&n.W("Unsorted keys in note will be sorted. See https://github.com/0xfe/vexflow/issues/104 for details."),t=e.line}),this.keyProps.sort((t,e)=>t.line-e.line)}getBoundingBox(){if(!this.preFormatted)throw new n.RERR("UnformattedNote","Can't call getBoundingBox on an unformatted note.");const{width:t,modLeftPx:e,extraLeftPx:i}=this.getMetrics(),r=this.getAbsoluteX()-e-i;let s=0,o=0;const a=this.getStave().getSpacingBetweenLines()/2,l=2*a;if(this.isRest()){const t=this.ys[0],e=p.durationToFraction(this.duration);e.equals(1)||e.equals(2)?(s=t-a,o=t+a):(s=t-this.glyph.line_above*l,o=t+this.glyph.line_below*l)}else if(this.glyph.stem){const t=this.getStemExtents();t.baseY+=a*this.stem_direction,s=Math.min(t.topY,t.baseY),o=Math.max(t.topY,t.baseY)}else{s=null,o=null;for(let t=0;t<this.ys.length;++t){const e=this.ys[t];0===t?(s=e,o=e):(s=Math.min(e,s),o=Math.max(e,o))}s-=a,o+=a}return new c(r,s,t,o-s)}getLineNumber(t){if(!this.keyProps.length)throw new n.RERR("NoKeyProps","Can't get bottom note line, because note is not initialized properly.");let e=this.keyProps[0].line;for(let i=0;i<this.keyProps.length;i++){const n=this.keyProps[i].line;t?n>e&&(e=n):n<e&&(e=n)}return e}isRest(){return this.glyph.rest}isChord(){return!this.isRest()&&this.keys.length>1}hasStem(){return this.glyph.stem}hasFlag(){return super.hasFlag()&&!this.isRest()}getStemX(){return"r"===this.noteType?this.getCenterGlyphX():super.getStemX()+(t=this,S.WIDTH/(2*-t.getStemDirection()));var t}getYForTopText(t){const e=this.getStemExtents();return Math.min(this.stave.getYForTopText(t),e.topY-this.render_options.annotation_spacing*(t+1))}getYForBottomText(t){const e=this.getStemExtents();return Math.max(this.stave.getYForTopText(t),e.baseY+this.render_options.annotation_spacing*t)}setStave(t){super.setStave(t);const e=this.note_heads.map(e=>(e.setStave(t),e.getY()));if(this.setYs(e),this.stem){const{y_top:t,y_bottom:e}=this.getNoteHeadBounds();this.stem.setYBounds(t,e)}return this}getKeys(){return this.keys}getKeyProps(){return this.keyProps}isDisplaced(){return this.displaced}setNoteDisplaced(t){return this.displaced=t,this}getTieRightX(){let t=this.getAbsoluteX();return t+=this.getGlyphWidth()+this.x_shift+this.extraRightPx,this.modifierContext&&(t+=this.modifierContext.getExtraRightPx()),t}getTieLeftX(){let t=this.getAbsoluteX();return t+=this.x_shift-this.extraLeftPx,t}getLineForRest(){let t=this.keyProps[0].line;if(this.keyProps.length>1){const e=this.keyProps[this.keyProps.length-1].line,i=Math.max(t,e),r=Math.min(t,e);t=n.MidLine(i,r)}return t}getModifierStartXY(t,e,i){if(i=i||{},!this.preFormatted)throw new n.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");if(0===this.ys.length)throw new n.RERR("NoYValues","No Y-Values calculated for this note.");const{ABOVE:r,BELOW:s,LEFT:o,RIGHT:a}=R.Position;let l=0;return t===o?l=-2:t===a?(l=this.getGlyphWidth()+this.x_shift+2,this.stem_direction===S.UP&&this.hasFlag()&&(i.forceFlagRight||((t,e)=>e===(t.getStemDirection()===S.UP?t.keyProps.length-1:0))(this,e))&&(l+=this.flag.getMetrics().width)):t!==s&&t!==r||(l=this.getGlyphWidth()/2),{x:this.getAbsoluteX()+l,y:this.ys[e]}}setStyle(t){super.setStyle(t),this.note_heads.forEach(e=>e.setStyle(t)),this.stem.setStyle(t)}setStemStyle(t){this.getStem().setStyle(t)}getStemStyle(){return this.stem.getStyle()}setLedgerLineStyle(t){this.ledgerLineStyle=t}getLedgerLineStyle(){return this.ledgerLineStyle}setFlagStyle(t){this.flagStyle=t}getFlagStyle(){return this.flagStyle}setKeyStyle(t,e){return this.note_heads[t].setStyle(e),this}setKeyLine(t,e){return this.keyProps[t].line=e,this.reset(),this}getKeyLine(t){return this.keyProps[t].line}addToModifierContext(t){this.setModifierContext(t);for(let e=0;e<this.modifiers.length;++e)this.modifierContext.addModifier(this.modifiers[e]);return this.modifierContext.addModifier(this),this.setPreFormatted(!1),this}addModifier(t,e){return e.setNote(this),e.setIndex(t),this.modifiers.push(e),this.setPreFormatted(!1),this}addAccidental(t,e){return this.addModifier(t,e)}addArticulation(t,e){return this.addModifier(t,e)}addAnnotation(t,e){return this.addModifier(t,e)}addDot(t){const e=new N;return e.setDotShiftY(this.glyph.dot_shiftY),this.dots++,this.addModifier(t,e)}addDotToAll(){for(let t=0;t<this.keys.length;++t)this.addDot(t);return this}getAccidentals(){return this.modifierContext.getModifiers("accidentals")}getDots(){return this.modifierContext.getModifiers("dots")}getVoiceShiftWidth(){return this.getGlyphWidth()*(this.displaced?2:1)}calcExtraPx(){this.setExtraLeftPx(this.displaced&&this.stem_direction===S.DOWN?this.getGlyphWidth():0),this.setExtraRightPx(!this.hasFlag()&&this.displaced&&this.stem_direction===S.UP?this.getGlyphWidth():0)}preFormat(){if(this.preFormatted)return;this.modifierContext&&this.modifierContext.preFormat();let t=this.getGlyphWidth()+this.extraLeftPx+this.extraRightPx;this.glyph.flag&&null===this.beam&&this.stem_direction===S.UP&&(t+=this.getGlyphWidth()),this.setWidth(t),this.setPreFormatted(!0)}getNoteHeadBounds(){let t=null,e=null,i=null,n=null,r=this.stave.getNumLines(),s=1,o=!1,a=!1,l=r,u=s;return this.note_heads.forEach(c=>{const h=c.getLine(),d=c.getY();(null===t||d<t)&&(t=d),(null===e||d>e)&&(e=d),null===n&&c.isDisplaced()&&(n=c.getAbsoluteX()),null!==i||c.isDisplaced()||(i=c.getAbsoluteX()),r=h>r?h:r,s=h<s?h:s,c.isDisplaced()?(o=!1===o?h:Math.max(h,o),a=!1===a?h:Math.min(h,a)):(l=Math.max(h,l),u=Math.min(h,u))},this),{y_top:t,y_bottom:e,displaced_x:n,non_displaced_x:i,highest_line:r,lowest_line:s,highest_displaced_line:o,lowest_displaced_line:a,highest_non_displaced_line:l,lowest_non_displaced_line:u}}getNoteHeadBeginX(){return this.getAbsoluteX()+this.x_shift}getNoteHeadEndX(){return this.getNoteHeadBeginX()+this.getGlyphWidth()}drawLedgerLines(){const{stave:t,glyph:e,render_options:{stroke_px:i},context:r}=this,s=e.getWidth()+2*i,o=2*(e.getWidth()+i)-S.WIDTH/2;if(this.isRest())return;if(!r)throw new n.RERR("NoCanvasContext","Can't draw without a canvas context.");const{highest_line:a,lowest_line:l,highest_displaced_line:u,highest_non_displaced_line:c,lowest_displaced_line:h,lowest_non_displaced_line:d,displaced_x:f,non_displaced_x:p}=this.getNoteHeadBounds(),m=Math.min(f,p),g=(t,e,n)=>{let a;a=n&&e?m-i:e?p-i:f-i;const l=e&&n?o:s;r.beginPath(),r.moveTo(a,t),r.lineTo(a+l,t),r.stroke()},y={...t.getStyle()||{},...this.getLedgerLineStyle()||{}};this.applyStyle(r,y);for(let n=6;n<=a;++n){const e=null!==p&&n<=c,i=null!==f&&n<=u;g(t.getYForNote(n),e,i)}for(let n=0;n>=l;--n){const e=null!==p&&n>=d,i=null!==f&&n>=h;g(t.getYForNote(n),e,i)}this.restoreStyle(r,y)}drawModifiers(){if(!this.context)throw new n.RERR("NoCanvasContext","Can't draw without a canvas context.");const t=this.context;t.openGroup("modifiers");for(let e=0;e<this.modifiers.length;e++){const i=this.modifiers[e],n=this.note_heads[i.getIndex()],r=n.getStyle();n.applyStyle(t,r),i.setContext(t),i.drawWithStyle(),n.restoreStyle(t,r)}t.closeGroup()}drawFlag(){const{stem:t,beam:e,context:i}=this;if(!i)throw new n.RERR("NoCanvasContext","Can't draw without a canvas context.");const r=null===e;if(this.getGlyph().flag&&r){const{y_top:e,y_bottom:n}=this.getNoteHeadBounds(),r=t.getHeight(),s=this.getStemX(),o=this.getStemDirection()===S.DOWN?e-r+2:n-r-2;i.openGroup("flag",null,{pointerBBox:!0}),this.applyStyle(i,this.getFlagStyle()||!1),this.flag.render(i,s,o),this.restoreStyle(i,this.getFlagStyle()||!1),i.closeGroup()}}drawNoteHeads(){this.note_heads.forEach(t=>{this.context.openGroup("notehead",null,{pointerBBox:!0}),t.setContext(this.context).draw(),this.context.closeGroup()})}drawStem(t){if(!this.context)throw new n.RERR("NoCanvasContext","Can't draw without a canvas context.");t&&this.setStem(new S(t)),this.context.openGroup("stem",null,{pointerBBox:!0}),this.stem.setContext(this.context).draw(),this.context.closeGroup()}draw(){if(!this.context)throw new n.RERR("NoCanvasContext","Can't draw without a canvas context.");if(!this.stave)throw new n.RERR("NoStave","Can't draw without a stave.");if(0===this.ys.length)throw new n.RERR("NoYValues","Can't draw note without Y values.");const t=this.getNoteHeadBeginX(),e=this.hasStem()&&!this.beam;this.note_heads.forEach(e=>e.setX(t));const i=this.getStemX();this.stem.setNoteHeadXBounds(i,i),function(...t){B.DEBUG&&n.L("Vex.Flow.StaveNote",t)}("Rendering ",this.isChord()?"chord :":"note :",this.keys),this.drawLedgerLines(),this.applyStyle(),this.setAttribute("el",this.context.openGroup("stavenote",this.getAttribute("id"))),this.context.openGroup("note",null,{pointerBBox:!0}),e&&this.drawStem(),this.drawNoteHeads(),this.drawFlag(),this.context.closeGroup(),this.drawModifiers(),this.context.closeGroup(),this.restoreStyle(),this.setRendered()}}class F extends R{static get CATEGORY(){return"frethandfinger"}static format(t,e){const{left_shift:i,right_shift:n}=e;if(!t||0===t.length)return!1;const r=[];let s=null,o=0,a=0;for(let p=0;p<t.length;++p){const e=t[p],l=e.getNote(),u=e.getPosition(),c=l.getKeyProps()[e.getIndex()];if(l!==s){for(let t=0;t<l.keys.length;++t){const e=l.getKeyProps()[t];0===i&&(o=e.displaced?l.getExtraLeftPx():o),0===n&&(a=e.displaced?l.getExtraRightPx():a)}s=l}r.push({note:l,num:e,pos:u,line:c.line,shiftL:o,shiftR:a})}r.sort((t,e)=>e.line-t.line);let l=0,u=0,c=0,h=0,d=null,f=null;for(let p=0;p<r.length;++p){let t=0;const{note:e,pos:s,num:o,line:m,shiftL:g,shiftR:y}=r[p];m===d&&e===f||(l=i+g,u=n+y);const v=o.getWidth()+1;s===R.Position.LEFT?(o.setXShift(i+l),t=i+v,c=t>c?t:c):s===R.Position.RIGHT&&(o.setXShift(u),t=a+v,h=t>h?t:h),d=m,f=e}return e.left_shift+=c,e.right_shift+=h,!0}constructor(t){super(),this.setAttribute("type","FretHandFinger"),this.note=null,this.index=null,this.finger=t,this.width=7,this.position=R.Position.LEFT,this.x_shift=0,this.y_shift=0,this.x_offset=0,this.y_offset=0,this.font={family:"sans-serif",size:9,weight:"bold"}}getCategory(){return F.CATEGORY}setFretHandFinger(t){return this.finger=t,this}setOffsetX(t){return this.x_offset=t,this}setOffsetY(t){return this.y_offset=t,this}draw(){if(this.checkContext(),!this.note||null==this.index)throw new n.RERR("NoAttachedNote","Can't draw string number without a note and index.");this.setRendered();const t=this.context,e=this.note.getModifierStartXY(this.position,this.index);let i=e.x+this.x_shift+this.x_offset,r=e.y+this.y_shift+this.y_offset+5;switch(this.position){case R.Position.ABOVE:i-=4,r-=12;break;case R.Position.BELOW:i-=2,r+=10;break;case R.Position.LEFT:i-=this.width;break;case R.Position.RIGHT:i+=1;break;default:throw new n.RERR("InvalidPostion",`The position ${this.position} does not exist`)}t.save(),t.setFont(this.font.family,this.font.size,this.font.weight),t.fillText(""+this.finger,i,r),t.restore()}}class V{static get NUM_TONES(){return 12}static get roots(){return["c","d","e","f","g","a","b"]}static get root_values(){return[0,2,4,5,7,9,11]}static get root_indices(){return{c:0,d:1,e:2,f:3,g:4,a:5,b:6}}static get canonical_notes(){return["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"]}static get diatonic_intervals(){return["unison","m2","M2","m3","M3","p4","dim5","p5","m6","M6","b7","M7","octave"]}static get diatonic_accidentals(){return{unison:{note:0,accidental:0},m2:{note:1,accidental:-1},M2:{note:1,accidental:0},m3:{note:2,accidental:-1},M3:{note:2,accidental:0},p4:{note:3,accidental:0},dim5:{note:4,accidental:-1},p5:{note:4,accidental:0},m6:{note:5,accidental:-1},M6:{note:5,accidental:0},b7:{note:6,accidental:-1},M7:{note:6,accidental:0},octave:{note:7,accidental:0}}}static get intervals(){return{u:0,unison:0,m2:1,b2:1,min2:1,S:1,H:1,2:2,M2:2,maj2:2,T:2,W:2,m3:3,b3:3,min3:3,M3:4,3:4,maj3:4,4:5,p4:5,"#4":6,b5:6,aug4:6,dim5:6,5:7,p5:7,"#5":8,b6:8,aug5:8,6:9,M6:9,maj6:9,b7:10,m7:10,min7:10,dom7:10,M7:11,maj7:11,8:12,octave:12}}static get scales(){return{major:[2,2,1,2,2,2,1],dorian:[2,1,2,2,2,1,2],mixolydian:[2,2,1,2,2,1,2],minor:[2,1,2,2,1,2,2]}}static get scaleTypes(){return{M:V.scales.major,m:V.scales.minor}}static get accidentals(){return["bb","b","n","#","##"]}static get noteValues(){return{c:{root_index:0,int_val:0},cn:{root_index:0,int_val:0},"c#":{root_index:0,int_val:1},"c##":{root_index:0,int_val:2},cb:{root_index:0,int_val:11},cbb:{root_index:0,int_val:10},d:{root_index:1,int_val:2},dn:{root_index:1,int_val:2},"d#":{root_index:1,int_val:3},"d##":{root_index:1,int_val:4},db:{root_index:1,int_val:1},dbb:{root_index:1,int_val:0},e:{root_index:2,int_val:4},en:{root_index:2,int_val:4},"e#":{root_index:2,int_val:5},"e##":{root_index:2,int_val:6},eb:{root_index:2,int_val:3},ebb:{root_index:2,int_val:2},f:{root_index:3,int_val:5},fn:{root_index:3,int_val:5},"f#":{root_index:3,int_val:6},"f##":{root_index:3,int_val:7},fb:{root_index:3,int_val:4},fbb:{root_index:3,int_val:3},g:{root_index:4,int_val:7},gn:{root_index:4,int_val:7},"g#":{root_index:4,int_val:8},"g##":{root_index:4,int_val:9},gb:{root_index:4,int_val:6},gbb:{root_index:4,int_val:5},a:{root_index:5,int_val:9},an:{root_index:5,int_val:9},"a#":{root_index:5,int_val:10},"a##":{root_index:5,int_val:11},ab:{root_index:5,int_val:8},abb:{root_index:5,int_val:7},b:{root_index:6,int_val:11},bn:{root_index:6,int_val:11},"b#":{root_index:6,int_val:0},"b##":{root_index:6,int_val:1},bb:{root_index:6,int_val:10},bbb:{root_index:6,int_val:9}}}isValidNoteValue(t){return!(null==t||t<0||t>=V.NUM_TONES)}isValidIntervalValue(t){return this.isValidNoteValue(t)}getNoteParts(t){if(!t||t.length<1)throw new n.RERR("BadArguments","Invalid note name: "+t);if(t.length>3)throw new n.RERR("BadArguments","Invalid note name: "+t);const e=t.toLowerCase(),i=/^([cdefgab])(b|bb|n|#|##)?$/.exec(e);if(null!=i)return{root:i[1],accidental:i[2]};throw new n.RERR("BadArguments","Invalid note name: "+t)}getKeyParts(t){if(!t||t.length<1)throw new n.RERR("BadArguments","Invalid key: "+t);const e=t.toLowerCase(),i=/^([cdefgab])(b|#)?(mel|harm|m|M)?$/.exec(e);if(null!=i){const t=i[1],e=i[2];let n=i[3];return n||(n="M"),{root:t,accidental:e,type:n}}throw new n.RERR("BadArguments","Invalid key: "+t)}getNoteValue(t){const e=V.noteValues[t];if(null==e)throw new n.RERR("BadArguments","Invalid note name: "+t);return e.int_val}getIntervalValue(t){const e=V.intervals[t];if(null==e)throw new n.RERR("BadArguments","Invalid interval name: "+t);return e}getCanonicalNoteName(t){if(!this.isValidNoteValue(t))throw new n.RERR("BadArguments","Invalid note value: "+t);return V.canonical_notes[t]}getCanonicalIntervalName(t){if(!this.isValidIntervalValue(t))throw new n.RERR("BadArguments","Invalid interval value: "+t);return V.diatonic_intervals[t]}getRelativeNoteValue(t,e,i){if(null==i&&(i=1),1!==i&&-1!==i)throw new n.RERR("BadArguments","Invalid direction: "+i);let r=(t+i*e)%V.NUM_TONES;return r<0&&(r+=V.NUM_TONES),r}getRelativeNoteName(t,e){const i=this.getNoteParts(t),r=this.getNoteValue(i.root);let s=e-r;if(Math.abs(s)>V.NUM_TONES-3){let i=1;s>0&&(i=-1);const o=(e+1+(r+1))%V.NUM_TONES*i;if(Math.abs(o)>2)throw new n.RERR("BadArguments",`Notes not related: ${t}, ${e})`);s=o}if(Math.abs(s)>2)throw new n.RERR("BadArguments",`Notes not related: ${t}, ${e})`);let o=i.root;if(s>0)for(let n=1;n<=s;++n)o+="#";else if(s<0)for(let n=-1;n>=s;--n)o+="b";return o}getScaleTones(t,e){const i=[t];let n=t;for(let r=0;r<e.length;r+=1)n=this.getRelativeNoteValue(n,e[r]),n!==t&&i.push(n);return i}getIntervalBetween(t,e,i){if(null==i&&(i=1),1!==i&&-1!==i)throw new n.RERR("BadArguments","Invalid direction: "+i);if(!this.isValidNoteValue(t)||!this.isValidNoteValue(e))throw new n.RERR("BadArguments",`Invalid notes: ${t}, ${e}`);let r=1===i?e-t:t-e;return r<0&&(r+=V.NUM_TONES),r}createScaleMap(t){const e=this.getKeyParts(t),i=V.scaleTypes[e.type];let r=e.root;if(e.accidental&&(r+=e.accidental),!i)throw new n.RERR("BadArguments","Unsupported key type: "+t);const s=this.getScaleTones(this.getNoteValue(r),i),o=V.root_indices[e.root],a={};for(let n=0;n<V.roots.length;++n){const t=(o+n)%V.roots.length,e=V.roots[t];let i=this.getRelativeNoteName(e,s[n]);1===i.length&&(i+="n"),a[e]=i}return a}}function j(...t){G.DEBUG&&n.L("Vex.Flow.Accidental",t)}const U=t=>t.getMetrics().width;class G extends R{static get CATEGORY(){return"accidentals"}static format(t,e){const i=e.left_shift+1;if(!t||0===t.length)return;const n=[];let r,s=null,o=0;for(let p=0;p<t.length;++p){const e=t[p],i=e.getNote(),a=i.getStave(),l=i.getKeyProps()[e.getIndex()];if(i!==s){for(let t=0;t<i.keys.length;++t)r=i.getKeyProps()[t],o=r.displaced?i.getExtraLeftPx():o;s=i}if(null!==a){const t=a.options.spacing_between_lines_px,i=a.getYForLine(l.line),r=Math.round(i/t*2)/2;n.push({y:i,line:r,shift:o,acc:e,lineSpace:t})}else n.push({line:l.line,shift:o,acc:e})}n.sort((t,e)=>e.line-t.line);const a=[];let l=0,u=null;for(let p=0;p<n.length;p++){const t=n[p];null!==u&&u===t.line||a.push({line:t.line,flatLine:!0,dblSharpLine:!0,numAcc:0,width:0}),"b"!==t.acc.type&&"bb"!==t.acc.type&&(a[a.length-1].flatLine=!1),"##"!==t.acc.type&&(a[a.length-1].dblSharpLine=!1),a[a.length-1].numAcc++,a[a.length-1].width+=t.acc.getWidth()+3,l=t.shift>l?t.shift:l,u=t.line}let c=0;for(let g=0;g<a.length;g++){let t=!1;const e=g;let i=g;for(;i+1<a.length&&!t;)this.checkCollision(a[i],a[i+1])?i++:t=!0;const n=t=>a[e+t],r=t=>t.map(n),s=(t,e)=>{const[i,n]=r([t,e]).map(t=>t.line);return i-n},o=(...t)=>t.map(r).every(t=>!this.checkCollision(...t)),l=i-e+1;let u,h,d=this.checkCollision(a[e],a[i])?"a":"b";switch(l){case 3:"a"===d&&.5===s(1,2)&&.5!==s(0,1)&&(d="second_on_bottom");break;case 4:o([0,2],[1,3])&&(d="spaced_out_tetrachord");break;case 5:"b"===d&&o([1,3])&&(d="spaced_out_pentachord",o([0,2],[2,4])&&(d="very_spaced_out_pentachord"));break;case 6:o([0,3],[1,4],[2,5])&&(d="spaced_out_hexachord"),o([0,2],[2,4],[1,3],[3,5])&&(d="very_spaced_out_hexachord")}if(l>=7){let t=2,e=!0;for(;!0===e;){e=!1;for(let i=0;i+t<a.length;i++)if(this.checkCollision(a[i],a[i+t])){e=!0,t++;break}}for(u=g;u<=i;u++)h=(u-g)%t+1,a[u].column=h,c=c>h?c:h}else for(u=g;u<=i;u++)h=p.accidentalColumnsTable[l][d][u-g],a[u].column=h,c=c>h?c:h;g=i}const h=[],d=[];for(let p=0;p<=c;p++)h[p]=0,d[p]=0;h[0]=l+i,d[0]=l+i,a.forEach(t=>{t.width>h[t.column]&&(h[t.column]=t.width)});for(let p=1;p<h.length;p++)d[p]=h[p]+d[p-1];const f=d[d.length-1];let m=0;a.forEach(t=>{let e=0;const i=m+t.numAcc;for(;m<i;m++){const i=d[t.column-1]+e;n[m].acc.setXShift(i),e+=n[m].acc.getWidth()+3,j("Line, accCount, shift: ",t.line,m,i)}}),e.left_shift+=f}static checkCollision(t,e){let i=e.line-t.line,n=3;i>0?(n=e.flatLine||e.dblSharpLine?2.5:3,t.dblSharpLine&&(i-=.5)):(n=t.flatLine||t.dblSharpLine?2.5:3,e.dblSharpLine&&(i-=.5));const r=Math.abs(i)<n;return j("Line_1, Line_2, Collision: ",t.line,e.line,r),r}static applyAccidentals(t,e){const i=[],n={};t.forEach(t=>{const e=new r(0,1);t.getTickables().forEach(t=>{if(t.shouldIgnoreTicks())return;const r=n[e.value()];r?r.push(t):(i.push(e.value()),n[e.value()]=[t]),e.add(t.getTicks())})});const s=new V;e||(e="C");const o=s.createScaleMap(e);i.forEach(t=>{const e=n[t],i=[],r=t=>{t.isRest()||t.shouldIgnoreTicks()||(t.keys.forEach((e,n)=>{const r=s.getNoteParts(e.split("/")[0]),a=r.accidental||"n",l=r.root+a,u=o[r.root]===l,c=i.indexOf(l)>-1;if(!u||u&&c){o[r.root]=l;const e=new G(a);t.addAccidental(n,e),i.push(l)}}),t.getModifiers().forEach(t=>{"gracenotegroups"===t.getCategory()&&t.getGraceNotes().forEach(r)}))};e.forEach(r)})}constructor(t=null){if(super(),this.setAttribute("type","Accidental"),j("New accidental: ",t),this.note=null,this.index=null,this.type=t,this.position=R.Position.LEFT,this.render_options={font_scale:38,stroke_px:3,parenLeftPadding:2,parenRightPadding:2},this.accidental=p.accidentalCodes(this.type),!this.accidental)throw new n.RERR("ArgumentError","Unknown accidental type: "+t);this.cautionary=!1,this.parenLeft=null,this.parenRight=null,this.reset()}reset(){const t=this.render_options.font_scale;this.glyph=new f(this.accidental.code,t),this.glyph.setOriginX(1),this.cautionary&&(this.parenLeft=new f(p.accidentalCodes("{").code,t),this.parenRight=new f(p.accidentalCodes("}").code,t),this.parenLeft.setOriginX(1),this.parenRight.setOriginX(1))}getCategory(){return G.CATEGORY}getWidth(){const t=this.cautionary?U(this.parenLeft)+U(this.parenRight)+this.render_options.parenLeftPadding+this.render_options.parenRightPadding:0;return U(this.glyph)+t}setNote(t){if(!t)throw new n.RERR("ArgumentError","Bad note value: "+t);this.note=t,"gracenotes"===this.note.getCategory()&&(this.render_options.font_scale=25,this.reset())}setAsCautionary(){return this.cautionary=!0,this.render_options.font_scale=28,this.reset(),this}draw(){const{context:t,type:e,position:i,note:r,index:s,cautionary:o,x_shift:a,y_shift:l,glyph:u,parenLeft:c,parenRight:h,render_options:{parenLeftPadding:d,parenRightPadding:f}}=this;if(this.checkContext(),!r||null==s)throw new n.RERR("NoAttachedNote","Can't draw accidental without a note and index.");const p=r.getModifierStartXY(i,s);let m=p.x+a;const g=p.y+l;j("Rendering: ",e,m,g),o?(h.render(t,m,g),m-=U(h),m-=f,m-=this.accidental.parenRightPaddingAdjustment,u.render(t,m,g),m-=U(u),m-=d,c.render(t,m,g)):u.render(t,m,g),this.setRendered()}}class W extends R{static get CATEGORY(){return"notesubgroup"}static format(t,e){if(!t||0===t.length)return!1;let i=0;for(let n=0;n<t.length;++n){const e=t[n];e.preFormat(),i+=e.getWidth()}return e.left_shift+=i,!0}constructor(t){return super(),this.setAttribute("type","NoteSubGroup"),this.note=null,this.index=null,this.position=R.Position.LEFT,this.subNotes=t,this.subNotes.forEach(t=>{t.ignore_ticks=!1}),this.width=0,this.preFormatted=!1,this.formatter=new ht,this.voice=new A({num_beats:4,beat_value:4,resolution:p.RESOLUTION}).setStrict(!1),this.voice.addTickables(this.subNotes),this}getCategory(){return W.CATEGORY}preFormat(){this.preFormatted||(this.formatter.joinVoices([this.voice]).format([this.voice],0),this.setWidth(this.formatter.getMinTotalWidth()),this.preFormatted=!0)}setNote(t){this.note=t}setWidth(t){this.width=t}getWidth(){return this.width}draw(){this.checkContext();const t=this.getNote();if(!t||null===this.index)throw new n.RuntimeError("NoAttachedNote","Can't draw notes without a parent note and parent note index.");this.setRendered(),this.alignSubNotesWithNote(this.subNotes,t),this.subNotes.forEach(t=>t.setContext(this.context).drawWithStyle())}}class z extends l{constructor(t,e){super(),this.setAttribute("type","StaveTie"),this.notes=t,this.context=null,this.text=e,this.direction=null,this.render_options={cp1:8,cp2:12,text_shift_x:0,first_x_shift:0,last_x_shift:0,y_shift:7,tie_spacing:0,font:{family:"Arial",size:10,style:""}},this.font=this.render_options.font,this.setNotes(t)}setFont(t){return this.font=t,this}setDirection(t){return this.direction=t,this}setNotes(t){if(!t.first_note&&!t.last_note)throw new n.RuntimeError("BadArguments","Tie needs to have either first_note or last_note set.");if(t.first_indices||(t.first_indices=[0]),t.last_indices||(t.last_indices=[0]),t.first_indices.length!==t.last_indices.length)throw new n.RuntimeError("BadArguments","Tied notes must have similar index sizes");return this.first_note=t.first_note,this.first_indices=t.first_indices,this.last_note=t.last_note,this.last_indices=t.last_indices,this}isPartial(){return!this.first_note||!this.last_note}renderTie(t){if(0===t.first_ys.length||0===t.last_ys.length)throw new n.RERR("BadArguments","No Y-values to render");const e=this.context;let i=this.render_options.cp1,r=this.render_options.cp2;Math.abs(t.last_x_px-t.first_x_px)<10&&(i=2,r=8);const s=this.render_options.first_x_shift,o=this.render_options.last_x_shift,a=this.render_options.y_shift*t.direction;for(let l=0;l<this.first_indices.length;++l){const u=(t.last_x_px+o+(t.first_x_px+s))/2,c=t.first_ys[this.first_indices[l]]+a,h=t.last_ys[this.last_indices[l]]+a;if(isNaN(c)||isNaN(h))throw new n.RERR("BadArguments","Bad indices for tie rendering.");const d=(c+h)/2+i*t.direction,f=(c+h)/2+r*t.direction;e.beginPath(),e.moveTo(t.first_x_px+s,c),e.quadraticCurveTo(u,d,t.last_x_px+o,h),e.quadraticCurveTo(u,f,t.first_x_px+s,c),e.closePath(),e.fill()}}renderText(t,e){if(!this.text)return;let i=(t+e)/2;i-=this.context.measureText(this.text).width/2,this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.style),this.context.fillText(this.text,i+this.render_options.text_shift_x,(this.first_note||this.last_note).getStave().getYForTopText()-1),this.context.restore()}draw(){this.checkContext(),this.setRendered();const t=this.first_note,e=this.last_note;let i,n,r,s,o;return t?(i=t.getTieRightX()+this.render_options.tie_spacing,o=t.getStemDirection(),r=t.getYs()):(i=e.getStave().getTieStartX(),r=e.getYs(),this.first_indices=this.last_indices),e?(n=e.getTieLeftX()+this.render_options.tie_spacing,o=e.getStemDirection(),s=e.getYs()):(n=t.getStave().getTieEndX(),s=t.getYs(),this.last_indices=this.first_indices),this.direction&&(o=this.direction),this.renderTie({first_x_px:i,last_x_px:n,first_ys:r,last_ys:s,direction:o}),this.renderText(i,n),!0}}class H extends z{static createHammeron(t){return new H(t,"H")}static createPulloff(t){return new H(t,"P")}constructor(t,e){super(t,e),this.setAttribute("type","TabTie"),this.render_options.cp1=9,this.render_options.cp2=11,this.render_options.y_shift=3,this.setNotes(t)}draw(){this.checkContext(),this.setRendered();const t=this.first_note,e=this.last_note;let i,n,r,s;return t?(i=t.getTieRightX()+this.render_options.tie_spacing,r=t.getYs()):(i=e.getStave().getTieStartX(),r=e.getYs(),this.first_indices=this.last_indices),e?(n=e.getTieLeftX()+this.render_options.tie_spacing,s=e.getYs()):(n=t.getStave().getTieEndX(),s=t.getYs(),this.last_indices=this.first_indices),this.renderTie({first_x_px:i,last_x_px:n,first_ys:r,last_ys:s,direction:-1}),this.renderText(i,n),!0}}class q extends R{static get CATEGORY(){return"gracenotegroups"}static format(t,e){if(!t||0===t.length)return!1;const i=[];let n=null,r=0;for(let a=0;a<t.length;++a){const e=t[a],s=e.getNote(),o=s.getCategory()===B.CATEGORY,l=o?4:0;if(o&&s!==n){for(let t=0;t<s.keys.length;++t)r=s.getKeyProps()[t].displaced?s.getExtraLeftPx():r;n=s}i.push({shift:r,gracenote_group:e,spacing:l})}let s,o=i[0].shift;for(let a=0;a<i.length;++a){const t=i[a].gracenote_group;t.preFormat(),s=t.getWidth()+i[a].spacing,o=Math.max(s,o)}for(let a=0;a<i.length;++a){const t=i[a].gracenote_group;s=t.getWidth()+i[a].spacing,t.setSpacingFromNextModifier(o-Math.min(s,o))}return e.left_shift+=o,!0}constructor(t,e){return super(),this.setAttribute("type","GraceNoteGroup"),this.note=null,this.index=null,this.position=R.Position.LEFT,this.grace_notes=t,this.width=0,this.preFormatted=!1,this.show_slur=e,this.slur=null,this.formatter=new ht,this.voice=new A({num_beats:4,beat_value:4,resolution:p.RESOLUTION}).setStrict(!1),this.render_options={slur_y_shift:0},this.beams=[],this.voice.addTickables(this.grace_notes),this}getCategory(){return q.CATEGORY}preFormat(){this.preFormatted||(this.formatter.joinVoices([this.voice]).format([this.voice],0),this.setWidth(this.formatter.getMinTotalWidth()),this.preFormatted=!0)}beamNotes(t){if((t=t||this.grace_notes).length>1){const e=new C(t);e.render_options.beam_width=3,e.render_options.partial_beam_length=4,this.beams.push(e)}return this}setNote(t){this.note=t}setWidth(t){this.width=t}getWidth(){return this.width}getGraceNotes(){return this.grace_notes}draw(){this.checkContext();const t=this.getNote();if(function(...t){q.DEBUG&&n.L("Vex.Flow.GraceNoteGroup",t)}("Drawing grace note group for:",t),!t||null===this.index)throw new n.RuntimeError("NoAttachedNote","Can't draw grace note without a parent note and parent note index.");if(this.setRendered(),this.alignSubNotesWithNote(this.getGraceNotes(),t),this.grace_notes.forEach(t=>{t.setContext(this.context).draw()}),this.beams.forEach(t=>{t.setContext(this.context).draw()}),this.show_slur){const e=this.getNote().getCategory()===B.CATEGORY,i=e?z:H;this.slur=new i({last_note:this.grace_notes[0],first_note:t,first_indices:[0],last_indices:[0]}),this.slur.render_options.cp2=12,this.slur.render_options.y_shift=(e?7:5)+this.render_options.slur_y_shift,this.slur.setContext(this.context).draw()}}}class $ extends R{static get CATEGORY(){return"strokes"}static get Type(){return{BRUSH_DOWN:1,BRUSH_UP:2,ROLL_DOWN:3,ROLL_UP:4,RASQUEDO_DOWN:5,RASQUEDO_UP:6,ARPEGGIO_DIRECTIONLESS:7}}static format(t,e){const i=e.left_shift;if(!t||0===t.length)return this;const n=t.map(t=>{const e=t.getNote();if(e instanceof B){const{line:i,displaced:n}=e.getKeyProps()[t.getIndex()];return{line:i,shift:n?e.getExtraLeftPx():0,stroke:t}}{const{str:i}=e.getPositions()[t.getIndex()];return{line:i,shift:0,stroke:t}}}),r=i,s=n.reduce((t,{stroke:e,shift:i})=>(e.setXShift(r+i),Math.max(e.getWidth()+0,t)),0);return e.left_shift+=s,!0}constructor(t,e){super(),this.setAttribute("type","Stroke"),this.note=null,this.options=n.Merge({},e),this.all_voices=!("all_voices"in this.options)||this.options.all_voices,this.note_end=null,this.index=null,this.type=t,this.position=R.Position.LEFT,this.render_options={font_scale:38,stroke_px:3,stroke_spacing:10},this.font={family:"serif",size:10,weight:"bold italic"},this.setXShift(0),this.setWidth(10)}getCategory(){return $.CATEGORY}getPosition(){return this.position}addEndNote(t){return this.note_end=t,this}draw(){if(this.checkContext(),this.setRendered(),!this.note||null==this.index)throw new n.RERR("NoAttachedNote","Can't draw stroke without a note and index.");const t=this.note.getModifierStartXY(this.position,this.index);let e=this.note.getYs(),i=t.y,r=t.y;const s=t.x-5,o=this.note.stave.options.spacing_between_lines_px,a=this.getModifierContext().getModifiers(this.note.getCategory());for(let f=0;f<a.length;f++){e=a[f].getYs();for(let t=0;t<e.length;t++)(this.note===a[f]||this.all_voices)&&(i=n.Min(i,e[t]),r=n.Max(r,e[t]))}let l,u,c,h,d;switch(this.type){case $.Type.BRUSH_DOWN:l="vc3",u=-3,c=i-o/2+10,r+=o/2;break;case $.Type.BRUSH_UP:l="v11",u=.5,c=r+o/2,i-=o/2;break;case $.Type.ROLL_DOWN:case $.Type.RASQUEDO_DOWN:l="vc3",u=-3,h=this.x_shift+u-2,this.note instanceof B?(i+=1.5*o,r+=(r-i)%2!=0?.5*o:o,c=i-o,d=r+o+2):(i+=1.5*o,r+=o,c=i-.75*o,d=r+.25*o);break;case $.Type.ROLL_UP:case $.Type.RASQUEDO_UP:l="v52",u=-4,h=this.x_shift+u-1,this.note instanceof B?(c=o/2,i+=.5*o,(r-i)%2==0&&(r+=o/2),c=r+.5*o,d=i-1.25*o):(i+=.25*o,r+=.5*o,c=r+.25*o,d=i-o);break;case $.Type.ARPEGGIO_DIRECTIONLESS:i+=.5*o,r+=o;break;default:throw new n.RERR("InvalidType",`The stroke type ${this.type} does not exist`)}if(this.type===$.Type.BRUSH_DOWN||this.type===$.Type.BRUSH_UP)this.context.fillRect(s+this.x_shift,i,1,r-i);else if(this.note instanceof B)for(let n=i;n<=r;n+=o)f.renderGlyph(this.context,s+this.x_shift-4,n,this.render_options.font_scale,"va3");else{let t;for(t=i;t<=r;t+=10)f.renderGlyph(this.context,s+this.x_shift-4,t,this.render_options.font_scale,"va3");this.type===$.Type.RASQUEDO_DOWN&&(d=t+.25*o)}this.type!==$.Type.ARPEGGIO_DIRECTIONLESS&&(f.renderGlyph(this.context,s+this.x_shift+u,c,this.render_options.font_scale,l),this.type!==$.Type.RASQUEDO_DOWN&&this.type!==$.Type.RASQUEDO_UP||(this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight),this.context.fillText("R",s+h,d),this.context.restore()))}}class Y extends R{static get CATEGORY(){return"stringnumber"}static format(t,e){const i=e.left_shift,n=e.right_shift;if(!t||0===t.length)return this;const r=[];let s,o,a,l,u,c=null,h=0,d=0;for(s=0;s<t.length;++s)for(o=t[s],a=o.getNote(),s=0;s<t.length;++s){o=t[s],a=o.getNote(),l=o.getPosition();const e=a.getKeyProps()[o.getIndex()];if(a!==c){for(let t=0;t<a.keys.length;++t)u=a.getKeyProps()[t],0===i&&(h=u.displaced?a.getExtraLeftPx():h),0===n&&(d=u.displaced?a.getExtraRightPx():d);c=a}r.push({pos:l,note:a,num:o,line:e.line,shiftL:h,shiftR:d})}r.sort((t,e)=>e.line-t.line);let f=0,p=0,m=0,g=0,y=null,v=null;for(s=0;s<r.length;++s){let t=0;a=r[s].note,l=r[s].pos,o=r[s].num;const e=r[s].line,u=r[s].shiftL,c=r[s].shiftR;e===y&&a===v||(f=i+u,p=n+c);const d=o.getWidth()+1;l===R.Position.LEFT?(o.setXShift(i),t=h+d,m=t>m?t:m):l===R.Position.RIGHT&&(o.setXShift(p),t+=d,g=t>g?t:g),y=e,v=a}return e.left_shift+=m,e.right_shift+=g,!0}constructor(t){super(),this.setAttribute("type","StringNumber"),this.note=null,this.last_note=null,this.index=null,this.string_number=t,this.setWidth(20),this.position=R.Position.ABOVE,this.x_shift=0,this.y_shift=0,this.x_offset=0,this.y_offset=0,this.dashed=!0,this.leg=_.LineEndType.NONE,this.radius=8,this.font={family:"sans-serif",size:10,weight:"bold"}}getCategory(){return Y.CATEGORY}getNote(){return this.note}setNote(t){return this.note=t,this}getIndex(){return this.index}setIndex(t){return this.index=t,this}setLineEndType(t){return t>=_.LineEndType.NONE&&t<=_.LineEndType.DOWN&&(this.leg=t),this}setStringNumber(t){return this.string_number=t,this}setOffsetX(t){return this.x_offset=t,this}setOffsetY(t){return this.y_offset=t,this}setLastNote(t){return this.last_note=t,this}setDashed(t){return this.dashed=t,this}draw(){const t=this.checkContext();if(!this.note||null==this.index)throw new n.RERR("NoAttachedNote","Can't draw string number without a note and index.");this.setRendered();const e=this.note.stave.options.spacing_between_lines_px,i=this.note.getModifierStartXY(this.position,this.index);let r=i.x+this.x_shift+this.x_offset,s=i.y+this.y_shift+this.y_offset;switch(this.position){case R.Position.ABOVE:case R.Position.BELOW:{const t=this.note.getStemExtents();let n=t.topY,r=t.baseY+2;this.note.stem_direction===B.STEM_DOWN&&(n=t.baseY,r=t.topY-2),s=this.position===R.Position.ABOVE?this.note.hasStem()?n-1.75*e:i.y-1.75*e:this.note.hasStem()?r+1.5*e:i.y+1.75*e,s+=this.y_shift+this.y_offset;break}case R.Position.LEFT:r-=this.radius/2+5;break;case R.Position.RIGHT:r+=this.radius/2+6;break;default:throw new n.RERR("InvalidPosition",`The position ${this.position} is invalid`)}t.save(),t.beginPath(),t.arc(r,s,this.radius,0,2*Math.PI,!1),t.lineWidth=1.5,t.stroke(),t.setFont(this.font.family,this.font.size,this.font.weight);const o=r-t.measureText(this.string_number).width/2;if(t.fillText(""+this.string_number,o,s+4.5),null!=this.last_note){const e=this.last_note.getStemX()-this.note.getX()+5;let i,n;switch(t.strokeStyle="#000000",t.lineCap="round",t.lineWidth=.6,this.dashed?_.drawDashedLine(t,r+10,s,r+e,s,[3,3]):_.drawDashedLine(t,r+10,s,r+e,s,[3,0]),this.leg){case _.LineEndType.UP:i=-10,n=this.dashed?[3,3]:[3,0],_.drawDashedLine(t,r+e,s,r+e,s+i,n);break;case _.LineEndType.DOWN:i=10,n=this.dashed?[3,3]:[3,0],_.drawDashedLine(t,r+e,s,r+e,s+i,n)}}t.restore()}}const{ABOVE:X,BELOW:K}=R.Position,Q=(t,e)=>.5*t(e/.5),Z=(t,e)=>e===X?t<=5:t>=1,J=(t,e)=>Z(t,e)?e===X?Math.ceil:Math.floor:Math.round,tt=t=>{const e=t.getCategory();return"stavenotes"===e||"gracenotes"===e};class et extends R{static get CATEGORY(){return"articulations"}static get INITIAL_OFFSET(){return-.5}static format(t,e){if(!t||0===t.length)return!1;const i=(t,e,i)=>Q(J(e,i),t.glyph.getMetrics().height/10+.5);t.filter(t=>t.getPosition()===X).forEach(t=>{t.setTextLine(e.top_text_line),e.top_text_line+=i(t,e.top_text_line,X)}),t.filter(t=>t.getPosition()===K).forEach(t=>{t.setTextLine(e.text_line),e.text_line+=i(t,e.text_line,K)});const n=t.map(t=>t.getWidth()).reduce((t,e)=>Math.max(e,t));return e.left_shift+=n/2,e.right_shift+=n/2,!0}static easyScoreHook({articulations:t},e,i){if(!t)return;const n={staccato:"a.",tenuto:"a-"};t.split(",").map(t=>t.trim().split(".")).map(([t,e])=>{const r={type:n[t]};return e&&(r.position=R.PositionString[e]),i.getFactory().Articulation(r)}).map(t=>e.addModifier(0,t))}constructor(t){if(super(),this.setAttribute("type","Articulation"),this.note=null,this.index=null,this.type=t,this.position=K,this.render_options={font_scale:38},this.articulation=p.articulationCodes(this.type),!this.articulation)throw new n.RERR("ArgumentError","Articulation not found: "+this.type);this.glyph=new f(this.articulation.code,this.render_options.font_scale),this.setWidth(this.glyph.getMetrics().width)}getCategory(){return et.CATEGORY}draw(){const{note:t,index:e,position:i,glyph:r,articulation:{between_lines:s},text_line:o,context:a}=this;if(this.checkContext(),!t||null==e)throw new n.RERR("NoAttachedNote","Can't draw Articulation without a note and index.");this.setRendered();const l=t.getStave(),u=l.getSpacingBetweenLines(),c="tabnotes"===t.getCategory(),{x:h}=t.getModifierStartXY(i,e),d=!s||c,f=((t,e)=>{const i=e===X&&t.getStemDirection()===S.UP||e===K&&t.getStemDirection()===S.DOWN;return tt(t)?t.hasStem()&&i?.5:1:t.hasStem()&&i?1:0})(t,i);let p={[X]:()=>{r.setOrigin(.5,1);const e=((t,e)=>{const i=t.getStave(),r=t.getStemDirection(),{topY:s,baseY:o}=t.getStemExtents();if(tt(t))return t.hasStem()?r===S.UP?s:o:Math.min(...t.getYs());if("tabnotes"===t.getCategory())return t.hasStem()&&r===S.UP?s:i.getYForTopText(e);throw new n.RERR("UnknownCategory","Only can get the top and bottom ys of stavenotes and tabnotes")})(t,o)-(o+f)*u;return d?Math.min(l.getYForTopText(et.INITIAL_OFFSET),e):e},[K]:()=>{r.setOrigin(.5,0);const e=((t,e)=>{const i=t.getStave(),r=t.getStemDirection(),{topY:s,baseY:o}=t.getStemExtents();if(tt(t))return t.hasStem()?r===S.UP?o:s:Math.max(...t.getYs());if("tabnotes"===t.getCategory())return t.hasStem()?r===S.UP?i.getYForBottomText(e):s:i.getYForBottomText(e);throw new n.RERR("UnknownCategory","Only can get the top and bottom ys of stavenotes and tabnotes")})(t,o)+(o+f)*u;return d?Math.max(l.getYForBottomText(et.INITIAL_OFFSET),e):e}}[i]();if(!c){const n=i===X?-1:1,o=c?t.positions[e].str:t.getKeyProps()[e].line,a=(t.getYs()[e]-p)/u+o,l=((t,e,i,n)=>{const r=Q(J(e,i),e);return t&&Z(r,i)&&r%1==0?r+.5*-n:r})(s,a,i,n);Z(l,i)&&r.setOrigin(.5,.5),p+=Math.abs(l-a)*u*n}!function(...t){et.DEBUG&&n.L("Vex.Flow.Articulation",t)}(`Rendering articulation at (x: ${h}, y: ${p})`),r.render(a,h,p)}}class it extends k{static getNextContext(t){const e=t.tContexts,i=e.indexOf(t);return e[i+1]}constructor(){super(),this.setAttribute("type","TickContext"),this.currentTick=new r(0,1),this.maxTicks=new r(0,1),this.minTicks=null,this.padding=3,this.x=0,this.xBase=0,this.xOffset=0,this.tickables=[],this.notePx=0,this.extraLeftPx=0,this.extraRightPx=0,this.tContexts=[]}getX(){return this.x}setX(t){return this.x=t,this.xBase=t,this.xOffset=0,this}getXBase(){return this.xBase}setXBase(t){this.xBase=t,this.x=t+this.xOffset}getXOffset(){return this.xOffset}setXOffset(t){this.xOffset=t,this.x=this.xBase+t}getWidth(){return this.width+2*this.padding}setPadding(t){return this.padding=t,this}getMaxTicks(){return this.maxTicks}getMinTicks(){return this.minTicks}getTickables(){return this.tickables}getCenterAlignedTickables(){return this.tickables.filter(t=>t.isCenterAligned())}getMetrics(){const{width:t,notePx:e,extraLeftPx:i,extraRightPx:n}=this;return{width:t,notePx:e,extraLeftPx:i,extraRightPx:n}}getCurrentTick(){return this.currentTick}setCurrentTick(t){this.currentTick=t,this.preFormatted=!1}getExtraPx(){let t=0,e=0,i=0,n=0;for(let r=0;r<this.tickables.length;r++){i=Math.max(this.tickables[r].extraLeftPx||0,i),n=Math.max(this.tickables[r].extraRightPx||0,n);const s=this.tickables[r].modifierContext;s&&null!=s&&(t=Math.max(t,s.state.left_shift),e=Math.max(e,s.state.right_shift))}return{left:t,right:e,extraLeft:i,extraRight:n}}addTickable(t){if(!t)throw new n.RERR("BadArgument","Invalid tickable added.");if(!t.shouldIgnoreTicks()){this.ignore_ticks=!1;const e=t.getTicks();e.greaterThan(this.maxTicks)&&(this.maxTicks=e.clone()),(null==this.minTicks||e.lessThan(this.minTicks))&&(this.minTicks=e.clone())}return t.setTickContext(this),this.tickables.push(t),this.preFormatted=!1,this}preFormat(){if(this.preFormatted)return this;for(let t=0;t<this.tickables.length;++t){const e=this.tickables[t];e.preFormat();const i=e.getMetrics();this.extraLeftPx=Math.max(this.extraLeftPx,i.extraLeftPx+i.modLeftPx),this.extraRightPx=Math.max(this.extraRightPx,i.extraRightPx+i.modRightPx),this.notePx=Math.max(this.notePx,i.noteWidth),this.width=this.notePx+this.extraLeftPx+this.extraRightPx}return this}postFormat(){return this.postFormatted||(this.postFormatted=!0),this}}class nt extends R{static get CATEGORY(){return"ornaments"}static format(t,e){if(!t||0===t.length)return!1;let i=0;for(let n=0;n<t.length;++n){const r=t[n],s=2;i=Math.max(r.getWidth(),i),r.getPosition()===R.Position.ABOVE?(r.setTextLine(e.top_text_line),e.top_text_line+=s):(r.setTextLine(e.text_line),e.text_line+=s)}return e.left_shift+=i/2,e.right_shift+=i/2,!0}constructor(t){if(super(),this.setAttribute("type","Ornament"),this.note=null,this.index=null,this.type=t,this.position=R.Position.ABOVE,this.delayed=!1,this.accidentalUpper=null,this.accidentalLower=null,this.render_options={font_scale:38,accidentalLowerPadding:3,accidentalUpperPadding:3},this.ornament=p.ornamentCodes(this.type),!this.ornament)throw new n.RERR("ArgumentError",`Ornament not found: '${this.type}'`);this.glyph=new f(this.ornament.code,this.render_options.font_scale),this.glyph.setOrigin(.5,1)}getCategory(){return nt.CATEGORY}setDelayed(t){return this.delayed=t,this}setUpperAccidental(t){const e=this.render_options.font_scale/1.3;return this.accidentalUpper=new f(p.accidentalCodes(t).code,e),this.accidentalUpper.setOrigin(.5,1),this}setLowerAccidental(t){const e=this.render_options.font_scale/1.3;return this.accidentalLower=new f(p.accidentalCodes(t).code,e),this.accidentalLower.setOrigin(.5,1),this}draw(){if(this.checkContext(),!this.note||null==this.index)throw new n.RERR("NoAttachedNote","Can't draw Ornament without a note and index.");this.setRendered();const t=this.context,e=this.note.getStemDirection(),i=this.note.getStave(),r=this.note.getStem().getExtents();let s=e===B.STEM_DOWN?r.baseY:r.topY;"tabnotes"===this.note.getCategory()&&(this.note.hasStem()?e===B.STEM_DOWN&&(s=i.getYForTopText(this.text_line)):s=i.getYForTopText(this.text_line));const o=e===B.STEM_DOWN,a=i.getSpacingBetweenLines();let l=1;!o&&this.note.beam&&(l+=.5);const u=s-a*(this.text_line+l);let c=this.note.getModifierStartXY(this.position,this.index).x,h=Math.min(i.getYForTopText(this.text_line),u);if(h+=this.y_shift,this.delayed){let t=0;if(void 0!==this.delayXShift)t=this.delayXShift;else{t+=this.glyph.getMetrics().width/2;const e=it.getNextContext(this.note.getTickContext());t+=e?.5*(e.getX()-c):.5*(i.x+i.width-c),this.delayXShift=t}c+=t}!function(...t){nt.DEBUG&&n.L("Vex.Flow.Ornament",t)}("Rendering ornament: ",this.ornament,c,h),this.accidentalLower&&(this.accidentalLower.render(t,c,h),h-=this.accidentalLower.getMetrics().height,h-=this.render_options.accidentalLowerPadding),this.glyph.render(t,c,h),h-=this.glyph.getMetrics().height,this.accidentalUpper&&(h-=this.render_options.accidentalUpperPadding,this.accidentalUpper.render(t,c,h))}}class rt extends R{static get CATEGORY(){return"annotations"}static get Justify(){return{LEFT:1,CENTER:2,RIGHT:3,CENTER_STEM:4}}static get JustifyString(){return{left:rt.Justify.LEFT,right:rt.Justify.RIGHT,center:rt.Justify.CENTER,centerStem:rt.Justify.CENTER_STEM}}static get VerticalJustify(){return{TOP:1,CENTER:2,BOTTOM:3,CENTER_STEM:4}}static get VerticalJustifyString(){return{above:rt.VerticalJustify.TOP,top:rt.VerticalJustify.TOP,below:rt.VerticalJustify.BOTTOM,bottom:rt.VerticalJustify.BOTTOM,center:rt.VerticalJustify.CENTER,centerStem:rt.VerticalJustify.CENTER_STEM}}static format(t,e){if(!t||0===t.length)return!1;let i=0;for(let n=0;n<t.length;++n){const r=t[n];i=Math.max(r.getWidth(),i),r.getPosition()===R.Position.ABOVE?(r.setTextLine(e.top_text_line),e.top_text_line++):(r.setTextLine(e.text_line),e.text_line++)}return e.left_shift+=i/2,e.right_shift+=i/2,!0}constructor(t){super(),this.setAttribute("type","Annotation"),this.note=null,this.index=null,this.text=t,this.justification=rt.Justify.CENTER,this.vert_justification=rt.VerticalJustify.TOP,this.font={family:"Arial",size:10,weight:""},this.setWidth(p.textWidth(t))}getCategory(){return rt.CATEGORY}setFont(t,e,i){return this.font={family:t,size:e,weight:i},this}setVerticalJustification(t){return this.vert_justification="string"==typeof t?rt.VerticalJustifyString[t]:t,this}getJustification(){return this.justification}setJustification(t){return this.justification="string"==typeof t?rt.JustifyString[t]:t,this}draw(){if(this.checkContext(),!this.note)throw new n.RERR("NoNoteForAnnotation","Can't draw text annotation without an attached note.");this.setRendered();const t=this.note.getModifierStartXY(R.Position.ABOVE,this.index);this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight);const e=this.context.measureText(this.text).width,i=this.context.measureText("m").width;let r,s,o,a;r=this.justification===rt.Justify.LEFT?t.x:this.justification===rt.Justify.RIGHT?t.x-e:this.justification===rt.Justify.CENTER?t.x-e/2:this.note.getStemX()-e/2;const l=this.note.hasStem(),u=this.note.getStave();if(l&&(o=this.note.getStem().getExtents(),a=u.getSpacingBetweenLines()),this.vert_justification===rt.VerticalJustify.BOTTOM){if(s=u.getYForBottomText(this.text_line+p.TEXT_HEIGHT_OFFSET_HACK),l){const t=1===this.note.getStemDirection()?o.baseY:o.topY;s=Math.max(s,t+a*(this.text_line+2))}}else if(this.vert_justification===rt.VerticalJustify.CENTER){const t=this.note.getYForTopText(this.text_line)-1;s=t+(u.getYForBottomText(this.text_line)-t)/2+i/2}else if(this.vert_justification===rt.VerticalJustify.TOP)s=Math.min(u.getYForTopText(this.text_line),this.note.getYs()[0]-10),l&&(s=Math.min(s,o.topY-5-a*this.text_line));else{const t=this.note.getStemExtents();s=t.topY+(t.baseY-t.topY)/2+i/2}!function(...t){rt.DEBUG&&n.L("Vex.Flow.Annotation",t)}("Rendering annotation: ",this.text,r,s),this.context.fillText(this.text,r,s),this.context.restore()}}class st extends R{static get CATEGORY(){return"bends"}static get UP(){return 0}static get DOWN(){return 1}static format(t,e){if(!t||0===t.length)return!1;let i=0;const n=e.top_text_line;for(let r=0;r<t.length;++r){const e=t[r];e.setXShift(i),i=e.getWidth(),e.setTextLine(n)}return e.right_shift+=i,e.top_text_line+=1,!0}constructor(t,e,i){super(),this.setAttribute("type","Bend"),this.text=t,this.x_shift=0,this.release=e||!1,this.font="10pt Arial",this.render_options={line_width:1.5,line_style:"#777777",bend_width:8,release_width:8},i?this.phrase=i:(this.phrase=[{type:st.UP,text:this.text}],this.release&&this.phrase.push({type:st.DOWN,text:""})),this.updateWidth()}getCategory(){return st.CATEGORY}setXShift(t){this.x_shift=t,this.updateWidth()}setFont(t){return this.font=t,this}getText(){return this.text}updateWidth(){const t=this;function e(e){let i;return i=t.context?t.context.measureText(e).width:p.textWidth(e),i}let i=0;for(let r=0;r<this.phrase.length;++r){const t=this.phrase[r];if("width"in t)i+=t.width;else{const r=t.type===st.UP?this.render_options.bend_width:this.render_options.release_width;t.width=n.Max(r,e(t.text))+3,t.draw_width=t.width/2,i+=t.width}}return this.setWidth(i+this.x_shift),this}draw(){if(this.checkContext(),!this.note||null==this.index)throw new n.RERR("NoNoteForBend","Can't draw bend without a note or index.");this.setRendered();const t=this.note.getModifierStartXY(R.Position.RIGHT,this.index);t.x+=3,t.y+=.5;const e=this.x_shift,i=this.context,r=this.note.getStave().getYForTopText(this.text_line)+3,s=this.note.getStave().getYForTopText(this.text_line)-1,o=this;function a(t,e,n,r){const s=t+n,a=e;i.save(),i.beginPath(),i.setLineWidth(o.render_options.line_width),i.setStrokeStyle(o.render_options.line_style),i.setFillStyle(o.render_options.line_style),i.moveTo(t,e),i.quadraticCurveTo(s,a,t+n,r),i.stroke(),i.restore()}function l(t,e,n,r){i.save(),i.beginPath(),i.setLineWidth(o.render_options.line_width),i.setStrokeStyle(o.render_options.line_style),i.setFillStyle(o.render_options.line_style),i.moveTo(t,r),i.quadraticCurveTo(t+n,r,t+n,e),i.stroke(),i.restore()}function u(t,e,n){const r=n||1;i.beginPath(),i.moveTo(t,e),i.lineTo(t-4,e+4*r),i.lineTo(t+4,e+4*r),i.closePath(),i.fill()}function c(t,e){i.save(),i.setRawFont(o.font);const n=t-i.measureText(e).width/2;i.fillText(e,n,s),i.restore()}let h=null,d=0;for(let n=0;n<this.phrase.length;++n){const i=this.phrase[n];0===n&&(i.draw_width+=e),d=i.draw_width+(h?h.draw_width:0)-(1===n?e:0),i.type===st.UP&&(h&&h.type===st.UP&&u(t.x,r),a(t.x,t.y,d,r)),i.type===st.DOWN&&(h&&h.type===st.UP&&l(t.x,t.y,d,r),h&&h.type===st.DOWN&&(u(t.x,t.y,-1),l(t.x,t.y,d,r)),null===h&&(d=i.draw_width,l(t.x,t.y,d,r))),c(t.x+d,i.text),h=i,h.x=t.x,t.x+=d}h.type===st.UP?u(h.x+d,r):h.type===st.DOWN&&u(h.x+d,t.y,-1)}}class ot extends R{static get CATEGORY(){return"vibratos"}static format(t,e,i){if(!t||0===t.length)return!1;let n=e.top_text_line,r=0,s=e.right_shift-7;const o=i.getModifiers(st.CATEGORY);o&&o.length>0&&n--;for(let a=0;a<t.length;++a){const e=t[a];e.setXShift(s),e.setTextLine(n),r+=e.getWidth(),s+=r}return e.right_shift+=r,e.top_text_line+=1,!0}constructor(){super(),this.setAttribute("type","Vibrato"),this.position=R.Position.RIGHT,this.render_options={harsh:!1,vibrato_width:20,wave_height:6,wave_width:4,wave_girth:2},this.setVibratoWidth(this.render_options.vibrato_width)}getCategory(){return ot.CATEGORY}setHarsh(t){return this.render_options.harsh=t,this}setVibratoWidth(t){return this.render_options.vibrato_width=t,this.setWidth(t),this}draw(){const t=this.checkContext();if(!this.note)throw new n.RERR("NoNoteForVibrato","Can't draw vibrato without an attached note.");this.setRendered();const e=this.note.getModifierStartXY(R.Position.RIGHT,this.index).x+this.x_shift,i=this.note.getYForTopText(this.text_line)+2;ot.renderVibrato(t,e,i,this.render_options)}static renderVibrato(t,e,i,n){const{harsh:r,vibrato_width:s,wave_width:o,wave_girth:a,wave_height:l}=n,u=s/o;let c;if(t.beginPath(),r){for(t.moveTo(e,i+a+1),c=0;c<u/2;++c)t.lineTo(e+o,i-l/2),e+=o,t.lineTo(e+o,i+l/2),e+=o;for(c=0;c<u/2;++c)t.lineTo(e-o,i-l/2+a+1),e-=o,t.lineTo(e-o,i+l/2+a+1),e-=o;t.fill()}else{for(t.moveTo(e,i+a),c=0;c<u/2;++c)t.quadraticCurveTo(e+o/2,i-l/2,e+o,i),e+=o,t.quadraticCurveTo(e+o/2,i+l/2,e+o,i),e+=o;for(c=0;c<u/2;++c)t.quadraticCurveTo(e-o/2,i+l/2+a,e-o,i+a),e-=o,t.quadraticCurveTo(e-o/2,i-l/2+a,e-o,i+a),e-=o;t.fill()}}}function at(...t){lt.DEBUG&&n.L("Vex.Flow.ModifierContext",t)}class lt{constructor(){this.modifiers={},this.preFormatted=!1,this.postFormatted=!1,this.width=0,this.spacing=0,this.state={left_shift:0,right_shift:0,text_line:0,top_text_line:0},this.PREFORMAT=[B,N,F,G,$,q,W,Y,et,nt,rt,st,ot],this.POSTFORMAT=[B]}addModifier(t){const e=t.getCategory();return this.modifiers[e]||(this.modifiers[e]=[]),this.modifiers[e].push(t),t.setModifierContext(this),this.preFormatted=!1,this}getModifiers(t){return this.modifiers[t]}getWidth(){return this.width}getExtraLeftPx(){return this.state.left_shift}getExtraRightPx(){return this.state.right_shift}getState(){return this.state}getMetrics(){if(!this.formatted)throw new n.RERR("UnformattedModifier","Unformatted modifier has no metrics.");return{width:this.state.left_shift+this.state.right_shift+this.spacing,spacing:this.spacing,extra_left_px:this.state.left_shift,extra_right_px:this.state.right_shift}}preFormat(){this.preFormatted||(this.PREFORMAT.forEach(t=>{at("Preformatting ModifierContext: ",t.CATEGORY),t.format(this.getModifiers(t.CATEGORY),this.state,this)}),this.width=this.state.left_shift+this.state.right_shift,this.preFormatted=!0)}postFormat(){this.postFormatted||this.POSTFORMAT.forEach(t=>{at("Postformatting ModifierContext: ",t.CATEGORY),t.postFormat(this.getModifiers(t.CATEGORY),this)})}}function ut(t,e,i,r){let s=e;for(i+=1;i<t.length;i+=1){const e=t[i];if(!e.isRest()&&!e.shouldIgnoreTicks()){s=e.getLineForRest();break}}if(r&&e!==s){const t=Math.max(e,s),i=Math.min(e,s);s=n.MidLine(t,i)}return s}function ct(t,e,i){if(!t||!t.length)throw new n.RERR("BadArgument","No voices to format");const s=t[0].getTotalTicks(),o=t.reduce((t,e)=>{if(!e.getTotalTicks().equals(s))throw new n.RERR("TickMismatch","Voices should have same total note duration in ticks.");if(e.getMode()===A.Mode.STRICT&&!e.isComplete())throw new n.RERR("IncompleteVoice","Voice does not have enough notes.");return Math.max(t,r.LCM(t,e.getResolutionMultiplier()))},1),a={},l=[],u=[];return t.forEach(t=>{const n=new r(0,o);t.getTickables().forEach(t=>{const r=n.numerator;if(!a[r]){const t=new e;u.push(t),a[r]=t}i(t,a[r]),l.push(r),n.add(t.getTicks())})}),{map:a,array:u,list:n.SortAndUnique(l,(t,e)=>t-e,(t,e)=>t===e),resolutionMultiplier:o}}class ht{static SimpleFormat(t,e=0,{paddingBetween:i=10}={}){t.reduce((t,e)=>{e.addToModifierContext(new lt);const n=(new it).addTickable(e).preFormat(),r=n.getExtraPx();return n.setX(t+r.left),t+n.getWidth()+r.right+i},e)}static plotDebugging(t,e,i,n,r){const s=i+L.STAVEPADDING,o=e.contextGaps;t.save(),t.setFont("Arial",8,""),o.gaps.forEach(e=>{var i,o,a;i=s+e.x1,o=s+e.x2,a="#aaa",t.beginPath(),t.setStrokeStyle(a),t.setFillStyle(a),t.setLineWidth(1),t.fillRect(i,n,o-i,r-n),t.fillText(Math.round(e.x2-e.x1),s+e.x1,r+12)}),t.fillText(Math.round(o.total)+"px",s-20,r+12),t.setFillStyle("red"),t.fillText("Loss: "+e.lossHistory.map(t=>Math.round(t)),s-20,r+22),t.restore()}static FormatAndDraw(t,e,i,r){const s={auto_beam:!1,align_rests:!1};"object"==typeof r?n.Merge(s,r):"boolean"==typeof r&&(s.auto_beam=r);const o=new A(p.TIME4_4).setMode(A.Mode.SOFT).addTickables(i),a=s.auto_beam?C.applyAndGetBeams(o):[];return(new ht).joinVoices([o],{align_rests:s.align_rests}).formatToStave([o],e,{align_rests:s.align_rests,stave:e}),o.setStave(e).draw(t,e),a.forEach(e=>e.setContext(t).draw()),o.getBoundingBox()}static FormatAndDrawTab(t,e,i,r,s,o,a){const l={auto_beam:o,align_rests:!1};"object"==typeof a?n.Merge(l,a):"boolean"==typeof a&&(l.auto_beam=a);const u=new A(p.TIME4_4).setMode(A.Mode.SOFT).addTickables(s),c=new A(p.TIME4_4).setMode(A.Mode.SOFT).addTickables(r),h=l.auto_beam?C.applyAndGetBeams(u):[];(new ht).joinVoices([u],{align_rests:l.align_rests}).joinVoices([c]).formatToStave([u,c],i,{align_rests:l.align_rests}),u.draw(t,i),c.draw(t,e),h.forEach(e=>e.setContext(t).draw()),new M(i,e).setContext(t).draw()}static AlignRestsToNotes(t,e,i){return t.forEach((n,r)=>{if(n instanceof B&&n.isRest()){if(n.tuplet&&!i)return;const s=n.getGlyph().position.toUpperCase();if("R/4"!==s&&"B/4"!==s)return;if(e||null!=n.beam){const e=n.getKeyProps()[0];if(0===r)e.line=ut(t,e.line,r,!1),n.setKeyLine(0,e.line);else if(r>0&&r<t.length){let i;t[r-1].isRest()?(i=t[r-1].getKeyProps()[0].line,e.line=i):(i=t[r-1].getLineForRest(),e.line=ut(t,i,r,!0)),n.setKeyLine(0,e.line)}}}}),this}constructor(){this.minTotalWidth=0,this.hasMinTotalWidth=!1,this.totalTicks=new r(0,1),this.tickContexts=null,this.modiferContexts=null,this.contextGaps={total:0,gaps:[]},this.voices=[]}alignRests(t,e){if(!t||!t.length)throw new n.RERR("BadArgument","No voices to format rests");t.forEach(t=>ht.AlignRestsToNotes(t.getTickables(),e))}preCalculateMinTotalWidth(t){if(this.hasMinTotalWidth)return this.minTotalWidth;if(!this.tickContexts){if(!t)throw new n.RERR("BadArgument","'voices' required to run preCalculateMinTotalWidth");this.createTickContexts(t)}const{list:e,map:i}=this.tickContexts;return this.minTotalWidth=e.map(t=>{const e=i[t];return e.preFormat(),e.getWidth()}).reduce((t,e)=>t+e,0),this.hasMinTotalWidth=!0,this.minTotalWidth}getMinTotalWidth(){if(!this.hasMinTotalWidth)throw new n.RERR("NoMinTotalWidth","Call 'preCalculateMinTotalWidth' or 'preFormat' before calling 'getMinTotalWidth'");return this.minTotalWidth}createModifierContexts(t){const e=ct(t,lt,(t,e)=>t.addToModifierContext(e));return this.modiferContexts=e,e}createTickContexts(t){const e=ct(t,it,(t,e)=>e.addTickable(t));return e.array.forEach(t=>{t.tContexts=e.array}),this.totalTicks=t[0].getTicksUsed().clone(),this.tickContexts=e,e}preFormat(t=0,e,i,n){const r=this.tickContexts,{list:s,map:o,resolutionMultiplier:a}=r;i&&n&&i.forEach(t=>t.setStave(n).preFormat());let l=0,u=0;const c=t/2;if(this.minTotalWidth=0,s.forEach(t=>{const i=o[t];e&&i.setContext(e),i.preFormat();const n=i.getWidth();this.minTotalWidth+=n;const r=i.getMetrics();l=l+u+r.extraLeftPx,i.setX(l),u=n-r.extraLeftPx}),this.minTotalWidth=l+u,this.hasMinTotalWidth=!0,t<=0)return;const h=(t-this.minTotalWidth)/(this.totalTicks.value()*a);let d=0;s.forEach((t,e)=>{const i=s[e-1]||0,n=o[t];d+=(t-i)*h,n.setX(n.getX()+d),n.getCenterAlignedTickables().forEach(t=>{t.center_x_shift=c-n.getX()})}),1!==s.length&&(this.justifyWidth=t,this.lossHistory=[],this.evaluate())}evaluate(){const t=this.justifyWidth;this.contextGaps={total:0,gaps:[]},this.tickContexts.list.forEach((t,e)=>{if(0===e)return;const i=this.tickContexts.list[e-1],n=this.tickContexts.map[i],r=this.tickContexts.map[t],s=n.getMetrics(),o=n.getX()+s.width,a=r.getX(),l=a-o;this.contextGaps.total+=l,this.contextGaps.gaps.push({x1:o,x2:a}),r.getFormatterMetrics().freedom.left=l,n.getFormatterMetrics().freedom.right=l});const e=this.durationStats={};this.voices.forEach(i=>{i.getTickables().forEach((i,n,r)=>{const s=i.getTicks().clone().simplify().toString(),o=i.getMetrics(),a=i.getFormatterMetrics(),l=i.getX()+o.noteWidth+o.modRightPx+o.extraRightPx;let u=0;if(n<r.length-1){const t=r[n+1],e=t.getMetrics();u=t.getX()-e.modLeftPx-e.extraLeftPx-l,a.space.used=t.getX()-i.getX(),t.getFormatterMetrics().freedom.left=u}else u=t-l,a.space.used=t-i.getX();a.freedom.right=u,function(t,i){const n=e[t];void 0===n?e[t]={mean:i,count:1}:(n.count+=1,n.mean=(n.mean+i)/2)}(s,a.space.used)})});let i=0;return this.voices.forEach(t=>{t.getTickables().forEach(t=>{const n=t.getTicks().clone().simplify().toString(),r=t.getFormatterMetrics();r.iterations+=1,r.space.deviation=r.space.used-e[n].mean,r.duration=n,r.space.mean=e[n].mean,i+=Math.pow(e[n].mean,2)})}),this.totalCost=Math.sqrt(i),this.lossHistory.push(this.totalCost),this}tune(){let t=0;return this.tickContexts.list.forEach((e,i,n)=>{const r=this.tickContexts.map[e],s=i>0?this.tickContexts.map[n[i-1]]:null,o=i<n.length-1?this.tickContexts.map[n[i+1]]:null;!function(t,e,i,n){t.setX(t.getX()+n),t.getFormatterMetrics().freedom.left+=n,t.getFormatterMetrics().freedom.right-=n,e&&(e.getFormatterMetrics().freedom.right+=n),i&&(i.getFormatterMetrics().freedom.left-=n)}(r,s,o,t);const a=-r.getTickables().map(t=>t.getFormatterMetrics().space.deviation).reduce((t,e)=>t+e);a>0?t=-Math.min(r.getFormatterMetrics().freedom.right,Math.abs(a)):a<0&&(t=o?Math.min(o.getFormatterMetrics().freedom.right,Math.abs(a)):0);const l=Math.min(5,Math.abs(t));t=t>0?l:-l}),this.evaluate()}postFormat(){const t=t=>t.list.forEach(e=>t.map[e].postFormat());return t(this.modiferContexts),t(this.tickContexts),this}joinVoices(t){return this.createModifierContexts(t),this.hasMinTotalWidth=!1,this}format(t,e,i){const r={align_rests:!1,context:null,stave:null};return n.Merge(r,i),this.voices=t,this.alignRests(t,r.align_rests),this.createTickContexts(t),this.preFormat(e,r.context,t,r.stave),r.stave&&this.postFormat(),this}formatToStave(t,e,i){const r=e.getNoteEndX()-e.getNoteStartX()-10;!function(...t){ht.DEBUG&&n.L("Vex.Flow.Formatter",t)}("Formatting voices to width: ",r);const s={context:e.getContext()};return n.Merge(s,i),this.format(t,r,s)}}class dt extends l{static get Position(){return{LEFT:1,RIGHT:2,ABOVE:3,BELOW:4,BEGIN:5,END:6}}constructor(){super(),this.setAttribute("type","StaveModifier"),this.padding=10,this.position=dt.Position.ABOVE,this.layoutMetrics=null}getPosition(){return this.position}setPosition(t){return this.position=t,this}getStave(){return this.stave}setStave(t){return this.stave=t,this}getWidth(){return this.width}setWidth(t){return this.width=t,this}getX(){return this.x}setX(t){return this.x=t,this}getCategory(){return""}makeSpacer(t){return{getContext:()=>!0,setStave(){},renderToStave(){},getMetrics:()=>({width:t})}}placeGlyphOnLine(t,e,i){t.setYShift(e.getYForLine(i)-e.getYForGlyphs())}getPadding(t){return void 0!==t&&t<2?0:this.padding}setPadding(t){return this.padding=t,this}setLayoutMetrics(t){return this.layoutMetrics=t,this}getLayoutMetrics(){return this.layoutMetrics}}class ft extends dt{static get CATEGORY(){return"barlines"}static get type(){return{SINGLE:1,DOUBLE:2,END:3,REPEAT_BEGIN:4,REPEAT_END:5,REPEAT_BOTH:6,NONE:7}}static get typeString(){return{single:ft.type.SINGLE,double:ft.type.DOUBLE,end:ft.type.END,repeatBegin:ft.type.REPEAT_BEGIN,repeatEnd:ft.type.REPEAT_END,repeatBoth:ft.type.REPEAT_BOTH,none:ft.type.NONE}}constructor(t){super(),this.setAttribute("type","Barline"),this.thickness=p.STAVE_LINE_THICKNESS;const e=ft.type;this.widths={},this.widths[e.SINGLE]=5,this.widths[e.DOUBLE]=5,this.widths[e.END]=5,this.widths[e.REPEAT_BEGIN]=5,this.widths[e.REPEAT_END]=5,this.widths[e.REPEAT_BOTH]=5,this.widths[e.NONE]=5,this.paddings={},this.paddings[e.SINGLE]=0,this.paddings[e.DOUBLE]=0,this.paddings[e.END]=0,this.paddings[e.REPEAT_BEGIN]=15,this.paddings[e.REPEAT_END]=15,this.paddings[e.REPEAT_BOTH]=15,this.paddings[e.NONE]=0,this.layoutMetricsMap={},this.layoutMetricsMap[e.SINGLE]={xMin:0,xMax:1,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.DOUBLE]={xMin:-3,xMax:1,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.END]={xMin:-5,xMax:1,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.REPEAT_END]={xMin:-10,xMax:1,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.REPEAT_BEGIN]={xMin:-2,xMax:10,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.REPEAT_BOTH]={xMin:-10,xMax:10,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.NONE]={xMin:0,xMax:0,paddingLeft:5,paddingRight:5},this.setPosition(dt.Position.BEGIN),this.setType(t)}getCategory(){return ft.CATEGORY}getType(){return this.type}setType(t){return this.type="string"==typeof t?ft.typeString[t]:t,this.setWidth(this.widths[this.type]),this.setPadding(this.paddings[this.type]),this.setLayoutMetrics(this.layoutMetricsMap[this.type]),this}draw(t){switch(t.checkContext(),this.setRendered(),this.type){case ft.type.SINGLE:this.drawVerticalBar(t,this.x,!1);break;case ft.type.DOUBLE:this.drawVerticalBar(t,this.x,!0);break;case ft.type.END:this.drawVerticalEndBar(t,this.x);break;case ft.type.REPEAT_BEGIN:this.drawRepeatBar(t,this.x,!0),t.getX()!==this.x&&this.drawVerticalBar(t,t.getX());break;case ft.type.REPEAT_END:this.drawRepeatBar(t,this.x,!1);break;case ft.type.REPEAT_BOTH:this.drawRepeatBar(t,this.x,!1),this.drawRepeatBar(t,this.x,!0)}}drawVerticalBar(t,e,i){t.checkContext();const n=t.getTopLineTopY(),r=t.getBottomLineBottomY();i&&t.context.fillRect(e-3,n,1,r-n),t.context.fillRect(e,n,1,r-n)}drawVerticalEndBar(t,e){t.checkContext();const i=t.getTopLineTopY(),n=t.getBottomLineBottomY();t.context.fillRect(e-5,i,1,n-i),t.context.fillRect(e-2,i,3,n-i)}drawRepeatBar(t,e,i){t.checkContext();const n=t.getTopLineTopY(),r=t.getBottomLineBottomY();let s=3;i||(s=-5),t.context.fillRect(e+s,n,1,r-n),t.context.fillRect(e-2,n,3,r-n),i?s+=4:s-=4;const o=e+s+1;let a=(t.getNumLines()-1)*t.getSpacingBetweenLines();a=a/2-t.getSpacingBetweenLines()/2;let l=n+a+1;t.context.beginPath(),t.context.arc(o,l,2,0,2*Math.PI,!1),t.context.fill(),l+=t.getSpacingBetweenLines(),t.context.beginPath(),t.context.arc(o,l,2,0,2*Math.PI,!1),t.context.fill()}}class pt extends dt{static get CATEGORY(){return"repetitions"}static get type(){return{NONE:1,CODA_LEFT:2,CODA_RIGHT:3,SEGNO_LEFT:4,SEGNO_RIGHT:5,DC:6,DC_AL_CODA:7,DC_AL_FINE:8,DS:9,DS_AL_CODA:10,DS_AL_FINE:11,FINE:12}}constructor(t,e,i){super(),this.setAttribute("type","Repetition"),this.symbol_type=t,this.x=e,this.x_shift=0,this.y_shift=i,this.font={family:"times",size:12,weight:"bold italic"}}getCategory(){return pt.CATEGORY}setShiftX(t){return this.x_shift=t,this}setShiftY(t){return this.y_shift=t,this}draw(t,e){switch(this.setRendered(),this.symbol_type){case pt.type.CODA_RIGHT:this.drawCodaFixed(t,e+t.width);break;case pt.type.CODA_LEFT:this.drawSymbolText(t,e,"Coda",!0);break;case pt.type.SEGNO_LEFT:this.drawSignoFixed(t,e);break;case pt.type.SEGNO_RIGHT:this.drawSignoFixed(t,e+t.width);break;case pt.type.DC:this.drawSymbolText(t,e,"D.C.",!1);break;case pt.type.DC_AL_CODA:this.drawSymbolText(t,e,"D.C. al",!0);break;case pt.type.DC_AL_FINE:this.drawSymbolText(t,e,"D.C. al Fine",!1);break;case pt.type.DS:this.drawSymbolText(t,e,"D.S.",!1);break;case pt.type.DS_AL_CODA:this.drawSymbolText(t,e,"D.S. al",!0);break;case pt.type.DS_AL_FINE:this.drawSymbolText(t,e,"D.S. al Fine",!1);break;case pt.type.FINE:this.drawSymbolText(t,e,"Fine",!1)}return this}drawCodaFixed(t,e){const i=t.getYForTopText(t.options.num_lines)+this.y_shift;return f.renderGlyph(t.context,this.x+e+this.x_shift,i+25,40,"v4d",!0),this}drawSignoFixed(t,e){const i=t.getYForTopText(t.options.num_lines)+this.y_shift;return f.renderGlyph(t.context,this.x+e+this.x_shift,i+25,30,"v8c",!0),this}drawSymbolText(t,e,i,n){const r=t.checkContext();r.save(),r.setFont(this.font.family,this.font.size,this.font.weight);let s=0+this.x_shift,o=e+this.x_shift;this.symbol_type===pt.type.CODA_LEFT?(s=this.x+t.options.vertical_bar_width,o=s+r.measureText(i).width+12):(o=this.x+e+t.width-5+this.x_shift,s=o-+r.measureText(i).width-12);const a=t.getYForTopText(t.options.num_lines)+this.y_shift;return n&&f.renderGlyph(r,o,a,40,"v4d",!0),r.fillText(i,s,a+5),r.restore(),this}}class mt extends dt{static get CATEGORY(){return"stavesection"}constructor(t,e,i){super(),this.setAttribute("type","StaveSection"),this.setWidth(16),this.section=t,this.x=e,this.shift_x=0,this.shift_y=i,this.font={family:"sans-serif",size:12,weight:"bold"}}getCategory(){return mt.CATEGORY}setStaveSection(t){return this.section=t,this}setShiftX(t){return this.shift_x=t,this}setShiftY(t){return this.shift_y=t,this}draw(t,e){const i=t.checkContext();this.setRendered(),i.save(),i.lineWidth=2,i.setFont(this.font.family,this.font.size,this.font.weight);const n=i.measureText(""+this.section).width;let r=n+6;r<18&&(r=18);const s=t.getYForTopText(3)+this.shift_y;let o=this.x+e;return i.beginPath(),i.lineWidth=2,i.rect(o,s,r,20),i.stroke(),o+=(r-n)/2,i.fillText(""+this.section,o,s+16),i.restore(),this}}class gt extends dt{static get CATEGORY(){return"stavetempo"}constructor(t,e,i){super(),this.setAttribute("type","StaveTempo"),this.tempo=t,this.position=R.Position.ABOVE,this.x=e,this.shift_x=10,this.shift_y=i,this.font={family:"times",size:14,weight:"bold"},this.render_options={glyph_font_scale:30}}getCategory(){return gt.CATEGORY}setTempo(t){return this.tempo=t,this}setShiftX(t){return this.shift_x=t,this}setShiftY(t){return this.shift_y=t,this}draw(t,e){const i=t.checkContext();this.setRendered();const n=this.render_options,r=n.glyph_font_scale/38,s=this.tempo.name,o=this.tempo.duration,a=this.tempo.dots,l=this.tempo.bpm,u=this.font;let c=this.x+this.shift_x+e;const h=t.getYForTopText(1)+this.shift_y;if(i.save(),s&&(i.setFont(u.family,u.size,u.weight),i.fillText(s,c,h),c+=i.measureText(s).width),o&&l){i.setFont(u.family,u.size,"normal"),s&&(c+=i.measureText(" ").width,i.fillText("(",c,h),c+=i.measureText("(").width);const t=p.getGlyphProps(o);if(c+=3*r,f.renderGlyph(i,c,h,n.glyph_font_scale,t.code_head),c+=t.getWidth()*r,t.stem){let e=30;t.beam_count&&(e+=3*(t.beam_count-1)),e*=r;const s=h-e;i.fillRect(c-r,s,r,e),t.flag&&(f.renderGlyph(i,c,s,n.glyph_font_scale,t.code_flag_upstem),a||(c+=6*r))}for(let e=0;e<a;e++)c+=6*r,i.beginPath(),i.arc(c,h+2*r,2*r,0,2*Math.PI,!1),i.fill();i.fillText(" = "+l+(s?")":""),c+3*r,h)}return i.restore(),this}}class yt extends L{static get Justification(){return{LEFT:1,CENTER:2,RIGHT:3}}static get GLYPHS(){return{segno:{code:"v8c",point:40,x_shift:0,y_shift:-10},tr:{code:"v1f",point:40,x_shift:0,y_shift:0},mordent_upper:{code:"v1e",point:40,x_shift:0,y_shift:0},mordent_lower:{code:"v45",point:40,x_shift:0,y_shift:0},f:{code:"vba",point:40,x_shift:0,y_shift:0},p:{code:"vbf",point:40,x_shift:0,y_shift:0},m:{code:"v62",point:40,x_shift:0,y_shift:0},s:{code:"v4a",point:40,x_shift:0,y_shift:0},z:{code:"v80",point:40,x_shift:0,y_shift:0},coda:{code:"v4d",point:40,x_shift:0,y_shift:-8},pedal_open:{code:"v36",point:40,x_shift:0,y_shift:0},pedal_close:{code:"v5d",point:40,x_shift:0,y_shift:3},caesura_straight:{code:"v34",point:40,x_shift:0,y_shift:2},caesura_curved:{code:"v4b",point:40,x_shift:0,y_shift:2},breath:{code:"v6c",point:40,x_shift:0,y_shift:0},tick:{code:"v6f",point:50,x_shift:0,y_shift:0},turn:{code:"v72",point:40,x_shift:0,y_shift:0},turn_inverted:{code:"v33",point:40,x_shift:0,y_shift:0},mordent:{code:"v1e",point:40,x_shift:0,y_shift:0}}}constructor(t){if(super(t),this.setAttribute("type","TextNote"),this.text=t.text,this.superscript=t.superscript,this.subscript=t.subscript,this.glyph_type=t.glyph,this.glyph=null,this.font={family:"Arial",size:12,weight:""},t.font&&(this.font=t.font),this.glyph_type){const t=yt.GLYPHS[this.glyph_type];if(!t)throw new n.RERR("Invalid glyph type: "+this.glyph_type);this.glyph=new f(t.code,t.point,{cache:!1}),t.width?this.setWidth(t.width):this.setWidth(this.glyph.getMetrics().width),this.glyph_struct=t}else this.setWidth(p.textWidth(this.text));this.line=t.line||0,this.smooth=t.smooth||!1,this.ignore_ticks=t.ignore_ticks||!1,this.justification=yt.Justification.LEFT}setJustification(t){return this.justification=t,this}setLine(t){return this.line=t,this}preFormat(){this.checkContext(),this.preFormatted||(this.smooth?this.setWidth(0):this.glyph||this.setWidth(this.context.measureText(this.text).width),this.justification===yt.Justification.CENTER?this.extraLeftPx=this.width/2:this.justification===yt.Justification.RIGHT&&(this.extraLeftPx=this.width),this.setPreFormatted(!0))}draw(){if(this.checkContext(),!this.stave)throw new n.RERR("NoStave","Can't draw without a stave.");this.setRendered();const t=this.context;let e,i=this.getAbsoluteX();if(this.justification===yt.Justification.CENTER?i-=this.getWidth()/2:this.justification===yt.Justification.RIGHT&&(i-=this.getWidth()),this.glyph)e=this.stave.getYForLine(this.line+-3),this.glyph.render(this.context,i+this.glyph_struct.x_shift,e+this.glyph_struct.y_shift);else{e=this.stave.getYForLine(this.line+-3),this.applyStyle(t),t.setFont(this.font.family,this.font.size,this.font.weight),t.fillText(this.text,i,e);const n=t.measureText("M").width,r=t.measureText(this.text).width;this.superscript&&(t.setFont(this.font.family,this.font.size/1.3,this.font.weight),t.fillText(this.superscript,i+r+2,e-n/2.2)),this.subscript&&(t.setFont(this.font.family,this.font.size/1.3,this.font.weight),t.fillText(this.subscript,i+r+2,e+n/2.2-1)),this.restoreStyle(t)}}}class vt extends dt{static get CATEGORY(){return"stavetext"}constructor(t,e,i){super(),this.setAttribute("type","StaveText"),this.setWidth(16),this.text=t,this.position=e,this.options={shift_x:0,shift_y:0,justification:yt.Justification.CENTER},n.Merge(this.options,i),this.font={family:"times",size:16,weight:"normal"}}getCategory(){return vt.CATEGORY}setStaveText(t){return this.text=t,this}setShiftX(t){return this.shift_x=t,this}setShiftY(t){return this.shift_y=t,this}setFont(t){n.Merge(this.font,t)}setText(t){this.text=t}draw(t){const e=t.checkContext();this.setRendered(),e.save(),e.lineWidth=2,e.setFont(this.font.family,this.font.size,this.font.weight);const i=e.measureText(""+this.text).width;let r,s;const o=dt.Position,a=yt.Justification;switch(this.position){case o.LEFT:case o.RIGHT:s=(t.getYForLine(0)+t.getBottomLineY())/2+this.options.shift_y,r=this.position===o.LEFT?t.getX()-i-24+this.options.shift_x:t.getX()+t.getWidth()+24+this.options.shift_x;break;case o.ABOVE:case o.BELOW:r=t.getX()+this.options.shift_x,this.options.justification===a.CENTER?r+=t.getWidth()/2-i/2:this.options.justification===a.RIGHT&&(r+=t.getWidth()-i),s=this.position===o.ABOVE?t.getYForTopText(2)+this.options.shift_y:t.getYForBottomText(2)+this.options.shift_y;break;default:throw new n.RERR("InvalidPosition","Value Must be in Modifier.Position.")}return e.fillText(""+this.text,r,s+4),e.restore(),this}}class bt extends dt{static get CATEGORY(){return"clefs"}static get types(){return{treble:{code:"v83",line:3},bass:{code:"v79",line:1},alto:{code:"vad",line:2},tenor:{code:"vad",line:1},percussion:{code:"v59",line:2},soprano:{code:"vad",line:4},"mezzo-soprano":{code:"vad",line:3},"baritone-c":{code:"vad",line:0},"baritone-f":{code:"v79",line:2},subbass:{code:"v79",line:0},french:{code:"v83",line:4},tab:{code:"v2f"}}}static get sizes(){return{default:{point:40,width:26},small:{point:32,width:20}}}static get annotations(){return{"8va":{code:"v8",sizes:{default:{point:20,attachments:{treble:{line:-1.2,x_shift:11}}},small:{point:18,attachments:{treble:{line:-.4,x_shift:8}}}}},"8vb":{code:"v8",sizes:{default:{point:20,attachments:{treble:{line:6.3,x_shift:10},bass:{line:4,x_shift:1}}},small:{point:18,attachments:{treble:{line:5.8,x_shift:6},bass:{line:3.5,x_shift:.5}}}}}}}constructor(t,e,i){super(),this.setAttribute("type","Clef"),this.setPosition(dt.Position.BEGIN),this.setType(t,e,i),this.setWidth(bt.sizes[this.size].width),function(...t){bt.DEBUG&&n.L("Vex.Flow.Clef",t)}("Creating clef:",t)}getCategory(){return bt.CATEGORY}setType(t,e,i){if(this.type=t,this.clef=bt.types[t],this.size=void 0===e?"default":e,this.clef.point=bt.sizes[this.size].point,this.glyph=new f(this.clef.code,this.clef.point),void 0!==i){const t=bt.annotations[i];this.annotation={code:t.code,point:t.sizes[this.size].point,line:t.sizes[this.size].attachments[this.type].line,x_shift:t.sizes[this.size].attachments[this.type].x_shift},this.attachment=new f(this.annotation.code,this.annotation.point),this.attachment.metrics.x_max=0,this.attachment.setXShift(this.annotation.x_shift)}else this.annotation=void 0;return this}getWidth(){if("tab"===this.type&&!this.stave)throw new n.RERR("ClefError","Can't get width without stave.");return this.width}setStave(t){if(this.stave=t,"tab"!==this.type)return this;let e,i;const r=this.stave.getOptions().num_lines;switch(r){case 8:e=55,i=14;break;case 7:e=47,i=8;break;case 6:e=40,i=1;break;case 5:e=30,i=-6;break;case 4:e=23,i=-12;break;default:throw new n.RERR("ClefError","Invalid number of lines: "+r)}return this.glyph.setPoint(e),this.glyph.setYShift(i),this}draw(){if(!this.x)throw new n.RERR("ClefError","Can't draw clef without x.");if(!this.stave)throw new n.RERR("ClefError","Can't draw clef without stave.");this.setRendered(),this.glyph.setStave(this.stave),this.glyph.setContext(this.stave.context),void 0!==this.clef.line&&this.placeGlyphOnLine(this.glyph,this.stave,this.clef.line),this.glyph.renderToStave(this.x),void 0!==this.annotation&&(this.placeGlyphOnLine(this.attachment,this.stave,this.annotation.line),this.attachment.setStave(this.stave),this.attachment.setContext(this.stave.context),this.attachment.renderToStave(this.x))}}class _t extends dt{static get CATEGORY(){return"keysignatures"}static get accidentalSpacing(){return{"#":{above:6,below:4},b:{above:4,below:7},n:{above:4,below:1},"##":{above:6,below:4},bb:{above:4,below:7},db:{above:4,below:7},d:{above:4,below:7},bbs:{above:4,below:7},"++":{above:6,below:4},"+":{above:6,below:4},"+-":{above:6,below:4},"++-":{above:6,below:4},bs:{above:4,below:10},bss:{above:4,below:10}}}constructor(t,e,i){super(),this.setAttribute("type","KeySignature"),this.setKeySig(t,e,i),this.setPosition(dt.Position.BEGIN),this.glyphFontScale=38,this.glyphs=[],this.xPositions=[],this.paddingForced=!1}getCategory(){return _t.CATEGORY}convertToGlyph(t,e){const i=p.accidentalCodes(t.type),n=new f(i.code,this.glyphFontScale);let r=1;if("n"===t.type&&e){const i=_t.accidentalSpacing[e.type];i&&(r=e.line>=t.line?i.above:i.below)}this.placeGlyphOnLine(n,this.stave,t.line),this.glyphs.push(n);const s=this.xPositions[this.xPositions.length-1],o=n.getMetrics().width+r;this.xPositions.push(s+o),this.width+=o}cancelKey(t){return this.formatted=!1,this.cancelKeySpec=t,this}convertToCancelAccList(t){const e=p.keySignature(t),i=this.accList.length>0&&e.length>0&&e[0].type!==this.accList[0].type,n=i?e.length:e.length-this.accList.length;if(n<1)return;const r=[];for(let s=0;s<n;s++){let t=s;i||(t=e.length-n+s);const o=e[t];r.push({type:"n",line:o.line})}return this.accList=r.concat(this.accList),{accList:r,type:e[0].type}}addToStave(t){return this.paddingForced=!0,t.addModifier(this),this}convertAccLines(t,e,i=this.accList){let n,r,s=0;switch(t){case"soprano":"#"===e?n=[2.5,.5,2,0,1.5,-.5,1]:s=-1;break;case"mezzo-soprano":"b"===e?n=[0,2,.5,2.5,1,3,1.5]:s=1.5;break;case"alto":s=.5;break;case"tenor":"#"===e?n=[3,1,2.5,.5,2,0,1.5]:s=-.5;break;case"baritone-f":case"baritone-c":"b"===e?n=[.5,2.5,1,3,1.5,3.5,2]:s=2;break;case"bass":case"french":s=1}if(void 0!==n)for(r=0;r<i.length;++r)i[r].line=n[r];else if(0!==s)for(r=0;r<i.length;++r)i[r].line+=s}getPadding(t){return this.formatted||this.format(),0===this.glyphs.length||!this.paddingForced&&t<2?0:this.padding}getWidth(){return this.formatted||this.format(),this.width}setKeySig(t,e,i){return this.formatted=!1,this.keySpec=t,this.cancelKeySpec=e,this.alterKeySpec=i,this}alterKey(t){return this.formatted=!1,this.alterKeySpec=t,this}convertToAlterAccList(t){const e=Math.min(t.length,this.accList.length);for(let i=0;i<e;++i)t[i]&&(this.accList[i].type=t[i])}format(){if(!this.stave)throw new n.RERR("KeySignatureError","Can't draw key signature without stave.");this.width=0,this.glyphs=[],this.xPositions=[0],this.accList=p.keySignature(this.keySpec);const t=this.accList,e=t.length>0?t[0].type:null;let i;if(this.cancelKeySpec&&(i=this.convertToCancelAccList(this.cancelKeySpec)),this.alterKeySpec&&this.convertToAlterAccList(this.alterKeySpec),this.accList.length>0){const n=(this.position===dt.Position.END?this.stave.endClef:this.stave.clef)||this.stave.clef;i&&this.convertAccLines(n,i.type,i.accList),this.convertAccLines(n,e,t);for(let t=0;t<this.accList.length;++t)this.convertToGlyph(this.accList[t],this.accList[t+1])}this.formatted=!0}draw(){if(!this.x)throw new n.RERR("KeySignatureError","Can't draw key signature without x.");if(!this.stave)throw new n.RERR("KeySignatureError","Can't draw key signature without stave.");this.formatted||this.format(),this.setRendered();for(let t=0;t<this.glyphs.length;t++){const e=this.glyphs[t],i=this.x+this.xPositions[t];e.setStave(this.stave),e.setContext(this.stave.context),e.renderToStave(i)}}}class St extends dt{static get CATEGORY(){return"timesignatures"}static get glyphs(){return{C:{code:"v41",point:40,line:2},"C|":{code:"vb6",point:40,line:2}}}constructor(t=null,e=15,i=!0){if(super(),this.setAttribute("type","TimeSignature"),this.validate_args=i,null===t)return;const n=e;this.point=40,this.topLine=2,this.bottomLine=4,this.setPosition(dt.Position.BEGIN),this.setTimeSig(t),this.setWidth(this.timeSig.glyph.getMetrics().width),this.setPadding(n)}getCategory(){return St.CATEGORY}parseTimeSpec(t){if("C"===t||"C|"===t){const{line:e,code:i,point:n}=St.glyphs[t];return{line:e,num:!1,glyph:new f(i,n)}}this.validate_args&&(t=>{const e=t.split("/").filter(t=>""!==t);if(2!==e.length)throw new n.RERR("BadTimeSignature",`Invalid time spec: ${t}. Must be in the form "<numerator>/<denominator>"`);e.forEach(e=>{if(isNaN(Number(e)))throw new n.RERR("BadTimeSignature",`Invalid time spec: ${t}. Must contain two valid numbers.`)})})(t);const[e,i]=t.split("/").map(t=>t.split(""));return{num:!0,glyph:this.makeTimeSignatureGlyph(e,i)}}makeTimeSignatureGlyph(t,e){const i=new f("v0",this.point);i.topGlyphs=[],i.botGlyphs=[];let n=0;for(let c=0;c<t.length;++c){const e=t[c],r=new f("v"+e,this.point);i.topGlyphs.push(r),n+=r.getMetrics().width}let r=0;for(let c=0;c<e.length;++c){const t=e[c],n=new f("v"+t,this.point);i.botGlyphs.push(n),r+=n.getMetrics().width}const s=n>r?n:r,o=i.getMetrics().x_min;i.getMetrics=()=>({x_min:o,x_max:o+s,width:s});const a=(s-n)/2,l=(s-r)/2,u=this;return i.renderToStave=function(t){let e=t+a;for(let i=0;i<this.topGlyphs.length;++i){const t=this.topGlyphs[i];f.renderOutline(this.context,t.metrics.outline,t.scale,e+t.x_shift,this.stave.getYForLine(u.topLine)),e+=t.getMetrics().width}e=t+l;for(let i=0;i<this.botGlyphs.length;++i){const t=this.botGlyphs[i];u.placeGlyphOnLine(t,this.stave,t.line),f.renderOutline(this.context,t.metrics.outline,t.scale,e+t.x_shift,this.stave.getYForLine(u.bottomLine)),e+=t.getMetrics().width}},i}getTimeSig(){return this.timeSig}setTimeSig(t){return this.timeSig=this.parseTimeSpec(t),this}draw(){if(!this.x)throw new n.RERR("TimeSignatureError","Can't draw time signature without x.");if(!this.stave)throw new n.RERR("TimeSignatureError","Can't draw time signature without stave.");this.setRendered(),this.timeSig.glyph.setStave(this.stave),this.timeSig.glyph.setContext(this.stave.context),this.placeGlyphOnLine(this.timeSig.glyph,this.stave,this.timeSig.line),this.timeSig.glyph.renderToStave(this.x)}}class wt extends dt{static get CATEGORY(){return"voltas"}static get type(){return{NONE:1,BEGIN:2,MID:3,END:4,BEGIN_END:5}}constructor(t,e,i,n){super(),this.setAttribute("type","Volta"),this.volta=t,this.x=i,this.y_shift=n,this.number=e,this.font={family:"sans-serif",size:9,weight:"bold"}}getCategory(){return wt.CATEGORY}setShiftY(t){return this.y_shift=t,this}draw(t,e){const i=t.checkContext();this.setRendered();let n=t.width;const r=t.getYForTopText(t.options.num_lines)+this.y_shift,s=1.5*t.options.spacing_between_lines_px;switch(this.volta){case wt.type.BEGIN:i.fillRect(this.x+e,r,1,s);break;case wt.type.END:n-=5,i.fillRect(this.x+e+n,r,1,s);break;case wt.type.BEGIN_END:n-=3,i.fillRect(this.x+e,r,1,s),i.fillRect(this.x+e+n,r,1,s)}return this.volta!==wt.type.BEGIN&&this.volta!==wt.type.BEGIN_END||(i.save(),i.setFont(this.font.family,this.font.size,this.font.weight),i.fillText(this.number,this.x+e+5,r+15),i.restore()),i.fillRect(this.x+e,r,n,1),this}}class Tt extends l{constructor(t,e,i,r){super(),this.setAttribute("type","Stave"),this.x=t,this.y=e,this.width=i,this.formatted=!1,this.start_x=t+5,this.end_x=t+i,this.modifiers=[],this.measure=0,this.clef="treble",this.endClef=void 0,this.font={family:"sans-serif",size:8,weight:""},this.options={vertical_bar_width:10,glyph_spacing_px:10,num_lines:5,fill_style:"#999999",left_bar:!0,right_bar:!0,spacing_between_lines_px:10,space_above_staff_ln:4,space_below_staff_ln:4,top_text_position:1},this.bounds={x:this.x,y:this.y,w:this.width,h:0},n.Merge(this.options,r),this.resetLines();const s=ft.type;this.addModifier(new ft(this.options.left_bar?s.SINGLE:s.NONE)),this.addEndModifier(new ft(this.options.right_bar?s.SINGLE:s.NONE))}space(t){return this.options.spacing_between_lines_px*t}resetLines(){this.options.line_config=[];for(let t=0;t<this.options.num_lines;t++)this.options.line_config.push({visible:!0});this.height=(this.options.num_lines+this.options.space_above_staff_ln)*this.options.spacing_between_lines_px,this.options.bottom_text_position=this.options.num_lines}getOptions(){return this.options}setNoteStartX(t){this.formatted||this.format(),this.start_x=t;const e=this.modifiers[0];return e.setX(this.start_x-e.getWidth()),this}getNoteStartX(){return this.formatted||this.format(),this.start_x}getNoteEndX(){return this.formatted||this.format(),this.end_x}getTieStartX(){return this.start_x}getTieEndX(){return this.x+this.width}getX(){return this.x}getNumLines(){return this.options.num_lines}setNumLines(t){return this.options.num_lines=parseInt(t,10),this.resetLines(),this}setY(t){return this.y=t,this}getTopLineTopY(){return this.getYForLine(0)-p.STAVE_LINE_THICKNESS/2}getBottomLineBottomY(){return this.getYForLine(this.getNumLines()-1)+p.STAVE_LINE_THICKNESS/2}setX(t){const e=t-this.x;this.formatted=!1,this.x=t,this.start_x+=e,this.end_x+=e;for(let i=0;i<this.modifiers.length;i++){const t=this.modifiers[i];void 0!==t.x&&(t.x+=e)}return this}setWidth(t){return this.formatted=!1,this.width=t,this.end_x=this.x+t,this}getWidth(){return this.width}getStyle(){return{fillStyle:this.options.fill_style,strokeStyle:this.options.fill_style,lineWidth:p.STAVE_LINE_THICKNESS,...this.style||{}}}setMeasure(t){return this.measure=t,this}getModifierXShift(t=0){if("number"!=typeof t)throw new n.RERR("InvalidIndex","Must be of number type");if(this.formatted||this.format(),1===this.getModifiers(dt.Position.BEGIN).length)return 0;let e=this.start_x-this.x;const i=this.modifiers[0];return i.getType()===ft.type.REPEAT_BEGIN&&e>i.getWidth()&&(e-=i.getWidth()),e}setRepetitionTypeLeft(t,e){return this.modifiers.push(new pt(t,this.x,e)),this}setRepetitionTypeRight(t,e){return this.modifiers.push(new pt(t,this.x,e)),this}setVoltaType(t,e,i){return this.modifiers.push(new wt(t,e,this.x,i)),this}setSection(t,e){return this.modifiers.push(new mt(t,this.x,e)),this}setTempo(t,e){return this.modifiers.push(new gt(t,this.x,e)),this}setText(t,e,i){return this.modifiers.push(new vt(t,e,i)),this}getHeight(){return this.height}getSpacingBetweenLines(){return this.options.spacing_between_lines_px}getBoundingBox(){return new c(this.x,this.y,this.width,this.getBottomY()-this.y)}getBottomY(){const t=this.options,e=t.spacing_between_lines_px;return this.getYForLine(t.num_lines)+t.space_below_staff_ln*e}getBottomLineY(){return this.getYForLine(this.options.num_lines)}getYForLine(t){const e=this.options,i=e.spacing_between_lines_px,n=e.space_above_staff_ln;return this.y+t*i+n*i}getLineForY(t){const e=this.options,i=e.spacing_between_lines_px,n=e.space_above_staff_ln;return(t-this.y)/i-n}getYForTopText(t){const e=t||0;return this.getYForLine(-e-this.options.top_text_position)}getYForBottomText(t){const e=t||0;return this.getYForLine(this.options.bottom_text_position+e)}getYForNote(t){const e=this.options,i=e.spacing_between_lines_px,n=e.space_above_staff_ln;return this.y+n*i+5*i-t*i}getYForGlyphs(){return this.getYForLine(3)}addModifier(t,e){return void 0!==e&&t.setPosition(e),t.setStave(this),this.formatted=!1,this.modifiers.push(t),this}addEndModifier(t){return this.addModifier(t,dt.Position.END),this}setBegBarType(t){const{SINGLE:e,REPEAT_BEGIN:i,NONE:n}=ft.type;return t!==e&&t!==i&&t!==n||(this.modifiers[0].setType(t),this.formatted=!1),this}setEndBarType(t){return t!==ft.type.REPEAT_BEGIN&&(this.modifiers[1].setType(t),this.formatted=!1),this}setClef(t,e,i,n){void 0===n&&(n=dt.Position.BEGIN),n===dt.Position.END?this.endClef=t:this.clef=t;const r=this.getModifiers(n,bt.CATEGORY);return 0===r.length?this.addClef(t,e,i,n):r[0].setType(t,e,i),this}setEndClef(t,e,i){return this.setClef(t,e,i,dt.Position.END),this}setKeySignature(t,e,i){void 0===i&&(i=dt.Position.BEGIN);const n=this.getModifiers(i,_t.CATEGORY);return 0===n.length?this.addKeySignature(t,e,i):n[0].setKeySig(t,e),this}setEndKeySignature(t,e){return this.setKeySignature(t,e,dt.Position.END),this}setTimeSignature(t,e,i){void 0===i&&(i=dt.Position.BEGIN);const n=this.getModifiers(i,St.CATEGORY);return 0===n.length?this.addTimeSignature(t,e,i):n[0].setTimeSig(t),this}setEndTimeSignature(t,e){return this.setTimeSignature(t,e,dt.Position.END),this}addKeySignature(t,e,i){return void 0===i&&(i=dt.Position.BEGIN),this.addModifier(new _t(t,e).setPosition(i),i),this}addClef(t,e,i,n){return void 0===n||n===dt.Position.BEGIN?this.clef=t:n===dt.Position.END&&(this.endClef=t),this.addModifier(new bt(t,e,i),n),this}addEndClef(t,e,i){return this.addClef(t,e,i,dt.Position.END),this}addTimeSignature(t,e,i){return this.addModifier(new St(t,e),i),this}addEndTimeSignature(t,e){return this.addTimeSignature(t,e,dt.Position.END),this}addTrebleGlyph(){return this.addClef("treble"),this}getModifiers(t,e){return void 0===t&&void 0===e?this.modifiers:this.modifiers.filter(i=>!(void 0!==t&&t!==i.getPosition()||void 0!==e&&e!==i.getCategory()))}sortByCategory(t,e){for(let i=t.length-1;i>=0;i--)for(let n=0;n<i;n++)if(e[t[n].getCategory()]>e[t[n+1].getCategory()]){const e=t[n];t[n]=t[n+1],t[n+1]=e}}format(){const t=this.modifiers[0],e=this.modifiers[1],i=this.getModifiers(dt.Position.BEGIN),n=this.getModifiers(dt.Position.END);let r,s,o;this.sortByCategory(i,{barlines:0,clefs:1,keysignatures:2,timesignatures:3}),this.sortByCategory(n,{timesignatures:0,keysignatures:1,barlines:2,clefs:3}),i.length>1&&t.getType()===ft.type.REPEAT_BEGIN&&(i.push(i.splice(0,1)[0]),i.splice(0,0,new ft(ft.type.SINGLE))),n.indexOf(e)>0&&n.splice(0,0,new ft(ft.type.NONE));let a=0,l=this.x;for(let h=0;h<i.length;h++)o=i[h],s=o.getPadding(h+a),r=o.getWidth(),l+=s,o.setX(l),l+=r,s+r===0&&a--;this.start_x=l,l=this.x+this.width;const u={left:0,right:0,paddingRight:0,paddingLeft:0};let c=0;for(let h=0;h<n.length;h++){o=n[h],c="barlines"===o.getCategory()?h:c,u.right=0,u.left=0,u.paddingRight=0,u.paddingLeft=0;const t=o.getLayoutMetrics();t?(0!==h&&(u.right=t.xMax||0,u.paddingRight=t.paddingRight||0),u.left=-t.xMin||0,u.paddingLeft=t.paddingLeft||0,h===n.length-1&&(u.paddingLeft=0)):(u.paddingRight=o.getPadding(h-c),0!==h&&(u.right=o.getWidth()),0===h&&(u.left=o.getWidth())),l-=u.paddingRight,l-=u.right,o.setX(l),l-=u.left,l-=u.paddingLeft}this.end_x=1===n.length?this.x+this.width:l,this.formatted=!0}draw(){this.checkContext(),this.setRendered(),this.formatted||this.format();const t=this.options.num_lines,e=this.width,i=this.x;let n;for(let r=0;r<t;r++)n=this.getYForLine(r),this.applyStyle(),this.options.line_config[r].visible&&(this.context.beginPath(),this.context.moveTo(i,n),this.context.lineTo(i+e,n),this.context.stroke()),this.restoreStyle();for(let r=0;r<this.modifiers.length;r++)"function"==typeof this.modifiers[r].draw&&(this.modifiers[r].applyStyle(this.context),this.modifiers[r].draw(this,this.getModifierXShift(r)),this.modifiers[r].restoreStyle(this.context));if(this.measure>0){this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight);const t=this.context.measureText(""+this.measure).width;n=this.getYForTopText(0)+3,this.context.fillText(""+this.measure,this.x-t/2,n),this.context.restore()}return this}drawVertical(t,e){this.drawVerticalFixed(this.x+t,e)}drawVerticalFixed(t,e){this.checkContext();const i=this.getYForLine(0),n=this.getYForLine(this.options.num_lines-1);e&&this.context.fillRect(t-3,i,1,n-i+1),this.context.fillRect(t,i,1,n-i+1)}drawVerticalBar(t){this.drawVerticalBarFixed(this.x+t,!1)}drawVerticalBarFixed(t){this.checkContext();const e=this.getYForLine(0),i=this.getYForLine(this.options.num_lines-1);this.context.fillRect(t,e,1,i-e+1)}getConfigForLines(){return this.options.line_config}setConfigForLine(t,e){if(t>=this.options.num_lines||t<0)throw new n.RERR("StaveConfigError","The line number must be within the range of the number of lines in the Stave.");if(void 0===e.visible)throw new n.RERR("StaveConfigError","The line configuration object is missing the 'visible' property.");if("boolean"!=typeof e.visible)throw new n.RERR("StaveConfigError","The line configuration objects 'visible' property must be true or false.");return this.options.line_config[t]=e,this}setConfigForLines(t){if(t.length!==this.options.num_lines)throw new n.RERR("StaveConfigError","The length of the lines configuration array must match the number of lines in the Stave");for(const e in t)t[e]||(t[e]=this.options.line_config[e]),n.Merge(this.options.line_config[e],t[e]);return this.options.line_config=t,this}}class xt extends Tt{constructor(t,e,i,r){const s={spacing_between_lines_px:13,num_lines:6,top_text_position:1};n.Merge(s,r),super(t,e,i,s),this.setAttribute("type","TabStave")}getYForGlyphs(){return this.getYForLine(2.5)}addTabGlyph(){return this.addClef("tab"),this}}class Et extends O{static get CATEGORY(){return"tabnotes"}constructor(t,e){if(super(t),this.setAttribute("type","TabNote"),this.ghost=!1,this.positions=t.positions,n.Merge(this.render_options,{glyph_font_scale:p.DEFAULT_TABLATURE_FONT_SCALE,draw_stem:e,draw_dots:e,draw_stem_through_stave:!1,y_shift:0,scale:1,font:"10pt Arial"}),this.glyph=p.getGlyphProps(this.duration,this.noteType),!this.glyph)throw new n.RuntimeError("BadArguments","Invalid note initialization data (No glyph found): "+JSON.stringify(t));this.buildStem(),t.stem_direction?this.setStemDirection(t.stem_direction):this.setStemDirection(S.UP),this.ghost=!1,this.updateWidth()}reset(){this.stave&&this.setStave(this.stave)}getCategory(){return Et.CATEGORY}setGhost(t){return this.ghost=t,this.updateWidth(),this}hasStem(){return this.render_options.draw_stem}getStemExtension(){const t=this.getGlyph();return null!=this.stem_extension_override?this.stem_extension_override:t?1===this.getStemDirection()?t.tabnote_stem_up_extension:t.tabnote_stem_down_extension:0}addDot(){const t=new N;return this.dots+=1,this.addModifier(t,0)}updateWidth(){this.glyphs=[],this.width=0;for(let t=0;t<this.positions.length;++t){let e=this.positions[t].fret;this.ghost&&(e="("+e+")");const i=p.tabToGlyph(e,this.render_options.scale);this.glyphs.push(i),this.width=Math.max(i.getWidth(),this.width)}this.glyph.getWidth=()=>this.width}setStave(t){let e;if(super.setStave(t),this.context=t.context,this.context){const t=this.context;for(this.width=0,e=0;e<this.glyphs.length;++e){const i=this.glyphs[e],n=""+i.text;"X"!==n.toUpperCase()&&(t.save(),t.setRawFont(this.render_options.font),i.width=t.measureText(n).width,t.restore(),i.getWidth=()=>i.width),this.width=Math.max(i.getWidth(),this.width)}this.glyph.getWidth=()=>this.width}const i=this.positions.map(({str:e})=>t.getYForLine(e-1));return this.setYs(i),this.stem&&this.stem.setYBounds(this.getStemY(),this.getStemY()),this}getPositions(){return this.positions}addToModifierContext(t){this.setModifierContext(t);for(let e=0;e<this.modifiers.length;++e)this.modifierContext.addModifier(this.modifiers[e]);return this.modifierContext.addModifier(this),this.preFormatted=!1,this}getTieRightX(){let t=this.getAbsoluteX();return t+=this.glyph.getWidth()/2,t+=-this.width/2+this.width+2,t}getTieLeftX(){let t=this.getAbsoluteX();return t+=this.glyph.getWidth()/2,t-=this.width/2+2,t}getModifierStartXY(t,e){if(!this.preFormatted)throw new n.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");if(0===this.ys.length)throw new n.RERR("NoYValues","No Y-Values calculated for this note.");let i=0;return t===R.Position.LEFT?i=-2:t===R.Position.RIGHT?i=this.width+2:t!==R.Position.BELOW&&t!==R.Position.ABOVE||(i=this.glyph.getWidth()/2),{x:this.getAbsoluteX()+i,y:this.ys[e]}}getLineForRest(){return this.positions[0].str}preFormat(){this.preFormatted||(this.modifierContext&&this.modifierContext.preFormat(),this.setPreFormatted(!0))}getStemX(){return this.getCenterGlyphX()}getStemY(){const t=this.stave.getNumLines()-.5,e=S.UP===this.stem_direction?-.5:t;return this.stave.getYForLine(e)}getStemExtents(){return this.stem.getExtents()}drawFlag(){const{beam:t,glyph:e,context:i,stem:n,stem_direction:r,render_options:{draw_stem:s,glyph_font_scale:o}}=this,a=null==t&&s;if(e.flag&&a){const t=this.getStemX()+1,s=this.getStemY()-n.getHeight(),a=r===S.DOWN?e.code_flag_downstem:e.code_flag_upstem;f.renderGlyph(i,t,s,o,a)}}drawModifiers(){this.modifiers.forEach(t=>{("dots"!==t.getCategory()||this.render_options.draw_dots)&&(t.setContext(this.context),t.drawWithStyle())})}drawStemThrough(){const t=this.getStemX(),e=this.getStemY(),i=this.context,n=this.render_options.draw_stem_through_stave;if(this.render_options.draw_stem&&n){const n=function(t,e,i,n){const r=1!==n,s=-1!==n,o=i.getSpacingBetweenLines(),a=i.getNumLines(),l=[];return e.forEach(e=>{const u=e.indexOf(a)>-1,c=e.indexOf(1)>-1;if(r&&c||s&&u)return;1===e.length&&e.push(e[0]);const h=[];e.forEach((e,r,s)=>{const l=1===e,u=e===a;let c=i.getYForLine(e-1);0!==r||l?r!==s.length-1||u||(c+=o/2-1):c-=o/2-1,h.push(c),1===n&&l?h.push(t-2):-1===n&&u&&h.push(t+2)}),l.push(h.sort((t,e)=>t-e))}),l}(e,function(t,e){const i=[];let n=[];for(let r=1;r<=t;r++)e.indexOf(r)>-1?(i.push(n),n=[]):n.push(r);return n.length>0&&i.push(n),i}(this.stave.getNumLines(),this.positions.map(t=>t.str)),this.getStave(),this.getStemDirection());i.save(),i.setLineWidth(S.WIDTH),n.forEach(e=>{0!==e.length&&(i.beginPath(),i.moveTo(t,e[0]),i.lineTo(t,e[e.length-1]),i.stroke(),i.closePath())}),i.restore()}}drawPositions(){const t=this.context,e=this.getAbsoluteX(),i=this.ys;for(let n=0;n<this.positions.length;++n){const r=i[n]+this.render_options.y_shift,s=this.glyphs[n],o=e+this.glyph.getWidth()/2-s.getWidth()/2;if(t.clearRect(o-2,r-3,s.getWidth()+4,6),s.code)f.renderGlyph(t,o,r,this.render_options.glyph_font_scale*this.render_options.scale,s.code);else{t.save(),t.setRawFont(this.render_options.font);const e=s.text.toString();t.fillText(e,o,r+5*this.render_options.scale),t.restore()}}}draw(){if(this.checkContext(),!this.stave)throw new n.RERR("NoStave","Can't draw without a stave.");if(0===this.ys.length)throw new n.RERR("NoYValues","Can't draw note without Y values.");this.setRendered();const t=null==this.beam&&this.render_options.draw_stem;this.drawPositions(),this.drawStemThrough();const e=this.getStemX();this.stem.setNoteHeadXBounds(e,e),t&&(this.context.openGroup("stem",null,{pointerBBox:!0}),this.stem.setContext(this.context).draw(),this.context.closeGroup()),this.drawFlag(),this.drawModifiers()}}class Ct extends l{constructor(t){super(),this.setAttribute("type","VibratoBracket"),this.start=t.start,this.stop=t.stop,this.line=1,this.render_options={harsh:!1,wave_height:6,wave_width:4,wave_girth:2}}setLine(t){return this.line=t,this}setHarsh(t){return this.render_options.harsh=t,this}draw(){const t=this.context;this.setRendered();const e=this.start?this.start.getStave().getYForTopText(this.line):this.stop.getStave().getYForTopText(this.line),i=this.start?this.start.getAbsoluteX():this.stop.getStave().getTieStartX(),r=this.stop?this.stop.getAbsoluteX()-this.stop.getWidth()-5:this.start.getStave().getTieEndX()-10;this.render_options.vibrato_width=r-i,function(...t){Ct.DEBUG&&n.L("Vex.Flow.VibratoBracket",t)}("Rendering VibratoBracket: start_x:",i,"stop_x:",r,"y:",e),ot.renderVibrato(t,i,e,this.render_options)}}let At;class Pt extends l{constructor(t,e){super(),this.setAttribute("type","MultiMeasureRest"),this.render_options={show_number:!0,number_line:-.5,number_glyph_point:40,padding_left:void 0,padding_right:void 0,line:2,spacing_between_lines_px:10,line_thickness:void 0,serif_thickness:2,use_symbols:!1,symbol_spacing:void 0,semibrave_rest_glyph_scale:p.DEFAULT_NOTATION_FONT_SCALE},n.Merge(this.render_options,e),this.number_of_measures=t,this.xs={left:NaN,right:NaN}}getXs(){return this.xs}setStave(t){return this.stave=t,this}getStave(){return this.stave}drawLine(t,e,i,n){const r=this.stave.getYForLine(this.render_options.line),s=.1*(i-e);e+=s,i-=s;const o=this.render_options.serif_thickness;let a=.25*n;isNaN(this.render_options.line_thickness)||(a=.5*this.render_options.line_thickness),t.save(),t.beginPath(),t.moveTo(e,r-n),t.lineTo(e+o,r-n),t.lineTo(e+o,r-a),t.lineTo(i-o,r-a),t.lineTo(i-o,r-n),t.lineTo(i,r-n),t.lineTo(i,r+n),t.lineTo(i-o,r+n),t.lineTo(i-o,r+a),t.lineTo(e+o,r+a),t.lineTo(e+o,r+n),t.lineTo(e,r+n),t.closePath(),t.fill()}drawSymbols(t,e,i,n){const r=Math.floor(this.number_of_measures/4),s=this.number_of_measures%4,o=Math.floor(s/2),a=s%2,l=function(){if(!At){const t=new I({duration:"w",note_type:"r"});At={glyph_font_scale:t.render_options.glyph_font_scale,glyph_code:t.glyph_code,width:t.getWidth()}}return At}(),u=l.width*(this.render_options.semibrave_rest_glyph_scale/l.glyph_font_scale),c={2:{width:.5*u,height:n},1:{width:u}};let h=1.35*u;isNaN(this.render_options.symbol_spacing)||(h=this.render_options.symbol_spacing);let d=e+.5*(i-e)-.5*(r*c[2].width+o*c[2].width+a*c[1].width+(r+o+a-1)*h);const p=this.stave.getYForLine(this.render_options.line-1),m=this.stave.getYForLine(this.render_options.line),g=this.stave.getYForLine(this.render_options.line+1);t.save(),t.setStrokeStyle("none"),t.setLineWidth(0);for(let f=0;f<r;++f)t.fillRect(d,m-c[2].height,c[2].width,c[2].height),t.fillRect(d,g-c[2].height,c[2].width,c[2].height),d+=c[2].width+h;for(let f=0;f<o;++f)t.fillRect(d,m-c[2].height,c[2].width,c[2].height),d+=c[2].width+h;for(let y=0;y<a;++y)f.renderGlyph(t,d,p,this.render_options.semibrave_rest_glyph_scale,l.glyph_code),d+=c[1].width+h;t.restore()}draw(){this.checkContext(),this.setRendered();const t=this.context,e=this.stave,i=this.render_options.spacing_between_lines_px;let n=e.getNoteStartX(),r=e.getNoteEndX();const s=e.getModifiers(dt.Position.BEGIN);if(1===s.length&&"barlines"===s[0].getCategory()&&(n-=s[0].getWidth()),isNaN(this.render_options.padding_left)||(n=e.getX()+this.render_options.padding_left),isNaN(this.render_options.padding_right)||(r=e.getX()+e.getWidth()-this.render_options.padding_right),this.xs.left=n,this.xs.right=r,this.render_options.use_symbols?this.drawSymbols(t,n,r,i):this.drawLine(t,n,r,i),this.render_options.show_number){const i="/"+this.number_of_measures,s=new St(null,void 0,!1);s.point=this.render_options.number_glyph_point,s.setTimeSig(i),s.setStave(e),s.x=n+.5*(r-n)-.5*s.timeSig.glyph.getMetrics().width,s.bottomLine=this.render_options.number_line,s.setContext(t).draw()}}}class Mt extends L{static get CATEGORY(){return"clefnote"}constructor(t,e,i){super({duration:"b"}),this.setAttribute("type","ClefNote"),this.setType(t,e,i),this.ignore_ticks=!0}setType(t,e,i){return this.type=t,this.clef_obj=new bt(t,e,i),this.clef=this.clef_obj.clef,this.glyph=new f(this.clef.code,this.clef.point),this.setWidth(this.glyph.getMetrics().width),this}getClef(){return this.clef}setContext(t){return this.context=t,this.glyph.setContext(this.context),this}getBoundingBox(){return super.getBoundingBox()}addToModifierContext(){return this}getCategory(){return Mt.CATEGORY}preFormat(){return this.setPreFormatted(!0),this}draw(){if(!this.stave)throw new n.RERR("NoStave","Can't draw without a stave.");this.glyph.getContext()||this.glyph.setContext(this.context),this.setRendered();const t=this.getAbsoluteX();if(this.glyph.setStave(this.stave),this.glyph.setYShift(this.stave.getYForLine(this.clef.line)-this.stave.getYForGlyphs()),this.glyph.renderToStave(t),void 0!==this.clef_obj.annotation){const e=new f(this.clef_obj.annotation.code,this.clef_obj.annotation.point);e.getContext()||e.setContext(this.context),e.setStave(this.stave),e.setYShift(this.stave.getYForLine(this.clef_obj.annotation.line)-this.stave.getYForGlyphs()),e.setXShift(this.clef_obj.annotation.x_shift),e.renderToStave(t)}}}class kt extends L{constructor(t,e,i){super({duration:"b"}),this.setAttribute("type","KeySigNote"),this.keySignature=new _t(t,e,i),this.ignore_ticks=!0}getBoundingBox(){return super.getBoundingBox()}addToModifierContext(){return this}preFormat(){return this.setPreFormatted(!0),this.keySignature.setStave(this.stave),this.keySignature.format(),this.setWidth(this.keySignature.width),this}draw(){this.stave.checkContext(),this.setRendered(),this.keySignature.x=this.getAbsoluteX(),this.keySignature.setContext(this.context),this.keySignature.draw()}}class Lt extends L{constructor(t,e){super({duration:"b"}),this.setAttribute("type","TimeSigNote");const i=new St(t,e);this.timeSig=i.getTimeSig(),this.setWidth(this.timeSig.glyph.getMetrics().width),this.ignore_ticks=!0}getBoundingBox(){return super.getBoundingBox()}addToModifierContext(){return this}preFormat(){return this.setPreFormatted(!0),this}draw(){this.stave.checkContext(),this.setRendered(),this.timeSig.glyph.getContext()||this.timeSig.glyph.setContext(this.context),this.timeSig.glyph.setStave(this.stave),this.timeSig.glyph.setYShift(this.stave.getYForLine(this.timeSig.line)-this.stave.getYForGlyphs()),this.timeSig.glyph.renderToStave(this.getAbsoluteX())}}class It extends H{static get SLIDE_UP(){return 1}static get SLIDE_DOWN(){return-1}static createSlideUp(t){return new It(t,It.SLIDE_UP)}static createSlideDown(t){return new It(t,It.SLIDE_DOWN)}constructor(t,e){if(super(t,"sl."),this.setAttribute("type","TabSlide"),!e){const i=t.first_note.getPositions()[0].fret,n=t.last_note.getPositions()[0].fret;e=parseInt(i,10)>parseInt(n,10)?It.SLIDE_DOWN:It.SLIDE_UP}this.slide_direction=e,this.render_options.cp1=11,this.render_options.cp2=14,this.render_options.y_shift=.5,this.setFont({font:"Times",size:10,style:"bold italic"}),this.setNotes(t)}renderTie(t){if(0===t.first_ys.length||0===t.last_ys.length)throw new n.RERR("BadArguments","No Y-values to render");const e=this.context,i=t.first_x_px,r=t.first_ys,s=t.last_x_px,o=this.slide_direction;if(o!==It.SLIDE_UP&&o!==It.SLIDE_DOWN)throw new n.RERR("BadSlide","Invalid slide direction");for(let a=0;a<this.first_indices.length;++a){const t=r[this.first_indices[a]]+this.render_options.y_shift;if(isNaN(t))throw new n.RERR("BadArguments","Bad indices for slide rendering.");e.beginPath(),e.moveTo(i,t+3*o),e.lineTo(s,t-3*o),e.closePath(),e.stroke()}this.setRendered()}}class Ot extends B{static get CATEGORY(){return"gracenotes"}static get LEDGER_LINE_OFFSET(){return 2}static get SCALE(){return.66}constructor(t){super(Object.assign(t,{glyph_font_scale:p.DEFAULT_NOTATION_FONT_SCALE*Ot.SCALE,stroke_px:Ot.LEDGER_LINE_OFFSET})),this.setAttribute("type","GraceNote"),this.slash=t.slash,this.slur=!0,this.buildNoteHeads(),this.width=3}getStemExtension(){if(null!=this.stem_extension_override)return this.stem_extension_override;const t=this.getGlyph();if(t){let e=super.getStemExtension();if(t.stem){const t=this.getStaveNoteScale();e=(S.HEIGHT+e)*t-S.HEIGHT}return e}return 0}getCategory(){return Ot.CATEGORY}getStaveNoteScale(){return this.render_options.glyph_font_scale/p.DEFAULT_NOTATION_FONT_SCALE}draw(){super.draw(),this.setRendered();const t=this.stem;if(this.slash&&t){const e=this.getStaveNoteScale(),i=e/.66;let n=void 0;const r=this.beam;if(r)r.postFormatted||r.postFormat(),n=this.calcBeamedNotesSlashBBox(8*i,8*i,{stem:6*i,beam:5*i});else{const r=this.getStemDirection(),s=this.getNoteHeadBounds(),o=t.getHeight();let a=this.getAbsoluteX(),l=r===p.Stem.DOWN?s.y_top-o:s.y_bottom-o;const u=r===p.Stem.DOWN?this.glyph.stem_down_extension:this.glyph.stem_up_extension;let c=p.STEM_HEIGHT;c-=c/2.8,c+=u,l+=c*e*r;const h=r===p.Stem.UP?{x1:1,y1:0,x2:13,y2:-9}:{x1:-4,y1:1,x2:13,y2:9};a+=h.x1*i,l+=h.y1*i,n={x1:a,y1:l,x2:a+h.x2*i,y2:l+h.y2*i}}const s=this.context;s.save(),s.setLineWidth(1*i),s.beginPath(),s.moveTo(n.x1,n.y1),s.lineTo(n.x2,n.y2),s.closePath(),s.stroke(),s.restore()}}calcBeamedNotesSlashBBox(t,e,i){const n=this.beam,r=n.slope,s=n.notes[n.notes.length-1]===this?-1:1,o=Math.atan(r*s),a=Math.cos(o)*e,l=Math.sin(o)*e;t*=this.getStemDirection();const u=Math.atan((l-t)/a),c=Math.cos(u)*i.stem*s,h=Math.sin(u)*i.stem,d=Math.cos(u)*i.beam*s,f=Math.sin(u)*i.beam,p=this.getStemX(),m=n.notes[0].getStemX(),g=this.beam.getBeamYToDraw()+(p-m)*r;return{x1:p-c,y1:g+t-h,x2:p+a*s+d,y2:g+l+f}}}class Rt extends Et{static get CATEGORY(){return"gracetabnotes"}constructor(t){super(t,!1),this.setAttribute("type","GraceTabNote"),n.Merge(this.render_options,{y_shift:.3,scale:.6,font:"7.5pt Arial"}),this.updateWidth()}getCategory(){return Rt.CATEGORY}draw(){super.draw(),this.setRendered()}}class Nt{static get names(){return{standard:"E/5,B/4,G/4,D/4,A/3,E/3",dagdad:"D/5,A/4,G/4,D/4,A/3,D/3",dropd:"E/5,B/4,G/4,D/4,A/3,D/3",eb:"Eb/5,Bb/4,Gb/4,Db/4,Ab/3,Db/3",standardBanjo:"D/5,B/4,G/4,D/4,G/5"}}constructor(t="E/5,B/4,G/4,D/4,A/3,E/3,B/2,E/2"){this.setTuning(t)}noteToInteger(t){return p.keyProperties(t).int_value}setTuning(t){Nt.names[t]&&(t=Nt.names[t]),this.tuningString=t,this.tuningValues=[],this.numStrings=0;const e=t.split(/\s*,\s*/);if(0===e.length)throw new n.RERR("BadArguments","Invalid tuning string: "+t);this.numStrings=e.length;for(let i=0;i<this.numStrings;++i)this.tuningValues[i]=this.noteToInteger(e[i])}getValueForString(t){const e=parseInt(t,10);if(e<1||e>this.numStrings)throw new n.RERR("BadArguments",`String number must be between 1 and ${this.numStrings}:${t}`);return this.tuningValues[e-1]}getValueForFret(t,e){const i=this.getValueForString(e),r=parseInt(t,10);if(r<0)throw new n.RERR("BadArguments","Fret number must be 0 or higher: "+t);return i+r}getNoteForFret(t,e){const i=this.getValueForFret(t,e),n=Math.floor(i/12),r=i%12;return p.integerToNote(r)+"/"+n}}class Dt extends l{static get type(){return{CRESC:1,DECRESC:2}}static FormatByTicksAndDraw(t,e,i,r,s,o){const a=e.pixelsPerTick;if(null==a)throw new n.RuntimeError("BadArguments","A valid Formatter must be provide to draw offsets by ticks.");const l=a*o.left_shift_ticks,u=a*o.right_shift_ticks,c={height:o.height,y_shift:o.y_shift,left_shift_px:l,right_shift_px:u};new Dt({first_note:i.first_note,last_note:i.last_note},r).setContext(t).setRenderOptions(c).setPosition(s).draw()}constructor(t,e){super(),this.setAttribute("type","StaveHairpin"),this.notes=t,this.hairpin=e,this.position=R.Position.BELOW,this.render_options={height:10,y_shift:0,left_shift_px:0,right_shift_px:0},this.setNotes(t)}setPosition(t){return t!==R.Position.ABOVE&&t!==R.Position.BELOW||(this.position=t),this}setRenderOptions(t){return null!=t.height&&null!=t.y_shift&&null!=t.left_shift_px&&null!=t.right_shift_px&&(this.render_options=t),this}setNotes(t){if(!t.first_note&&!t.last_note)throw new n.RuntimeError("BadArguments","Hairpin needs to have either first_note or last_note set.");return this.first_note=t.first_note,this.last_note=t.last_note,this}renderHairpin(t){const e=this.checkContext();let i=this.render_options.y_shift+20,n=t.first_y;this.position===R.Position.ABOVE&&(i=30-i,n=t.first_y-t.staff_height);const r=this.render_options.left_shift_px,s=this.render_options.right_shift_px;switch(e.beginPath(),this.hairpin){case Dt.type.CRESC:e.moveTo(t.last_x+s,n+i),e.lineTo(t.first_x+r,n+this.render_options.height/2+i),e.lineTo(t.last_x+s,n+this.render_options.height+i);break;case Dt.type.DECRESC:e.moveTo(t.first_x+r,n+i),e.lineTo(t.last_x+s,n+this.render_options.height/2+i),e.lineTo(t.first_x+r,n+this.render_options.height+i)}e.stroke(),e.closePath()}draw(){this.checkContext(),this.setRendered();const t=this.first_note,e=this.last_note,i=t.getModifierStartXY(this.position,0),n=e.getModifierStartXY(this.position,0);return this.renderHairpin({first_x:i.x,last_x:n.x,first_y:t.getStave().y+t.getStave().height,last_y:e.getStave().y+e.getStave().height,staff_height:t.getStave().height}),!0}}class Bt extends l{static get Position(){return{NEAR_HEAD:1,NEAR_TOP:2}}static get PositionString(){return{nearHead:Bt.Position.NEAR_HEAD,nearTop:Bt.Position.NEAR_TOP}}constructor(t,e,i){super(),this.setAttribute("type","Curve"),this.render_options={spacing:2,thickness:2,x_shift:0,y_shift:10,position:Bt.Position.NEAR_HEAD,position_end:Bt.Position.NEAR_HEAD,invert:!1,cps:[{x:0,y:10},{x:0,y:10}]},n.Merge(this.render_options,i),this.setNotes(t,e)}setNotes(t,e){if(!t&&!e)throw new n.RuntimeError("BadArguments","Curve needs to have either first_note or last_note set.");return this.from=t,this.to=e,this}isPartial(){return!this.from||!this.to}renderCurve(t){const e=this.context,i=this.render_options.cps,n=this.render_options.x_shift,r=this.render_options.y_shift*t.direction,s=t.first_x+n,o=t.first_y+r,a=t.last_x-n,l=t.last_y+r,u=this.render_options.thickness,c=(a-s)/(i.length+2);e.beginPath(),e.moveTo(s,o),e.bezierCurveTo(s+c+i[0].x,o+i[0].y*t.direction,a-c+i[1].x,l+i[1].y*t.direction,a,l),e.bezierCurveTo(a-c+i[1].x,l+(i[1].y+u)*t.direction,s+c+i[0].x,o+(i[0].y+u)*t.direction,s,o),e.stroke(),e.closePath(),e.fill()}draw(){this.checkContext(),this.setRendered();const t=this.from,e=this.to;let i,n,r,s,o,a="baseY",l="baseY";function u(t){return"string"==typeof t?Bt.PositionString[t]:t}const c=u(this.render_options.position),h=u(this.render_options.position_end);return c===Bt.Position.NEAR_TOP&&(a="topY",l="topY"),h===Bt.Position.NEAR_HEAD?l="baseY":h===Bt.Position.NEAR_TOP&&(l="topY"),t?(i=t.getTieRightX(),o=t.getStemDirection(),r=t.getStemExtents()[a]):(i=e.getStave().getTieStartX(),r=e.getStemExtents()[a]),e?(n=e.getTieLeftX(),o=e.getStemDirection(),s=e.getStemExtents()[l]):(n=t.getStave().getTieEndX(),s=t.getStemExtents()[l]),this.renderCurve({first_x:i,last_x:n,first_y:r,last_y:s,direction:o*(!0===this.render_options.invert?-1:1)}),!0}}function Ft(...t){Vt.DEBUG&&n.L("Vex.Flow.TextDynamics",t)}class Vt extends L{static get GLYPHS(){return{f:{code:"vba",width:12},p:{code:"vbf",width:14},m:{code:"v62",width:17},s:{code:"v4a",width:10},z:{code:"v80",width:12},r:{code:"vb1",width:12}}}constructor(t){super(t),this.setAttribute("type","TextDynamics"),this.sequence=t.text.toLowerCase(),this.line=t.line||0,this.glyphs=[],n.Merge(this.render_options,{glyph_font_size:40}),Ft("New Dynamics Text: ",this.sequence)}setLine(t){return this.line=t,this}preFormat(){let t=0;return this.sequence.split("").forEach(e=>{const i=Vt.GLYPHS[e];if(!i)throw new n.RERR("Invalid dynamics character: "+e);const r=this.render_options.glyph_font_size,s=new f(i.code,r);this.glyphs.push(s),t+=i.width}),this.setWidth(t),this.preFormatted=!0,this}draw(){this.setRendered();const t=this.getAbsoluteX(),e=this.stave.getYForLine(this.line+-3);Ft("Rendering Dynamics: ",this.sequence);let i=t;this.glyphs.forEach((t,n)=>{const r=this.sequence[n];t.render(this.context,i,e),i+=Vt.GLYPHS[r].width})}}function jt(t,e,i,n,r,s,o){t.beginPath(),t.moveTo(e,i),t.lineTo(n,r),t.lineTo(s,o),t.lineTo(e,i),t.closePath(),t.fill()}class Ut extends l{static get TextVerticalPosition(){return{TOP:1,BOTTOM:2}}static get TextJustification(){return{LEFT:1,CENTER:2,RIGHT:3}}constructor(t){super(),this.setAttribute("type","StaveLine"),this.notes=t,this.text="",this.font={family:"Arial",size:10,weight:""},this.render_options={padding_left:4,padding_right:3,line_width:1,line_dash:null,rounded_end:!0,color:null,draw_start_arrow:!1,draw_end_arrow:!1,arrowhead_length:10,arrowhead_angle:Math.PI/8,text_position_vertical:Ut.TextVerticalPosition.TOP,text_justification:Ut.TextJustification.CENTER},this.setNotes(t)}setFont(t){return this.font=t,this}setText(t){return this.text=t,this}setNotes(t){if(!t.first_note&&!t.last_note)throw new n.RuntimeError("BadArguments","Notes needs to have either first_note or last_note set.");if(t.first_indices||(t.first_indices=[0]),t.last_indices||(t.last_indices=[0]),t.first_indices.length!==t.last_indices.length)throw new n.RuntimeError("BadArguments","Connected notes must have similar index sizes");return this.first_note=t.first_note,this.first_indices=t.first_indices,this.last_note=t.last_note,this.last_indices=t.last_indices,this}applyLineStyle(){const t=this.checkContext(),e=this.render_options;e.line_dash&&t.setLineDash(e.line_dash),e.line_width&&t.setLineWidth(e.line_width),e.rounded_end?t.setLineCap("round"):t.setLineCap("square")}applyFontStyle(){const t=this.checkContext();this.font&&t.setFont(this.font.family,this.font.size,this.font.weight),this.render_options.color&&(t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color))}draw(){const t=this.checkContext();this.setRendered();const e=this.first_note,i=this.last_note,n=this.render_options;let r,s;t.save(),this.applyLineStyle(),this.first_indices.forEach((o,a)=>{const l=this.last_indices[a];r=e.getModifierStartXY(2,o),s=i.getModifierStartXY(1,l);const u=r.y>s.y;r.x+=e.getMetrics().modRightPx+n.padding_left,s.x-=i.getMetrics().modLeftPx+n.padding_right;const c=e.getGlyph().getWidth();e.getKeyProps()[o].displaced&&1===e.getStemDirection()&&(r.x+=c+n.padding_left),i.getKeyProps()[l].displaced&&-1===i.getStemDirection()&&(s.x-=c+n.padding_right),r.y+=u?-3:1,s.y+=u?2:0,function(t,e,i,n){const r=n.draw_start_arrow&&n.draw_end_arrow,s=e.x,o=e.y,a=i.x,l=i.y,u=Math.sqrt((a-s)*(a-s)+(l-o)*(l-o)),c=(u-n.arrowhead_length/3)/u;let h,d,f,p;n.draw_end_arrow||r?(h=Math.round(s+(a-s)*c),d=Math.round(o+(l-o)*c)):(h=a,d=l),n.draw_start_arrow||r?(f=s+(a-s)*(1-c),p=o+(l-o)*(1-c)):(f=s,p=o),n.color&&(t.setStrokeStyle(n.color),t.setFillStyle(n.color)),t.beginPath(),t.moveTo(f,p),t.lineTo(h,d),t.stroke(),t.closePath();const m=Math.atan2(l-o,a-s),g=Math.abs(n.arrowhead_length/Math.cos(n.arrowhead_angle));let y,v,b,_,S,w;(n.draw_end_arrow||r)&&(y=m+Math.PI+n.arrowhead_angle,b=a+Math.cos(y)*g,_=l+Math.sin(y)*g,v=m+Math.PI-n.arrowhead_angle,S=a+Math.cos(v)*g,w=l+Math.sin(v)*g,jt(t,b,_,a,l,S,w)),(n.draw_start_arrow||r)&&(y=m+n.arrowhead_angle,b=s+Math.cos(y)*g,_=o+Math.sin(y)*g,v=m-n.arrowhead_angle,S=s+Math.cos(v)*g,w=o+Math.sin(v)*g,jt(t,b,_,s,o,S,w))}(t,r,s,this.render_options)}),t.restore();const o=t.measureText(this.text).width,a=n.text_justification;let l,u=0;a===Ut.TextJustification.LEFT?u=r.x:a===Ut.TextJustification.CENTER?u=(s.x-r.x)/2+r.x-o/2:a===Ut.TextJustification.RIGHT&&(u=s.x-o);const c=n.text_position_vertical;return c===Ut.TextVerticalPosition.TOP?l=e.getStave().getYForTopText():c===Ut.TextVerticalPosition.BOTTOM&&(l=e.getStave().getYForBottomText(p.TEXT_HEIGHT_OFFSET_HACK)),t.save(),this.applyFontStyle(),t.fillText(this.text,u,l),t.restore(),this}}function Gt(t,e,i,n,r){const s=Wt.GLYPHS[t];new f(s.code,r).render(e,i+s.x_shift,n+s.y_shift)}class Wt extends l{static get GLYPHS(){return{pedal_depress:{code:"v36",x_shift:-10,y_shift:0},pedal_release:{code:"v5d",x_shift:-2,y_shift:3}}}static get Styles(){return{TEXT:1,BRACKET:2,MIXED:3}}static get StylesString(){return{text:Wt.Styles.TEXT,bracket:Wt.Styles.BRACKET,mixed:Wt.Styles.MIXED}}static createSustain(t){return new Wt(t)}static createSostenuto(t){const e=new Wt(t);return e.setStyle(Wt.Styles.MIXED),e.setCustomText("Sost. Ped."),e}static createUnaCorda(t){const e=new Wt(t);return e.setStyle(Wt.Styles.TEXT),e.setCustomText("una corda","tre corda"),e}constructor(t){super(),this.setAttribute("type","PedalMarking"),this.notes=t,this.style=Wt.TEXT,this.line=0,this.custom_depress_text="",this.custom_release_text="",this.font={family:"Times New Roman",size:12,weight:"italic bold"},this.render_options={bracket_height:10,text_margin_right:6,bracket_line_width:1,glyph_point_size:40,color:"black"}}setCustomText(t,e){return this.custom_depress_text=t||"",this.custom_release_text=e||"",this}setStyle(t){if(t<1&&t>3)throw new n.RERR("InvalidParameter","The style must be one found in PedalMarking.Styles");return this.style=t,this}setLine(t){return this.line=t,this}drawBracketed(){const t=this.context;let e,i,r=!1;const s=this;this.notes.forEach((o,a,l)=>{r=!r;const u=o.getAbsoluteX(),c=o.getStave().getYForBottomText(s.line+3);if(u<e)throw new n.RERR("InvalidConfiguration","The notes provided must be in order of ascending x positions");const h=l[a+1]===o,d=l[a-1]===o;let f=0;if(r)if(f=d?5:0,s.style!==Wt.Styles.MIXED||d)t.beginPath(),t.moveTo(u,c-s.render_options.bracket_height),t.lineTo(u+f,c),t.stroke(),t.closePath();else if(s.custom_depress_text){const e=t.measureText(s.custom_depress_text).width;t.fillText(s.custom_depress_text,u-e/2,c),f=e/2+s.render_options.text_margin_right}else Gt("pedal_depress",t,u,c,s.render_options.glyph_point_size),f=20+s.render_options.text_margin_right;else f=h?-5:0,t.beginPath(),t.moveTo(e,i),t.lineTo(u+f,c),t.lineTo(u,c-s.render_options.bracket_height),t.stroke(),t.closePath();e=u+f,i=c})}drawText(){const t=this.context;let e=!1;const i=this,n=i.render_options.glyph_point_size;this.notes.forEach(r=>{e=!e;const s=r.getStave(),o=r.getAbsoluteX(),a=s.getYForBottomText(i.line+3);let l=0;e?i.custom_depress_text?(l=t.measureText(i.custom_depress_text).width,t.fillText(i.custom_depress_text,o-l/2,a)):Gt("pedal_depress",t,o,a,n):i.custom_release_text?(l=t.measureText(i.custom_release_text).width,t.fillText(i.custom_release_text,o-l/2,a)):Gt("pedal_release",t,o,a,n)})}draw(){const t=this.checkContext();this.setRendered(),t.save(),t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color),t.setFont(this.font.family,this.font.size,this.font.weight),function(...t){Wt.DEBUG&&n.L("Vex.Flow.PedalMarking",t)}("Rendering Pedal Marking"),this.style===Wt.Styles.BRACKET||this.style===Wt.Styles.MIXED?(t.setLineWidth(this.render_options.bracket_line_width),this.drawBracketed()):this.style===Wt.Styles.TEXT&&this.drawText(),t.restore()}}class zt extends l{static get Positions(){return{TOP:1,BOTTOM:-1}}static get PositionString(){return{top:zt.Positions.TOP,bottom:zt.Positions.BOTTOM}}constructor({start:t,stop:e,text:i="",superscript:n="",position:r=zt.Positions.TOP}){super(),this.setAttribute("type","TextBracket"),this.start=t,this.stop=e,this.text=i,this.superscript=n,this.position="string"==typeof r?zt.PositionString[r]:r,this.line=1,this.font={family:"Serif",size:15,weight:"italic"},this.render_options={dashed:!0,dash:[5],color:"black",line_width:1,show_bracket:!0,bracket_height:8,underline_superscript:!0}}applyStyle(t){return t.setFont(this.font.family,this.font.size,this.font.weight),t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color),t.setLineWidth(this.render_options.line_width),this}setDashed(t,e){return this.render_options.dashed=t,e&&(this.render_options.dash=e),this}setFont(t){return this.font={...this.font,...t},this}setLine(t){return this.line=t,this}draw(){const t=this.context;this.setRendered();let e=0;switch(this.position){case zt.Positions.TOP:e=this.start.getStave().getYForTopText(this.line);break;case zt.Positions.BOTTOM:e=this.start.getStave().getYForBottomText(this.line+p.TEXT_HEIGHT_OFFSET_HACK);break;default:throw new n.RERR("InvalidPosition",`The position ${this.position} is invalid`)}const i={x:this.start.getAbsoluteX(),y:e},r={x:this.stop.getAbsoluteX(),y:e};!function(...t){zt.DEBUG&&n.L("Vex.Flow.TextBracket",t)}("Rendering TextBracket: start:",i,"stop:",r,"y:",e);const s=this.render_options.bracket_height*this.position;t.save(),this.applyStyle(t),t.fillText(this.text,i.x,i.y);const o=t.measureText(this.text).width,a=t.measureText("M").width,l=i.y-a/2.5;t.setFont(this.font.family,this.font.size/1.4,this.font.weight),t.fillText(this.superscript,i.x+o+1,l);const u=t.measureText(this.superscript).width,c=t.measureText("M").width;let h=i.x,d=l;const f=r.x+this.stop.getGlyph().getWidth();this.position===zt.Positions.TOP?(h+=o+u+5,d-=c/2.7):this.position===zt.Positions.BOTTOM&&(d+=c/2.7,h+=o+2,this.render_options.underline_superscript||(h+=u)),this.render_options.dashed?(_.drawDashedLine(t,h,d,f,d,this.render_options.dash),this.render_options.show_bracket&&_.drawDashedLine(t,f,d+1*this.position,f,d+s,this.render_options.dash)):(t.beginPath(),t.moveTo(h,d),t.lineTo(f,d),this.render_options.show_bracket&&t.lineTo(f,d+s),t.stroke(),t.closePath()),t.restore()}}class Ht extends L{constructor(t=ft.type.SINGLE){super({duration:"b"}),this.setAttribute("type","BarNote"),this.metrics={widths:{}};const e=ft.type;this.metrics.widths={[e.SINGLE]:8,[e.DOUBLE]:12,[e.END]:15,[e.REPEAT_BEGIN]:14,[e.REPEAT_END]:14,[e.REPEAT_BOTH]:18,[e.NONE]:0},this.ignore_ticks=!0,this.setType(t)}getType(){return this.type}setType(t){return this.type="string"==typeof t?ft.typeString[t]:t,this.setWidth(this.metrics.widths[this.type]),this}getBoundingBox(){return super.getBoundingBox()}addToModifierContext(){return this}preFormat(){return this.setPreFormatted(!0),this}draw(){if(this.checkContext(),!this.stave)throw new n.RERR("NoStave","Can't draw without a stave.");!function(...t){Ht.DEBUG&&n.L("Vex.Flow.BarNote",t)}("Rendering bar line at: ",this.getAbsoluteX());const t=new ft(this.type);t.setX(this.getAbsoluteX()),t.draw(this.stave),this.setRendered()}}class qt extends O{constructor(t){if(!t)throw new n.RuntimeError("BadArguments","Ghost note must have valid initialization data to identify duration.");let e;if("string"==typeof t)e={duration:t};else{if("object"!=typeof t)throw new n.RuntimeError("BadArguments","Ghost note must have valid initialization data to identify duration.");e=t}super(e),this.setAttribute("type","GhostNote"),this.setWidth(0)}isRest(){return!0}setStave(t){super.setStave(t)}addToModifierContext(){return this}preFormat(){return this.setPreFormatted(!0),this}draw(){if(!this.stave)throw new n.RERR("NoStave","Can't draw without a stave.");this.setRendered();for(let t=0;t<this.modifiers.length;++t){const e=this.modifiers[t];e.setContext(this.context),e.drawWithStyle()}}}class $t extends R{static get CATEGORY(){return"tremolo"}static get YOFFSETSTEMUP(){return-9}static get YOFFSETSTEMDOWN(){return-21}static get XOFFSETSTEMUP(){return 6}static get XOFFSETSTEMDOWN(){return-2}constructor(t){super(),this.setAttribute("type","Tremolo"),this.num=t,this.note=null,this.index=null,this.position=R.Position.CENTER,this.code="v74"}getCategory(){return $t.CATEGORY}draw(){if(this.checkContext(),!this.note||null==this.index)throw new n.RERR("NoAttachedNote","Can't draw Tremolo without a note and index.");this.setRendered();const t=this.note.getStemDirection();this.y_spacing=4*t;let e=this.note.getModifierStartXY(this.position,this.index).x,i=this.note.stem.getExtents().topY;const r="gracenotes"===this.note.getCategory()?Ot.SCALE:1;i+=t<0?$t.YOFFSETSTEMDOWN*r:$t.YOFFSETSTEMUP*r,this.font={family:"Arial",size:16*r,weight:""},this.render_options={font_scale:35*r,stroke_px:3,stroke_spacing:10*r},e+=t<0?$t.XOFFSETSTEMDOWN:$t.XOFFSETSTEMUP;for(let n=0;n<this.num;++n)f.renderGlyph(this.context,e,i,this.render_options.font_scale,this.code),i+=this.y_spacing}}class Yt extends L{constructor(t){super(t),this.setAttribute("type","Crescendo"),this.decrescendo=!1,this.line=t.line||0,this.height=15,n.Merge(this.render_options,{extend_left:0,extend_right:0,y_shift:0})}setLine(t){return this.line=t,this}setHeight(t){return this.height=t,this}setDecrescendo(t){return this.decrescendo=t,this}preFormat(){return this.preFormatted=!0,this}draw(){this.checkContext(),this.setRendered();const t=this.getTickContext(),e=it.getNextContext(t),i=this.getAbsoluteX(),r=e?e.getX():this.stave.x+this.stave.width,s=this.stave.getYForLine(this.line+-3)+1;!function(...t){Yt.DEBUG&&n.L("Vex.Flow.Crescendo",t)}("Drawing ",this.decrescendo?"decrescendo ":"crescendo ",this.height,"x",i-r),function(t,e){const i=e.begin_x,n=e.end_x,r=e.y,s=e.height/2;t.beginPath(),e.reverse?(t.moveTo(i,r-s),t.lineTo(n,r),t.lineTo(i,r+s)):(t.moveTo(n,r-s),t.lineTo(i,r),t.lineTo(n,r+s)),t.stroke(),t.closePath()}(this.context,{begin_x:i-this.render_options.extend_left,end_x:r+this.render_options.extend_right,y:s+this.render_options.y_shift,height:this.height,reverse:this.decrescendo})}}const Xt=n.MakeException("ParserError");function Kt(t){return void 0!==t.matchedString?t.matchedString:t.results?Kt(t.results):1===t.length?Kt(t[0]):0===t.length?null:t.map(Kt)}class Qt{constructor(t){this.grammar=t}parse(t){this.line=t,this.pos=0,this.errorPos=-1;const e=this.expect(this.grammar.begin());return e.errorPos=this.errorPos,e}matchFail(t){-1===this.errorPos&&(this.errorPos=this.pos),this.pos=t}matchSuccess(){this.errorPos=-1}matchToken(t,e=!1){const i=e?new RegExp("^(("+t+"))"):new RegExp("^(("+t+")\\s*)"),n=this.line.slice(this.pos).match(i);return null!==n?{success:!0,matchedString:n[2],incrementPos:n[1].length,pos:this.pos}:{success:!1,pos:this.pos}}expectOne(t,e=!1){const i=[],n=this.pos;let r=!0,s=!1;e=!0===e||!0===t.maybe;for(let l=0;l<t.expect.length;l++){const e=t.expect[l],n=this.pos,o=this.expect(e);if(o.success){if(i.push(o),s=!0,t.or)break}else if(r=!1,!t.or){this.pos=n;break}}const o=t.or&&s||r,a=o||!0===e;return e&&!o&&(this.pos=n),a?this.matchSuccess():this.matchFail(n),{success:a,results:i,numMatches:o?1:0}}expectOneOrMore(t,e=!1){const i=[],n=this.pos;let r=0,s=!0;do{const e=this.expectOne(t);e.success?(r++,i.push(e.results)):s=!1}while(s);const o=r>0||!0===e;return!e||r>0||(this.pos=n),o?this.matchSuccess():this.matchFail(n),{success:o,results:i,numMatches:r}}expectZeroOrMore(t){return this.expectOneOrMore(t,!0)}expect(t){let e;if(function(...t){Qt.DEBUG&&n.L("Vex.Flow.Parser",t)}("Evaluating rules:",t),!t)throw new Xt("Invalid Rule: "+t,t);const i=t.bind(this.grammar)();if(i.token)e=this.matchToken(i.token,!0===i.noSpace),e.success&&(this.pos+=e.incrementPos);else{if(!i.expect)throw new Xt("Bad grammar! No `token` or `expect` property",i);e=i.oneOrMore?this.expectOneOrMore(i):i.zeroOrMore?this.expectZeroOrMore(i):this.expectOne(i)}return e.matches=[],e.results&&e.results.forEach(t=>e.matches.push(Kt(t))),i.run&&e.success&&i.run(e),e}}function Zt(...t){re.DEBUG&&n.L("Vex.Flow.EasyScore",t)}const Jt=n.MakeException("EasyScoreError");class te{constructor(t){this.builder=t}begin(){return this.LINE}LINE(){return{expect:[this.PIECE,this.PIECES,this.EOL]}}PIECE(){return{expect:[this.CHORDORNOTE,this.PARAMS],run:()=>this.builder.commitPiece()}}PIECES(){return{expect:[this.COMMA,this.PIECE],zeroOrMore:!0}}PARAMS(){return{expect:[this.DURATION,this.TYPE,this.DOTS,this.OPTS]}}CHORDORNOTE(){return{expect:[this.CHORD,this.SINGLENOTE],or:!0}}CHORD(){return{expect:[this.LPAREN,this.NOTES,this.RPAREN],run:t=>this.builder.addChord(t.matches[1])}}NOTES(){return{expect:[this.NOTE],oneOrMore:!0}}NOTE(){return{expect:[this.NOTENAME,this.ACCIDENTAL,this.OCTAVE]}}SINGLENOTE(){return{expect:[this.NOTENAME,this.ACCIDENTAL,this.OCTAVE],run:t=>this.builder.addSingleNote(t.matches[0],t.matches[1],t.matches[2])}}ACCIDENTAL(){return{expect:[this.ACCIDENTALS],maybe:!0}}DOTS(){return{expect:[this.DOT],zeroOrMore:!0,run:t=>this.builder.setNoteDots(t.matches[0])}}TYPE(){return{expect:[this.SLASH,this.MAYBESLASH,this.TYPES],maybe:!0,run:t=>this.builder.setNoteType(t.matches[2])}}DURATION(){return{expect:[this.SLASH,this.DURATIONS],maybe:!0,run:t=>this.builder.setNoteDuration(t.matches[1])}}OPTS(){return{expect:[this.LBRACKET,this.KEYVAL,this.KEYVALS,this.RBRACKET],maybe:!0}}KEYVALS(){return{expect:[this.COMMA,this.KEYVAL],zeroOrMore:!0}}KEYVAL(){return{expect:[this.KEY,this.EQUALS,this.VAL],run:t=>this.builder.addNoteOption(t.matches[0],t.matches[2].slice(1,-1))}}VAL(){return{expect:[this.SVAL,this.DVAL],or:!0}}KEY(){return{token:"[a-zA-Z][a-zA-Z0-9]*"}}DVAL(){return{token:'["][^"]*["]'}}SVAL(){return{token:"['][^']*[']"}}NOTENAME(){return{token:"[a-gA-G]"}}OCTAVE(){return{token:"[0-9]+"}}ACCIDENTALS(){return{token:"bbs|bb|bss|bs|b|db|d|##|#|n|\\+\\+-|\\+-|\\+\\+|\\+|k|o"}}DURATIONS(){return{token:"[0-9whq]+"}}TYPES(){return{token:"[rRsSxX]"}}LPAREN(){return{token:"[(]"}}RPAREN(){return{token:"[)]"}}COMMA(){return{token:"[,]"}}DOT(){return{token:"[.]"}}SLASH(){return{token:"[/]"}}MAYBESLASH(){return{token:"[/]?"}}EQUALS(){return{token:"[=]"}}LBRACKET(){return{token:"\\["}}RBRACKET(){return{token:"\\]"}}EOL(){return{token:"$"}}}class ee{constructor(t){this.factory=t,this.commitHooks=[],this.reset()}reset(t={}){this.options={stem:"auto",clef:"treble"},this.elements={notes:[],accidentals:[]},this.rollingDuration="8",this.resetPiece(),Object.assign(this.options,t)}getFactory(){return this.factory}getElements(){return this.elements}addCommitHook(t){this.commitHooks.push(t)}resetPiece(){Zt("resetPiece"),this.piece={chord:[],duration:this.rollingDuration,dots:0,type:void 0,options:{}}}setNoteDots(t){Zt("setNoteDots:",t),t&&(this.piece.dots=t.length)}setNoteDuration(t){Zt("setNoteDuration:",t),this.rollingDuration=this.piece.duration=t||this.rollingDuration}setNoteType(t){Zt("setNoteType:",t),t&&(this.piece.type=t)}addNoteOption(t,e){Zt("addNoteOption: key:",t,"value:",e),this.piece.options[t]=e}addNote(t,e,i){Zt("addNote:",t,e,i),this.piece.chord.push({key:t,accid:e,octave:i})}addSingleNote(t,e,i){Zt("addSingleNote:",t,e,i),this.addNote(t,e,i)}addChord(t){Zt("startChord"),"object"!=typeof t[0]?this.addSingleNote(t[0]):t.forEach(t=>{t&&this.addNote(...t)}),Zt("endChord")}commitPiece(){Zt("commitPiece");const{factory:t}=this;if(!t)return;const e={...this.options,...this.piece.options},{stem:i,clef:n}=e,r="auto"===i.toLowerCase(),s=r||"up"!==i.toLowerCase()?B.STEM_DOWN:B.STEM_UP,{chord:o,duration:a,dots:l,type:u}=this.piece,c=o.map(t=>t.key+"/"+t.octave),h=t.StaveNote({keys:c,duration:a,dots:l,type:u,clef:n,auto_stem:r});r||h.setStemDirection(s);const d=o.map(t=>t.accid||null);d.forEach((e,i)=>{e&&h.addAccidental(i,t.Accidental({type:e}))});for(let f=0;f<l;f++)h.addDotToAll();this.commitHooks.forEach(t=>t(e,h,this)),this.elements.notes.push(h),this.elements.accidentals.concat(d),this.resetPiece()}}function ie({id:t},e){void 0!==t&&e.setAttribute("id",t)}function ne(t,e){t.class&&t.class.split(/\s*,\s*/).forEach(t=>e.addClass(t))}class re{constructor(t={}){this.setOptions(t),this.defaults={clef:"treble",time:"4/4",stem:"auto"}}set(t){return Object.assign(this.defaults,t),this}setOptions(t){return this.options={factory:null,builder:null,commitHooks:[ie,ne,et.easyScoreHook],throwOnError:!1,...t},this.factory=this.options.factory,this.builder=this.options.builder||new ee(this.factory),this.grammar=new te(this.builder),this.parser=new Qt(this.grammar),this.options.commitHooks.forEach(t=>this.addCommitHook(t)),this}setContext(t){return this.factory&&this.factory.setContext(t),this}parse(t,e={}){this.builder.reset(e);const i=this.parser.parse(t);if(!i.success&&this.options.throwOnError)throw new Jt("Error parsing line: "+t,i);return i}beam(t,e={}){return this.factory.Beam({notes:t,options:e}),t}tuplet(t,e={}){return this.factory.Tuplet({notes:t,options:e}),t}notes(t,e={}){return e={clef:this.defaults.clef,stem:this.defaults.stem,...e},this.parse(t,e),this.builder.getElements().notes}voice(t,e){return e={time:this.defaults.time,...e},this.factory.Voice(e).addTickables(t)}addCommitHook(t){return this.builder.addCommitHook(t)}}const se=n.MakeException("FactoryError");function oe(t={},e){const i=e.options;return(t=Object.assign(e,t)).options=Object.assign(i,t.options),t}class ae{constructor(t){!function(...t){ae.DEBUG&&n.L("Vex.Flow.Factory",t)}("New factory: ",t);const e={stave:{space:10},renderer:{context:null,elementId:"",backend:_.Backends.SVG,width:500,height:200,background:"#FFF"},font:{face:"Arial",point:10,style:""}};this.options=e,this.setOptions(t)}static newFromElementId(t,e=500,i=200){return new ae({renderer:{elementId:t,width:e,height:i}})}reset(){this.renderQ=[],this.systems=[],this.staves=[],this.voices=[],this.stave=null}getOptions(){return this.options}setOptions(t){for(const e of["stave","renderer","font"])Object.assign(this.options[e],t[e]);(null!==this.options.renderer.elementId||this.options.renderer.context)&&this.initRenderer(),this.reset()}initRenderer(){const{elementId:t,backend:e,width:i,height:n,background:r}=this.options.renderer;if(""===t)throw new se("HTML DOM element not set in Factory");this.context=_.buildContext(t,e,i,n,r)}getContext(){return this.context}setContext(t){return this.context=t,this}getStave(){return this.stave}getVoices(){return this.voices}space(t){return this.options.stave.space*t}Stave(t){t=oe(t,{x:0,y:0,width:this.options.renderer.width-this.space(1),options:{spacing_between_lines_px:this.options.stave.space}});const e=new Tt(t.x,t.y,t.width,t.options);return this.staves.push(e),e.setContext(this.context),this.stave=e,e}TabStave(t){t=oe(t,{x:0,y:0,width:this.options.renderer.width-this.space(1),options:{spacing_between_lines_px:1.3*this.options.stave.space}});const e=new xt(t.x,t.y,t.width,t.options);return this.staves.push(e),e.setContext(this.context),this.stave=e,e}StaveNote(t){const e=new B(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}GhostNote(t){const e=new qt(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}TextNote(t){const e=new yt(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}BarNote(t){t=oe(t,{type:"single",options:{}});const e=new Ht(t.type);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}ClefNote(t){t=oe(t,{type:"treble",options:{size:"default"}});const e=new Mt(t.type,t.options.size,t.options.annotation);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}TimeSigNote(t){t=oe(t,{time:"4/4",options:{}});const e=new Lt(t.time);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}KeySigNote(t){const e=new kt(t.key,t.cancelKey,t.alterKey);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}TabNote(t){const e=new Et(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}GraceNote(t){const e=new Ot(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),e}GraceNoteGroup(t){const e=new q(t.notes,t.slur);return e.setContext(this.context),e}Accidental(t){t=oe(t,{type:null,options:{}});const e=new G(t.type);return e.setContext(this.context),e}Annotation(t){t=oe(t,{text:"p",vJustify:"below",hJustify:"center",fontFamily:"Times",fontSize:14,fontWeight:"bold italic",options:{}});const e=new rt(t.text);return e.setJustification(t.hJustify),e.setVerticalJustification(t.vJustify),e.setFont(t.fontFamily,t.fontSize,t.fontWeight),e.setContext(this.context),e}Articulation(t){t=oe(t,{type:"a.",position:"above",options:{}});const e=new et(t.type);return e.setPosition(t.position),e.setContext(this.context),e}TextDynamics(t){t=oe(t,{text:"p",duration:"q",dots:0,line:0,options:{}});const e=new Vt({text:t.text,line:t.line,duration:t.duration,dots:t.dots});return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}Fingering(t){t=oe(t,{number:"0",position:"left",options:{}});const e=new F(t.number);return e.setPosition(t.position),e.setContext(this.context),e}StringNumber(t){t=oe(t,{number:"0",position:"left",options:{}});const e=new Y(t.number);return e.setPosition(t.position),e.setContext(this.context),e}TickContext(){return(new it).setContext(this.context)}ModifierContext(){return new lt}MultiMeasureRest(t){const e=new Pt(t.number_of_measures,t);return e.setContext(this.context),this.renderQ.push(e),e}Voice(t){t=oe(t,{time:"4/4",options:{}});const e=new A(t.time);return this.voices.push(e),e}StaveConnector(t){t=oe(t,{top_stave:null,bottom_stave:null,type:"double",options:{}});const e=new M(t.top_stave,t.bottom_stave);return e.setType(t.type).setContext(this.context),this.renderQ.push(e),e}Formatter(){return new ht}Tuplet(t){t=oe(t,{notes:[],options:{}});const e=new w(t.notes,t.options).setContext(this.context);return this.renderQ.push(e),e}Beam(t){t=oe(t,{notes:[],options:{autoStem:!1,secondaryBeamBreaks:[]}});const e=new C(t.notes,t.options.autoStem).setContext(this.context);return e.breakSecondaryAt(t.options.secondaryBeamBreaks),this.renderQ.push(e),e}Curve(t){t=oe(t,{from:null,to:null,options:{}});const e=new Bt(t.from,t.to,t.options).setContext(this.context);return this.renderQ.push(e),e}StaveTie(t){t=oe(t,{from:null,to:null,first_indices:[0],last_indices:[0],text:null,options:{direction:void 0}});const e=new z({first_note:t.from,last_note:t.to,first_indices:t.first_indices,last_indices:t.last_indices},t.text);return t.options.direction&&e.setDirection(t.options.direction),e.setContext(this.context),this.renderQ.push(e),e}StaveLine(t){t=oe(t,{from:null,to:null,first_indices:[0],last_indices:[0],options:{}});const e=new Ut({first_note:t.from,last_note:t.to,first_indices:t.first_indices,last_indices:t.last_indices});return t.options.text&&e.setText(t.options.text),t.options.font&&e.setFont(t.options.font),e.setContext(this.context),this.renderQ.push(e),e}VibratoBracket(t){t=oe(t,{from:null,to:null,options:{harsh:!1}});const e=new Ct({start:t.from,stop:t.to});return t.options.line&&e.setLine(t.options.line),t.options.harsh&&e.setHarsh(t.options.harsh),e.setContext(this.context),this.renderQ.push(e),e}TextBracket(t){t=oe(t,{from:null,to:null,text:"",options:{superscript:"",position:1}});const e=new zt({start:t.from,stop:t.to,text:t.text,superscript:t.options.superscript,position:t.options.position});return t.options.line&&e.setLine(t.options.line),t.options.font&&e.setFont(t.options.font),e.setContext(this.context),this.renderQ.push(e),e}System(t={}){t.factory=this;const e=new ue(t).setContext(this.context);return this.systems.push(e),e}EasyScore(t={}){return t.factory=this,new re(t)}PedalMarking(t={}){t=oe(t,{notes:[],options:{style:"mixed"}});const e=new Wt(t.notes);return e.setStyle(Wt.StylesString[t.options.style]),e.setContext(this.context),this.renderQ.push(e),e}NoteSubGroup(t={}){t=oe(t,{notes:[],options:{}});const e=new W(t.notes);return e.setContext(this.context),e}draw(){this.systems.forEach(t=>t.setContext(this.context).format()),this.staves.forEach(t=>t.setContext(this.context).draw()),this.voices.forEach(t=>t.setContext(this.context).draw()),this.renderQ.forEach(t=>{t.isRendered()||t.setContext(this.context).draw()}),this.systems.forEach(t=>t.setContext(this.context).draw()),this.reset()}}function le(t,e){const i=e.options;return(t=Object.assign(e,t)).options=Object.assign(i,t.options),t}class ue extends l{constructor(t={}){super(),this.setAttribute("type","System"),this.setOptions(t),this.parts=[]}setOptions(t={}){this.options=le(t,{x:10,y:10,width:500,connector:null,spaceBetweenStaves:12,factory:null,debugFormatter:!1,formatIterations:0,options:{}}),this.factory=this.options.factory||new ae({renderer:{el:null}})}setContext(t){return super.setContext(t),this.factory.setContext(t),this}addConnector(t="double"){return this.connector=this.factory.StaveConnector({top_stave:this.parts[0].stave,bottom_stave:this.parts[this.parts.length-1].stave,type:t}),this.connector}addStave(t){return(t=le(t,{stave:null,voices:[],spaceAbove:0,spaceBelow:0,debugNoteMetrics:!1,options:{left_bar:!1}})).stave||(t.stave=this.factory.Stave({x:this.options.x,y:this.options.y,width:this.options.width,options:t.options})),t.voices.forEach(e=>e.setContext(this.context).setStave(t.stave).getTickables().forEach(e=>e.setStave(t.stave))),this.parts.push(t),t.stave}format(){const t=new ht;this.formatter=t;let e=this.options.y,i=0,n=[];const r=[];this.parts.forEach(s=>{e+=s.stave.space(s.spaceAbove),s.stave.setY(e),t.joinVoices(s.voices),e+=s.stave.space(s.spaceBelow),e+=s.stave.space(this.options.spaceBetweenStaves),s.debugNoteMetrics&&(r.push({y:e,voice:s.voices[0]}),e+=15),n=n.concat(s.voices),i=Math.max(i,s.stave.getNoteStartX())}),this.parts.forEach(t=>t.stave.setNoteStartX(i));const s=this.options.width-(i-this.options.x)-L.STAVEPADDING;t.format(n,s);for(let o=0;o<this.options.formatIterations;o++)t.tune();this.startX=i,this.debugNoteMetricsYs=r,this.lastY=e}draw(){const t=this.checkContext();this.setRendered(),this.options.debugFormatter&&ht.plotDebugging(t,this.formatter,this.startX,this.options.y,this.lastY),this.debugNoteMetricsYs.forEach(e=>{e.voice.getTickables().forEach(i=>L.plotMetrics(t,i,e.y))})}}(n.Flow=p).Element=l,n.Flow.Fraction=r,n.Flow.Renderer=_,n.Flow.Formatter=ht,n.Flow.Music=V,n.Flow.Glyph=f,n.Flow.Stave=Tt,n.Flow.StaveNote=B,n.Flow.StaveModifier=dt,n.Flow.StaveTempo=gt,n.Flow.Voice=A,n.Flow.Accidental=G,n.Flow.Beam=C,n.Flow.StaveTie=z,n.Flow.TabStave=xt,n.Flow.TabNote=Et,n.Flow.Bend=st,n.Flow.Vibrato=ot,n.Flow.VibratoBracket=Ct,n.Flow.Note=L,n.Flow.ModifierContext=lt,n.Flow.MultiMeasureRest=Pt,n.Flow.TickContext=it,n.Flow.Articulation=et,n.Flow.Annotation=rt,n.Flow.Barline=ft,n.Flow.NoteHead=I,n.Flow.StaveConnector=M,n.Flow.ClefNote=Mt,n.Flow.KeySignature=_t,n.Flow.KeySigNote=kt,n.Flow.TimeSignature=St,n.Flow.TimeSigNote=Lt,n.Flow.Stem=S,n.Flow.TabTie=H,n.Flow.Clef=bt,n.Flow.Dot=N,n.Flow.Modifier=R,n.Flow.TabSlide=It,n.Flow.Tuplet=w,n.Flow.GraceNote=Ot,n.Flow.GraceTabNote=Rt,n.Flow.Tuning=Nt,n.Flow.KeyManager=class{constructor(t){this.music=new V,this.setKey(t)}setKey(t){return this.key=t,this.reset(),this}getKey(){return this.key}reset(){if(this.keyParts=this.music.getKeyParts(this.key),this.keyString=this.keyParts.root,this.keyParts.accidental&&(this.keyString+=this.keyParts.accidental),!V.scaleTypes[this.keyParts.type])throw new n.RERR("BadArguments","Unsupported key type: "+this.key);this.scale=this.music.getScaleTones(this.music.getNoteValue(this.keyString),V.scaleTypes[this.keyParts.type]),this.scaleMap={},this.scaleMapByValue={},this.originalScaleMapByValue={};const t=V.root_indices[this.keyParts.root];for(let e=0;e<V.roots.length;++e){const i=(t+e)%V.roots.length,n=V.roots[i],r=this.music.getRelativeNoteName(n,this.scale[e]);this.scaleMap[n]=r,this.scaleMapByValue[this.scale[e]]=r,this.originalScaleMapByValue[this.scale[e]]=r}return this}getAccidental(t){const e=this.music.getKeyParts(t).root,i=this.music.getNoteParts(this.scaleMap[e]);return{note:this.scaleMap[e],accidental:i.accidental}}selectNote(t){t=t.toLowerCase();const e=this.music.getNoteParts(t),i=this.scaleMap[e.root],n=this.music.getNoteParts(i);if(i===t)return{note:i,accidental:e.accidental,change:!1};const r=this.scaleMapByValue[this.music.getNoteValue(t)];if(null!=r)return{note:r,accidental:this.music.getNoteParts(r).accidental,change:!1};const s=this.originalScaleMapByValue[this.music.getNoteValue(t)];return null!=s?(this.scaleMap[n.root]=s,delete this.scaleMapByValue[this.music.getNoteValue(i)],this.scaleMapByValue[this.music.getNoteValue(t)]=s,{note:s,accidental:this.music.getNoteParts(s).accidental,change:!0}):n.root===t?(delete this.scaleMapByValue[this.music.getNoteValue(this.scaleMap[e.root])],this.scaleMapByValue[this.music.getNoteValue(n.root)]=n.root,this.scaleMap[n.root]=n.root,{note:n.root,accidental:null,change:!0}):(delete this.scaleMapByValue[this.music.getNoteValue(this.scaleMap[e.root])],this.scaleMapByValue[this.music.getNoteValue(t)]=t,delete this.scaleMap[n.root],this.scaleMap[n.root]=t,{note:t,accidental:e.accidental,change:!0})}},n.Flow.StaveHairpin=Dt,n.Flow.BoundingBox=c,n.Flow.Stroke=$,n.Flow.TextNote=yt,n.Flow.Curve=Bt,n.Flow.TextDynamics=Vt,n.Flow.StaveLine=Ut,n.Flow.Ornament=nt,n.Flow.PedalMarking=Wt,n.Flow.TextBracket=zt,n.Flow.FretHandFinger=F,n.Flow.Repetition=pt,n.Flow.BarNote=Ht,n.Flow.GhostNote=qt,n.Flow.NoteSubGroup=W,n.Flow.GraceNoteGroup=q,n.Flow.Tremolo=$t,n.Flow.StringNumber=Y,n.Flow.Crescendo=Yt,n.Flow.Volta=wt,n.Flow.Font=h,n.Flow.System=ue,n.Flow.Factory=ae,n.Flow.Parser=Qt,n.Flow.EasyScore=re,n.Flow.Registry=a,e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MusicSheetReadingException=class{constructor(t,e){this.message=t,e&&(this.message+=" "+e.toString())}},e.ArgumentOutOfRangeException=class{constructor(t){this.message=t}},e.InvalidEnumArgumentException=class{constructor(t){this.message=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||n.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!n.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!n.isUndefined(t)&&!n.isUndefined(e)){var i,r="$"+this.toStr(t),s=this.table[r];return n.isUndefined(s)?(this.nElements++,i=void 0):i=s.value,this.table[r]={key:t,value:e},i}},t.prototype.remove=function(t){var e="$"+this.toStr(t),i=this.table[e];if(!n.isUndefined(i))return delete this.table[e],this.nElements--,i.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var i=this.table[e];t.push(i.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var i=this.table[e];t.push(i.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(n.has(this.table,e)){var i=this.table[e];if(!1===t(i.key,i.value))return}},t.prototype.containsKey=function(t){return!n.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach((function(e,i){t+="\n\t"+e+" : "+i})),t+"\n}"},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(7);e.Label=class{constructor(t="",e=n.TextAlignmentEnum.CenterBottom,i){this.text=t,this.textAlignment=e,this.font=i,this.fontFamily=void 0}ToString(){return this.text}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(55),s=i(0),o=i(30),a=i(8),l=i(31),u=i(16),c=i(89),h=i(4),d=i(25),f=i(22),p=i(7),m=i(15),g=i(37),y=i(3),v=i(91),b=i(92),_=i(8),S=n(i(1)),w=n(i(12)),T=i(20),x=i(13),E=i(48),C=i(6),A=i(56),P=i(57),M=i(58),k=i(33),L=i(49),I=i(41),O=i(94);class R{constructor(){this.staffEntriesWithGraphicalTies=[],this.staffEntriesWithOrnaments=[],this.staffEntriesWithChordSymbols=[],this.staffLinesWithLyricWords=[],this.graphicalLyricWords=[]}static get TextMeasurer(){return R.textMeasurer}static set TextMeasurer(t){R.textMeasurer=t}get leadSheet(){return this.graphicalMusicSheet.LeadSheet}static setMeasuresMinStaffEntriesWidth(t,e){for(let i=0,n=t.length;i<n;++i)t[i].minimumStaffEntriesWidth=e}initialize(t){this.graphicalMusicSheet=t,this.rules=t.ParentMusicSheet.Rules,this.prepareGraphicalMusicSheet()}prepareGraphicalMusicSheet(){const t=this.graphicalMusicSheet.ParentMusicSheet;this.staffEntriesWithGraphicalTies=[],this.staffEntriesWithOrnaments=[],this.staffEntriesWithChordSymbols=[],this.staffLinesWithLyricWords=[],this.graphicalMusicSheet.Initialize();const e=this.graphicalMusicSheet.MeasureList,i=this.createAccidentalCalculators(),n=this.graphicalMusicSheet.initializeActiveClefs(),r=[],s=t.getCompleteNumberOfStaves(),o=[];for(let a=0;a<s;a++)o.push(void 0);for(let a=0,l=t.SourceMeasures.length;a<l;++a){const s=t.SourceMeasures[a],l=this.createGraphicalMeasuresForSourceMeasure(s,i,r,o,n);e.push(l)}this.handleStaffEntries(),this.calculateVerticalContainersList(),this.setIndicesToVerticalGraphicalContainers()}calculate(){this.musicSystems=[],this.clearSystemsAndMeasures(),this.clearRecreatedObjects(),this.createGraphicalTies(),this.calculateSheetLabelBoundingBoxes(),this.calculateXLayout(this.graphicalMusicSheet,this.maxInstrNameLabelLength()),this.graphicalMusicSheet.MusicPages.length=0,this.calculateMusicSystems(),r.GraphicalMusicSheet.transformRelativeToAbsolutePosition(this.graphicalMusicSheet)}calculateXLayout(t,e){let i=0;const n=this.rules.MaxInstructionsConstValue;if(this.graphicalMusicSheet.MeasureList.length>0){let t=this.graphicalMusicSheet.MeasureList[0],r=this.calculateMeasureXLayout(t);r=this.calculateMeasureWidthFromLyrics(t,r),R.setMeasuresMinStaffEntriesWidth(t,r),i=1.2*r+e+n;for(let e=1;e<this.graphicalMusicSheet.MeasureList.length;e++)t=this.graphicalMusicSheet.MeasureList[e],r=this.calculateMeasureXLayout(t),r=this.calculateMeasureWidthFromLyrics(t,r),R.setMeasuresMinStaffEntriesWidth(t,r),i=Math.max(i,1.2*r+n)}this.graphicalMusicSheet.MinAllowedSystemWidth=i}calculateMeasureWidthFromLyrics(t,e){throw new Error("abstract, not implemented")}formatMeasures(){throw new Error("abstract, not implemented")}calculateMeasureXLayout(t){throw new Error("abstract, not implemented")}initGraphicalMeasuresCreation(){throw new Error("abstract, not implemented")}handleBeam(t,e,i){throw new Error("abstract, not implemented")}handleTiedGraphicalNote(t,e,i,n,r,s,o,a){throw new Error("abstract, not implemented")}handleVoiceEntryLyrics(t,e,i){throw new Error("abstract, not implemented")}handleVoiceEntryOrnaments(t,e,i){throw new Error("abstract, not implemented")}handleVoiceEntryArticulations(t,e,i){throw new Error("abstract, not implemented")}handleVoiceEntryTechnicalInstructions(t,e,i){throw new Error("abstract, not implemented")}handleTuplet(t,e,i){throw new Error("abstract, not implemented")}layoutVoiceEntry(t,e,i,n){throw new Error("abstract, not implemented")}layoutStaffEntry(t){throw new Error("abstract, not implemented")}createGraphicalTie(t,e,i,n,r){throw new Error("abstract, not implemented")}updateStaffLineBorders(t){throw new Error("abstract, not implemented")}calculateMeasureNumberPlacement(t){const e=t.StaffLines[0];let i=e.Measures[0].MeasureNumber,n=0;for(const r of e.Measures)0!==r.MeasureNumber&&1!==r.MeasureNumber||(i=r.MeasureNumber),n=r!==e.Measures[0]&&this.rules.MeasureNumberLabelXOffset?this.rules.MeasureNumberLabelXOffset:0,r.MeasureNumber!==i&&r.MeasureNumber!==i+this.rules.MeasureNumberLabelOffset||r.parentSourceMeasure.ImplicitMeasure||((1!==r.MeasureNumber||1===r.MeasureNumber&&r!==e.Measures[0])&&this.calculateSingleMeasureNumberPlacement(r,e,t,n),i=r.MeasureNumber)}calculateSingleMeasureNumberPlacement(t,e,i,n=0){const r=t.MeasureNumber.toString(),s=new x.Label(r),o=new f.GraphicalLabel(s,this.rules.MeasureNumberLabelHeight,p.TextAlignmentEnum.LeftBottom,this.rules),a=e.SkyBottomLineCalculator;o.setLabelPositionAndShapeBorders(),o.PositionAndShape.Parent=i.PositionAndShape;const l=e.PositionAndShape.RelativePosition.x+t.PositionAndShape.RelativePosition.x-o.PositionAndShape.BorderMarginLeft+n;let u,c=l,d=l-o.PositionAndShape.BorderLeft+o.PositionAndShape.BorderRight;c-=e.PositionAndShape.RelativePosition.x,d-=e.PositionAndShape.RelativePosition.x;const m=c+.5,g=d-.5,y=a.getSkyLineMinInRange(m,g);if(t===e.Measures[0]){let t=0;if(i.GroupBrackets.length>0)for(const e of i.GroupBrackets)t=Math.min(t,e.PositionAndShape.BorderTop);u=Math.min(y,t)}else u=y;u=Math.min(0,u),o.PositionAndShape.RelativePosition=new h.PointF2D(l,u),a.updateSkyLineInRange(c,d,u+o.PositionAndShape.BorderMarginTop),i.MeasureNumberLabels.push(o)}layoutGraphicalTie(t,e){throw new Error("abstract, not implemented")}calculateSingleStaffLineLyricsPosition(t,e){let i=0,n=this.rules.StaffHeight;const r=[],s=t.SkyBottomLineCalculator;let o=t.Measures.length;for(let l=0;l<o;++l){const e=t.Measures[l],o=e.PositionAndShape.RelativePosition,a=e.staffEntries.length;for(let t=0;t<a;++t){const a=e.staffEntries[t];if(a.LyricsEntries.length>0){r.push(a),i=Math.max(i,a.LyricsEntries.length);const t=a.PositionAndShape.RelativePosition.x+o.x;let e=Number.MAX_VALUE,l=Number.MIN_VALUE;for(let i=0;i<a.LyricsEntries.length;i++){const n=a.LyricsEntries[i].GraphicalLabel;e=Math.min(e,t+n.PositionAndShape.BorderMarginLeft),l=Math.max(l,t+n.PositionAndShape.BorderMarginRight)}const u=s.getBottomLineMaxInRange(e,l);n=Math.max(n,u)}}}let a=0;o=r.length;for(const l of r)for(let t=0;t<l.LyricsEntries.length;t++){const i=l.LyricsEntries[t],r=i.GraphicalLabel,s=i.LyricsEntry.VerseNumber,o=e.indexOf(s);let u=n+this.rules.LyricsHeight+this.rules.VerticalBetweenLyricsDistance+(this.rules.VerticalBetweenLyricsDistance+this.rules.LyricsHeight)*o;this.leadSheet&&(u=3.4+(this.rules.VerticalBetweenLyricsDistance+this.rules.LyricsHeight)*o);const c=r.PositionAndShape.RelativePosition.x;r.PositionAndShape.RelativePosition=new h.PointF2D(c,u),a=Math.max(a,u)}if(r.length>0){const e=t.PositionAndShape.Size.width;let i=r[0].PositionAndShape.RelativePosition.x+r[0].PositionAndShape.BorderMarginLeft+r[0].parentMeasure.PositionAndShape.RelativePosition.x;i=i>e?e:i,s.updateBottomLineInRange(i,e,a)}return r}calculateLyricsExtendsAndDashes(t){for(let e=0,i=t.length;e<i;++e){const i=t[e];for(let t=0;t<i.LyricsEntries.length;t++){const e=i.LyricsEntries[t];e.ParentLyricWord&&e.ParentLyricWord.GraphicalLyricsEntries[e.ParentLyricWord.GraphicalLyricsEntries.length-1]!==e&&this.calculateSingleLyricWord(e),e.LyricsEntry.extend&&this.calculateLyricExtend(e)}}}calculateSingleOctaveShift(t,e,i,n){throw new Error("abstract, not implemented")}calculateWordRepetitionInstruction(t,e){throw new Error("abstract, not implemented")}calculateMoodAndUnknownExpression(t,e,i){var n;const r=t.AbsoluteTimestamp,s=this.graphicalMusicSheet.MeasureList[e];let o=new h.PointF2D;if(t.MoodList.length>0||t.UnknownList.length>0){let e="";for(let i=0,n=t.EntriesList.length;i<n;++i){const n=t.EntriesList[i];""!==n.prefix&&(e+=""===e?n.prefix:" "+n.prefix),e+=""===e?n.label:" "+n.label}const a=s[i].ParentStaffLine;if(!a)return void S.default.debug("MusicSheetCalculator.calculateMoodAndUnknownExpression: staffLine undefined. Returning.");o=this.getRelativePositionInStaffLineFromTimestamp(r,i,a,null==a?void 0:a.isPartOfMultiStaffInstrument()),Math.abs(o.x-0)<1e-4&&(o.x=s[i].beginInstructionsWidth+this.rules.RhythmRightMargin);const l=this.rules.UnknownTextHeight,u=t.getPlacementOfFirstEntry(),c=this.calculateLabel(a,o,e,t.getFontstyleOfFirstEntry(),u,l),h=new O.GraphicalUnknownExpression(a,c,u,null===(n=s[i])||void 0===n?void 0:n.parentSourceMeasure,t);a.AbstractExpressions.push(h)}}clearRecreatedObjects(){for(let t=0,e=this.staffEntriesWithGraphicalTies.length;t<e;++t)this.staffEntriesWithGraphicalTies[t].GraphicalTies.length=0;this.staffEntriesWithGraphicalTies.length=0}handleStaffEntryLink(t,e){S.default.debug("handleStaffEntryLink not implemented")}calculateMusicSystems(){if(!this.graphicalMusicSheet.MeasureList)return;const t=this.graphicalMusicSheet.MeasureList;if(!t)return;this.rules.MinMeasureToDrawIndex>t.length-1&&(S.default.debug("minimum measure to draw index out of range. resetting min measure index to limit."),this.rules.MinMeasureToDrawIndex=t.length-1);const e=[];for(let r=this.rules.MinMeasureToDrawIndex,s=t.length;r<s&&r<=this.rules.MaxMeasureToDrawIndex;++r){const i=[];for(let e=0,n=t[r].length;e<n;++e){const n=t[r][e];if(n.isVisible()&&(i.push(n),this.rules.ColoringEnabled))for(const t of n.staffEntries)for(const e of t.graphicalVoiceEntries)e.color()}e.push(i)}let i=0;for(let r=0,s=e.length;r<s;++r){const t=e[r];i=Math.max(t.length,i);break}if(0===i)return;const n=new c.MusicSystemBuilder;if(n.initialize(this.graphicalMusicSheet,e,i),this.musicSystems=n.buildMusicSystems(),this.formatMeasures(),this.leadSheet||(this.optimizeRestPlacement(),this.calculateStaffEntryArticulationMarks(),this.rules.RenderSlurs&&this.calculateTieCurves()),this.calculateSkyBottomLines(),this.calculateTupletNumbers(),this.rules.RenderMeasureNumbers)for(let r=0,s=this.musicSystems.length;r<s;++r){const t=this.musicSystems[r];this.calculateMeasureNumberPlacement(t)}!this.leadSheet&&this.rules.RenderSlurs&&this.calculateSlurs(),this.leadSheet||this.calculateOrnaments(),this.calculateChordSymbols(),this.leadSheet||(this.calculateDynamicExpressions(),this.calculateMoodAndUnknownExpressions(),this.calculateExpressionAlignements(),this.calculateOctaveShifts(),this.calculateWordRepetitionInstructions()),this.calculateRepetitionEndings(),this.leadSheet||this.calculateTempoExpressions(),this.calculateLyricsPosition();for(let r=0,s=this.musicSystems.length;r<s;++r){const t=this.musicSystems[r];for(let e=0,i=t.StaffLines.length;e<i;++e){const i=t.StaffLines[e];this.updateStaffLineBorders(i)}}n.calculateSystemYLayout(),this.calculateComments(),this.calculateMarkedAreas();for(let r=0,s=this.graphicalMusicSheet.MusicPages.length;r<s;++r){const t=this.graphicalMusicSheet.MusicPages[r];for(let i=0,n=t.MusicSystems.length;i<n;++i){const e=0===r&&0===i,n=t.MusicSystems[i];n.setMusicSystemLabelsYPosition(),this.leadSheet?n===n.Parent.MusicSystems[0]&&n.createSystemLeftLine(this.rules.SystemThinLineWidth,this.rules.SystemLabelsRightMargin,e):(n.setYPositionsToVerticalLineObjectsAndCreateLines(this.rules),n.createSystemLeftLine(this.rules.SystemThinLineWidth,this.rules.SystemLabelsRightMargin,e),n.createInstrumentBrackets(this.graphicalMusicSheet.ParentMusicSheet.Instruments,this.rules.StaffHeight),n.createGroupBrackets(this.graphicalMusicSheet.ParentMusicSheet.InstrumentalGroups,this.rules.StaffHeight,0),n.alignBeginInstructions()),n.calculateBorders(this.rules)}const e=t.MusicSystems[0].PositionAndShape.BorderTop;for(let i=0,n=t.MusicSystems.length;i<n;++i){const n=t.MusicSystems[i];n.PositionAndShape.RelativePosition=new h.PointF2D(n.PositionAndShape.RelativePosition.x,n.PositionAndShape.RelativePosition.y-e)}for(let i=0,n=t.MusicSystems.length;i<n;++i){const e=t.MusicSystems[i];for(let t=0,i=e.StaffLines.length;t<i;++t)e.StaffLines[t].addActivitySymbolClickArea()}t.PositionAndShape.calculateTopBottomBorders(),t===this.graphicalMusicSheet.MusicPages[0]&&this.calculatePageLabels(t),t.PositionAndShape.calculateTopBottomBorders()}}calculateMarkedAreas(){}calculateComments(){}calculateChordSymbols(){for(const t of this.musicSystems)for(const e of t.StaffLines){const t=e.SkyBottomLineCalculator;for(const i of e.Measures)for(const e of i.staffEntries)if(e.graphicalChordContainers&&0!==e.graphicalChordContainers.length)for(const i of e.graphicalChordContainers){const n=e.PositionAndShape,r=i.PositionAndShape,s=r.BorderMarginLeft+n.AbsolutePosition.x,o=r.BorderMarginRight+n.AbsolutePosition.x;t.updateSkyLineInRange(s,o,n.BorderMarginTop)}}}layoutMeasureWithWholeRest(t,e,i){}layoutBeams(t){}layoutArticulationMarks(t,e,i){}layoutOrnament(t,e,i){}calculateRestNotePlacementWithinGraphicalBeam(t,e,i,n,r){}calculateTupletNumbers(){}calculateSlurs(){}calculateDynamicExpressionsForMultiExpression(t,e,i){}calculateGraphicalVerbalContinuousDynamic(t,e){const i=t.Label,n=e.x+i.PositionAndShape.BorderMarginLeft,r=e.x+i.PositionAndShape.BorderMarginRight,s=t.ContinuousDynamic.Placement,o=t.ParentStaffLine.SkyBottomLineCalculator;let a;s===C.PlacementEnum.Below?(a=o.getBottomLineMaxInRange(n,r),i.PositionAndShape.RelativePosition=new h.PointF2D(e.x,a-i.PositionAndShape.BorderMarginTop)):(a=o.getSkyLineMinInRange(n,r),i.PositionAndShape.RelativePosition=new h.PointF2D(e.x,a-i.PositionAndShape.BorderMarginBottom))}calculateGraphicalContinuousDynamic(t,e){const i=t.ParentStaffLine.ParentStaff.idInMusicSheet,n=this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(t.ContinuousDynamic.EndMultiExpression.SourceMeasureParent,i);if(!n)return void S.default.warn("MusicSheetCalculator.calculateGraphicalContinuousDynamic: No endMeasure found");t.EndMeasure=n;const r=t.ParentStaffLine,o=n.ParentStaffLine,a=o&&r===o;let l=!1;o?l=null==o?void 0:o.isPartOfMultiStaffInstrument():r&&(l=null==r?void 0:r.isPartOfMultiStaffInstrument());const u=s.Fraction.createFromFraction(t.ContinuousDynamic.EndMultiExpression.AbsoluteTimestamp),c=this.getRelativePositionInStaffLineFromTimestamp(u,i,o,l,0),h=r.ParentMusicSystem,d=h.StaffLines.indexOf(r),f=r.SkyBottomLineCalculator,p=t.ContinuousDynamic.Placement;let m=void 0;a&&c.x-e.x<this.rules.WedgeMinLength&&(c.x=e.x+this.rules.WedgeMinLength);const g=e.x,y=o.Measures[0].beginInstructionsWidth-this.rules.WedgeHorizontalMargin-2;let v=0,b=0;a?v=c.x:(v=r.PositionAndShape.Size.width,b=c.x,m=new L.GraphicalContinuousDynamicExpression(t.ContinuousDynamic,o,n.parentSourceMeasure),m.IsSplittedPart=!0,t.IsSplittedPart=!0);let _=0,w=0;if(p===C.PlacementEnum.Below){let e=0;if(d<h.StaffLines.length-1&&(e=d+1),e>d){const t=h.StaffLines[e].PositionAndShape.RelativePosition.y-r.PositionAndShape.RelativePosition.y-this.rules.StaffHeight;_=this.rules.StaffHeight+t/2}else _=this.rules.WedgePlacementBelowY;_-=this.rules.WedgeOpeningLength/2,a||(w=_);let i=f.getBottomLineMaxInRange(g,v);i>_&&(_=i);const n=!1;if(d<h.StaffLines.length-1){const i=r.findClosestStaffEntry(v),s=r.findClosestStaffEntry(g);if(s&&i&&(s.parentVerticalContainer,n)){const i=h.StaffLines[e],n=i.SkyBottomLineCalculator.getSkyLineMinInRange(g,v),s=i.PositionAndShape.RelativePosition.y-r.PositionAndShape.RelativePosition.y+n;_=s-this.rules.WedgeOpeningLength>this.rules.StaffHeight?s-this.rules.WedgeVerticalMargin:this.rules.StaffHeight+this.rules.WedgeOpeningLength,t.NotToBeRemoved=!0}}a||(i=o.SkyBottomLineCalculator.getBottomLineMaxInRange(y,b),i>w&&(w=i),w+=this.rules.WedgeOpeningLength/2,w+=this.rules.WedgeVerticalMargin),n||(_+=this.rules.WedgeOpeningLength/2,_+=this.rules.WedgeVerticalMargin)}else if(p===C.PlacementEnum.Above){if(1===r.ParentStaff.ParentInstrument.Staves.length)_=this.rules.WedgePlacementAboveY;else{let t=0;d>0&&(t=d-1);const e=h.StaffLines[t];_=-(r.PositionAndShape.RelativePosition.y-e.PositionAndShape.RelativePosition.y-this.rules.StaffHeight)/2}_+=this.rules.WedgeOpeningLength/2,a||(w=_);let t=f.getSkyLineMinInRange(g,v);t<_&&(_=t);const e=!1;if(r.ParentStaff.ParentInstrument.Staves.length>1&&d>0){const t=r.findClosestStaffEntry(g),i=r.findClosestStaffEntry(v);if(t&&i){t.parentVerticalContainer;const i=d-1;if(e){const t=h.StaffLines[i],e=t.SkyBottomLineCalculator.getBottomLineMaxInRange(g,v);_=(r.PositionAndShape.RelativePosition.y-t.PositionAndShape.RelativePosition.y-e-this.rules.StaffHeight)/2+this.rules.StaffHeight}}}a||(t=o.SkyBottomLineCalculator.getSkyLineMinInRange(y,b),t<w&&(w=t),w-=this.rules.WedgeOpeningLength/2),e||(_-=this.rules.WedgeOpeningLength/2,_-=this.rules.WedgeVerticalMargin),a||(w-=this.rules.WedgeVerticalMargin)}t.Lines.clear(),t.ContinuousDynamic.DynamicType===k.ContDynamicEnum.crescendo?a?(t.createCrescendoLines(g,v,_),t.calcPsi()):(t.createFirstHalfCrescendoLines(g,v,_),t.calcPsi(),m.createSecondHalfCrescendoLines(y,b,w),m.calcPsi()):t.ContinuousDynamic.DynamicType===k.ContDynamicEnum.diminuendo&&(a?(t.createDiminuendoLines(g,v,_),t.calcPsi()):(t.createFirstHalfDiminuendoLines(g,v,_),t.calcPsi(),m.createSecondHalfDiminuendoLines(y,b,w),m.calcPsi()))}calculateGraphicalInstantaneousDynamicExpression(t,e){const i=t.ParentStaffLine;if(!i)return;const n=e.x+t.PositionAndShape.BorderMarginLeft,r=e.x+t.PositionAndShape.BorderMarginRight,s=i.SkyBottomLineCalculator;let o=0;if(t.Placement===C.PlacementEnum.Above){const a=s.getSkyLineMinInRange(n,r);if(i.isPartOfMultiStaffInstrument()&&i.ParentStaff!==i.ParentStaff.ParentInstrument.Staves[0]){const e=i.ParentMusicSystem.StaffLines[i.ParentMusicSystem.StaffLines.indexOf(i)-1],n=i.PositionAndShape.RelativePosition.y-e.PositionAndShape.RelativePosition.y-this.rules.StaffHeight;o=a>-n/2?-n/2:a-t.PositionAndShape.BorderMarginBottom}else o=a-t.PositionAndShape.BorderMarginBottom;t.PositionAndShape.RelativePosition=new h.PointF2D(e.x,o)}else if(t.Placement===C.PlacementEnum.Below){const a=s.getBottomLineMaxInRange(n,r),l=i.ParentStaff.ParentInstrument.Staves[i.ParentStaff.ParentInstrument.Staves.length-1];if(i.isPartOfMultiStaffInstrument()&&i.ParentStaff!==l){const e=i.ParentMusicSystem.StaffLines[i.ParentMusicSystem.StaffLines.indexOf(i)+1].PositionAndShape.RelativePosition.y-i.PositionAndShape.RelativePosition.y-this.rules.StaffHeight;o=a+t.PositionAndShape.BorderMarginBottom<this.rules.StaffHeight+e/2?this.rules.StaffHeight+e/2:a-t.PositionAndShape.BorderMarginTop}else o=a-t.PositionAndShape.BorderMarginTop;t.PositionAndShape.RelativePosition=new h.PointF2D(e.x,o)}t.updateSkyBottomLine()}calcGraphicalRepetitionEndingsRecursively(t){}layoutSingleRepetitionEnding(t,e,i,n,r,s){}calculateLabel(t,e,i,n,r,s,o=p.TextAlignmentEnum.CenterBottom){const a=new x.Label(i,o);a.fontStyle=n,a.fontHeight=s;const l=new f.GraphicalLabel(a,s,a.textAlignment,this.rules,t.PositionAndShape);r===C.PlacementEnum.Below&&(l.Label.textAlignment=p.TextAlignmentEnum.LeftTop),l.setLabelPositionAndShapeBorders(),l.PositionAndShape.BorderMarginBottom*=1.1,l.PositionAndShape.BorderMarginTop*=1.1,l.PositionAndShape.BorderMarginLeft*=1.1,l.PositionAndShape.BorderMarginRight*=1.1;let u,c=e.x+l.PositionAndShape.BorderMarginLeft,d=e.x+l.PositionAndShape.BorderMarginRight;d>t.PositionAndShape.Size.width&&(d=t.PositionAndShape.Size.width-this.rules.MeasureRightMargin,c=d-l.PositionAndShape.MarginSize.width,e.x=c-l.PositionAndShape.BorderMarginLeft);const m=t.SkyBottomLineCalculator;return u=r===C.PlacementEnum.Below?m.getBottomLineMaxInRange(c,d):m.getSkyLineMinInRange(c,d),l.PositionAndShape.RelativePosition=new h.PointF2D(e.x,u),r===C.PlacementEnum.Below?m.updateBottomLineInRange(c,d,l.PositionAndShape.BorderMarginBottom+u):m.updateSkyLineInRange(c,d,l.PositionAndShape.BorderMarginTop+u),l}calculateTempoExpressionsForMultiTempoExpression(t,e,i){const n=s.Fraction.plus(t.AbsoluteTimestamp,e.Timestamp),r=this.graphicalMusicSheet.MeasureList[i];let o=new h.PointF2D;if(e.ContinuousTempo||e.InstantaneousTempo){if(this.rules.MinMeasureToDrawIndex>0)return;let t=r[0].ParentStaffLine,i=r[0].PositionAndShape.RelativePosition.x,s=0;for(let e=0;e<r.length;e++)if(r[e].ParentStaffLine&&0!==r[e].ParentStaffLine.Measures.length&&r[e].ParentStaffLine.Measures.length>0){t=r[e].ParentStaffLine,i=r[e].PositionAndShape.RelativePosition.x,s=e;break}if(o=this.getRelativePositionInStaffLineFromTimestamp(n,s,t,t.isPartOfMultiStaffInstrument(),i),e.EntriesList.length>0&&e.EntriesList[0].Expression instanceof P.InstantaneousTempoExpression&&(e.EntriesList[0].Expression.Placement=C.PlacementEnum.Above,t.Measures[0].staffEntries.length>0&&0===Math.abs(o.x-t.Measures[0].staffEntries[0].PositionAndShape.RelativePosition.x)&&t.ParentMusicSystem===this.musicSystems[0])){const e=t.Measures[0].FirstInstructionStaffEntry;if(e){const t=e.GraphicalInstructions.last();o.x=t.PositionAndShape.RelativePosition.x}this.rules.CompactMode&&(o.x=t.PositionAndShape.RelativePosition.x+t.Measures[0].PositionAndShape.RelativePosition.x)}for(const n of e.EntriesList){let i=p.TextAlignmentEnum.CenterBottom;this.rules.CompactMode&&(i=p.TextAlignmentEnum.LeftBottom);const r=this.calculateLabel(t,o,n.label,e.getFontstyleOfFirstEntry(),n.Expression.Placement,this.rules.UnknownTextHeight,i);if(n.Expression instanceof P.InstantaneousTempoExpression){for(const e of t.AbstractExpressions)e instanceof A.GraphicalInstantaneousTempoExpression&&(e.SourceExpression.Label,n.Expression.Label);if(new A.GraphicalInstantaneousTempoExpression(n.Expression,r).ParentStaffLine||S.default.warn("Adding staffline didn't work"),this.rules.MetronomeMarksDrawn&&n.Expression.Enum===P.TempoEnum.metronomeMark){this.createMetronomeMark(n.Expression);continue}}else n.Expression,M.ContinuousTempoExpression}}}createMetronomeMark(t){throw new Error("abstract, not implemented")}graphicalMeasureCreatedCalculations(t){}clearSystemsAndMeasures(){for(let t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t){const e=this.graphicalMusicSheet.MusicPages[t];for(let t=0,i=e.MusicSystems.length;t<i;++t){const i=e.MusicSystems[t];for(let t=0,e=i.StaffLines.length;t<e;++t){const e=i.StaffLines[t];for(let t=0,i=e.Measures.length;t<i;++t){const i=e.Measures[t];if(i.FirstInstructionStaffEntry){const t=i.PositionAndShape.ChildElements.indexOf(i.FirstInstructionStaffEntry.PositionAndShape);t>-1&&i.PositionAndShape.ChildElements.splice(t,1),i.FirstInstructionStaffEntry=void 0,i.beginInstructionsWidth=0}if(i.LastInstructionStaffEntry){const t=i.PositionAndShape.ChildElements.indexOf(i.LastInstructionStaffEntry.PositionAndShape);t>-1&&i.PositionAndShape.ChildElements.splice(t,1),i.LastInstructionStaffEntry=void 0,i.endInstructionsWidth=0}}e.Measures=[],e.PositionAndShape.ChildElements=[]}i.StaffLines.length=0,i.PositionAndShape.ChildElements=[]}e.MusicSystems=[],e.PositionAndShape.ChildElements=[]}this.graphicalMusicSheet.MusicPages=[]}handleVoiceEntry(t,e,i,n,r,s,o,a,l,c){t.StemDirectionXml!==u.StemDirectionType.Undefined&&this.rules.SetWantedStemDirectionByXml&&void 0!==t.StemDirectionXml?t.WantedStemDirection=t.StemDirectionXml:this.calculateStemDirectionFromVoices(t);const h=e.findOrCreateGraphicalVoiceEntry(t);h.octaveShiftValue=a;const d=e.tabStaffEntry;let f;d&&(f=d.findOrCreateGraphicalVoiceEntry(t));for(let u=0,p=t.Notes.length;u<p;++u){const n=t.Notes[u];if(!n)continue;if(void 0!==c&&void 0!==c.Link&&void 0!==l&&l.indexOf(n)>-1)continue;let p;if(t.IsGrace)p=R.symbolFactory.createGraceNote(n,h,r,a);else{p=R.symbolFactory.createNote(n,h,r,a,void 0);const e=t.ParentSourceStaffEntry.ParentStaff.StafflineCount;p=R.stafflineNoteCalculator.positionNote(p,r,e)}if(n.Pitch&&this.checkNoteForAccidental(p,i,r,a),this.resetYPositionForLeadSheet(p.PositionAndShape),e.addGraphicalNoteToListAtCorrectYPosition(h,p),p.PositionAndShape.calculateBoundingBox(),this.leadSheet||(void 0!==n.NoteBeam&&n.PrintObject&&this.handleBeam(p,n.NoteBeam,o),void 0!==n.NoteTuplet&&n.PrintObject&&this.handleTuplet(p,n.NoteTuplet,s)),f){const t=R.symbolFactory.createNote(n,f,r,a,void 0);d.addGraphicalNoteToListAtCorrectYPosition(f,t),t.PositionAndShape.calculateBoundingBox(),this.leadSheet||n.NoteTuplet&&this.handleTuplet(t,n.NoteTuplet,s)}}return t.Articulations.length>0&&this.handleVoiceEntryArticulations(t.Articulations,t,e),t.TechnicalInstructions.length>0&&this.handleVoiceEntryTechnicalInstructions(t.TechnicalInstructions,t,e),t.LyricsEntries.size()>0&&this.handleVoiceEntryLyrics(t,e,n),t.OrnamentContainer&&this.handleVoiceEntryOrnaments(t.OrnamentContainer,t,e),a}resetYPositionForLeadSheet(t){this.leadSheet&&(t.RelativePosition=new h.PointF2D(t.RelativePosition.x,0))}layoutVoiceEntries(t){if(t.PositionAndShape.RelativePosition=new h.PointF2D(0,0),!this.leadSheet)for(const e of t.graphicalVoiceEntries){const i=e.notes;if(0===i.length)continue;const n=i[0].sourceNote.ParentVoiceEntry,r=void 0!==i[0].sourceNote.Pitch;this.layoutVoiceEntry(n,i,t,r)}}maxInstrNameLabelLength(){let t=0;for(const e of this.graphicalMusicSheet.ParentMusicSheet.Instruments)if(e.Voices.length>0&&e.Voices[0].Visible){let i=e.NameLabel;this.rules.RenderPartNames||(i=new x.Label("",i.textAlignment,i.font));const n=new f.GraphicalLabel(i,this.rules.InstrumentLabelTextHeight,p.TextAlignmentEnum.LeftCenter,this.rules);n.setLabelPositionAndShapeBorders(),t=Math.max(t,n.PositionAndShape.MarginSize.width)}return this.rules.RenderPartNames?t:0}calculateSheetLabelBoundingBoxes(){const t=this.graphicalMusicSheet.ParentMusicSheet,e=this.rules.DefaultColorTitle;if(void 0!==t.Title&&this.rules.RenderTitle){const i=new f.GraphicalLabel(t.Title,this.rules.SheetTitleHeight,p.TextAlignmentEnum.CenterBottom,this.rules);i.Label.colorDefault=e,this.graphicalMusicSheet.Title=i,i.setLabelPositionAndShapeBorders()}else this.rules.RenderTitle||(this.graphicalMusicSheet.Title=void 0);if(void 0!==t.Subtitle&&this.rules.RenderSubtitle){const i=new f.GraphicalLabel(t.Subtitle,this.rules.SheetSubtitleHeight,p.TextAlignmentEnum.CenterCenter,this.rules);i.Label.colorDefault=e,this.graphicalMusicSheet.Subtitle=i,i.setLabelPositionAndShapeBorders()}else this.rules.RenderSubtitle||(this.graphicalMusicSheet.Subtitle=void 0);if(void 0!==t.Composer&&this.rules.RenderComposer){const i=new f.GraphicalLabel(t.Composer,this.rules.SheetComposerHeight,p.TextAlignmentEnum.RightCenter,this.rules);i.Label.colorDefault=e,this.graphicalMusicSheet.Composer=i,i.setLabelPositionAndShapeBorders()}else this.rules.RenderComposer||(this.graphicalMusicSheet.Composer=void 0);if(void 0!==t.Lyricist&&this.rules.RenderLyricist){const i=new f.GraphicalLabel(t.Lyricist,this.rules.SheetAuthorHeight,p.TextAlignmentEnum.LeftCenter,this.rules);i.Label.colorDefault=e,this.graphicalMusicSheet.Lyricist=i,i.setLabelPositionAndShapeBorders()}else this.rules.RenderLyricist||(this.graphicalMusicSheet.Lyricist=void 0)}checkMeasuresForWholeRestNotes(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];if(1===e.staffEntries.length){const t=e.staffEntries[0];if(t.graphicalVoiceEntries.length>0&&1===t.graphicalVoiceEntries[0].notes.length){const i=t.graphicalVoiceEntries[0].notes[0];!i.sourceNote.Pitch&&new s.Fraction(1,2).lt(i.sourceNote.Length)&&this.layoutMeasureWithWholeRest(i,t,e)}}}}}}optimizeRestNotePlacement(t,e){if(0===t.graphicalVoiceEntries.length)return;const i=t.graphicalVoiceEntries[0].notes;if(0===i.length)return;const n=i[0],r=n.sourceNote.isRest();if(2===t.graphicalVoiceEntries.length){let e=!1;const i=t.graphicalVoiceEntries[1].notes;i.length>0&&(e=i[0].sourceNote.isRest()),r&&e?this.calculateTwoRestNotesPlacementWithCollisionDetection(t):(r||e)&&this.calculateRestNotePlacementWithCollisionDetectionFromGraphicalNote(t)}else if(r&&t!==e.staffEntries[0]&&t!==e.staffEntries[e.staffEntries.length-1]){const i=e.staffEntries.indexOf(t),r=e.staffEntries[i-1],s=e.staffEntries[i+1];if(1===r.graphicalVoiceEntries.length){const e=r.graphicalVoiceEntries[0].notes[0];if(void 0!==e.sourceNote.NoteBeam&&1===s.graphicalVoiceEntries.length){const i=s.graphicalVoiceEntries[0].notes[0];void 0!==i.sourceNote.NoteBeam&&e.sourceNote.NoteBeam===i.sourceNote.NoteBeam&&(this.calculateRestNotePlacementWithinGraphicalBeam(t,n,e,s,i),t.PositionAndShape.calculateBoundingBox())}}}}getRelativePositionInStaffLineFromTimestamp(t,e,i,n,r=0){let o=new h.PointF2D,a=void 0,l=void 0;const u=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length,c=this.graphicalMusicSheet.GetInterpolatedIndexInVerticalContainers(t),d=Math.min(Math.floor(c),u-1),f=Math.min(Math.ceil(c),u-1);if(d<0||e<0)return o;if(a=this.getFirstLeftNotNullStaffEntryFromContainer(d,e,n),l=this.getFirstRightNotNullStaffEntryFromContainer(f,e,n),a&&l){let e=a.parentMeasure.PositionAndShape.RelativePosition.x;r>0&&(e=r);let n=a.PositionAndShape.RelativePosition.x+e,u=l.PositionAndShape.RelativePosition.x+l.parentMeasure.PositionAndShape.RelativePosition.x;r>0&&(u=l.PositionAndShape.RelativePosition.x+e);let c=0;if(a!==l){const e=a.getAbsoluteTimestamp(),i=l.getAbsoluteTimestamp();c=s.Fraction.minus(t,e).RealValue/s.Fraction.minus(i,e).RealValue}a.parentMeasure.ParentStaffLine!==l.parentMeasure.ParentStaffLine&&(a.parentMeasure.ParentStaffLine===i?u=i.PositionAndShape.Size.width:n=i.PositionAndShape.RelativePosition.x),o=new h.PointF2D(n+(u-n)*c,0)}return o}getRelativeXPositionFromTimestamp(t){const e=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length,i=this.graphicalMusicSheet.GetInterpolatedIndexInVerticalContainers(t),n=Math.max(0,Math.min(Math.round(i),e-1)),r=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[n].getFirstNonNullStaffEntry();return r.PositionAndShape.RelativePosition.x+r.parentMeasure.PositionAndShape.RelativePosition.x}calculatePageLabels(t){this.rules.RenderSingleHorizontalStaffline&&(t.PositionAndShape.BorderRight=t.PositionAndShape.Size.width,t.PositionAndShape.calculateBoundingBox(),this.graphicalMusicSheet.ParentMusicSheet.pageWidth=t.PositionAndShape.Size.width);let e=10;if(t.MusicSystems.length>0){const i=t.MusicSystems[0];e=i.PositionAndShape.RelativePosition.y+i.PositionAndShape.BorderTop}if(this.graphicalMusicSheet.Title){const e=this.graphicalMusicSheet.Title;e.PositionAndShape.Parent=t.PositionAndShape;const i=new h.PointF2D;i.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth/2,i.y=this.rules.TitleTopDistance+this.rules.SheetTitleHeight,e.PositionAndShape.RelativePosition=i,t.Labels.push(e)}if(this.graphicalMusicSheet.Subtitle){const e=this.graphicalMusicSheet.Subtitle;e.PositionAndShape.Parent=t.PositionAndShape;const i=new h.PointF2D;i.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth/2,i.y=this.rules.TitleTopDistance+this.rules.SheetTitleHeight+this.rules.SheetMinimumDistanceBetweenTitleAndSubtitle,e.PositionAndShape.RelativePosition=i,t.Labels.push(e)}const i=this.graphicalMusicSheet.Composer;if(i){i.PositionAndShape.Parent=t.PositionAndShape,i.setLabelPositionAndShapeBorders();const n=new h.PointF2D;n.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth-this.rules.PageRightMargin,n.y=e-this.rules.SystemComposerDistance,i.PositionAndShape.RelativePosition=n,t.Labels.push(i)}const n=this.graphicalMusicSheet.Lyricist;if(n){n.PositionAndShape.Parent=t.PositionAndShape,n.setLabelPositionAndShapeBorders();const i=new h.PointF2D;i.x=this.rules.PageLeftMargin,i.y=e-this.rules.SystemComposerDistance,n.PositionAndShape.RelativePosition=i,t.Labels.push(n)}}createGraphicalTies(){for(let t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){const e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t];for(let i=0;i<e.CompleteNumberOfStaves;i++)for(let n=0;n<e.VerticalSourceStaffEntryContainers.length;n++){const r=e.VerticalSourceStaffEntryContainers[n].StaffEntries[i];if(r){const e=this.graphicalMusicSheet.findGraphicalStaffEntryFromMeasureList(i,t,r);for(let n=0,s=r.VoiceEntries.length;n<s;++n){const s=r.VoiceEntries[n];for(let n=0,r=s.Notes.length;n<r;++n){const r=s.Notes[n];if(r.NoteTie){const n=r.NoteTie;this.handleTie(n,e,i,t)}}}}}}}handleTie(t,e,i,n){let r=e,s=r.findEndTieGraphicalNoteFromNote(t.StartNote),o=void 0,a=void 0;for(let l=1;l<t.Notes.length;l++)if(s=r.findEndTieGraphicalNoteFromNote(t.Notes[l-1]),o=this.graphicalMusicSheet.GetGraphicalFromSourceStaffEntry(t.Notes[l].ParentStaffEntry),o){if(a=o.findEndTieGraphicalNoteFromNote(t.Notes[l]),void 0!==s&&void 0!==a&&o){if(!s.sourceNote.PrintObject||!a.sourceNote.PrintObject)continue;const e=this.createGraphicalTie(t,r,o,s,a);r.GraphicalTies.push(e),this.staffEntriesWithGraphicalTies.indexOf(r)>=0&&this.staffEntriesWithGraphicalTies.push(r)}r=o}}createAccidentalCalculators(){const t=[],e=this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();if(e)for(let i=0;i<e.CompleteNumberOfStaves;i++){const n=new b.AccidentalCalculator;if(t.push(n),e.FirstInstructionsStaffEntries[i])for(let t=0,r=e.FirstInstructionsStaffEntries[i].Instructions.length;t<r;++t){const r=e.FirstInstructionsStaffEntries[i].Instructions[t];if(r instanceof m.KeyInstruction){const t=r;n.ActiveKeyInstruction=t}}}return t}calculateVerticalContainersList(){const t=this.graphicalMusicSheet.MeasureList[0].length;for(let e=0;e<this.graphicalMusicSheet.MeasureList.length;e++)for(let i=0;i<t;i++){const t=this.graphicalMusicSheet.MeasureList[e][i];for(let e=0,n=t.staffEntries.length;e<n;++e){const n=t.staffEntries[e],r=this.graphicalMusicSheet.getOrCreateVerticalContainer(n.getAbsoluteTimestamp());r&&(r.StaffEntries[i]=n,n.parentVerticalContainer=r)}}}setIndicesToVerticalGraphicalContainers(){for(let t=0;t<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;t++)this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].Index=t}createGraphicalMeasuresForSourceMeasure(t,e,i,n,r){this.initGraphicalMeasuresCreation();const s=[],o=[],a=[],l=[];for(let u=0;u<t.CompleteNumberOfStaves;u++){const c=this.createGraphicalMeasure(t,a,o,e[u],r,n,i,u,l);this.graphicalMeasureCreatedCalculations(c),s.push(c)}return t.VerticalMeasureList=s,s}createGraphicalMeasure(t,e,i,n,r,c,h,f,p){var g;const y=this.graphicalMusicSheet.ParentMusicSheet.getStaffFromIndex(f);let b=void 0;if(void 0!==this.rules.PercussionOneLineCutoff&&0!==this.rules.PercussionOneLineCutoff&&r[f].ClefType===a.ClefEnum.percussion&&(-1===this.rules.PercussionOneLineCutoff||y.ParentInstrument.SubInstruments.length<this.rules.PercussionOneLineCutoff)&&(y.StafflineCount=1),r[f].ClefType===a.ClefEnum.TAB?(y.isTab=!0,b=R.symbolFactory.createTabStaffMeasure(t,y)):b=R.symbolFactory.createGraphicalMeasure(t,y),b.hasError=t.getErrorInMeasure(f),t.FirstInstructionsStaffEntries[f])for(let s=0,o=t.FirstInstructionsStaffEntries[f].Instructions.length;s<o;++s){const e=t.FirstInstructionsStaffEntries[f].Instructions[s];if(e instanceof m.KeyInstruction){const t=m.KeyInstruction.copy(e);0!==this.graphicalMusicSheet.ParentMusicSheet.Transpose&&b.ParentStaff.ParentInstrument.MidiInstrumentId!==_.MidiInstrument.Percussion&&R.transposeCalculator&&R.transposeCalculator.transposeKey(t,this.graphicalMusicSheet.ParentMusicSheet.Transpose),n.ActiveKeyInstruction=t}}for(let o=0,a=t.StaffLinkedExpressions[f].length;o<a;++o){const e=t.StaffLinkedExpressions[f][o];if(e.OctaveShiftStart){const i=e.OctaveShiftStart;let n=null===(g=null==i?void 0:i.ParentEndMultiExpression)||void 0===g?void 0:g.AbsoluteTimestamp;(null==i?void 0:i.ParentEndMultiExpression)||(n=s.Fraction.plus(t.AbsoluteTimestamp,t.Duration)),c[f]=new v.OctaveShiftParams(i,null==e?void 0:e.AbsoluteTimestamp,n)}}for(let s=0;s<t.VerticalSourceStaffEntryContainers.length;s++){const o=t.VerticalSourceStaffEntryContainers[s].StaffEntries[f];if(o){for(let e=0,i=o.Instructions.length;e<i;++e){const t=o.Instructions[e];t instanceof a.ClefInstruction&&(r[f]=t)}const t=R.symbolFactory.createStaffEntry(o,b);s<b.staffEntries.length?b.addGraphicalStaffEntryAtTimestamp(t):b.addGraphicalStaffEntry(t);const u=[];o.Link&&(o.findLinkedNotes(u),this.handleStaffEntryLink(t,p));let d=l.OctaveEnum.NONE;c[f]&&c[f].getAbsoluteStartTimestamp.lte(o.AbsoluteTimestamp)&&o.AbsoluteTimestamp.lte(c[f].getAbsoluteEndTimestamp)&&(d=c[f].getOpenOctaveShift.Type);for(let s=0,a=o.VoiceEntries.length;s<a;++s){const a=o.VoiceEntries[s];d=this.handleVoiceEntry(a,t,n,h,r[f],e,i,d,u,o)}if(o.Instructions.length>0){const e=o.Instructions[0];R.symbolFactory.createInStaffClef(t,e)}o.ChordContainers&&o.ChordContainers.length>0&&(o.ParentStaff.ParentInstrument.HasChordSymbols=!0,R.symbolFactory.createChordSymbols(o,t,n.ActiveKeyInstruction,this.graphicalMusicSheet.ParentMusicSheet.Transpose))}}if(n.doCalculationsAtEndOfMeasure(),t.LastInstructionsStaffEntries[f]){const e=t.LastInstructionsStaffEntries[f];for(let t=0,i=e.Instructions.length;t<i;++t){const i=e.Instructions[t];i instanceof a.ClefInstruction&&(r[f]=i)}}for(let s=0,o=t.StaffLinkedExpressions[f].length;s<o;++s){const e=t.StaffLinkedExpressions[f][s];void 0!==e.OctaveShiftEnd&&void 0!==c[f]&&e.OctaveShiftEnd===c[f].getOpenOctaveShift&&(c[f]=void 0)}for(const s of b.staffEntries)for(const t of s.graphicalVoiceEntries)this.setBeamNotesWantedStemDirections(t.parentVoiceEntry);if(this.rules.FillEmptyMeasuresWithWholeRest>=1&&0===b.staffEntries.length){const e=new d.SourceStaffEntry(new E.VerticalSourceStaffEntryContainer(b.parentSourceMeasure,b.parentSourceMeasure.AbsoluteTimestamp,b.parentSourceMeasure.CompleteNumberOfStaves),y),i=new u.VoiceEntry(new s.Fraction(0,1),y.Voices[0],e),n=new o.Note(i,e,s.Fraction.createFromFraction(t.Duration),void 0);n.PrintObject=this.rules.FillEmptyMeasuresWithWholeRest===I.FillEmptyMeasuresWithWholeRests.YesVisible,i.Notes.push(n);const c=R.symbolFactory.createStaffEntry(e,b);b.addGraphicalStaffEntry(c),c.relInMeasureTimestamp=i.Timestamp;const h=R.symbolFactory.createVoiceEntry(i,c);c.graphicalVoiceEntries.push(h);let p=R.symbolFactory.createNote(n,h,new a.ClefInstruction,l.OctaveEnum.NONE,void 0);const m=i.ParentSourceStaffEntry.ParentStaff.StafflineCount;p=R.stafflineNoteCalculator.positionNote(p,r[f],m),h.notes.push(p)}return b}checkNoteForAccidental(t,e,i,n){let r=t.sourceNote.Pitch;const s=this.graphicalMusicSheet.ParentMusicSheet.Transpose;0!==s&&t.sourceNote.ParentStaffEntry.ParentStaff.ParentInstrument.MidiInstrumentId!==_.MidiInstrument.Percussion&&(r=t.Transpose(e.ActiveKeyInstruction,i,s,n)),t.sourceNote.halfTone=r.getHalfTone(),e.checkAccidental(t,r)}handleStaffEntries(){for(let t=0,e=this.graphicalMusicSheet.MeasureList.length;t<e;++t){const e=this.graphicalMusicSheet.MeasureList[t];for(let t=0,i=e.length;t<i;++t){const i=e[t];for(const t of i.staffEntries)void 0!==t.parentMeasure&&t.graphicalVoiceEntries.length>0&&t.graphicalVoiceEntries[0].notes.length>0&&(this.layoutVoiceEntries(t),this.layoutStaffEntry(t))}}}calculateSkyBottomLines(){for(const t of this.musicSystems)for(const e of t.StaffLines)e.SkyBottomLineCalculator.calculateLines()}calculateExpressionAlignements(){}calculateStaffEntryArticulationMarks(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];for(let t=0,i=e.staffEntries.length;t<i;++t){const i=e.staffEntries[t];for(let t=0,e=i.sourceStaffEntry.VoiceEntries.length;t<e;++t){const e=i.sourceStaffEntry.VoiceEntries[t];e.Articulations.length>0&&this.layoutArticulationMarks(e.Articulations,e,i)}}}}}}calculateOrnaments(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];for(let t=0,i=e.staffEntries.length;t<i;++t){const i=e.staffEntries[t];for(let t=0,e=i.sourceStaffEntry.VoiceEntries.length;t<e;++t){const e=i.sourceStaffEntry.VoiceEntries[t];if(e.OrnamentContainer){if(e.hasTie()&&!i.relInMeasureTimestamp.Equals(e.Timestamp))continue;this.layoutOrnament(e.OrnamentContainer,e,i),-1===this.staffEntriesWithOrnaments.indexOf(i)&&this.staffEntriesWithOrnaments.push(i)}}}}}}}optimizeRestPlacement(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];for(let t=0,i=e.staffEntries.length;t<i;++t){const i=e.staffEntries[t];this.optimizeRestNotePlacement(i,e)}}}}}calculateTwoRestNotesPlacementWithCollisionDetection(t){const e=t.graphicalVoiceEntries[0].notes[0],i=t.graphicalVoiceEntries[1].notes[0];i.PositionAndShape.RelativePosition=new h.PointF2D(0,2.5),t.PositionAndShape.calculateAbsolutePositionsRecursiveWithoutTopelement(),e.PositionAndShape.computeNonOverlappingPositionWithMargin(t.PositionAndShape,y.ColDirEnum.Up,new h.PointF2D(0,i.PositionAndShape.RelativePosition.y));const n=e.PositionAndShape.RelativePosition;n.y-=1,e.PositionAndShape.RelativePosition=n,t.PositionAndShape.calculateBoundingBox()}calculateRestNotePlacementWithCollisionDetectionFromGraphicalNote(t){let e,i;t.graphicalVoiceEntries[0].notes[0].sourceNote.isRest()?(e=t.graphicalVoiceEntries[0].notes[0],i=t.graphicalVoiceEntries[1].notes):(i=t.graphicalVoiceEntries[0].notes,e=t.graphicalVoiceEntries[1].notes[0]);let n=!1;t.PositionAndShape.calculateAbsolutePositionsRecursiveWithoutTopelement();for(let r=0,s=i.length;r<s;++r){const t=i[r];if(e.PositionAndShape.marginCollisionDetection(t.PositionAndShape)){n=!0;break}}if(n)if(e.sourceNote.ParentVoiceEntry.ParentVoice instanceof g.LinkedVoice){const t=i[0].PositionAndShape.BorderMarginBottom+i[0].PositionAndShape.RelativePosition.y;e.PositionAndShape.RelativePosition=new h.PointF2D(0,t-e.PositionAndShape.BorderMarginTop+.5)}else{const t=i[i.length-1],n=t.PositionAndShape.BorderMarginTop+t.PositionAndShape.RelativePosition.y;if(i[0].sourceNote.ParentVoiceEntry.ParentVoice instanceof g.LinkedVoice)e.PositionAndShape.RelativePosition=new h.PointF2D(0,n-e.PositionAndShape.BorderMarginBottom-.5);else{const t=i[0].PositionAndShape.BorderMarginBottom+i[0].PositionAndShape.RelativePosition.y;e.PositionAndShape.RelativePosition=t<2?new h.PointF2D(0,t-e.PositionAndShape.BorderMarginTop+.5):new h.PointF2D(0,n-e.PositionAndShape.BorderMarginBottom-0)}}t.PositionAndShape.calculateBoundingBox()}calculateTieCurves(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];for(let t=0,i=e.staffEntries.length;t<i;++t){const i=e.staffEntries[t],n=i.GraphicalTies;for(let t=0,e=n.length;t<e;++t){const e=n[t];if(void 0!==e.StartNote&&e.StartNote.parentVoiceEntry.parentStaffEntry===i){const t=e.StartNote.parentVoiceEntry.parentStaffEntry.parentMeasure.ParentStaffLine!==e.EndNote.parentVoiceEntry.parentStaffEntry.parentMeasure.ParentStaffLine;this.layoutGraphicalTie(e,t)}}}}}}}calculateLyricsPosition(){const t=new w.default;for(let e=0,i=this.graphicalMusicSheet.ParentMusicSheet.Instruments.length;e<i;++e){const t=this.graphicalMusicSheet.ParentMusicSheet.Instruments[e];t.HasLyrics&&t.LyricVersesNumbers.length>0&&t.LyricVersesNumbers.sort()}for(let e=0,i=this.musicSystems.length;e<i;++e){const i=this.musicSystems[e];for(let e=0,n=i.StaffLines.length;e<n;++e){const n=i.StaffLines[e],r=this.calculateSingleStaffLineLyricsPosition(n,n.ParentStaff.ParentInstrument.LyricVersesNumbers);t.setValue(n,r),this.calculateLyricsExtendsAndDashes(t.getValue(n))}}for(let e=0,i=this.musicSystems.length;e<i;++e){const i=this.musicSystems[e];for(let e=0,n=i.StaffLines.length;e<n;++e){const n=i.StaffLines[e];this.calculateLyricsExtendsAndDashes(t.getValue(n))}}}calculateSingleLyricWord(t){const e=t.ParentLyricWord,i=e.GraphicalLyricsEntries.indexOf(t);let n=void 0;if(i>=0&&(n=e.GraphicalLyricsEntries[i+1]),!n)return;const r=t.StaffEntryParent.parentMeasure.ParentStaffLine,s=n.StaffEntryParent.parentMeasure.ParentStaffLine,o=t.StaffEntryParent,a=n.StaffEntryParent;if(t.StaffEntryParent.parentMeasure.ParentStaffLine===n.StaffEntryParent.parentMeasure.ParentStaffLine){const e=o.parentMeasure.PositionAndShape.RelativePosition.x+o.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,i=a.parentMeasure.PositionAndShape.RelativePosition.x+a.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.RelativePosition.x+n.GraphicalLabel.PositionAndShape.BorderMarginLeft,s=t.GraphicalLabel.PositionAndShape.RelativePosition.y;let l=1;i-e>3*this.rules.MinimumDistanceBetweenDashes&&(l=Math.floor((i-e)/this.rules.MinimumDistanceBetweenDashes)-1),1===l?this.calculateSingleDashForLyricWord(r,e,i,s):this.calculateDashes(r,e,i,s)}else{const e=o.parentMeasure.PositionAndShape.RelativePosition.x+o.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,i=r.Measures[r.Measures.length-1],l=i.PositionAndShape.RelativePosition.x+i.PositionAndShape.Size.width;let u=t.GraphicalLabel.PositionAndShape.RelativePosition.y;if(this.calculateDashes(r,e,l,u),s&&s.Measures[0]&&a.parentMeasure.ParentStaffLine&&(a!==a.parentMeasure.staffEntries[0]||a.parentMeasure!==a.parentMeasure.ParentStaffLine.Measures[0])){const t=s.Measures[0].staffEntries[0].PositionAndShape.RelativePosition.x,e=a.parentMeasure.PositionAndShape.RelativePosition.x+a.PositionAndShape.RelativePosition.x+n.GraphicalLabel.PositionAndShape.BorderMarginLeft;u=n.GraphicalLabel.PositionAndShape.RelativePosition.y,this.calculateDashes(s,t,e,u)}}}calculateDashes(t,e,i,n){let r=i-e;if(r<3*this.rules.MinimumDistanceBetweenDashes)this.calculateSingleDashForLyricWord(t,e,i,n);else{const s=Math.floor(r/this.rules.MinimumDistanceBetweenDashes)-1,o=r/(s+1);let a=0;for(e+=o,i-=o;a<=Math.floor(s/2)&&i>e;)r=this.calculateRightAndLeftDashesForLyricWord(t,e,i,n),e+=o,i-=o,a++;r>2*o&&this.calculateSingleDashForLyricWord(t,e,i,n)}}calculateSingleDashForLyricWord(t,e,i,n){const r=new x.Label("-"),s=new f.GraphicalLabel(r,this.rules.LyricsHeight,p.TextAlignmentEnum.CenterBottom,this.rules);s.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(s),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t),s.PositionAndShape.Parent=t.PositionAndShape;const o=new h.PointF2D(e+(i-e)/2,n);s.PositionAndShape.RelativePosition=o}calculateLyricExtend(t){let e=t.GraphicalLabel.PositionAndShape.RelativePosition.y;const i=t.StaffEntryParent,n=i.parentMeasure.ParentStaffLine;let r=void 0,s=void 0;const o=i.parentMeasure.ParentStaff.idInMusicSheet;for(let a=i.parentVerticalContainer.Index+1;a<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;++a){const t=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[a].StaffEntries[o];if(t){if(t.hasOnlyRests())break;if(t.LyricsEntries.length>0)break;r=t,s=r.parentMeasure.ParentStaffLine}}if(r)if(n===s){const s=i.parentMeasure.PositionAndShape.RelativePosition.x+i.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,o=r.parentMeasure.PositionAndShape.RelativePosition.x+r.PositionAndShape.RelativePosition.x+r.PositionAndShape.BorderMarginRight;e-=t.GraphicalLabel.PositionAndShape.Size.height/4,this.calculateSingleLyricWordWithUnderscore(n,s,o,e)}else{const o=n.Measures[n.Measures.length-1].PositionAndShape,a=i.parentMeasure.PositionAndShape.RelativePosition.x+i.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,l=o.RelativePosition.x+o.Size.width;if(e-=t.GraphicalLabel.PositionAndShape.Size.height/4,this.calculateSingleLyricWordWithUnderscore(n,a,l,e),!r)return;if(r!==r.parentMeasure.staffEntries[0]||r.parentMeasure!==r.parentMeasure.ParentStaffLine.Measures[0]){const t=s.Measures[0].staffEntries[0].PositionAndShape.RelativePosition.x,i=r.parentMeasure.PositionAndShape.RelativePosition.x+r.PositionAndShape.RelativePosition.x+r.PositionAndShape.BorderMarginRight;this.calculateSingleLyricWordWithUnderscore(s,t,i,e)}}}calculateSingleLyricWordWithUnderscore(t,e,i,n){const r=new h.PointF2D(e,n),s=new h.PointF2D(i,n),o=new T.GraphicalLine(r,s,this.rules.LyricUnderscoreLineWidth);t.LyricLines.push(o),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t)}calculateRightAndLeftDashesForLyricWord(t,e,i,n){const r=new x.Label("-"),s=new f.GraphicalLabel(r,this.rules.LyricsHeight,p.TextAlignmentEnum.CenterBottom,this.rules);s.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(s),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t),s.PositionAndShape.Parent=t.PositionAndShape;const o=new h.PointF2D(e,n);s.PositionAndShape.RelativePosition=o;const a=new x.Label("-"),l=new f.GraphicalLabel(a,this.rules.LyricsHeight,p.TextAlignmentEnum.CenterBottom,this.rules);l.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(l),l.PositionAndShape.Parent=t.PositionAndShape;const u=new h.PointF2D(i,n);return l.PositionAndShape.RelativePosition=u,l.PositionAndShape.RelativePosition.x-s.PositionAndShape.RelativePosition.x}calculateDynamicExpressions(){const t=Math.min(this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length-1,this.rules.MaxMeasureToDrawIndex);for(let e=Math.min(this.rules.MinMeasureToDrawIndex,this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length);e<=t;e++){const t=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[e];for(let i=0;i<t.StaffLinkedExpressions.length;i++)if(this.graphicalMusicSheet.MeasureList[e][i].ParentStaff.ParentInstrument.Visible)for(let n=0;n<t.StaffLinkedExpressions[i].length;n++)(void 0!==t.StaffLinkedExpressions[i][n].InstantaneousDynamic||void 0!==t.StaffLinkedExpressions[i][n].StartingContinuousDynamic&&t.StaffLinkedExpressions[i][n].StartingContinuousDynamic.StartMultiExpression===t.StaffLinkedExpressions[i][n]&&0===t.StaffLinkedExpressions[i][n].UnknownList.length)&&this.calculateDynamicExpressionsForMultiExpression(t.StaffLinkedExpressions[i][n],e,i)}}calculateOctaveShifts(){for(let t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){const e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t];for(let i=0;i<e.StaffLinkedExpressions.length;i++)if(this.graphicalMusicSheet.MeasureList[t][i].ParentStaff.ParentInstrument.Visible)for(let n=0;n<e.StaffLinkedExpressions[i].length;n++)e.StaffLinkedExpressions[i][n].OctaveShiftStart&&this.calculateSingleOctaveShift(e,e.StaffLinkedExpressions[i][n],t,i)}}getFirstLeftNotNullStaffEntryFromContainer(t,e,i){if(this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e];for(let n=t-1;n>=0;n--)if(this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[n].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[n].StaffEntries[e]}getFirstRightNotNullStaffEntryFromContainer(t,e,i){if(this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e];for(let n=t+1;n<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;n++)if(this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[n].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[n].StaffEntries[e]}calculateWordRepetitionInstructions(){for(let t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){const e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t];for(let i=0,n=e.FirstRepetitionInstructions.length;i<n;++i){const n=e.FirstRepetitionInstructions[i];this.calculateWordRepetitionInstruction(n,t)}for(let i=0,n=e.LastRepetitionInstructions.length;i<n;++i){const n=e.LastRepetitionInstructions[i];this.calculateWordRepetitionInstruction(n,t)}}}calculateRepetitionEndings(){const t=this.graphicalMusicSheet.ParentMusicSheet;for(let e=0,i=t.Repetitions.length;e<i;++e){const i=t.Repetitions[e];this.calcGraphicalRepetitionEndingsRecursively(i)}}calculateTempoExpressions(){const t=Math.min(this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length-1,this.rules.MaxMeasureToDrawIndex);for(let e=this.rules.MinMeasureToDrawIndex;e<=t;e++){const t=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[e];for(let i=0;i<t.TempoExpressions.length;i++)this.calculateTempoExpressionsForMultiTempoExpression(t,t.TempoExpressions[i],e)}}calculateMoodAndUnknownExpressions(){for(let t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){const e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t];for(let i=0;i<e.StaffLinkedExpressions.length;i++)if(this.graphicalMusicSheet.MeasureList[t][i].ParentStaff.ParentInstrument.Visible)for(let n=0;n<e.StaffLinkedExpressions[i].length;n++)(e.StaffLinkedExpressions[i][n].MoodList.length>0||e.StaffLinkedExpressions[i][n].UnknownList.length>0)&&this.calculateMoodAndUnknownExpression(e.StaffLinkedExpressions[i][n],t,i)}}calculateStemDirectionFromVoices(t){if(void 0!==t.ParentSourceStaffEntry.Link)return t===t.ParentSourceStaffEntry.VoiceEntries[0]?void(t.WantedStemDirection=u.StemDirectionType.Up):void(t.WantedStemDirection=u.StemDirectionType.Down);t.ParentVoice instanceof g.LinkedVoice?t.WantedStemDirection=u.StemDirectionType.Down:t.ParentSourceStaffEntry.VoiceEntries.length>1&&(t.WantedStemDirection=u.StemDirectionType.Up)}setBeamNotesWantedStemDirections(t){if(t.WantedStemDirection===u.StemDirectionType.Undefined&&t.Notes.length>0){const e=t.Notes[0].NoteBeam;if(e)for(const i of e.Notes)if(i.ParentVoiceEntry!==t&&i.ParentVoiceEntry.WantedStemDirection!==u.StemDirectionType.Undefined){t.WantedStemDirection=i.ParentVoiceEntry.WantedStemDirection;break}}}}e.MusicSheetCalculator=R},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(45),r=i(2),s=i(2);class o extends n.AbstractNotationInstruction{constructor(t,e=0,i=a.major){super(t),this.Key=e,this.mode=i,this.alteratedNotes=this.calcAlteratedNotes()}static copy(t){return new o(t.parent,t.Key,t.Mode)}static getAllPossibleMajorKeyInstructions(){const t=[];for(let e=-7;e<7;e++){const i=new o(void 0,e,a.major);t.push(i)}return t}get Key(){return this.keyType}set Key(t){this.keyType=t,this.alteratedNotes=this.calcAlteratedNotes()}get Mode(){return this.mode}set Mode(t){this.mode=t}get AlteratedNotes(){return this.alteratedNotes}calcAlteratedNotes(){const t=[];if(this.keyType>0)for(let e=0;e<this.keyType;e++)t.push(o.sharpPositionList[e]);else if(this.keyType<0)for(let e=0;e<-this.keyType;e++)t.push(o.flatPositionList[e]);return t}willAlterateNote(t){return this.alteratedNotes.indexOf(t)>=0}getAlterationForPitch(t){return this.keyType>0&&this.alteratedNotes.indexOf(t.FundamentalNote)<=this.keyType?s.AccidentalEnum.SHARP:this.keyType<0&&this.alteratedNotes.indexOf(t.FundamentalNote)<=Math.abs(this.keyType)?s.AccidentalEnum.FLAT:s.AccidentalEnum.NONE}ToString(){return"Key: "+this.keyType+this.mode}OperatorEquals(t){return this===t||!(!this||!t)&&this.Key===t.Key&&this.Mode===t.Mode}OperatorNotEqual(t){return!this.OperatorEquals(t)}}var a;e.KeyInstruction=o,o.sharpPositionList=[r.NoteEnum.F,r.NoteEnum.C,r.NoteEnum.G,r.NoteEnum.D,r.NoteEnum.A,r.NoteEnum.E,r.NoteEnum.B],o.flatPositionList=[r.NoteEnum.B,r.NoteEnum.E,r.NoteEnum.A,r.NoteEnum.D,r.NoteEnum.G,r.NoteEnum.C,r.NoteEnum.F],e.NoteEnumToHalfToneLink=class{constructor(t,e){this.note=t,this.halfTone=e}},function(t){t[t.major=0]="major",t[t.minor=1]="minor",t[t.none=2]="none",t[t.dorian=3]="dorian",t[t.phrygian=4]="phrygian",t[t.lydian=5]="lydian",t[t.mixolydian=6]="mixolydian",t[t.aeolian=7]="aeolian",t[t.ionian=8]="ionian",t[t.locrian=9]="locrian"}(a=e.KeyEnum||(e.KeyEnum={}))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(30),o=i(2),a=i(46),l=i(2),u=n(i(12));class c{constructor(t,e,i,n=!1,r=!1,s=!1){this.notes=[],this.articulations=[],this.technicalInstructions=[],this.lyricsEntries=new u.default,this.wantedStemDirection=d.Undefined,this.stemDirectionXml=d.Undefined,this.stemDirection=d.Undefined,this.timestamp=t,this.parentVoice=e,this.parentSourceStaffEntry=i,this.isGrace=n,this.graceAfterMainNote=!1,this.graceNoteSlash=r,this.graceSlur=s}get ParentSourceStaffEntry(){return this.parentSourceStaffEntry}get ParentVoice(){return this.parentVoice}get Timestamp(){return this.timestamp}set Timestamp(t){this.timestamp=t}get Notes(){return this.notes}get IsGrace(){return this.isGrace}set IsGrace(t){this.isGrace=t}get GraceAfterMainNote(){return this.graceAfterMainNote}set GraceAfterMainNote(t){this.graceAfterMainNote=t}get GraceNoteSlash(){return this.graceNoteSlash}set GraceNoteSlash(t){this.graceNoteSlash=t}get GraceSlur(){return this.graceSlur}set GraceSlur(t){this.graceSlur=t}get Articulations(){return this.articulations}get TechnicalInstructions(){return this.technicalInstructions}get LyricsEntries(){return this.lyricsEntries}get Arpeggio(){return this.arpeggio}set Arpeggio(t){this.arpeggio=t}get OrnamentContainer(){return this.ornamentContainer}set OrnamentContainer(t){this.ornamentContainer=t}set WantedStemDirection(t){this.wantedStemDirection=t}get WantedStemDirection(){return this.wantedStemDirection}set StemDirectionXml(t){this.stemDirectionXml=t}get StemDirectionXml(){return this.stemDirectionXml}set StemDirection(t){this.stemDirection=t}get StemDirection(){return this.stemDirection}get StemColorXml(){return this.stemColorXml}set StemColorXml(t){this.stemColorXml=t}get StemColor(){return this.stemColor}set StemColor(t){this.stemColor=t}static isSupportedArticulation(t){switch(t){case h.accent:case h.strongaccent:case h.invertedstrongaccent:case h.staccato:case h.staccatissimo:case h.spiccato:case h.tenuto:case h.fermata:case h.invertedfermata:case h.breathmark:case h.caesura:case h.lefthandpizzicato:case h.naturalharmonic:case h.snappizzicato:case h.upbow:case h.downbow:return!0;default:return!1}}hasTie(){for(let t=0,e=this.Notes.length;t<e;++t)if(this.Notes[t].NoteTie)return!0;return!1}hasSlur(){for(let t=0,e=this.Notes.length;t<e;++t)if(this.Notes[t].NoteSlurs.length>0)return!0;return!1}isStaccato(){for(let t=0,e=this.Articulations.length;t<e;++t)if(this.Articulations[t]===h.staccato)return!0;return!1}isAccent(){for(let t=0,e=this.Articulations.length;t<e;++t){const e=this.Articulations[t];if(e===h.accent||e===h.strongaccent)return!0}return!1}getVerseNumberForLyricEntry(t){let e=1;return this.lyricsEntries.forEach((i,n)=>{t===n&&(e=i)}),e}createVoiceEntriesForOrnament(t,e){t||(t=this);const i=[];if(!t.ornamentContainer)return;const n=this.notes[0],s=n.Length,o=t.ParentVoice,u=t.Timestamp;let c=r.Fraction.createFromFraction(u);switch(t.ornamentContainer.GetOrnament){case a.OrnamentEnum.Trill:{const a=new r.Fraction(s.Numerator,8*s.Denominator),h=n.Pitch.getTransposedPitch(1);let d=e.getAlterationForPitch(h);t.OrnamentContainer.AccidentalAbove!==l.AccidentalEnum.NONE&&(d=t.ornamentContainer.AccidentalAbove);for(let t=0;t<8;t++)c=r.Fraction.plus(u,new r.Fraction(t*a.Numerator,a.Denominator)),t%2==0?this.createBaseVoiceEntry(c,a,o,n,i):this.createAlteratedVoiceEntry(c,a,o,h,d,i);break}case a.OrnamentEnum.Turn:{const t=new r.Fraction(s.Numerator,4*s.Denominator),a=n.Pitch.getTransposedPitch(-1),l=e.getAlterationForPitch(a),u=n.Pitch.getTransposedPitch(1),h=e.getAlterationForPitch(u);this.createAlteratedVoiceEntry(c,t,o,u,h,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,n,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,a,l,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,n,i);break}case a.OrnamentEnum.InvertedTurn:{const t=new r.Fraction(s.Numerator,4*s.Denominator),a=n.Pitch.getTransposedPitch(-1),l=e.getAlterationForPitch(a),u=n.Pitch.getTransposedPitch(1),h=e.getAlterationForPitch(u);this.createAlteratedVoiceEntry(c,t,o,a,l,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,n,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,u,h,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,n,i);break}case a.OrnamentEnum.DelayedTurn:{const t=new r.Fraction(s.Numerator,2*s.Denominator),a=n.Pitch.getTransposedPitch(-1),l=e.getAlterationForPitch(a),h=n.Pitch.getTransposedPitch(1),d=e.getAlterationForPitch(h);this.createBaseVoiceEntry(c,t,o,n,i),c=r.Fraction.plus(u,t),t.Denominator=8*s.Denominator,this.createAlteratedVoiceEntry(c,t,o,h,d,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,n,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,a,l,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,n,i);break}case a.OrnamentEnum.DelayedInvertedTurn:{const t=new r.Fraction(s.Numerator,2*s.Denominator),a=n.Pitch.getTransposedPitch(-1),l=e.getAlterationForPitch(a),h=n.Pitch.getTransposedPitch(1),d=e.getAlterationForPitch(h);this.createBaseVoiceEntry(c,t,o,n,i),c=r.Fraction.plus(u,t),t.Denominator=8*s.Denominator,this.createAlteratedVoiceEntry(c,t,o,a,l,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,n,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,h,d,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,n,i);break}case a.OrnamentEnum.Mordent:{const t=new r.Fraction(s.Numerator,4*s.Denominator),a=n.Pitch.getTransposedPitch(1),l=e.getAlterationForPitch(a);this.createBaseVoiceEntry(c,t,o,n,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,a,l,i),t.Denominator=2*s.Denominator,c=r.Fraction.plus(u,t),this.createBaseVoiceEntry(c,t,o,n,i);break}case a.OrnamentEnum.InvertedMordent:{const t=new r.Fraction(s.Numerator,4*s.Denominator),a=n.Pitch.getTransposedPitch(-1),l=e.getAlterationForPitch(a);this.createBaseVoiceEntry(c,t,o,n,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,a,l,i),t.Denominator=2*s.Denominator,c=r.Fraction.plus(u,t),this.createBaseVoiceEntry(c,t,o,n,i);break}default:throw new RangeError}return i}createBaseVoiceEntry(t,e,i,n,r){const a=new c(t,i,n.ParentStaffEntry),l=new o.Pitch(n.Pitch.FundamentalNote,n.Pitch.Octave,n.Pitch.Accidental),u=new s.Note(a,void 0,e,l);a.Notes.push(u),r.push(a)}createAlteratedVoiceEntry(t,e,i,n,r,a){const l=new c(t,i,void 0),u=new o.Pitch(n.FundamentalNote,n.Octave,r),h=new s.Note(l,void 0,e,u);l.Notes.push(h),a.push(l)}}var h,d;e.VoiceEntry=c,function(t){t[t.accent=0]="accent",t[t.strongaccent=1]="strongaccent",t[t.invertedstrongaccent=2]="invertedstrongaccent",t[t.staccato=3]="staccato",t[t.staccatissimo=4]="staccatissimo",t[t.spiccato=5]="spiccato",t[t.tenuto=6]="tenuto",t[t.fermata=7]="fermata",t[t.invertedfermata=8]="invertedfermata",t[t.breathmark=9]="breathmark",t[t.caesura=10]="caesura",t[t.lefthandpizzicato=11]="lefthandpizzicato",t[t.naturalharmonic=12]="naturalharmonic",t[t.snappizzicato=13]="snappizzicato",t[t.upbow=14]="upbow",t[t.downbow=15]="downbow",t[t.scoop=16]="scoop",t[t.plop=17]="plop",t[t.doit=18]="doit",t[t.falloff=19]="falloff",t[t.stress=20]="stress",t[t.unstress=21]="unstress",t[t.detachedlegato=22]="detachedlegato",t[t.otherarticulation=23]="otherarticulation"}(h=e.ArticulationEnum||(e.ArticulationEnum={})),function(t){t[t.Undefined=-1]="Undefined",t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.None=2]="None",t[t.Double=3]="Double"}(d=e.StemDirectionType||(e.StemDirectionType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(45);class r extends n.AbstractNotationInstruction{constructor(t,e){super(void 0),this.rhythm=t,this.numerator=t.Numerator,this.denominator=t.Denominator,this.symbolEnum=e}get Rhythm(){return this.rhythm}set Rhythm(t){this.rhythm=t}get SymbolEnum(){return this.symbolEnum}set SymbolEnum(t){this.symbolEnum=t}clone(){return new r(this.rhythm.clone(),this.symbolEnum)}OperatorEquals(t){return this===t||!(!this||!t)&&this.numerator===t.numerator&&this.denominator===t.denominator}OperatorNotEqual(t){return!(this===t)}ToString(){return"Rhythm: "+this.rhythm.toString()}}e.RhythmInstruction=r,function(t){t[t.NONE=0]="NONE",t[t.COMMON=1]="COMMON",t[t.CUT=2]="CUT"}(e.RhythmSymbolEnum||(e.RhythmSymbolEnum={}))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10)),s=i(8),o=i(2),a=i(17),l=i(15),u=i(2),c=i(2),h=i(32),d=i(23),f=i(87),p=i(21),m=n(i(1)),g=i(16),y=i(36),v=i(46),b=i(62),_=i(19),S=i(39);class w{static duration(t,e){const i=t.RealValue;return i>=1?"w":i<1&&i>=.5?e&&i>.5?"w":"h":i<.5&&i>=.25?e&&i>.25?"h":"q":i<.25&&i>=.125?e&&i>.125?"q":"8":i<.125&&i>=.0625?e&&i>.0625?"8":"16":i<.0625&&i>=.03125?e&&i>.03125?"16":"32":i<.03125&&i>=.015625?e&&i>.015625?"32":"64":e?"64":"128"}static pitch(t,e){const i=c.NoteEnum[e.FundamentalNote].toLowerCase(),n=o.Pitch.accidentalVexflow(e.Accidental),r=e.Octave-t.Clef().OctaveOffset+3,s=t.sourceNote.Notehead;let a="";return s&&(a=this.NoteHeadCode(s)),[i+"n/"+r+a,n,t.Clef()]}static NoteHeadCode(t){const e=t.Filled?"2":"1";switch(t.Shape){case b.NoteHeadShape.NORMAL:return"";case b.NoteHeadShape.DIAMOND:return"/D"+e;case b.NoteHeadShape.TRIANGLE:return"/T"+e;case b.NoteHeadShape.X:return"/X"+e;case b.NoteHeadShape.CIRCLEX:return"/X3";case b.NoteHeadShape.RECTANGLE:return"/R"+e;case b.NoteHeadShape.SQUARE:return"/S"+e;case b.NoteHeadShape.SLASH:default:return""}}static GhostNote(t){return new r.default.Flow.GhostNote({duration:w.duration(t,!1)})}static StaveNote(t){var e,i;const n=t.notes.reverse(),s=t.parentStaffEntry.parentMeasure.parentSourceMeasure.Rules,o=n[0];let a=[];const l=[],u=o.graphicalNoteLength,c=void 0!==o.sourceNote.NoteTuplet;let h=w.duration(u,c);void 0!==o.sourceNote.TypeLength&&o.sourceNote.TypeLength!==u&&(h=w.duration(o.sourceNote.TypeLength,c));let d,f=void 0,p=o.numberOfDots,m=!1,y=0,v=!1,S=!1;for(const r of n){if(p<r.numberOfDots&&(p=r.numberOfDots),r.sourceNote.isRest()){if(S=!0,a=["b/4"],r.parentVoiceEntry.parentStaffEntry.parentMeasure.parentSourceMeasure.Duration.RealValue<=u.RealValue&&(a=["d/5"],h="w",p=0,m=!0,y=s.WholeRestXShiftVexflow*_.unitInPixels),r.sourceNote.ParentStaff.Voices.length>1){let t=0;for(let e=0;e<r.sourceNote.ParentStaffEntry.VoiceEntries.length;e++)r.sourceNote.ParentStaffEntry.VoiceEntries[e].Notes[0].PrintObject&&t++;if(t>1)switch(null===(i=null===(e=r.sourceNote.ParentVoiceEntry)||void 0===e?void 0:e.ParentVoice)||void 0===i?void 0:i.VoiceId){case 1:a=["e/5"];break;case 2:a=["f/4"]}}break}r.sourceNote.Notehead&&r.sourceNote.Notehead.Shape===b.NoteHeadShape.SLASH&&(v=!0);const t=r.vfpitch;a.push(t[0]),l.push(t[1]),f||(f=w.Clef(t[2]).type)}for(let r=0,g=p;r<g;++r)h+="d";v&&(h+="s"),S&&(h+="r");const T={align_center:m,auto_stem:!0,clef:f,duration:h,keys:a,slash:t.parentVoiceEntry.GraceNoteSlash},x=t.notes[0].sourceNote;if(x.IsCueNote&&(T.glyph_font_scale=r.default.Flow.DEFAULT_NOTATION_FONT_SCALE*r.default.Flow.GraceNote.SCALE,T.stroke_px=r.default.Flow.GraceNote.LEDGER_LINE_OFFSET),d=t.parentVoiceEntry.IsGrace||t.notes[0].sourceNote.IsCueNote?new r.default.Flow.GraceNote(T):new r.default.Flow.StaveNote(T),(s.LedgerLineWidth||s.LedgerLineStrokeStyle)&&(d.ledgerLineStyle||(d.ledgerLineStyle={}),s.LedgerLineWidth&&(d.ledgerLineStyle.lineWidth=s.LedgerLineWidth),s.LedgerLineStrokeStyle&&(d.ledgerLineStyle.strokeStyle=s.LedgerLineStrokeStyle)),s.ColoringEnabled){const e=s.DefaultColorStem;let i=t.parentVoiceEntry.StemColor;!i&&e&&(i=e);const n={fillStyle:i,strokeStyle:i};i&&(t.parentVoiceEntry.StemColor=i,d.setStemStyle(n),d.flag&&s.ColorFlags&&d.setFlagStyle(n))}if(d.x_shift=y,t.parentVoiceEntry.IsGrace&&t.notes[0].sourceNote.NoteBeam&&(t.parentVoiceEntry.WantedStemDirection=t.notes[0].sourceNote.NoteBeam.Notes[0].ParentVoiceEntry.WantedStemDirection),t.parentVoiceEntry)switch(t.parentVoiceEntry.WantedStemDirection){case g.StemDirectionType.Up:d.setStemDirection(r.default.Flow.Stem.UP);break;case g.StemDirectionType.Down:d.setStemDirection(r.default.Flow.Stem.DOWN)}for(let g=0,b=n.length;g<b;g+=1){if(n[g].setIndex(d,g),l[g]){if("++"===l[g]){d.addAccidental(g,new r.default.Flow.Accidental("##")),d.addAccidental(g,new r.default.Flow.Accidental("#"));continue}if("bbs"===l[g]){d.addAccidental(g,new r.default.Flow.Accidental("bb")),d.addAccidental(g,new r.default.Flow.Accidental("b"));continue}d.addAccidental(g,new r.default.Flow.Accidental(l[g]))}const t=n[g].sourceNote.TremoloStrokes;t>0&&d.addModifier(g,new r.default.Flow.Tremolo(t))}if(.25===x.Length.RealValue&&x.Notehead&&!1===x.Notehead.Filled){const t=d.getKeyProps();for(let e=0;e<t.length;e++)t[e].code="v81"}for(let r=0,g=p;r<g;++r)d.addDotToAll();return d}static generateArticulations(t,e){if(!t||"GhostNote"===t.getAttribute("type"))return;let i=3;t.getStemDirection()===r.default.Flow.Stem.UP&&(i=4);for(const n of e){let e=void 0;switch(n){case g.ArticulationEnum.accent:e=new r.default.Flow.Articulation("a>");break;case g.ArticulationEnum.downbow:e=new r.default.Flow.Articulation("am");break;case g.ArticulationEnum.fermata:e=new r.default.Flow.Articulation("a@a"),i=3;break;case g.ArticulationEnum.invertedfermata:e=new r.default.Flow.Articulation("a@u"),i=4;break;case g.ArticulationEnum.lefthandpizzicato:e=new r.default.Flow.Articulation("a+");break;case g.ArticulationEnum.snappizzicato:e=new r.default.Flow.Articulation("ao");break;case g.ArticulationEnum.staccatissimo:e=new r.default.Flow.Articulation("av");break;case g.ArticulationEnum.staccato:e=new r.default.Flow.Articulation("a.");break;case g.ArticulationEnum.tenuto:e=new r.default.Flow.Articulation("a-");break;case g.ArticulationEnum.upbow:e=new r.default.Flow.Articulation("a|");break;case g.ArticulationEnum.strongaccent:e=new r.default.Flow.Articulation("a^")}e&&(e.setPosition(i),t.addModifier(0,e))}}static generateOrnaments(t,e){let i=3;t.getStemDirection()===r.default.Flow.Stem.UP&&(i=4);let n=void 0;switch(e.GetOrnament){case v.OrnamentEnum.DelayedInvertedTurn:n=new r.default.Flow.Ornament("turn_inverted"),n.setDelayed(!0);break;case v.OrnamentEnum.DelayedTurn:n=new r.default.Flow.Ornament("turn"),n.setDelayed(!0);break;case v.OrnamentEnum.InvertedMordent:n=new r.default.Flow.Ornament("mordent_inverted"),n.setDelayed(!1);break;case v.OrnamentEnum.InvertedTurn:n=new r.default.Flow.Ornament("turn_inverted"),n.setDelayed(!1);break;case v.OrnamentEnum.Mordent:n=new r.default.Flow.Ornament("mordent"),n.setDelayed(!1);break;case v.OrnamentEnum.Trill:n=new r.default.Flow.Ornament("tr"),n.setDelayed(!1);break;case v.OrnamentEnum.Turn:n=new r.default.Flow.Ornament("turn"),n.setDelayed(!1);break;default:return void m.default.warn("unhandled OrnamentEnum type: "+e.GetOrnament)}n&&(e.AccidentalBelow!==u.AccidentalEnum.NONE&&n.setLowerAccidental(o.Pitch.accidentalVexflow(e.AccidentalBelow)),e.AccidentalAbove!==u.AccidentalEnum.NONE&&n.setUpperAccidental(o.Pitch.accidentalVexflow(e.AccidentalAbove)),n.setPosition(i),t.addModifier(0,n))}static StrokeTypeFromArpeggioType(t){switch(t){case S.ArpeggioType.ARPEGGIO_DIRECTIONLESS:return 7;case S.ArpeggioType.BRUSH_DOWN:return 2;case S.ArpeggioType.BRUSH_UP:return 1;case S.ArpeggioType.RASQUEDO_DOWN:return 6;case S.ArpeggioType.RASQUEDO_UP:return 5;case S.ArpeggioType.ROLL_DOWN:return 4;case S.ArpeggioType.ROLL_UP:return 3;default:return 7}}static CreateTabNote(t){const e=[],i=t.notes[0].graphicalNoteLength,n=void 0!==t.notes[0].sourceNote.NoteTuplet;let s=w.duration(i,n),o=0;for(const r of t.notes){const t=r.sourceNote,i={str:t.StringNumber,fret:t.FretNumber};e.push(i),o<r.numberOfDots&&(o=r.numberOfDots)}for(let r=0,a=o;r<a;++r)s+="d";return new r.default.Flow.TabNote({duration:s,positions:e})}static Clef(t,e="default"){let i,n;switch("default"!==e&&"small"!==e&&(m.default.warn(`Invalid VexFlow clef size "${e}" specified. Using "default".`),e="default"),t.ClefType){case s.ClefEnum.G:switch(t.Line){case 1:i="french";break;case 2:i="treble";break;default:i="treble",m.default.error(`Clef ${s.ClefEnum[t.ClefType]} on line ${t.Line} not supported by VexFlow. Using default value "${i}".`)}break;case s.ClefEnum.F:switch(t.Line){case 4:i="bass";break;case 3:i="baritone-f";break;case 5:i="subbass";break;default:i="bass",m.default.error(`Clef ${s.ClefEnum[t.ClefType]} on line ${t.Line} not supported by VexFlow. Using default value "${i}".`)}break;case s.ClefEnum.C:switch(t.Line){case 3:i="alto";break;case 4:i="tenor";break;case 1:i="soprano";break;case 2:i="mezzo-soprano";break;default:i="alto",m.default.error(`Clef ${s.ClefEnum[t.ClefType]} on line ${t.Line} not supported by VexFlow. Using default value "${i}".`)}break;case s.ClefEnum.percussion:i="percussion";break;case s.ClefEnum.TAB:i="treble"}return 1===t.OctaveOffset&&"bass"!==i?n="8va":-1===t.OctaveOffset&&(n="8vb"),{type:i,size:e,annotation:n}}static TimeSignature(t){let e;switch(t.SymbolEnum){case a.RhythmSymbolEnum.NONE:e=t.Rhythm.Numerator+"/"+t.Rhythm.Denominator;break;case a.RhythmSymbolEnum.COMMON:e="C";break;case a.RhythmSymbolEnum.CUT:e="C|"}return new r.default.Flow.TimeSignature(e)}static keySignature(t){if(!t)return;let e;switch(t.Mode){case l.KeyEnum.minor:e=w.minorMap[t.Key]+"m";break;case l.KeyEnum.major:case l.KeyEnum.none:e=w.majorMap[t.Key];break;default:e="C"}return e}static line(t,e){switch(t){case h.SystemLinesEnum.SingleThin:return e===y.SystemLinePosition.MeasureBegin?1:0;case h.SystemLinesEnum.DoubleThin:return 2;case h.SystemLinesEnum.ThinBold:return 6;case h.SystemLinesEnum.BoldThinDots:return 5;case h.SystemLinesEnum.DotsThinBold:case h.SystemLinesEnum.DotsBoldBoldDots:return 6;case h.SystemLinesEnum.None:return 8}}static font(t,e=d.FontStyles.Regular,i=f.Fonts.TimesNewRoman,n,r){let s="normal",o="normal",a=`'${n.DefaultFontFamily}'`;switch(e){case d.FontStyles.Bold:o="bold";break;case d.FontStyles.Italic:s="italic";break;case d.FontStyles.BoldItalic:s="italic",o="bold";break;case d.FontStyles.Underlined:}switch(i){case f.Fonts.Kokila:}return r&&"default"!==r&&(a=`'${r}'`),s+" "+o+" "+Math.floor(t)+"px "+a}static fontStyle(t){switch(t){case d.FontStyles.Bold:return"bold";case d.FontStyles.Italic:return"italic";case d.FontStyles.BoldItalic:return"italic bold";default:return"normal"}}static style(t){return p.OUTLINE_AND_FILL_STYLE_DICT.getValue(t)}}e.VexFlowConverter=w,w.majorMap={"-1":"F","-2":"Bb","-3":"Eb","-4":"Ab","-5":"Db","-6":"Gb","-7":"Cb","-8":"Fb",0:"C",1:"G",2:"D",3:"A",4:"E",5:"B",6:"F#",7:"C#",8:"G#"},w.minorMap={"-1":"D","-2":"G","-3":"C","-4":"F","-5":"Bb","-6":"Eb","-7":"Ab","-8":"Db",0:"A",1:"E",2:"B",3:"F#",4:"C#",5:"G#",6:"D#",7:"A#",8:"E#"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(101),r=i(52),s=i(4),o=i(64),a=i(21),l=i(6),u=i(56),c=i(65),h=i(1),d=i(49),f=i(28),p=i(94);e.unitInPixels=10;class m extends n.MusicSheetDrawer{constructor(t=new f.DrawingParameters){super(new o.VexFlowTextMeasurer(t.Rules),t),this.backends=[],this.zoom=1,this.pageIdx=0}get Backends(){return this.backends}drawSheet(t){this.pageIdx=0;for(const e of t.MusicPages){const t=this.backends[this.pageIdx];t.graphicalMusicPage=e,t.scale(this.zoom),this.pageIdx+=1}this.pageIdx=0,this.backend=this.backends[0],super.drawSheet(t)}drawPage(t){this.backend=this.backends[t.PageNumber-1],super.drawPage(t),this.pageIdx+=1,this.backend=this.backends[this.pageIdx]}clear(){for(const t of this.backends)t.clear()}setZoom(t){this.zoom=t}calculatePixelDistance(t){return t*e.unitInPixels}drawStaffLine(t){super.drawStaffLine(t);const e=t.PositionAndShape.AbsolutePosition;this.rules.RenderSlurs&&this.drawSlurs(t,e)}drawSlurs(t,e){for(const i of t.GraphicalSlurs)i.slur.isCrossed()||this.drawSlur(i,e)}drawSlur(t,e){const i=[],n=new s.PointF2D(t.bezierStartPt.x+e.x,t.bezierStartPt.y+e.y),r=new s.PointF2D(t.bezierStartControlPt.x+e.x,t.bezierStartControlPt.y+e.y),o=new s.PointF2D(t.bezierEndControlPt.x+e.x,t.bezierEndControlPt.y+e.y),a=new s.PointF2D(t.bezierEndPt.x+e.x,t.bezierEndPt.y+e.y);i.push(this.applyScreenTransformation(n)),i.push(this.applyScreenTransformation(r)),i.push(this.applyScreenTransformation(o)),i.push(this.applyScreenTransformation(a)),t.placement===l.PlacementEnum.Above?(n.y-=.05,r.y-=.3,o.y-=.3,a.y-=.05):(n.y+=.05,r.y+=.3,o.y+=.3,a.y+=.05),i.push(this.applyScreenTransformation(n)),i.push(this.applyScreenTransformation(r)),i.push(this.applyScreenTransformation(o)),i.push(this.applyScreenTransformation(a)),this.backend.renderCurve(i)}drawMeasure(t){t.setAbsoluteCoordinates(t.PositionAndShape.AbsolutePosition.x*e.unitInPixels,t.PositionAndShape.AbsolutePosition.y*e.unitInPixels);try{t.draw(this.backend.getContext())}catch(t){h.warn("VexFlowMusicSheetDrawer.drawMeasure",t)}for(const e of t.staffEntries)this.drawStaffEntry(e)}drawLine(t,i,n="#FF0000FF",r=.2){t=this.applyScreenTransformation(t),i=this.applyScreenTransformation(i),this.backend.renderLine(t,i,n,r*e.unitInPixels)}DrawOverlayLine(t,i,n,r="#FF0000FF",s=.2){if(!n.PageNumber||n.PageNumber>this.backends.length||n.PageNumber<1)return void console.log("VexFlowMusicSheetDrawer.drawOverlayLine: invalid page number / music page number doesn't correspond to an existing backend.");const o=n.PageNumber-1,a=this.backends[o];t=this.applyScreenTransformation(t),i=this.applyScreenTransformation(i),a.renderLine(t,i,r,s*e.unitInPixels)}drawSkyLine(t){const e=t.PositionAndShape.AbsolutePosition,i=t.PositionAndShape.Size.width;this.drawSampledLine(t.SkyLine,e,i)}drawBottomLine(t){const e=new s.PointF2D(t.PositionAndShape.AbsolutePosition.x,t.PositionAndShape.AbsolutePosition.y),i=t.PositionAndShape.Size.width;this.drawSampledLine(t.BottomLine,e,i,"#0000FFFF")}drawSampledLine(t,e,i,n="#FF0000FF"){const r=[];let o=0;for(let s=0;s<t.length;s++)t[s]!==o&&(r.push(s),o=t[s]);const a=e;if(r.length>0){const e=this.rules.SamplingUnit;let o,l,u=new s.PointF2D(a.x,a.y),c=new s.PointF2D(r[0]/e+a.x,a.y);this.drawLine(u,c,n),t[0]>=0&&(o=new s.PointF2D(r[0]/e+a.x,a.y),l=new s.PointF2D(r[0]/e+a.x,a.y+t[r[0]]),this.drawLine(o,l,n));for(let i=1;i<r.length;i++)u=new s.PointF2D(r[i-1]/e+a.x,a.y+t[r[i-1]]),c=new s.PointF2D(r[i]/e+a.x,a.y+t[r[i-1]]),this.drawLine(u,c,n),o=new s.PointF2D(r[i]/e+a.x,a.y+t[r[i-1]]),l=new s.PointF2D(r[i]/e+a.x,a.y+t[r[i]]),this.drawLine(o,l,n);r[r.length-1]<t.length?(u=new s.PointF2D(r[r.length-1]/e+a.x,a.y+t[r[r.length-1]]),c=new s.PointF2D(a.x+i,a.y+t[r[r.length-1]]),this.drawLine(u,c,n)):(u=new s.PointF2D(r[r.length-1]/e+a.x,a.y),c=new s.PointF2D(a.x+i,a.y),this.drawLine(u,c,n))}else{const t=new s.PointF2D(a.x,a.y),e=new s.PointF2D(a.x+i,a.y);this.drawLine(t,e,n)}}drawStaffEntry(t){if(void 0!==t.graphicalChordContainers&&t.graphicalChordContainers.length>0)for(const e of t.graphicalChordContainers)this.drawLabel(e.GetGraphicalLabel,a.GraphicalLayers.Notes);this.rules.RenderLyrics&&t.LyricsEntries.length>0&&this.drawLyrics(t.LyricsEntries,a.GraphicalLayers.Notes)}drawLyrics(t,e){t.forEach(t=>this.drawLabel(t.GraphicalLabel,e))}drawInstrumentBrace(t,e){t.draw(this.backend.getContext())}drawGroupBracket(t,e){t.draw(this.backend.getContext())}drawOctaveShifts(t){for(const e of t.OctaveShifts)if(e){const t=e,i=this.backend.getContext(),n=t.getTextBracket();n.setContext(i),n.draw()}}drawExpressions(t){for(const e of t.AbstractExpressions)e instanceof c.GraphicalInstantaneousDynamicExpression?this.drawInstantaneousDynamic(e):e instanceof u.GraphicalInstantaneousTempoExpression?this.drawLabel(e.GraphicalLabel,a.GraphicalLayers.Notes):e instanceof d.GraphicalContinuousDynamicExpression?this.drawContinuousDynamic(e):e instanceof p.GraphicalUnknownExpression?this.drawLabel(e.Label,a.GraphicalLayers.Notes):h.warn("Unkown type of expression!")}drawInstantaneousDynamic(t){this.drawLabel(t.Label,a.GraphicalLayers.Notes)}drawContinuousDynamic(t){if(t.IsVerbal)this.drawLabel(t.Label,a.GraphicalLayers.Notes);else for(const e of t.Lines){const i=new s.PointF2D(t.ParentStaffLine.PositionAndShape.AbsolutePosition.x+e.Start.x,t.ParentStaffLine.PositionAndShape.AbsolutePosition.y+e.Start.y),n=new s.PointF2D(t.ParentStaffLine.PositionAndShape.AbsolutePosition.x+e.End.x,t.ParentStaffLine.PositionAndShape.AbsolutePosition.y+e.End.y);this.drawLine(i,n,"black",e.Width)}}renderLabel(t,i,n,r,s,o){const a=t.Label.fontHeight*e.unitInPixels,{font:l,text:u}=t.Label;let c;this.rules.ColoringEnabled&&(c=t.Label.colorDefault,c||(c=this.rules.DefaultColorLabel));let{fontStyle:h,fontFamily:d}=t.Label;h||(h=this.rules.DefaultFontStyle),d||(d=this.rules.DefaultFontFamily),this.backend.renderText(a,h,l,u,s,o,c,t.Label.fontFamily)}renderRectangle(t,e,i,n){this.backend.renderRectangle(t,i,n)}applyScreenTransformation(t){return new s.PointF2D(t.x*e.unitInPixels,t.y*e.unitInPixels)}applyScreenTransformationForRect(t){return new r.RectangleF2D(t.x*e.unitInPixels,t.y*e.unitInPixels,t.width*e.unitInPixels,t.height*e.unitInPixels)}}e.VexFlowMusicSheetDrawer=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(21);e.GraphicalLine=class{constructor(t,e,i=0,r=n.OutlineAndFillStyleEnum.BaseWritingColor){this.start=t,this.end=e,this.width=i,this.styleId=r}get Start(){return this.start}set Start(t){this.start=t}get End(){return this.end}set End(t){this.end=t}get Width(){return this.width}set Width(t){this.width=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(43);var r;!function(t){t[t.BaseWritingColor=0]="BaseWritingColor",t[t.FollowingCursor=1]="FollowingCursor",t[t.AlternativeFollowingCursor=2]="AlternativeFollowingCursor",t[t.PlaybackCursor=3]="PlaybackCursor",t[t.Highlighted=4]="Highlighted",t[t.ErrorUnderlay=5]="ErrorUnderlay",t[t.Selected=6]="Selected",t[t.SelectionSymbol=7]="SelectionSymbol",t[t.DebugColor1=8]="DebugColor1",t[t.DebugColor2=9]="DebugColor2",t[t.DebugColor3=10]="DebugColor3",t[t.SplitScreenDivision=11]="SplitScreenDivision",t[t.GreyTransparentOverlay=12]="GreyTransparentOverlay",t[t.MarkedArea1=13]="MarkedArea1",t[t.MarkedArea2=14]="MarkedArea2",t[t.MarkedArea3=15]="MarkedArea3",t[t.MarkedArea4=16]="MarkedArea4",t[t.MarkedArea5=17]="MarkedArea5",t[t.MarkedArea6=18]="MarkedArea6",t[t.MarkedArea7=19]="MarkedArea7",t[t.MarkedArea8=20]="MarkedArea8",t[t.MarkedArea9=21]="MarkedArea9",t[t.MarkedArea10=22]="MarkedArea10",t[t.Comment1=23]="Comment1",t[t.Comment2=24]="Comment2",t[t.Comment3=25]="Comment3",t[t.Comment4=26]="Comment4",t[t.Comment5=27]="Comment5",t[t.Comment6=28]="Comment6",t[t.Comment7=29]="Comment7",t[t.Comment8=30]="Comment8",t[t.Comment9=31]="Comment9",t[t.Comment10=32]="Comment10"}(r=e.OutlineAndFillStyleEnum||(e.OutlineAndFillStyleEnum={})),e.OUTLINE_AND_FILL_STYLE_DICT=new n.Dictionary,e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.BaseWritingColor,"Thistle"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.FollowingCursor,"Aqua"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.AlternativeFollowingCursor,"Azure"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.PlaybackCursor,"Bisque"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Highlighted,"CadetBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.ErrorUnderlay,"DarkBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Selected,"DarkGoldenRod"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.SelectionSymbol,"BlanchedAlmond"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.DebugColor1,"Chartreuse"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.DebugColor2,"DarkGreen"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.DebugColor3,"DarkOrange"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.SplitScreenDivision,"FireBrick"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.GreyTransparentOverlay,"DarkSalmon"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea1,"DarkSeaGreen"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea2,"DarkOrchid"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea3,"Aquamarine"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea4,"DarkKhaki"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea5,"ForestGreen"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea6,"AliceBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea7,"DeepPink"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea8,"Coral"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea9,"DarkOliveGreen"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.MarkedArea10,"Chocolate"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment1,"DodgerBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment2,"Blue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment3,"Beige"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment4,"Crimson"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment5,"Fuchsia"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment6,"Brown"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment7,"BlanchedAlmond"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment8,"CornflowerBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment9,"Cornsilk"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(r.Comment10,"DarkGrey"),function(t){t[t.MarkedArea=0]="MarkedArea",t[t.Comment=1]="Comment"}(e.StyleSets||(e.StyleSets={})),function(t){t[t.Background=0]="Background",t[t.Highlight=1]="Highlight",t[t.MeasureError=2]="MeasureError",t[t.SelectionSymbol=3]="SelectionSymbol",t[t.Cursor=4]="Cursor",t[t.PSI_Debug=5]="PSI_Debug",t[t.Notes=6]="Notes",t[t.Comment=7]="Comment",t[t.Debug_above=8]="Debug_above"}(e.GraphicalLayers||(e.GraphicalLayers={})),function(t){t[t.Normal=0]="Normal",t[t.Selected=1]="Selected",t[t.Follow_Confirmed=2]="Follow_Confirmed",t[t.QFeedback_NotFound=3]="QFeedback_NotFound",t[t.QFeedback_OK=4]="QFeedback_OK",t[t.QFeedback_Perfect=5]="QFeedback_Perfect",t[t.Debug1=6]="Debug1",t[t.Debug2=7]="Debug2",t[t.Debug3=8]="Debug3"}(e.NoteState||(e.NoteState={})),function(t){t.C="#d82c6b",t.D="#F89D15",t.E="#FFE21A",t.F="#4dbd5c",t.G="#009D96",t.A="#43469d",t.B="#76429c",t.Rest="#000000"}(e.AutoColorSet||(e.AutoColorSet={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(7),r=i(3),s=i(90),o=i(14);class a extends s.Clickable{constructor(t,e,i,n,s){super(),this.label=t,this.boundingBox=new r.BoundingBox(this,s),this.label.fontHeight=e,this.label.textAlignment=i,this.rules=n}get Label(){return this.label}toString(){return`${this.label.text} (${this.boundingBox.RelativePosition.x},${this.boundingBox.RelativePosition.y})`}setLabelPositionAndShapeBorders(){var t,e;if(""===this.Label.text.trim())return;const i=null!==(e=null===(t=this.rules)||void 0===t?void 0:t.LabelMarginBorderFactor)&&void 0!==e?e:.1,r=o.MusicSheetCalculator.TextMeasurer.computeTextWidthToHeightRatio(this.Label.text,this.Label.font,this.Label.fontStyle,this.label.fontFamily),s=this.Label.fontHeight,a=s*r,l=this.PositionAndShape;switch(this.Label.textAlignment){case n.TextAlignmentEnum.CenterBottom:l.BorderTop=-s,l.BorderLeft=-a/2,l.BorderBottom=0,l.BorderRight=a/2;break;case n.TextAlignmentEnum.CenterCenter:l.BorderTop=-s/2,l.BorderLeft=-a/2,l.BorderBottom=s/2,l.BorderRight=a/2;break;case n.TextAlignmentEnum.CenterTop:l.BorderTop=0,l.BorderLeft=-a/2,l.BorderBottom=s,l.BorderRight=a/2;break;case n.TextAlignmentEnum.LeftBottom:l.BorderTop=-s,l.BorderLeft=0,l.BorderBottom=0,l.BorderRight=a;break;case n.TextAlignmentEnum.LeftCenter:l.BorderTop=-s/2,l.BorderLeft=0,l.BorderBottom=s/2,l.BorderRight=a;break;case n.TextAlignmentEnum.LeftTop:l.BorderTop=0,l.BorderLeft=0,l.BorderBottom=s,l.BorderRight=a;break;case n.TextAlignmentEnum.RightBottom:l.BorderTop=-s,l.BorderLeft=-a,l.BorderBottom=0,l.BorderRight=0;break;case n.TextAlignmentEnum.RightCenter:l.BorderTop=-s/2,l.BorderLeft=-a,l.BorderBottom=s/2,l.BorderRight=0;break;case n.TextAlignmentEnum.RightTop:l.BorderTop=0,l.BorderLeft=-a,l.BorderBottom=s,l.BorderRight=0}l.BorderMarginTop=l.BorderTop-s*i,l.BorderMarginLeft=l.BorderLeft-s*i,l.BorderMarginBottom=l.BorderBottom+s*i,l.BorderMarginRight=l.BorderRight+s*i}}e.GraphicalLabel=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold",t[t.Italic=2]="Italic",t[t.BoldItalic=3]="BoldItalic",t[t.Underlined=4]="Underlined"}(e.FontStyles||(e.FontStyles={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),Array.prototype.clear||(Array.prototype.clear=function(){this.length=0}),Array.prototype.contains||(Array.prototype.contains=function(t){return-1!==this.indexOf(t)}),e.CollectionUtil=class{static contains2(t,e){for(let i=0;i<t.length;i++)if(t[i]===e)return!0;return!1}static last(t){return t[t.length-1]}static removeDictElementIfTrue(t,e,i){const n=[];e.forEach((function(e,r){i(t,e,r)&&n.push(e)}));for(let r=0;r<n.length;r++)e.remove(n[r])}static getLastElement(t){return t[t.length-1]}static binarySearch(t,e,i,n=0,r=t.length-1){let s=1;for(;n<r;){s=Math.floor((n+r)/2);const o=i(t[s],e);if(0===o)return s;o<0&&(n=s+1),0<o&&(r=s)}return-s}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),r=i(8),s=i(15),o=i(17);e.SourceStaffEntry=class{constructor(t,e){this.voiceEntries=[],this.instructions=[],this.chordSymbolContainers=[],this.verticalContainerParent=t,this.parentStaff=e}get ParentStaff(){return this.parentStaff}get VerticalContainerParent(){return this.verticalContainerParent}get Timestamp(){if(this.VerticalContainerParent)return this.VerticalContainerParent.Timestamp}get AbsoluteTimestamp(){if(this.VerticalContainerParent)return n.Fraction.plus(this.VerticalContainerParent.ParentMeasure.AbsoluteTimestamp,this.VerticalContainerParent.Timestamp)}get VoiceEntries(){return this.voiceEntries}set VoiceEntries(t){this.voiceEntries=t}get Link(){return this.staffEntryLink}set Link(t){this.staffEntryLink=t}get Instructions(){return this.instructions}set Instructions(t){this.instructions=t}get ChordContainers(){return this.chordSymbolContainers}set ChordContainers(t){this.chordSymbolContainers=t}removeAllInstructionsOfTypeClefInstruction(){let t=0,e=0;for(;t<this.instructions.length;)this.instructions[t]instanceof r.ClefInstruction?(this.instructions.splice(t,1),e++):t++;return e}removeFirstInstructionOfTypeClefInstruction(){for(let t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof r.ClefInstruction)return this.instructions.splice(t,1),!0;return!1}removeAllInstructionsOfTypeKeyInstruction(){let t=0,e=0;for(;t<this.instructions.length;)this.instructions[t]instanceof s.KeyInstruction?(this.instructions.splice(t,1),e++):t++;return e}removeFirstInstructionOfTypeKeyInstruction(){for(let t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof s.KeyInstruction)return this.instructions.splice(t,1),!0;return!1}removeAllInstructionsOfTypeRhythmInstruction(){let t=0,e=0;for(;t<this.instructions.length;)this.instructions[t]instanceof o.RhythmInstruction?(this.instructions.splice(t,1),e++):t++;return e}removeFirstInstructionOfTypeRhythmInstruction(){for(let t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof o.RhythmInstruction)return this.instructions.splice(t,1),!0;return!1}calculateMinNoteLength(){let t=new n.Fraction(Number.MAX_VALUE,1);for(let e=0,i=this.VoiceEntries.length;e<i;++e){const i=this.VoiceEntries[e];for(let e=0,n=i.Notes.length;e<n;++e){const n=i.Notes[e];n.Length.lt(t)&&(t=n.Length)}}return t}calculateMaxNoteLength(){let t=new n.Fraction(0,1);for(let e=0,i=this.VoiceEntries.length;e<i;++e){const i=this.VoiceEntries[e];for(let e=0,r=i.Notes.length;e<r;++e){const r=i.Notes[e];if(r.NoteTie){const e=n.Fraction.createFromFraction(r.Length);let i=!1;for(const t of r.NoteTie.Notes)t!==r?i&&e.Add(t.Length):i=!0;t.lt(e)&&(t=e)}else t.lt(r.Length)&&(t=r.Length)}}return t}hasNotes(){for(let t=0,e=this.VoiceEntries.length;t<e;++t)if(this.VoiceEntries[t].Notes.length>0)return!0;return!1}hasTie(){for(let t=0,e=this.VoiceEntries.length;t<e;++t)if(this.VoiceEntries[t].hasTie())return!0;return!1}findLinkedNotes(t){for(let e=0,i=this.voiceEntries.length;e<i;++e){const i=this.voiceEntries[e];for(let e=0,n=i.Notes.length;e<n;++e){const n=i.Notes[e];n.ParentStaffEntry===this&&t.push(n)}}}}},function(t,e,i){"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.RepetitionInstructionComparer=class{static Compare(t,e){if(void 0!==t.parentRepetition&&e.parentRepetition){if(t.alignment===r.End&&e.alignment===r.End){if(t.parentRepetition.StartIndex<e.parentRepetition.StartIndex)return 1;if(t.parentRepetition.StartIndex>e.parentRepetition.StartIndex)return-1}if(t.alignment===r.Begin&&e.alignment===r.Begin){if(t.parentRepetition.EndIndex<e.parentRepetition.EndIndex)return 1;if(t.parentRepetition.EndIndex>e.parentRepetition.EndIndex)return-1}}return 0}},e.RepetitionInstruction=class{constructor(t,e,i=r.End,n,s){this.endingIndices=void 0,this.measureIndex=t,s&&(this.endingIndices=s.slice()),this.type=e,this.alignment=i,this.parentRepetition=n}CompareTo(t){const e=t;if(this.measureIndex>e.measureIndex)return 1;if(this.measureIndex<e.measureIndex)return-1;if(this.alignment===r.Begin){if(e.alignment===r.End)return-1;switch(this.type){case n.Ending:return 1;case n.StartLine:return e.type===n.Ending?-1:1;case n.Coda:case n.Segno:return e.type===n.Coda?1:-1}}else{if(e.alignment===r.Begin)return 1;switch(this.type){case n.Ending:return-1;case n.Fine:case n.ToCoda:return e.type===n.Ending?1:-1;case n.ForwardJump:switch(e.type){case n.Ending:case n.Fine:case n.ToCoda:return 1}return-1;case n.DalSegnoAlFine:case n.DaCapoAlFine:case n.DalSegnoAlCoda:case n.DaCapoAlCoda:case n.DaCapo:case n.DalSegno:case n.BackJumpLine:return 1}}return 0}equals(t){if(this.measureIndex!==t.measureIndex||this.type!==t.type||this.alignment!==t.alignment)return!1;if(this.endingIndices===t.endingIndices)return!0;if(!this.endingIndices||!t.endingIndices||this.endingIndices.length!==t.endingIndices.length)return!1;for(let e=0;e<this.endingIndices.length;e++)if(this.endingIndices[e]!==t.endingIndices[e])return!1;return!0}},function(t){t[t.StartLine=0]="StartLine",t[t.ForwardJump=1]="ForwardJump",t[t.BackJumpLine=2]="BackJumpLine",t[t.Ending=3]="Ending",t[t.DaCapo=4]="DaCapo",t[t.DalSegno=5]="DalSegno",t[t.Fine=6]="Fine",t[t.ToCoda=7]="ToCoda",t[t.DalSegnoAlFine=8]="DalSegnoAlFine",t[t.DaCapoAlFine=9]="DaCapoAlFine",t[t.DalSegnoAlCoda=10]="DalSegnoAlCoda",t[t.DaCapoAlCoda=11]="DaCapoAlCoda",t[t.Coda=12]="Coda",t[t.Segno=13]="Segno",t[t.None=14]="None"}(n=e.RepetitionInstructionEnum||(e.RepetitionInstructionEnum={})),function(t){t[t.Begin=0]="Begin",t[t.End=1]="End"}(r=e.AlignmentType||(e.AlignmentType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextTranslation=class{static translateText(t,e){if(!this.defaultTextTranslation)return e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(29),r=i(6);var s;!function(t){t[t.XML=0]="XML",t[t.AutoColoring=1]="AutoColoring",t[t.CustomColorSet=2]="CustomColorSet"}(e.ColoringModes||(e.ColoringModes={})),function(t){t.allon="allon",t.compact="compact",t.compacttight="compacttight",t.default="default",t.leadsheet="leadsheet",t.preview="preview",t.thumbnail="thumbnail"}(s=e.DrawingParametersEnum||(e.DrawingParametersEnum={})),e.DrawingParameters=class{constructor(t=s.default){this.rules=new n.EngravingRules,this.drawTitle=!0,this.drawSubtitle=!0,this.drawLyricist=!0,this.drawComposer=!0,this.drawCredits=!0,this.drawPartNames=!0,this.fingeringPosition=r.PlacementEnum.Left,this.drawHiddenNotes=!1,this.DrawingParametersEnum=t}set DrawingParametersEnum(t){switch(this.drawingParametersEnum=t,t){case s.allon:this.setForAllOn();break;case s.thumbnail:this.setForThumbnail();break;case s.leadsheet:this.setForLeadsheet();break;case s.compact:this.setForCompactMode();break;case s.compacttight:this.setForCompactTightMode();break;case s.default:default:this.setForDefault()}}get DrawingParametersEnum(){return this.drawingParametersEnum}setForAllOn(){this.drawHighlights=!0,this.drawErrors=!0,this.drawSelectionStartSymbol=!0,this.drawSelectionEndSymbol=!0,this.drawCursors=!0,this.drawActivitySymbols=!0,this.drawScrollIndicator=!0,this.drawComments=!0,this.drawMarkedAreas=!0,this.DrawTitle=!0,this.DrawSubtitle=!0,this.DrawComposer=!0,this.DrawLyricist=!0,this.drawCredits=!0,this.DrawPartNames=!0,this.drawHiddenNotes=!0,this.rules.CompactMode=!1}setForDefault(){this.setForAllOn(),this.drawHiddenNotes=!1}setForThumbnail(){this.drawHighlights=!1,this.drawErrors=!1,this.drawSelectionStartSymbol=!1,this.drawSelectionStartSymbol=!1,this.drawCursors=!1,this.drawActivitySymbols=!1,this.drawScrollIndicator=!1,this.drawComments=!0,this.drawMarkedAreas=!0,this.drawHiddenNotes=!1}setForCompactMode(){this.setForDefault(),this.rules.CompactMode=!0,this.DrawCredits=!1,this.drawHiddenNotes=!1}setForCompactTightMode(){this.setForCompactMode(),this.DrawPartNames=!1,this.rules.MinSkyBottomDistBetweenStaves=1,this.rules.MinSkyBottomDistBetweenSystems=2,this.rules.BetweenStaffDistance=2.5,this.rules.StaffDistance=3.5,this.rules.MinimumDistanceBetweenSystems=1,this.rules.PageBottomMargin=1,this.rules.PageLeftMargin=2,this.rules.PageRightMargin=2}setForLeadsheet(){this.drawHighlights=!1,this.drawErrors=!1,this.drawSelectionStartSymbol=!0,this.drawSelectionEndSymbol=!0,this.drawCursors=!0,this.drawActivitySymbols=!1,this.drawScrollIndicator=!0,this.drawComments=!0,this.drawMarkedAreas=!0}get DrawCredits(){return this.drawCredits}set DrawCredits(t){this.drawCredits=t,this.DrawComposer=t,this.DrawTitle=t,this.DrawSubtitle=t,this.DrawLyricist=t}get DrawTitle(){return this.drawTitle}set DrawTitle(t){this.drawTitle=t,this.rules.RenderTitle=t,t||(this.DrawSubtitle=!1)}get DrawSubtitle(){return this.drawSubtitle}set DrawSubtitle(t){this.drawSubtitle=t,this.rules.RenderSubtitle=t,t&&(this.DrawTitle=!0)}get DrawComposer(){return this.drawComposer}set DrawComposer(t){this.drawComposer=t,this.rules.RenderComposer=t}get DrawLyricist(){return this.drawLyricist}set DrawLyricist(t){this.drawLyricist=t,this.rules.RenderLyricist=t}get DrawPartNames(){return this.drawPartNames}set DrawPartNames(t){this.drawPartNames=t,this.rules.RenderPartNames=t,this.rules.RenderPartNames||(this.rules.RenderPartAbbreviations=!1)}get FingeringPosition(){return this.fingeringPosition}set FingeringPosition(t){this.fingeringPosition=t,this.rules.FingeringPosition=t}get Rules(){return this.rules}set Rules(t){this.rules=t}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(42),s=n(i(1)),o=i(7),a=i(6),l=i(41),u=i(28),c=i(43),h=i(86),d=i(44);class f{constructor(){this.noteDistances=[1,1,1.3,1.6,2,2.5,3,4],this.noteDistancesScalingFactors=[1,2,4,8,16,32,64,128],this.durationDistanceDict={},this.durationScalingDistanceDict={},this.samplingUnit=3*f.unit,this.sheetTitleHeight=4,this.sheetSubtitleHeight=2,this.sheetMinimumDistanceBetweenTitleAndSubtitle=1,this.sheetComposerHeight=2,this.sheetAuthorHeight=2,this.compactMode=!1,this.pagePlacementEnum=r.PagePlacementEnum.Down,this.pageHeight=100001,this.pageTopMargin=5,this.pageTopMarginNarrow=0,this.pageBottomMargin=5,this.pageLeftMargin=5,this.pageRightMargin=5,this.titleTopDistance=9,this.titleBottomDistance=1,this.staffDistance=7,this.betweenStaffDistance=5,this.minimumStaffLineDistance=4,this.minSkyBottomDistBetweenStaves=1,this.staffHeight=4,this.tabStaffInterlineHeight=1.1111,this.betweenStaffLinesDistance=f.unit,this.systemLeftMargin=0,this.systemRightMargin=0,this.firstSystemMargin=15,this.systemLabelsRightMargin=2,this.systemComposerDistance=2,this.instrumentLabelTextHeight=2,this.minimumDistanceBetweenSystems=7,this.minSkyBottomDistBetweenSystems=5,this.lastSystemMaxScalingFactor=1.4,this.autoBeamNotes=!1,this.autoBeamOptions={beam_middle_rests_only:!1,beam_rests:!1,maintain_stem_directions:!1},this.beamWidth=f.unit/2,this.beamSpaceWidth=f.unit/3,this.beamForwardLength=1.25*f.unit,this.clefLeftMargin=.5,this.clefRightMargin=.75,this.percussionOneLineCutoff=4,this.percussionForceVoicesOneLineCutoff=3,this.betweenKeySymbolsDistance=.2,this.keyRightMargin=.75,this.rhythmRightMargin=1.25,this.showRhythmAgainAfterPartEndOrFinalBarline=!0,this.inStaffClefScalingFactor=.8,this.distanceBetweenNaturalAndSymbolWhenCancelling=.4,this.noteHelperLinesOffset=.25,this.measureLeftMargin=.7,this.measureRightMargin=0,this.distanceBetweenLastInstructionAndRepetitionBarline=1,this.arpeggioDistance=.6,this.staccatoShorteningFactor=2,this.idealStemLength=3,this.stemNoteHeadBorderYOffset=.2,this.stemWidth=.13,this.stemMargin=.2,this.stemMinLength=2.5,this.stemMaxLength=4.5,this.beamSlopeMaxAngle=10,this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine=1,this.setWantedStemDirectionByXml=!0,this.graceNoteScalingFactor=.6,this.graceNoteXOffset=.2,this.wedgeOpeningLength=1.2,this.wedgeMeasureEndOpeningLength=.75,this.wedgeMeasureBeginOpeningLength=.75,this.wedgePlacementAboveY=-1.5,this.wedgePlacementBelowY=1.5,this.wedgeHorizontalMargin=.6,this.wedgeVerticalMargin=.5,this.distanceOffsetBetweenTwoHorizontallyCrossedWedges=.3,this.wedgeMinLength=2,this.distanceBetweenAdjacentDynamics=.75,this.tempoChangeMeasureValidity=4,this.tempoContinousFactor=.7,this.staccatoScalingFactor=.8,this.betweenDotsDistance=.8,this.ornamentAccidentalScalingFactor=.65,this.chordSymbolTextHeight=2,this.chordSymbolXSpacing=1,this.chordSymbolYOffset=2,this.chordSymbolLabelTexts=new c.Dictionary,this.resetChordSymbolLabelTexts(this.chordSymbolLabelTexts),this.measureNumberLabelHeight=1.5*f.unit,this.measureNumberLabelOffset=2,this.measureNumberLabelXOffset=-.5,this.tupletsRatioed=!1,this.tupletsBracketed=!1,this.tripletsBracketed=!1,this.tupletNumberLabelHeight=1.5*f.unit,this.tupletNumberYOffset=.5,this.labelMarginBorderFactor=.1,this.tupletVerticalLineLength=.5,this.bezierCurveStepSize=1e3,this.calculateCurveParametersArrays(),this.tieGhostObjectWidth=.75,this.tieYPositionOffsetFactor=.3,this.minimumNeededXspaceForTieGhostObject=1,this.tieHeightMinimum=.28,this.tieHeightMaximum=1.2,this.tieHeightInterpolationK=.0288,this.tieHeightInterpolationD=.136,this.slurNoteHeadYOffset=.5,this.slurStemXOffset=.3,this.slurSlopeMaxAngle=15,this.slurTangentMinAngle=30,this.slurTangentMaxAngle=80,this.slursStartingAtSameStaffEntryYOffset=.8,this.repetitionEndingLabelHeight=2,this.repetitionEndingLabelXOffset=.5,this.repetitionEndingLabelYOffset=.3,this.repetitionEndingLineYLowerOffset=.5,this.repetitionEndingLineYUpperOffset=.3,this.voltaOffset=2.5,this.lyricsAlignmentStandard=o.TextAlignmentEnum.LeftBottom,this.lyricsHeight=2,this.lyricsYOffsetToStaffHeight=3,this.verticalBetweenLyricsDistance=.5,this.horizontalBetweenLyricsDistance=.2,this.betweenSyllableMaximumDistance=10,this.betweenSyllableMinimumDistance=.5,this.lyricOverlapAllowedIntoNextMeasure=3.4,this.minimumDistanceBetweenDashes=10,this.instantaneousTempoTextHeight=2.3,this.continuousDynamicTextHeight=2.3,this.moodTextHeight=2.3,this.unknownTextHeight=2,this.continuousTempoTextHeight=2.3,this.dynamicExpressionMaxDistance=2,this.dynamicExpressionSpacer=.5,this.staffLineWidth=.12,this.ledgerLineWidth=void 0,this.ledgerLineStrokeStyle=void 0,this.wedgeLineWidth=.12,this.tupletLineWidth=.12,this.lyricUnderscoreLineWidth=.12,this.systemThinLineWidth=.12,this.systemBoldLineWidth=f.unit/2,this.systemRepetitionEndingLineWidth=.12,this.systemDotWidth=f.unit/5,this.distanceBetweenVerticalSystemLines=.35,this.distanceBetweenDotAndLine=.7,this.octaveShiftLineWidth=.12,this.octaveShiftVerticalLineLength=f.unit,this.graceLineWidth=this.staffLineWidth*this.GraceNoteScalingFactor,this.minimumCrossedBeamDifferenceMargin=1e-4,this.displacedNoteMargin=.1,this.minNoteDistance=2,this.subMeasureXSpacingThreshold=35,this.measureDynamicsMaxScalingFactor=2.5,this.wholeRestXShiftVexflow=-2.5,this.metronomeMarksDrawn=!0,this.metronomeMarkXShift=-6,this.metronomeMarkYShift=-.5,this.alignRests=l.AlignRestOption.Never,this.fillEmptyMeasuresWithWholeRest=l.FillEmptyMeasuresWithWholeRests.No,this.arpeggiosGoAcrossVoices=!1,this.renderArpeggios=!0,this.renderSlurs=!0,this.coloringMode=u.ColoringModes.XML,this.coloringEnabled=!0,this.colorStemsLikeNoteheads=!1,this.colorBeams=!0,this.colorFlags=!0,this.defaultColorNotehead="#000000",this.defaultColorRest=this.defaultColorNotehead,this.defaultColorStem=this.defaultColorNotehead,this.defaultColorLabel=this.defaultColorNotehead,this.defaultColorTitle=this.defaultColorNotehead,this.defaultFontFamily="Times New Roman",this.defaultFontStyle=h.FontStyles.Regular,this.maxMeasureToDrawIndex=Number.MAX_VALUE,this.minMeasureToDrawIndex=0,this.renderComposer=!0,this.renderTitle=!0,this.renderSubtitle=!0,this.renderLyricist=!0,this.renderPartNames=!0,this.renderPartAbbreviations=!0,this.renderFingerings=!0,this.renderMeasureNumbers=!0,this.renderLyrics=!0,this.fingeringPosition=a.PlacementEnum.Left,this.fingeringInsideStafflines=!1,this.fingeringLabelFontHeight=1.7,this.fingeringOffsetX=0,this.newSystemAtXMLNewSystemAttribute=!1,this.newPageAtXMLNewPageAttribute=!1,this.restoreCursorAfterRerender=!0,f.FixStafflineBoundingBox=!1,this.pageFormat=p.UndefinedPageFormat,this.pageBackgroundColor=void 0,this.renderSingleHorizontalStaffline=!1,this.populateDictionaries();try{this.maxInstructionsConstValue=this.ClefLeftMargin+this.ClefRightMargin+this.KeyRightMargin+this.RhythmRightMargin+11}catch(t){s.default.info("EngravingRules()",t)}}static get FixStafflineBoundingBox(){return f.fixStafflineBoundingBox}static set FixStafflineBoundingBox(t){f.fixStafflineBoundingBox=t}get SamplingUnit(){return this.samplingUnit}get SheetTitleHeight(){return this.sheetTitleHeight}set SheetTitleHeight(t){this.sheetTitleHeight=t}get SheetSubtitleHeight(){return this.sheetSubtitleHeight}set SheetSubtitleHeight(t){this.sheetSubtitleHeight=t}get SheetMinimumDistanceBetweenTitleAndSubtitle(){return this.sheetMinimumDistanceBetweenTitleAndSubtitle}set SheetMinimumDistanceBetweenTitleAndSubtitle(t){this.sheetMinimumDistanceBetweenTitleAndSubtitle=t}get SheetComposerHeight(){return this.sheetComposerHeight}set SheetComposerHeight(t){this.sheetComposerHeight=t}get SheetAuthorHeight(){return this.sheetAuthorHeight}set SheetAuthorHeight(t){this.sheetAuthorHeight=t}get PagePlacement(){return this.pagePlacementEnum}set PagePlacement(t){this.pagePlacementEnum=t}get CompactMode(){return this.compactMode}set CompactMode(t){this.compactMode=t}get PageHeight(){return this.pageHeight}set PageHeight(t){this.pageHeight=t}get PageTopMargin(){return this.pageTopMargin}set PageTopMargin(t){this.pageTopMargin=t}get PageTopMarginNarrow(){return this.pageTopMarginNarrow}set PageTopMarginNarrow(t){this.pageTopMarginNarrow=t}get PageBottomMargin(){return this.pageBottomMargin}set PageBottomMargin(t){this.pageBottomMargin=t}get PageLeftMargin(){return this.pageLeftMargin}set PageLeftMargin(t){this.pageLeftMargin=t}get PageRightMargin(){return this.pageRightMargin}set PageRightMargin(t){this.pageRightMargin=t}get TitleTopDistance(){return this.titleTopDistance}set TitleTopDistance(t){this.titleTopDistance=t}get TitleBottomDistance(){return this.titleBottomDistance}set TitleBottomDistance(t){this.titleBottomDistance=t}get SystemComposerDistance(){return this.systemComposerDistance}set SystemComposerDistance(t){this.systemComposerDistance=t}get InstrumentLabelTextHeight(){return this.instrumentLabelTextHeight}set InstrumentLabelTextHeight(t){this.instrumentLabelTextHeight=t}get SystemLeftMargin(){return this.systemLeftMargin}set SystemLeftMargin(t){this.systemLeftMargin=t}get SystemRightMargin(){return this.systemRightMargin}set SystemRightMargin(t){this.systemRightMargin=t}get FirstSystemMargin(){return this.firstSystemMargin}set FirstSystemMargin(t){this.firstSystemMargin=t}get SystemLabelsRightMargin(){return this.systemLabelsRightMargin}set SystemLabelsRightMargin(t){this.systemLabelsRightMargin=t}get MinimumDistanceBetweenSystems(){return this.minimumDistanceBetweenSystems}set MinimumDistanceBetweenSystems(t){this.minimumDistanceBetweenSystems=t}get MinSkyBottomDistBetweenSystems(){return this.minSkyBottomDistBetweenSystems}set MinSkyBottomDistBetweenSystems(t){this.minSkyBottomDistBetweenSystems=t}get LastSystemMaxScalingFactor(){return this.lastSystemMaxScalingFactor}set LastSystemMaxScalingFactor(t){this.lastSystemMaxScalingFactor=t}get StaffDistance(){return this.staffDistance}set StaffDistance(t){this.staffDistance=t}get BetweenStaffDistance(){return this.betweenStaffDistance}set BetweenStaffDistance(t){this.betweenStaffDistance=t}get StaffHeight(){return this.staffHeight}set StaffHeight(t){this.staffHeight=t}get TabStaffInterlineHeight(){return this.tabStaffInterlineHeight}set TabStaffInterlineHeight(t){this.tabStaffInterlineHeight=t}get BetweenStaffLinesDistance(){return this.betweenStaffLinesDistance}set BetweenStaffLinesDistance(t){this.betweenStaffLinesDistance=t}get AutoBeamNotes(){return this.autoBeamNotes}set AutoBeamNotes(t){this.autoBeamNotes=t}get AutoBeamOptions(){return this.autoBeamOptions}set AutoBeamOptions(t){this.autoBeamOptions=t}get BeamWidth(){return this.beamWidth}set BeamWidth(t){this.beamWidth=t}get BeamSpaceWidth(){return this.beamSpaceWidth}set BeamSpaceWidth(t){this.beamSpaceWidth=t}get BeamForwardLength(){return this.beamForwardLength}set BeamForwardLength(t){this.beamForwardLength=t}get BetweenKeySymbolsDistance(){return this.betweenKeySymbolsDistance}set BetweenKeySymbolsDistance(t){this.betweenKeySymbolsDistance=t}get ClefLeftMargin(){return this.clefLeftMargin}set ClefLeftMargin(t){this.clefLeftMargin=t}get ClefRightMargin(){return this.clefRightMargin}set ClefRightMargin(t){this.clefRightMargin=t}get PercussionOneLineCutoff(){return this.percussionOneLineCutoff}set PercussionOneLineCutoff(t){this.percussionOneLineCutoff=t}get PercussionForceVoicesOneLineCutoff(){return this.percussionForceVoicesOneLineCutoff}set PercussionForceVoicesOneLineCutoff(t){this.percussionForceVoicesOneLineCutoff=t}get KeyRightMargin(){return this.keyRightMargin}set KeyRightMargin(t){this.keyRightMargin=t}get RhythmRightMargin(){return this.rhythmRightMargin}set RhythmRightMargin(t){this.rhythmRightMargin=t}get ShowRhythmAgainAfterPartEndOrFinalBarline(){return this.showRhythmAgainAfterPartEndOrFinalBarline}set ShowRhythmAgainAfterPartEndOrFinalBarline(t){this.showRhythmAgainAfterPartEndOrFinalBarline=t}get InStaffClefScalingFactor(){return this.inStaffClefScalingFactor}set InStaffClefScalingFactor(t){this.inStaffClefScalingFactor=t}get DistanceBetweenNaturalAndSymbolWhenCancelling(){return this.distanceBetweenNaturalAndSymbolWhenCancelling}set DistanceBetweenNaturalAndSymbolWhenCancelling(t){this.distanceBetweenNaturalAndSymbolWhenCancelling=t}get NoteHelperLinesOffset(){return this.noteHelperLinesOffset}set NoteHelperLinesOffset(t){this.noteHelperLinesOffset=t}get MeasureLeftMargin(){return this.measureLeftMargin}set MeasureLeftMargin(t){this.measureLeftMargin=t}get MeasureRightMargin(){return this.measureRightMargin}set MeasureRightMargin(t){this.measureRightMargin=t}get DistanceBetweenLastInstructionAndRepetitionBarline(){return this.distanceBetweenLastInstructionAndRepetitionBarline}set DistanceBetweenLastInstructionAndRepetitionBarline(t){this.distanceBetweenLastInstructionAndRepetitionBarline=t}get ArpeggioDistance(){return this.arpeggioDistance}set ArpeggioDistance(t){this.arpeggioDistance=t}get StaccatoShorteningFactor(){return this.staccatoShorteningFactor}set StaccatoShorteningFactor(t){this.staccatoShorteningFactor=t}get IdealStemLength(){return this.idealStemLength}set IdealStemLength(t){this.idealStemLength=t}get StemNoteHeadBorderYOffset(){return this.stemNoteHeadBorderYOffset}set StemNoteHeadBorderYOffset(t){this.stemNoteHeadBorderYOffset=t}get StemWidth(){return this.stemWidth}set StemWidth(t){this.stemWidth=t}get StemMargin(){return this.stemMargin}set StemMargin(t){this.stemMargin=t}get StemMinLength(){return this.stemMinLength}set StemMinLength(t){this.stemMinLength=t}get StemMaxLength(){return this.stemMaxLength}set StemMaxLength(t){this.stemMaxLength=t}get BeamSlopeMaxAngle(){return this.beamSlopeMaxAngle}set BeamSlopeMaxAngle(t){this.beamSlopeMaxAngle=t}get StemMinAllowedDistanceBetweenNoteHeadAndBeamLine(){return this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine}set StemMinAllowedDistanceBetweenNoteHeadAndBeamLine(t){this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine=t}get SetWantedStemDirectionByXml(){return this.setWantedStemDirectionByXml}set SetWantedStemDirectionByXml(t){this.setWantedStemDirectionByXml=t}get GraceNoteScalingFactor(){return this.graceNoteScalingFactor}set GraceNoteScalingFactor(t){this.graceNoteScalingFactor=t}get GraceNoteXOffset(){return this.graceNoteXOffset}set GraceNoteXOffset(t){this.graceNoteXOffset=t}get WedgeOpeningLength(){return this.wedgeOpeningLength}set WedgeOpeningLength(t){this.wedgeOpeningLength=t}get WedgeMeasureEndOpeningLength(){return this.wedgeMeasureEndOpeningLength}set WedgeMeasureEndOpeningLength(t){this.wedgeMeasureEndOpeningLength=t}get WedgeMeasureBeginOpeningLength(){return this.wedgeMeasureBeginOpeningLength}set WedgeMeasureBeginOpeningLength(t){this.wedgeMeasureBeginOpeningLength=t}get WedgePlacementAboveY(){return this.wedgePlacementAboveY}set WedgePlacementAboveY(t){this.wedgePlacementAboveY=t}get WedgePlacementBelowY(){return this.wedgePlacementBelowY}set WedgePlacementBelowY(t){this.wedgePlacementBelowY=t}get WedgeHorizontalMargin(){return this.wedgeHorizontalMargin}set WedgeHorizontalMargin(t){this.wedgeHorizontalMargin=t}get WedgeVerticalMargin(){return this.wedgeVerticalMargin}set WedgeVerticalMargin(t){this.wedgeVerticalMargin=t}get DistanceOffsetBetweenTwoHorizontallyCrossedWedges(){return this.distanceOffsetBetweenTwoHorizontallyCrossedWedges}set DistanceOffsetBetweenTwoHorizontallyCrossedWedges(t){this.distanceOffsetBetweenTwoHorizontallyCrossedWedges=t}get WedgeMinLength(){return this.wedgeMinLength}set WedgeMinLength(t){this.wedgeMinLength=t}get DistanceBetweenAdjacentDynamics(){return this.distanceBetweenAdjacentDynamics}set DistanceBetweenAdjacentDynamics(t){this.distanceBetweenAdjacentDynamics=t}get TempoChangeMeasureValidity(){return this.tempoChangeMeasureValidity}set TempoChangeMeasureValidity(t){this.tempoChangeMeasureValidity=t}get TempoContinousFactor(){return this.tempoContinousFactor}set TempoContinousFactor(t){this.tempoContinousFactor=t}get StaccatoScalingFactor(){return this.staccatoScalingFactor}set StaccatoScalingFactor(t){this.staccatoScalingFactor=t}get BetweenDotsDistance(){return this.betweenDotsDistance}set BetweenDotsDistance(t){this.betweenDotsDistance=t}get OrnamentAccidentalScalingFactor(){return this.ornamentAccidentalScalingFactor}set OrnamentAccidentalScalingFactor(t){this.ornamentAccidentalScalingFactor=t}get ChordSymbolTextHeight(){return this.chordSymbolTextHeight}set ChordSymbolTextHeight(t){this.chordSymbolTextHeight=t}get ChordSymbolXSpacing(){return this.chordSymbolXSpacing}set ChordSymbolXSpacing(t){this.chordSymbolXSpacing=t}get ChordSymbolYOffset(){return this.chordSymbolYOffset}set ChordSymbolYOffset(t){this.chordSymbolYOffset=t}setChordSymbolLabelText(t,e){this.chordSymbolLabelTexts.setValue(t,e)}get ChordSymbolLabelTexts(){return this.chordSymbolLabelTexts}set ChordSymbolLabelTexts(t){this.chordSymbolLabelTexts=t}get MeasureNumberLabelHeight(){return this.measureNumberLabelHeight}set MeasureNumberLabelHeight(t){this.measureNumberLabelHeight=t}get MeasureNumberLabelOffset(){return this.measureNumberLabelOffset}set MeasureNumberLabelOffset(t){this.measureNumberLabelOffset=t}get MeasureNumberLabelXOffset(){return this.measureNumberLabelXOffset}set MeasureNumberLabelXOffset(t){this.measureNumberLabelXOffset=t}get TupletsRatioed(){return this.tupletsRatioed}set TupletsRatioed(t){this.tupletsRatioed=t}get TupletsBracketed(){return this.tupletsBracketed}set TupletsBracketed(t){this.tupletsBracketed=t}get TripletsBracketed(){return this.tripletsBracketed}set TripletsBracketed(t){this.tripletsBracketed=t}get TupletNumberLabelHeight(){return this.tupletNumberLabelHeight}set TupletNumberLabelHeight(t){this.tupletNumberLabelHeight=t}get TupletNumberYOffset(){return this.tupletNumberYOffset}set TupletNumberYOffset(t){this.tupletNumberYOffset=t}get LabelMarginBorderFactor(){return this.labelMarginBorderFactor}set LabelMarginBorderFactor(t){this.labelMarginBorderFactor=t}get TupletVerticalLineLength(){return this.tupletVerticalLineLength}set TupletVerticalLineLength(t){this.tupletVerticalLineLength=t}get RepetitionEndingLabelHeight(){return this.repetitionEndingLabelHeight}set RepetitionEndingLabelHeight(t){this.repetitionEndingLabelHeight=t}get RepetitionEndingLabelXOffset(){return this.repetitionEndingLabelXOffset}set RepetitionEndingLabelXOffset(t){this.repetitionEndingLabelXOffset=t}get RepetitionEndingLabelYOffset(){return this.repetitionEndingLabelYOffset}set RepetitionEndingLabelYOffset(t){this.repetitionEndingLabelYOffset=t}get RepetitionEndingLineYLowerOffset(){return this.repetitionEndingLineYLowerOffset}set RepetitionEndingLineYLowerOffset(t){this.repetitionEndingLineYLowerOffset=t}get RepetitionEndingLineYUpperOffset(){return this.repetitionEndingLineYUpperOffset}set RepetitionEndingLineYUpperOffset(t){this.repetitionEndingLineYUpperOffset=t}get VoltaOffset(){return this.voltaOffset}set VoltaOffset(t){this.voltaOffset=t}get LyricsAlignmentStandard(){return this.lyricsAlignmentStandard}set LyricsAlignmentStandard(t){this.lyricsAlignmentStandard=t}get LyricsHeight(){return this.lyricsHeight}set LyricsHeight(t){this.lyricsHeight=t}get LyricsYOffsetToStaffHeight(){return this.lyricsYOffsetToStaffHeight}set LyricsYOffsetToStaffHeight(t){this.lyricsYOffsetToStaffHeight=t}get VerticalBetweenLyricsDistance(){return this.verticalBetweenLyricsDistance}set VerticalBetweenLyricsDistance(t){this.verticalBetweenLyricsDistance=t}get HorizontalBetweenLyricsDistance(){return this.horizontalBetweenLyricsDistance}set HorizontalBetweenLyricsDistance(t){this.horizontalBetweenLyricsDistance=t}get BetweenSyllableMaximumDistance(){return this.betweenSyllableMaximumDistance}set BetweenSyllableMaximumDistance(t){this.betweenSyllableMaximumDistance=t}get BetweenSyllableMinimumDistance(){return this.betweenSyllableMinimumDistance}set BetweenSyllableMinimumDistance(t){this.betweenSyllableMinimumDistance=t}get LyricOverlapAllowedIntoNextMeasure(){return this.lyricOverlapAllowedIntoNextMeasure}set LyricOverlapAllowedIntoNextMeasure(t){this.lyricOverlapAllowedIntoNextMeasure=t}get MinimumDistanceBetweenDashes(){return this.minimumDistanceBetweenDashes}set MinimumDistanceBetweenDashes(t){this.minimumDistanceBetweenDashes=t}get BezierCurveStepSize(){return this.bezierCurveStepSize}set BezierCurveStepSize(t){this.bezierCurveStepSize=t}get TPow3(){return this.tPower3}set TPow3(t){this.tPower3=t}get OneMinusTPow3(){return this.oneMinusTPower3}set OneMinusTPow3(t){this.oneMinusTPower3=t}get BezierFactorOne(){return this.factorOne}set BezierFactorOne(t){this.factorOne=t}get BezierFactorTwo(){return this.factorTwo}set BezierFactorTwo(t){this.factorTwo=t}get TieGhostObjectWidth(){return this.tieGhostObjectWidth}set TieGhostObjectWidth(t){this.tieGhostObjectWidth=t}get TieYPositionOffsetFactor(){return this.tieYPositionOffsetFactor}set TieYPositionOffsetFactor(t){this.tieYPositionOffsetFactor=t}get MinimumNeededXspaceForTieGhostObject(){return this.minimumNeededXspaceForTieGhostObject}set MinimumNeededXspaceForTieGhostObject(t){this.minimumNeededXspaceForTieGhostObject=t}get TieHeightMinimum(){return this.tieHeightMinimum}set TieHeightMinimum(t){this.tieHeightMinimum=t}get TieHeightMaximum(){return this.tieHeightMaximum}set TieHeightMaximum(t){this.tieHeightMaximum=t}get TieHeightInterpolationK(){return this.tieHeightInterpolationK}set TieHeightInterpolationK(t){this.tieHeightInterpolationK=t}get TieHeightInterpolationD(){return this.tieHeightInterpolationD}set TieHeightInterpolationD(t){this.tieHeightInterpolationD=t}get SlurNoteHeadYOffset(){return this.slurNoteHeadYOffset}set SlurNoteHeadYOffset(t){this.slurNoteHeadYOffset=t}get SlurStemXOffset(){return this.slurStemXOffset}set SlurStemXOffset(t){this.slurStemXOffset=t}get SlurSlopeMaxAngle(){return this.slurSlopeMaxAngle}set SlurSlopeMaxAngle(t){this.slurSlopeMaxAngle=t}get SlurTangentMinAngle(){return this.slurTangentMinAngle}set SlurTangentMinAngle(t){this.slurTangentMinAngle=t}get SlurTangentMaxAngle(){return this.slurTangentMaxAngle}set SlurTangentMaxAngle(t){this.slurTangentMaxAngle=t}get SlursStartingAtSameStaffEntryYOffset(){return this.slursStartingAtSameStaffEntryYOffset}set SlursStartingAtSameStaffEntryYOffset(t){this.slursStartingAtSameStaffEntryYOffset=t}get InstantaneousTempoTextHeight(){return this.instantaneousTempoTextHeight}set InstantaneousTempoTextHeight(t){this.instantaneousTempoTextHeight=t}get ContinuousDynamicTextHeight(){return this.continuousDynamicTextHeight}set ContinuousDynamicTextHeight(t){this.continuousDynamicTextHeight=t}get MoodTextHeight(){return this.moodTextHeight}set MoodTextHeight(t){this.moodTextHeight=t}get ContinuousTempoTextHeight(){return this.continuousTempoTextHeight}set ContinuousTempoTextHeight(t){this.continuousTempoTextHeight=t}get DynamicExpressionMaxDistance(){return this.dynamicExpressionMaxDistance}set DynamicExpressionMaxDistance(t){this.dynamicExpressionMaxDistance=t}get DynamicExpressionSpacer(){return this.dynamicExpressionSpacer}set DynamicExpressionSpacer(t){this.dynamicExpressionSpacer=t}get UnknownTextHeight(){return this.unknownTextHeight}set UnknownTextHeight(t){this.unknownTextHeight=t}get StaffLineWidth(){return this.staffLineWidth}set StaffLineWidth(t){this.staffLineWidth=t}get LedgerLineWidth(){return this.ledgerLineWidth}set LedgerLineWidth(t){this.ledgerLineWidth=t}get LedgerLineStrokeStyle(){return this.ledgerLineStrokeStyle}set LedgerLineStrokeStyle(t){this.ledgerLineStrokeStyle=t}get WedgeLineWidth(){return this.wedgeLineWidth}set WedgeLineWidth(t){this.wedgeLineWidth=t}get TupletLineWidth(){return this.tupletLineWidth}set TupletLineWidth(t){this.tupletLineWidth=t}get LyricUnderscoreLineWidth(){return this.lyricUnderscoreLineWidth}set LyricUnderscoreLineWidth(t){this.lyricUnderscoreLineWidth=t}get SystemThinLineWidth(){return this.systemThinLineWidth}set SystemThinLineWidth(t){this.systemThinLineWidth=t}get SystemBoldLineWidth(){return this.systemBoldLineWidth}set SystemBoldLineWidth(t){this.systemBoldLineWidth=t}get SystemRepetitionEndingLineWidth(){return this.systemRepetitionEndingLineWidth}set SystemRepetitionEndingLineWidth(t){this.systemRepetitionEndingLineWidth=t}get SystemDotWidth(){return this.systemDotWidth}set SystemDotWidth(t){this.systemDotWidth=t}get DistanceBetweenVerticalSystemLines(){return this.distanceBetweenVerticalSystemLines}set DistanceBetweenVerticalSystemLines(t){this.distanceBetweenVerticalSystemLines=t}get DistanceBetweenDotAndLine(){return this.distanceBetweenDotAndLine}set DistanceBetweenDotAndLine(t){this.distanceBetweenDotAndLine=t}get OctaveShiftLineWidth(){return this.octaveShiftLineWidth}set OctaveShiftLineWidth(t){this.octaveShiftLineWidth=t}get OctaveShiftVerticalLineLength(){return this.octaveShiftVerticalLineLength}set OctaveShiftVerticalLineLength(t){this.octaveShiftVerticalLineLength=t}get GraceLineWidth(){return this.graceLineWidth}set GraceLineWidth(t){this.graceLineWidth=t}get MinimumStaffLineDistance(){return this.minimumStaffLineDistance}set MinimumStaffLineDistance(t){this.minimumStaffLineDistance=t}get MinSkyBottomDistBetweenStaves(){return this.minSkyBottomDistBetweenStaves}set MinSkyBottomDistBetweenStaves(t){this.minSkyBottomDistBetweenStaves=t}get MinimumCrossedBeamDifferenceMargin(){return this.minimumCrossedBeamDifferenceMargin}set MinimumCrossedBeamDifferenceMargin(t){this.minimumCrossedBeamDifferenceMargin=t}get DisplacedNoteMargin(){return this.displacedNoteMargin}set DisplacedNoteMargin(t){this.displacedNoteMargin=t}get MinNoteDistance(){return this.minNoteDistance}set MinNoteDistance(t){this.minNoteDistance=t}get SubMeasureXSpacingThreshold(){return this.subMeasureXSpacingThreshold}set SubMeasureXSpacingThreshold(t){this.subMeasureXSpacingThreshold=t}get MeasureDynamicsMaxScalingFactor(){return this.measureDynamicsMaxScalingFactor}set MeasureDynamicsMaxScalingFactor(t){this.measureDynamicsMaxScalingFactor=t}get WholeRestXShiftVexflow(){return this.wholeRestXShiftVexflow}set WholeRestXShiftVexflow(t){this.wholeRestXShiftVexflow=t}get MetronomeMarksDrawn(){return this.metronomeMarksDrawn}set MetronomeMarksDrawn(t){this.metronomeMarksDrawn=t}get MetronomeMarkXShift(){return this.metronomeMarkXShift}set MetronomeMarkXShift(t){this.metronomeMarkXShift=t}get MetronomeMarkYShift(){return this.metronomeMarkYShift}set MetronomeMarkYShift(t){this.metronomeMarkYShift=t}get MaxInstructionsConstValue(){return this.maxInstructionsConstValue}set MaxInstructionsConstValue(t){this.maxInstructionsConstValue=t}get NoteDistances(){return this.noteDistances}set NoteDistances(t){this.noteDistances=t}get NoteDistancesScalingFactors(){return this.noteDistancesScalingFactors}set NoteDistancesScalingFactors(t){this.noteDistancesScalingFactors=t}get DurationDistanceDict(){return this.durationDistanceDict}get DurationScalingDistanceDict(){return this.durationScalingDistanceDict}get AlignRests(){return this.alignRests}set AlignRests(t){this.alignRests=t}get FillEmptyMeasuresWithWholeRest(){return this.fillEmptyMeasuresWithWholeRest}set FillEmptyMeasuresWithWholeRest(t){this.fillEmptyMeasuresWithWholeRest=t}get ArpeggiosGoAcrossVoices(){return this.arpeggiosGoAcrossVoices}set ArpeggiosGoAcrossVoices(t){this.arpeggiosGoAcrossVoices=t}get RenderArpeggios(){return this.renderArpeggios}set RenderArpeggios(t){this.renderArpeggios=t}get RenderSlurs(){return this.renderSlurs}set RenderSlurs(t){this.renderSlurs=t}get ColoringMode(){return this.coloringMode}set ColoringMode(t){this.coloringMode=t}get ColoringEnabled(){return this.coloringEnabled}set ColoringEnabled(t){this.coloringEnabled=t}get ColorStemsLikeNoteheads(){return this.colorStemsLikeNoteheads}set ColorStemsLikeNoteheads(t){this.colorStemsLikeNoteheads=t}get ColorFlags(){return this.colorFlags}set ColorFlags(t){this.colorFlags=t}get ColorBeams(){return this.colorBeams}set ColorBeams(t){this.colorBeams=t}get ColoringSetCurrent(){return this.coloringSetCustom}set ColoringSetCurrent(t){this.coloringSetCustom=t}get DefaultColorNotehead(){return this.defaultColorNotehead}set DefaultColorNotehead(t){this.defaultColorNotehead=t}get DefaultColorRest(){return this.defaultColorRest}set DefaultColorRest(t){this.defaultColorRest=t}get DefaultColorStem(){return this.defaultColorStem}set DefaultColorStem(t){this.defaultColorStem=t}get DefaultColorLabel(){return this.defaultColorLabel}set DefaultColorLabel(t){this.defaultColorLabel=t}get DefaultColorTitle(){return this.defaultColorTitle}set DefaultColorTitle(t){this.defaultColorTitle=t}get DefaultFontFamily(){return this.defaultFontFamily}set DefaultFontFamily(t){this.defaultFontFamily=t}get DefaultFontStyle(){return this.defaultFontStyle}set DefaultFontStyle(t){this.defaultFontStyle=t}get MaxMeasureToDrawIndex(){return this.maxMeasureToDrawIndex}set MaxMeasureToDrawIndex(t){this.maxMeasureToDrawIndex=t}get MinMeasureToDrawIndex(){return this.minMeasureToDrawIndex}set MinMeasureToDrawIndex(t){this.minMeasureToDrawIndex=t}get RenderComposer(){return this.renderComposer}set RenderComposer(t){this.renderComposer=t}get RenderTitle(){return this.renderTitle}set RenderTitle(t){this.renderTitle=t}get RenderSubtitle(){return this.renderSubtitle}set RenderSubtitle(t){this.renderSubtitle=t}get RenderLyricist(){return this.renderLyricist}set RenderLyricist(t){this.renderLyricist=t}get RenderPartNames(){return this.renderPartNames}set RenderPartNames(t){this.renderPartNames=t,this.renderPartNames||(this.renderPartAbbreviations=!1)}get RenderPartAbbreviations(){return this.renderPartAbbreviations}set RenderPartAbbreviations(t){this.renderPartAbbreviations=t}get RenderFingerings(){return this.renderFingerings}set RenderFingerings(t){this.renderFingerings=t}get RenderMeasureNumbers(){return this.renderMeasureNumbers}set RenderMeasureNumbers(t){this.renderMeasureNumbers=t}get RenderLyrics(){return this.renderLyrics}set RenderLyrics(t){this.renderLyrics=t}get FingeringPosition(){return this.fingeringPosition}set FingeringPosition(t){this.fingeringPosition=t}get FingeringInsideStafflines(){return this.fingeringInsideStafflines}set FingeringInsideStafflines(t){this.fingeringInsideStafflines=t}get FingeringLabelFontHeight(){return this.fingeringLabelFontHeight}set FingeringLabelFontHeight(t){this.fingeringLabelFontHeight=t}get FingeringOffsetX(){return this.fingeringOffsetX}set FingeringOffsetX(t){this.fingeringOffsetX=t}get NewSystemAtXMLNewSystemAttribute(){return this.newSystemAtXMLNewSystemAttribute}set NewSystemAtXMLNewSystemAttribute(t){this.newSystemAtXMLNewSystemAttribute=t}get NewPageAtXMLNewPageAttribute(){return this.newPageAtXMLNewPageAttribute}set NewPageAtXMLNewPageAttribute(t){this.newPageAtXMLNewPageAttribute=t}get PageFormat(){return this.pageFormat}set PageFormat(t){this.pageFormat=t}get PageBackgroundColor(){return this.pageBackgroundColor}set PageBackgroundColor(t){this.pageBackgroundColor=t}get RenderSingleHorizontalStaffline(){return this.renderSingleHorizontalStaffline}set RenderSingleHorizontalStaffline(t){this.renderSingleHorizontalStaffline=t}get RestoreCursorAfterRerender(){return this.restoreCursorAfterRerender}set RestoreCursorAfterRerender(t){this.restoreCursorAfterRerender=t}resetChordSymbolLabelTexts(t){return t.setValue(d.ChordSymbolEnum.minor,"m"),t.setValue(d.ChordSymbolEnum.augmented,"aug"),t.setValue(d.ChordSymbolEnum.diminished,"dim"),t.setValue(d.ChordSymbolEnum.dominant,"7"),t.setValue(d.ChordSymbolEnum.majorseventh,"maj7"),t.setValue(d.ChordSymbolEnum.minorseventh,"m7"),t.setValue(d.ChordSymbolEnum.diminishedseventh,"dim7"),t.setValue(d.ChordSymbolEnum.augmentedseventh,"aug7"),t.setValue(d.ChordSymbolEnum.halfdiminished,"m7b5"),t.setValue(d.ChordSymbolEnum.majorminor,"m(maj7)"),t.setValue(d.ChordSymbolEnum.majorsixth,"maj6"),t.setValue(d.ChordSymbolEnum.minorsixth,"m6"),t.setValue(d.ChordSymbolEnum.dominantninth,"9"),t.setValue(d.ChordSymbolEnum.majorninth,"maj9"),t.setValue(d.ChordSymbolEnum.minorninth,"m9"),t.setValue(d.ChordSymbolEnum.dominant11th,"11"),t.setValue(d.ChordSymbolEnum.major11th,"maj11"),t.setValue(d.ChordSymbolEnum.minor11th,"m11"),t.setValue(d.ChordSymbolEnum.dominant13th,"13"),t.setValue(d.ChordSymbolEnum.major13th,"maj13"),t.setValue(d.ChordSymbolEnum.minor13th,"m13"),t.setValue(d.ChordSymbolEnum.suspendedsecond,"sus2"),t.setValue(d.ChordSymbolEnum.suspendedfourth,"sus4"),t.setValue(d.ChordSymbolEnum.power,"5"),t}populateDictionaries(){for(let t=0;t<this.noteDistances.length;t++)switch(t){case 0:this.durationDistanceDict[.015625]=this.noteDistances[t],this.durationScalingDistanceDict[.015625]=this.noteDistancesScalingFactors[t];break;case 1:this.durationDistanceDict[.03125]=this.noteDistances[t],this.durationScalingDistanceDict[.03125]=this.noteDistancesScalingFactors[t];break;case 2:this.durationDistanceDict[.0625]=this.noteDistances[t],this.durationScalingDistanceDict[.0625]=this.noteDistancesScalingFactors[t];break;case 3:this.durationDistanceDict[.125]=this.noteDistances[t],this.durationScalingDistanceDict[.125]=this.noteDistancesScalingFactors[t];break;case 4:this.durationDistanceDict[.25]=this.noteDistances[t],this.durationScalingDistanceDict[.25]=this.noteDistancesScalingFactors[t];break;case 5:this.durationDistanceDict[.5]=this.noteDistances[t],this.durationScalingDistanceDict[.5]=this.noteDistancesScalingFactors[t];break;case 6:this.durationDistanceDict[1]=this.noteDistances[t],this.durationScalingDistanceDict[1]=this.noteDistancesScalingFactors[t];break;case 7:this.durationDistanceDict[2]=this.noteDistances[t],this.durationScalingDistanceDict[2]=this.noteDistancesScalingFactors[t]}}calculateCurveParametersArrays(){this.tPower3=new Array(this.bezierCurveStepSize),this.oneMinusTPower3=new Array(this.bezierCurveStepSize),this.factorOne=new Array(this.bezierCurveStepSize),this.factorTwo=new Array(this.bezierCurveStepSize);for(let t=0;t<this.bezierCurveStepSize;t++){const e=t/this.bezierCurveStepSize;this.tPower3[t]=Math.pow(e,3),this.oneMinusTPower3[t]=Math.pow(1-e,3),this.factorOne[t]=3*Math.pow(1-e,2)*e,this.factorTwo[t]=3*(1-e)*Math.pow(e,2)}}}e.EngravingRules=f,f.unit=1;class p{constructor(t,e,i="noIdStringGiven"){this.width=t,this.height=e,this.idString=i}get aspectRatio(){return this.IsUndefined?0:this.width/this.height}get IsUndefined(){return void 0===this.width||void 0===this.height||0===this.height||0===this.width}static get UndefinedPageFormat(){return new p(0,0)}Equals(t){return!!t&&t.width===this.width&&t.height===this.height}}e.PageFormat=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.Note=class{constructor(t,e,i,n){this.slurs=[],this.playbackInstrumentId=void 0,this.notehead=void 0,this.printObject=!0,this.voiceEntry=t,this.parentStaffEntry=e,this.length=i,this.pitch=n,this.halfTone=n?n.getHalfTone():0}get ParentVoiceEntry(){return this.voiceEntry}set ParentVoiceEntry(t){this.voiceEntry=t}get ParentStaffEntry(){return this.parentStaffEntry}get ParentStaff(){return this.parentStaffEntry.ParentStaff}get Length(){return this.length}set Length(t){this.length=t}get TypeLength(){return this.typeLength}set TypeLength(t){this.typeLength=t}get NoteTypeXml(){return this.noteTypeXml}set NoteTypeXml(t){this.noteTypeXml=t}get NormalNotes(){return this.normalNotes}set NormalNotes(t){this.normalNotes=t}get Pitch(){return this.pitch}get NoteBeam(){return this.beam}set NoteBeam(t){this.beam=t}set Notehead(t){this.notehead=t}get Notehead(){return this.notehead}get NoteTuplet(){return this.tuplet}set NoteTuplet(t){this.tuplet=t}get NoteTie(){return this.tie}set NoteTie(t){this.tie=t}get NoteSlurs(){return this.slurs}set NoteSlurs(t){this.slurs=t}get PlaybackInstrumentId(){return this.playbackInstrumentId}set PlaybackInstrumentId(t){this.playbackInstrumentId=t}get PrintObject(){return this.printObject}set PrintObject(t){this.printObject=t}get Arpeggio(){return this.arpeggio}set Arpeggio(t){this.arpeggio=t}get IsCueNote(){return this.isCueNote}set IsCueNote(t){this.isCueNote=t}get StemDirectionXml(){return this.stemDirectionXml}set StemDirectionXml(t){this.stemDirectionXml=t}get TremoloStrokes(){return this.tremoloStrokes}set TremoloStrokes(t){this.tremoloStrokes=t}get StemColorXml(){return this.stemColorXml}set StemColorXml(t){this.stemColorXml=t}get NoteheadColorXml(){return this.noteheadColorXml}set NoteheadColorXml(t){this.noteheadColorXml=t}get NoteheadColor(){return this.noteheadColor}set NoteheadColor(t){this.noteheadColor=t}get NoteheadColorCurrentlyRendered(){return this.noteheadColorCurrentlyRendered}set NoteheadColorCurrentlyRendered(t){this.noteheadColorCurrentlyRendered=t}isRest(){return void 0===this.Pitch||null===this.Pitch}isWholeRest(){return this.isRest()&&this.Length.RealValue===this.ParentStaffEntry.VerticalContainerParent.ParentMeasure.ActiveTimeSignature.RealValue}ToString(){return this.pitch?this.Pitch.ToString()+", length: "+this.length.toString():"rest note, length: "+this.length.toString()}getAbsoluteTimestamp(){return n.Fraction.plus(this.voiceEntry.Timestamp,this.parentStaffEntry.VerticalContainerParent.ParentMeasure.AbsoluteTimestamp)}checkForDoubleSlur(t){for(let e=0,i=this.slurs.length;e<i;++e){const i=this.slurs[e];if(void 0!==i.StartNote&&void 0!==i.EndNote&&void 0!==t.StartNote&&t.StartNote===i.StartNote&&i.EndNote===this)return!0}return!1}},function(t){t[t.Normal=0]="Normal",t[t.Grace=1]="Grace",t[t.Cue=2]="Cue"}(e.Appearance||(e.Appearance={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2);var r;e.OctaveShift=class{constructor(t,e){this.setOctaveShiftValue(t,e)}get Type(){return this.octaveValue}set Type(t){this.octaveValue=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get ParentStartMultiExpression(){return this.startMultiExpression}set ParentStartMultiExpression(t){this.startMultiExpression=t}get ParentEndMultiExpression(){return this.endMultiExpression}set ParentEndMultiExpression(t){this.endMultiExpression=t}setOctaveShiftValue(t,e){this.octaveValue=1===e&&"down"===t?r.VA8:1===e&&"up"===t?r.VB8:2===e&&"down"===t?r.MA15:2===e&&"up"===t?r.MB15:r.NONE}static getPitchFromOctaveShift(t,e){let i=t.Octave;switch(e){case r.VA8:i-=1;break;case r.VB8:i+=1;break;case r.MA15:i-=2;break;case r.MB15:i+=2;break;case r.NONE:default:i+=0}return new n.Pitch(t.FundamentalNote,i,t.Accidental)}},function(t){t[t.VA8=0]="VA8",t[t.VB8=1]="VB8",t[t.MA15=2]="MA15",t[t.MB15=3]="MB15",t[t.NONE=4]="NONE"}(r=e.OctaveEnum||(e.OctaveEnum={}))},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SingleThin=0]="SingleThin",t[t.DoubleThin=1]="DoubleThin",t[t.ThinBold=2]="ThinBold",t[t.BoldThinDots=3]="BoldThinDots",t[t.DotsThinBold=4]="DotsThinBold",t[t.DotsBoldBoldDots=5]="DotsBoldBoldDots",t[t.None=6]="None",t[t.Dotted=7]="Dotted",t[t.Dashed=8]="Dashed",t[t.Bold=9]="Bold",t[t.BoldThin=10]="BoldThin",t[t.DoubleBold=11]="DoubleBold",t[t.Tick=12]="Tick",t[t.Short=13]="Short"}(n=e.SystemLinesEnum||(e.SystemLinesEnum={})),e.SystemLinesEnumHelper=class{static xmlBarlineStyleToSystemLinesEnum(t){return"regular"===t?n.SingleThin:"dotted"===t?n.Dotted:"dashed"===t?n.Dashed:"heavy"===t?n.Bold:"light-light"===t?n.DoubleThin:"light-heavy"===t?n.ThinBold:"heavy-light"===t?n.BoldThin:"heavy-heavy"===t?n.DoubleBold:"tick"===t?n.Tick:"short"===t?n.Short:"none"===t?n.None:n.SingleThin}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(6),r=i(0);class s extends n.AbstractExpression{constructor(t,e,i,n,r=""){super(e),super.parentMeasure=n,this.dynamicType=t,this.label=r,this.staffNumber=i,this.startVolume=-1,this.endVolume=-1,""!==r&&this.setType()}get DynamicType(){return this.dynamicType}set DynamicType(t){this.dynamicType=t}get StartMultiExpression(){return this.startMultiExpression}set StartMultiExpression(t){this.startMultiExpression=t}get EndMultiExpression(){return this.endMultiExpression}set EndMultiExpression(t){this.endMultiExpression=t}get Placement(){return this.placement}set Placement(t){this.placement=t}get StartVolume(){return this.startVolume}set StartVolume(t){this.startVolume=t}get EndVolume(){return this.endVolume}set EndVolume(t){this.endVolume=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Label(){return this.label}set Label(t){this.label=t,this.setType()}static isInputStringContinuousDynamic(t){return!!t&&(s.isStringInStringList(s.listContinuousDynamicIncreasing,t)||s.isStringInStringList(s.listContinuousDynamicDecreasing,t))}getInterpolatedDynamic(t){const e=this.StartMultiExpression.AbsoluteTimestamp;let i;if(i=this.EndMultiExpression?this.EndMultiExpression.AbsoluteTimestamp:r.Fraction.plus(this.startMultiExpression.SourceMeasureParent.AbsoluteTimestamp,this.startMultiExpression.SourceMeasureParent.Duration),t.lt(e))return-1;if(i.lt(t))return-2;const n=r.Fraction.minus(t,e).RealValue/r.Fraction.minus(i,e).RealValue;return Math.max(0,Math.min(99.9,this.startVolume+(this.endVolume-this.startVolume)*n))}isWedge(){return!this.label}setType(){s.isStringInStringList(s.listContinuousDynamicIncreasing,this.label)?this.dynamicType=o.crescendo:s.isStringInStringList(s.listContinuousDynamicDecreasing,this.label)&&(this.dynamicType=o.diminuendo)}}var o;e.ContinuousDynamicExpression=s,s.listContinuousDynamicIncreasing=["crescendo","cresc","cresc.","cres."],s.listContinuousDynamicDecreasing=["decrescendo","decresc","decr.","diminuendo","dim.","dim"],function(t){t[t.crescendo=0]="crescendo",t[t.diminuendo=1]="diminuendo"}(o=e.ContDynamicEnum||(e.ContDynamicEnum={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(78)),n(i(79)),n(i(41)),n(i(156))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);function r(t,e,i){for(var r=i||n.defaultEquals,s=t.length,o=0;o<s;o++)if(r(t[o],e))return o;return-1}e.indexOf=r,e.lastIndexOf=function(t,e,i){for(var r=i||n.defaultEquals,s=t.length-1;s>=0;s--)if(r(t[s],e))return s;return-1},e.contains=function(t,e,i){return r(t,e,i)>=0},e.remove=function(t,e,i){var n=r(t,e,i);return!(n<0)&&(t.splice(n,1),!0)},e.frequency=function(t,e,i){for(var r=i||n.defaultEquals,s=t.length,o=0,a=0;a<s;a++)r(t[a],e)&&o++;return o},e.equals=function(t,e,i){var r=i||n.defaultEquals;if(t.length!==e.length)return!1;for(var s=t.length,o=0;o<s;o++)if(!r(t[o],e[o]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,i){if(e<0||e>=t.length||i<0||i>=t.length)return!1;var n=t[e];return t[e]=t[i],t[i]=n,!0},e.toString=function(t){return"["+t.toString()+"]"},e.forEach=function(t,e){for(var i=0,n=t;i<n.length;i++)if(!1===e(n[i]))return}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.MeasureBegin=0]="MeasureBegin",t[t.MeasureEnd=1]="MeasureEnd"}(e.SystemLinePosition||(e.SystemLinePosition={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(47);class r extends n.Voice{constructor(t,e,i){super(t,e),this.master=i}get Master(){return this.master}}e.LinkedVoice=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),r=i(3);class s extends n.GraphicalObject{constructor(t,e,i){super(),this.expression=e,this.parentMeasure=i,this.boundingBox=new r.BoundingBox(this,t.PositionAndShape),this.parentStaffLine=t,this.parentStaffLine.AbstractExpressions.push(this),this.rules=t.ParentMusicSystem.rules}get Label(){return this.label}get ParentStaffLine(){return this.parentStaffLine}get SourceExpression(){return this.expression}get Placement(){return this.expression.Placement}}e.AbstractGraphicalExpression=s},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(103)),n(i(104)),n(i(44)),n(i(37)),n(i(30)),n(i(62)),n(i(105)),n(i(46)),n(i(66)),n(i(25)),n(i(99)),n(i(126)),n(i(75)),n(i(127)),n(i(48)),n(i(47)),n(i(16)),n(i(168)),n(i(30)),n(i(105)),n(i(66)),n(i(25)),n(i(48)),n(i(75))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(28);var r;!function(t){t[t.Never=0]="Never",t[t.Always=1]="Always",t[t.Auto=2]="Auto"}(e.AlignRestOption||(e.AlignRestOption={})),function(t){t[t.No=0]="No",t[t.YesVisible=1]="YesVisible",t[t.YesInvisible=2]="YesInvisible"}(e.FillEmptyMeasuresWithWholeRests||(e.FillEmptyMeasuresWithWholeRests={})),function(t){t[t.SVG=0]="SVG",t[t.Canvas=1]="Canvas"}(r=e.BackendType||(e.BackendType={})),e.OSMDOptions=class{static OSMDOptionsStandard(){return{autoResize:!0,backend:"svg",drawingParameters:n.DrawingParametersEnum.default}}static BackendTypeFromString(t){return t&&"canvas"===t.toLowerCase()?r.Canvas:r.SVG}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3),r=i(5),s=i(4);class o extends r.GraphicalObject{constructor(t){super(),this.musicSystems=[],this.labels=[],this.parent=t,this.boundingBox=new n.BoundingBox(this,void 0)}get MusicSystems(){return this.musicSystems}set MusicSystems(t){this.musicSystems=t}get Labels(){return this.labels}set Labels(t){this.labels=t}get Parent(){return this.parent}set Parent(t){this.parent=t}get PageNumber(){return this.pageNumber}set PageNumber(t){this.pageNumber=t}setMusicPageAbsolutePosition(t,e){return new s.PointF2D(0,0)}}e.GraphicalMusicPage=o,function(t){t[t.Down=0]="Down",t[t.Right=1]="Right",t[t.RightDown=2]="RightDown"}(e.PagePlacementEnum||(e.PagePlacementEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(35);e.arrays=n;var r=i(149);e.Bag=r.default;var s=i(150);e.BSTree=s.default;var o=i(82);e.BSTreeKV=o.default;var a=i(12);e.Dictionary=a.default;var l=i(84);e.Heap=l.default;var u=i(151);e.LinkedDictionary=u.default;var c=i(54);e.LinkedList=c.default;var h=i(152);e.MultiDictionary=h.default;var d=i(85);e.FactoryDictionary=d.default;var f=i(85);e.DefaultDictionary=f.default;var p=i(83);e.Queue=p.default;var m=i(153);e.PriorityQueue=m.default;var g=i(81);e.Set=g.default;var y=i(154);e.Stack=y.default;var v=i(155);e.MultiRootTree=v.default;var b=i(9);e.util=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2),r=i(14),s=i(2);var o;e.ChordSymbolContainer=class{constructor(t,e,i,n,r){this.rootPitch=t,this.chordKind=e,this.bassPitch=i,this.degree=n,this.rules=r}get RootPitch(){return this.rootPitch}get ChordKind(){return this.chordKind}get BassPitch(){return this.bassPitch}get ChordDegree(){return this.degree}static calculateChordText(t,e,i){let a=t.RootPitch;r.MusicSheetCalculator.transposeCalculator&&(a=r.MusicSheetCalculator.transposeCalculator.transposePitch(t.RootPitch,i,e));let l=n.Pitch.getNoteEnumString(a.FundamentalNote);if(a.Accidental!==s.AccidentalEnum.NONE&&(l+=this.getTextForAccidental(a.Accidental)),l+=t.getTextFromChordKindEnum(t.ChordKind),t.ChordDegree)switch(t.ChordDegree.text){case o.add:l+="add",l+=t.ChordDegree.value.toString();break;case o.alter:t.ChordDegree.alteration!==s.AccidentalEnum.NONE&&(l+=this.getTextForAccidental(t.ChordDegree.alteration)),l+=t.ChordDegree.value.toString();break;case o.subtract:l+="(omit",l+=t.ChordDegree.value.toString(),l+=")"}if(t.BassPitch){let s=t.BassPitch;r.MusicSheetCalculator.transposeCalculator&&(s=r.MusicSheetCalculator.transposeCalculator.transposePitch(t.BassPitch,i,e)),l+="/",l+=n.Pitch.getNoteEnumString(s.FundamentalNote),l+=this.getTextForAccidental(s.Accidental)}return l}static getTextForAccidental(t){let e="";switch(t){case s.AccidentalEnum.DOUBLEFLAT:e+="bb";break;case s.AccidentalEnum.FLAT:e+="b";break;case s.AccidentalEnum.SHARP:e+="#";break;case s.AccidentalEnum.DOUBLESHARP:e+="x"}return e}getTextFromChordKindEnum(t){var e;return null!==(e=this.rules.ChordSymbolLabelTexts.getValue(t))&&void 0!==e?e:""}},e.Degree=class{constructor(t,e,i){this.value=t,this.alteration=e,this.text=i}},function(t){t[t.add=0]="add",t[t.alter=1]="alter",t[t.subtract=2]="subtract"}(o=e.ChordDegreeText||(e.ChordDegreeText={})),function(t){t[t.major=0]="major",t[t.minor=1]="minor",t[t.augmented=2]="augmented",t[t.diminished=3]="diminished",t[t.dominant=4]="dominant",t[t.majorseventh=5]="majorseventh",t[t.minorseventh=6]="minorseventh",t[t.diminishedseventh=7]="diminishedseventh",t[t.augmentedseventh=8]="augmentedseventh",t[t.halfdiminished=9]="halfdiminished",t[t.majorminor=10]="majorminor",t[t.majorsixth=11]="majorsixth",t[t.minorsixth=12]="minorsixth",t[t.dominantninth=13]="dominantninth",t[t.majorninth=14]="majorninth",t[t.minorninth=15]="minorninth",t[t.dominant11th=16]="dominant11th",t[t.major11th=17]="major11th",t[t.minor11th=18]="minor11th",t[t.dominant13th=19]="dominant13th",t[t.major13th=20]="major13th",t[t.minor13th=21]="minor13th",t[t.suspendedsecond=22]="suspendedsecond",t[t.suspendedfourth=23]="suspendedfourth",t[t.Neapolitan=24]="Neapolitan",t[t.Italian=25]="Italian",t[t.French=26]="French",t[t.German=27]="German",t[t.pedal=28]="pedal",t[t.power=29]="power",t[t.Tristan=30]="Tristan"}(e.ChordSymbolEnum||(e.ChordSymbolEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractNotationInstruction=class{constructor(t){this.printObject=!0,this.parent=t}get Parent(){return this.parent}set Parent(t){this.parent=t}get PrintObject(){return this.printObject}set PrintObject(t){this.printObject=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2);e.OrnamentContainer=class{constructor(t){this.accidentalAbove=n.AccidentalEnum.NONE,this.accidentalBelow=n.AccidentalEnum.NONE,this.ornament=t}get GetOrnament(){return this.ornament}get AccidentalAbove(){return this.accidentalAbove}set AccidentalAbove(t){this.accidentalAbove=t}get AccidentalBelow(){return this.accidentalBelow}set AccidentalBelow(t){this.accidentalBelow=t}},function(t){t[t.Trill=0]="Trill",t[t.Turn=1]="Turn",t[t.InvertedTurn=2]="InvertedTurn",t[t.DelayedTurn=3]="DelayedTurn",t[t.DelayedInvertedTurn=4]="DelayedInvertedTurn",t[t.Mordent=5]="Mordent",t[t.InvertedMordent=6]="InvertedMordent"}(e.OrnamentEnum||(e.OrnamentEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Voice=class{constructor(t,e){this.voiceEntries=[],this.volume=1,this.parent=t,this.visible=!0,this.audible=!0,this.following=!0,this.voiceId=e}get VoiceEntries(){return this.voiceEntries}get Parent(){return this.parent}get Visible(){return this.visible}set Visible(t){this.visible=t}get Audible(){return this.audible}set Audible(t){this.audible=t}get Following(){return this.following}set Following(t){this.following=t}get VoiceId(){return this.voiceId}get Volume(){return this.volume}set Volume(t){this.volume=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.VerticalSourceStaffEntryContainer=class{constructor(t,e,i){this.staffEntries=[],this.comments=[],this.timestamp=e,this.staffEntries=new Array(i),this.parentMeasure=t}$get$(t){return this.staffEntries[t]}$set$(t,e){this.staffEntries[t]=e}get Timestamp(){return this.timestamp}set Timestamp(t){this.timestamp=t}get StaffEntries(){return this.staffEntries}set StaffEntries(t){this.staffEntries=t}get Comments(){return this.comments}set Comments(t){this.comments=t}get ParentMeasure(){return this.parentMeasure}set ParentMeasure(t){this.parentMeasure=t}getAbsoluteTimestamp(){return n.Fraction.plus(this.timestamp,this.parentMeasure.AbsoluteTimestamp)}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(20),s=i(33),o=i(4),a=i(38),l=i(6),u=n(i(1));class c extends a.AbstractGraphicalExpression{constructor(t,e,i){super(e,t,i),this.lines=[],this.isSplittedPart=!1,this.notToBeRemoved=!1}get StartMeasure(){return this.startMeasure}set StartMeasure(t){this.startMeasure=t}get EndMeasure(){return this.endMeasure}set EndMeasure(t){this.endMeasure=t}get EndStaffLine(){return this.endMeasure?this.endMeasure.ParentStaffLine:void 0}get IsSplittedPart(){return this.isSplittedPart}set IsSplittedPart(t){this.isSplittedPart=t}get IsVerbal(){return this.ContinuousDynamic.Label&&this.ContinuousDynamic.Label.length>0}get NotToBeRemoved(){return this.notToBeRemoved}set NotToBeRemoved(t){this.notToBeRemoved=t}get Lines(){return this.lines}get ContinuousDynamic(){return this.SourceExpression}updateSkyBottomLine(){var t;const e=this.parentStaffLine.SkyBottomLineCalculator,i=this.IsVerbal?this.label.PositionAndShape.RelativePosition.x+this.label.PositionAndShape.BorderMarginLeft:0,n=this.IsVerbal?this.label.PositionAndShape.RelativePosition.x+this.label.PositionAndShape.BorderMarginRight:0;switch(!this.IsVerbal&&this.lines.length<2&&u.default.warn("Not enough lines for SkyBottomLine calculation"),this.IsVerbal||this.ContinuousDynamic.DynamicType!==s.ContDynamicEnum.crescendo&&this.ContinuousDynamic.DynamicType!==s.ContDynamicEnum.diminuendo&&u.default.warn("GraphicalContinuousDynamicExpression.updateSkyBottomLine(): unhandled continuous dynamic type. start measure: "+(null===(t=this.startMeasure)||void 0===t?void 0:t.MeasureNumber)),this.Placement){case l.PlacementEnum.Above:if(this.IsVerbal){const t=this.label.PositionAndShape.BorderMarginTop+this.label.PositionAndShape.RelativePosition.y;e.updateSkyLineInRange(i,n,t)}else this.ContinuousDynamic.DynamicType===s.ContDynamicEnum.crescendo?e.updateSkyLineWithWedge(this.lines[0].Start,this.lines[0].End):this.ContinuousDynamic.DynamicType===s.ContDynamicEnum.diminuendo&&e.updateSkyLineWithWedge(this.lines[0].End,this.lines[0].Start);break;case l.PlacementEnum.Below:if(this.IsVerbal){const t=this.label.PositionAndShape.BorderMarginBottom+this.label.PositionAndShape.RelativePosition.y;e.updateBottomLineInRange(i,n,t)}else this.ContinuousDynamic.DynamicType===s.ContDynamicEnum.crescendo?e.updateBottomLineWithWedge(this.lines[1].Start,this.lines[1].End):this.ContinuousDynamic.DynamicType===s.ContDynamicEnum.diminuendo&&e.updateBottomLineWithWedge(this.lines[1].End,this.lines[1].Start);break;default:u.default.error("Placement for GraphicalContinuousDynamicExpression is unknown")}}createCrescendoLines(t,e,i,n=this.rules.WedgeOpeningLength,r=this.rules.WedgeLineWidth){const s=new o.PointF2D(t,i),a=new o.PointF2D(e,i-n/2),l=new o.PointF2D(e,i+n/2);this.addWedgeLines(s,a,l,r)}createFirstHalfCrescendoLines(t,e,i,n=this.rules.WedgeMeasureEndOpeningLength,r=this.rules.WedgeLineWidth){const s=new o.PointF2D(t,i),a=new o.PointF2D(e,i-n/2),l=new o.PointF2D(e,i+n/2);this.addWedgeLines(s,a,l,r)}createSecondHalfCrescendoLines(t,e,i,n=this.rules.WedgeMeasureBeginOpeningLength,r=this.rules.WedgeOpeningLength,s=this.rules.WedgeLineWidth){const a=new o.PointF2D(t,i-n/2),l=new o.PointF2D(t,i+n/2),u=new o.PointF2D(e,i-r/2),c=new o.PointF2D(e,i+r/2);this.addDoubleLines(a,u,l,c,s)}recalculateCrescendoLines(t,e,i){const n=Math.abs(this.lines[0].Start.y-this.lines[1].Start.y)>1e-4;this.lines.clear(),n?this.createSecondHalfCrescendoLines(t,e,i):this.isSplittedPart?this.createFirstHalfCrescendoLines(t,e,i):this.createCrescendoLines(t,e,i)}createDiminuendoLines(t,e,i,n=this.rules.WedgeOpeningLength,r=this.rules.WedgeLineWidth){const s=new o.PointF2D(t,i-n/2),a=new o.PointF2D(t,i+n/2),l=new o.PointF2D(e,i);this.addWedgeLines(l,s,a,r)}createFirstHalfDiminuendoLines(t,e,i,n=this.rules.WedgeOpeningLength,r=this.rules.WedgeMeasureEndOpeningLength,s=this.rules.WedgeLineWidth){const a=new o.PointF2D(t,i-n/2),l=new o.PointF2D(t,i+n/2),u=new o.PointF2D(e,i-r/2),c=new o.PointF2D(e,i+r/2);this.addDoubleLines(a,u,l,c,s)}createSecondHalfDiminuendoLines(t,e,i,n=this.rules.WedgeMeasureBeginOpeningLength,r=this.rules.WedgeLineWidth){const s=new o.PointF2D(t,i-n/2),a=new o.PointF2D(t,i+n/2),l=new o.PointF2D(e,i);this.addWedgeLines(l,s,a,r)}recalculateDiminuendoLines(t,e,i){const n=Math.abs(this.lines[0].End.y-this.lines[1].End.y)>1e-4;this.lines.clear(),n?this.createFirstHalfDiminuendoLines(t,e,i):this.isSplittedPart?this.createSecondHalfDiminuendoLines(t,e,i):this.createDiminuendoLines(t,e,i)}calcPsi(){this.IsVerbal?this.PositionAndShape.calculateBoundingBox():(this.PositionAndShape.RelativePosition=this.lines[0].Start,this.PositionAndShape.BorderMarginTop=this.lines[0].End.y-this.lines[0].Start.y,this.PositionAndShape.BorderMarginBottom=this.lines[1].End.y-this.lines[1].Start.y,this.PositionAndShape.Center.y=(this.PositionAndShape.BorderMarginTop+this.PositionAndShape.BorderMarginBottom)/2,this.ContinuousDynamic.DynamicType===s.ContDynamicEnum.crescendo?(this.PositionAndShape.BorderMarginLeft=0,this.PositionAndShape.BorderMarginRight=this.lines[0].End.x-this.lines[0].Start.x):(this.PositionAndShape.BorderMarginLeft=this.lines[0].End.x-this.lines[0].Start.x,this.PositionAndShape.BorderMarginRight=0))}cleanUp(){this.lines.clear()}shiftYPosition(t){this.IsVerbal?(this.PositionAndShape.RelativePosition.y+=t,this.PositionAndShape.calculateBoundingBox()):(this.lines[0].Start.y+=t,this.lines[0].End.y+=t,this.lines[1].End.y+=t)}squeeze(t){this.IsVerbal||Math.abs(this.lines[0].End.x-this.lines[0].Start.x)<Math.abs(t)||(this.ContinuousDynamic.DynamicType===s.ContDynamicEnum.crescendo?t>0?this.lines[0].Start.x+=t:(this.lines[0].End.x+=t,this.lines[1].End.x+=t):t<0?this.lines[0].Start.x+=t:(this.lines[0].End.x+=t,this.lines[1].End.x+=t),this.calcPsi())}addWedgeLines(t,e,i,n){const s=new r.GraphicalLine(t,e,n),o=new r.GraphicalLine(t,i,n);this.lines.push(s),this.lines.push(o)}addDoubleLines(t,e,i,n,s){const o=new r.GraphicalLine(t,e,s),a=new r.GraphicalLine(i,n,s);this.lines.push(o),this.lines.push(a)}}e.GraphicalContinuousDynamicExpression=c},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(38)),n(i(157)),n(i(92)),n(i(106)),n(i(3)),n(i(90)),n(i(21)),n(i(102)),n(i(28)),n(i(29)),n(i(107)),n(i(158)),n(i(49)),n(i(108)),n(i(65)),n(i(56)),n(i(22)),n(i(20)),n(i(109)),n(i(110)),n(i(159)),n(i(111)),n(i(42)),n(i(55)),n(i(112)),n(i(5)),n(i(113)),n(i(160)),n(i(114)),n(i(115)),n(i(162)),n(i(116)),n(i(117)),n(i(14)),n(i(101)),n(i(63)),n(i(98)),n(i(89)),n(i(91)),n(i(163)),n(i(164)),n(i(118)),n(i(119)),n(i(53)),n(i(100)),n(i(36)),n(i(32)),n(i(88)),n(i(165))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(6),s=i(166),o=i(11),a=n(i(1));class l extends r.AbstractExpression{constructor(t,e,i,n,r){super(i),super.parentMeasure=r,this.dynamicEnum=u[t.toLowerCase()],this.soundDynamic=e,this.staffNumber=n}get ParentMultiExpression(){return this.multiExpression}set ParentMultiExpression(t){this.multiExpression=t}get DynEnum(){return this.dynamicEnum}set DynEnum(t){this.dynamicEnum=t}get SoundDynamic(){return this.soundDynamic}set SoundDynamic(t){this.soundDynamic=t}get Placement(){return this.placement}set Placement(t){this.placement=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Length(){return Math.abs(this.length)<1e-4&&(this.length=this.calculateLength()),this.length}get MidiVolume(){return 127*l.dynamicToRelativeVolumeDict[this.dynamicEnum]}static isInputStringInstantaneousDynamic(t){return!!t&&l.isStringInStringList(l.listInstantaneousDynamics,t)}getDynamicExpressionSymbol(t){switch(t){case"p":return s.DynamicExpressionSymbolEnum.p;case"f":return s.DynamicExpressionSymbolEnum.f;case"s":return s.DynamicExpressionSymbolEnum.s;case"z":return s.DynamicExpressionSymbolEnum.z;case"m":return s.DynamicExpressionSymbolEnum.m;case"r":return s.DynamicExpressionSymbolEnum.r;default:throw new o.InvalidEnumArgumentException("unknown DynamicExpressionSymbolEnum: "+t)}}calculateLength(){return a.default.debug("[Andrea] instantaneousDynamicExpression: not implemented: calculateLength!"),0}}var u;e.InstantaneousDynamicExpression=l,l.dynamicToRelativeVolumeDict={f:92/127,ff:108/127,fff:124/127,ffff:125/127,fffff:126/127,ffffff:1,fp:.5,fz:.5,mf:76/127,mp:60/127,p:44/127,pp:28/127,ppp:12/127,pppp:10/127,ppppp:8/127,pppppp:6/127,rf:.5,rfz:.5,sf:.5,sff:.5,sffz:.5,sfp:.5,sfpp:.5,sfz:.5},l.listInstantaneousDynamics=["pppppp","ppppp","pppp","ppp","pp","p","ffffff","fffff","ffff","fff","ff","f","mf","mp","sf","sff","sp","spp","fp","rf","rfz","sfz","sffz","fz"],function(t){t[t.pppppp=0]="pppppp",t[t.ppppp=1]="ppppp",t[t.pppp=2]="pppp",t[t.ppp=3]="ppp",t[t.pp=4]="pp",t[t.p=5]="p",t[t.mp=6]="mp",t[t.mf=7]="mf",t[t.f=8]="f",t[t.ff=9]="ff",t[t.fff=10]="fff",t[t.ffff=11]="ffff",t[t.fffff=12]="fffff",t[t.ffffff=13]="ffffff",t[t.sf=14]="sf",t[t.sff=15]="sff",t[t.sfp=16]="sfp",t[t.sfpp=17]="sfpp",t[t.fp=18]="fp",t[t.rf=19]="rf",t[t.rfz=20]="rfz",t[t.sfz=21]="sfz",t[t.sffz=22]="sffz",t[t.fz=23]="fz",t[t.other=24]="other"}(u=e.DynamicEnum||(e.DynamicEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(80),r=i(4);class s{constructor(t,e,i,n){this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=i,this.height=n}static createFromLocationAndSize(t,e){return new s(t.x,t.y,e.width,e.height)}get Location(){return new r.PointF2D(this.x,this.y)}get Size(){return new n.SizeF2D(this.width,this.height)}}e.RectangleF2D=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),r=i(3);class s extends n.GraphicalObject{constructor(t){super(),this.parentStaffLine=t;const e=t.PositionAndShape;this.boundingBox=new r.BoundingBox(this,e),this.boundingBox.BorderRight=6,this.boundingBox.BorderBottom=4.5,this.boundingBox.BorderLeft=-1.5,this.boundingBox.BorderTop=-1.5}}e.StaffLineActivitySymbol=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(35),s=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(n.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||n.isUndefined(t))return!1;var i=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=i,this.lastNode=i;else if(e===this.nElements)this.lastNode.next=i,this.lastNode=i;else if(0===e)i.next=this.firstNode,this.firstNode=i;else{var r=this.nodeAtIndex(e-1);if(null===r)return!1;i.next=r.next,r.next=i}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var i=e||n.defaultEquals;if(n.isUndefined(t))return-1;for(var r=this.firstNode,s=0;null!==r;){if(i(r.element,t))return s;s++,r=r.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var i=e||n.defaultEquals;if(this.nElements<1||n.isUndefined(t))return!1;for(var r=null,s=this.firstNode;null!==s;){if(i(s.element,t))return null===r?(this.firstNode=s.next,s===this.lastNode&&(this.lastNode=null)):s===this.lastNode?(this.lastNode=r,r.next=s.next,s.next=null):(r.next=s.next,s.next=null),this.nElements--,!0;r=s,s=s.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,i){var r=i||n.defaultEquals;return e instanceof t&&this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,r)},t.prototype.equalsAux=function(t,e,i){for(;null!==t&&null!==e;){if(!i(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var i=this.nodeAtIndex(t-1);null===i?(e=this.firstNode.element,this.firstNode=this.firstNode.next):i.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=i),null!==i&&null!==i.next&&(e=i.next.element,i.next=i.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,i=null;null!==e;)i=e.next,e.next=t,t=e,e=i;i=this.firstNode,this.firstNode=this.lastNode,this.lastNode=i},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return r.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,i=0;i<t&&null!==e;i++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(88),s=i(20),o=i(4),a=i(8),l=i(15),u=i(0),c=i(3),h=n(i(1)),d=i(24);e.GraphicalMusicSheet=class{constructor(t,e){this.musicPages=[],this.measureList=[],this.verticalGraphicalStaffEntryContainers=[],this.cursors=[],this.leadSheet=!1,this.musicSheet=t,this.numberOfStaves=this.musicSheet.Staves.length,this.calculator=e,this.calculator.initialize(this)}get ParentMusicSheet(){return this.musicSheet}get GetCalculator(){return this.calculator}get MusicPages(){return this.musicPages}set MusicPages(t){this.musicPages=t}get MeasureList(){return this.measureList}set MeasureList(t){this.measureList=t}get VerticalGraphicalStaffEntryContainers(){return this.verticalGraphicalStaffEntryContainers}set VerticalGraphicalStaffEntryContainers(t){this.verticalGraphicalStaffEntryContainers=t}get Title(){return this.title}set Title(t){this.title=t}get Subtitle(){return this.subtitle}set Subtitle(t){this.subtitle=t}get Composer(){return this.composer}set Composer(t){this.composer=t}get Lyricist(){return this.lyricist}set Lyricist(t){this.lyricist=t}get Cursors(){return this.cursors}get SelectionStartSymbol(){return this.selectionStartSymbol}get SelectionEndSymbol(){return this.selectionEndSymbol}get MinAllowedSystemWidth(){return this.minAllowedSystemWidth}set MinAllowedSystemWidth(t){this.minAllowedSystemWidth=t}get NumberOfStaves(){return this.numberOfStaves}get LeadSheet(){return this.leadSheet}set LeadSheet(t){this.leadSheet=t}static transformRelativeToAbsolutePosition(t){for(let e=0;e<t.MusicPages.length;e++){const i=t.MusicPages[e].setMusicPageAbsolutePosition(e,t.ParentMusicSheet.Rules);t.MusicPages[e].PositionAndShape.calculateAbsolutePositionsRecursive(i.x,i.y)}}Initialize(){this.verticalGraphicalStaffEntryContainers=[],this.musicPages=[],this.measureList=[]}reCalculate(){this.calculator.calculate()}prepare(){this.calculator.prepareGraphicalMusicSheet()}EnforceRedrawOfMusicSystems(){for(let t=0,e=this.musicPages.length;t<e;++t){const e=this.musicPages[t];for(let t=0,i=e.MusicSystems.length;t<i;++t)e.MusicSystems[t].needsToBeRedrawn=!0}}getClickedObject(t){for(let e=0,i=this.MusicPages.length;e<i;++e)return this.MusicPages[e].PositionAndShape.getClickedObjectOfType(t)}findGraphicalStaffEntryFromMeasureList(t,e,i){for(let n=e;n<this.measureList.length;n++){const e=this.measureList[n][t];for(let t=0,n=e.staffEntries.length;t<n;++t){const n=e.staffEntries[t];if(n.sourceStaffEntry===i)return n}}}findNextGraphicalStaffEntry(t,e,i){const n=i.parentMeasure,r=n.staffEntries.indexOf(i);if(r<n.staffEntries.length-1)return n.staffEntries[r+1];if(e<this.measureList.length-1){const i=this.measureList[e+1][t];if(i.staffEntries.length>0)return i.staffEntries[0]}}getFirstVisibleMeasuresListFromIndices(t,e){const i=[],n=this.measureList[0].length;for(let r=t;r<=e;r++)for(let t=0;t<n;t++)if(this.measureList[r][t].isVisible()){i.push(this.measureList[r][t]);break}return i}orderMeasuresByStaffLine(t){const e=[];let i=[];e.push(i);for(let n=0;n<t.length;n++)0===n?i.push(t[0]):(t[n].ParentStaffLine===t[n-1].ParentStaffLine||(-1===e.indexOf(i)&&e.push(i),i=[],e.push(i)),i.push(t[n]));return e}initializeActiveClefs(){const t=[],e=this.musicSheet.getFirstSourceMeasure();if(e)for(let i=0;i<e.CompleteNumberOfStaves;i++){let n=new a.ClefInstruction;if(e.FirstInstructionsStaffEntries[i])for(let t=0,r=e.FirstInstructionsStaffEntries[i].Instructions.length;t<r;++t){const r=e.FirstInstructionsStaffEntries[i].Instructions[t];r instanceof a.ClefInstruction&&(n=r)}t.push(n)}return t}GetMainKey(){const t=this.musicSheet.getFirstSourceMeasure();if(t)for(let e=0;e<t.CompleteNumberOfStaves;e++)for(let i=0,n=t.FirstInstructionsStaffEntries[e].Instructions.length;i<n;++i){const n=t.FirstInstructionsStaffEntries[e].Instructions[i];if(n instanceof l.KeyInstruction)return n}}getOrCreateVerticalContainer(t){if(0===this.verticalGraphicalStaffEntryContainers.length||d.CollectionUtil.getLastElement(this.verticalGraphicalStaffEntryContainers).AbsoluteTimestamp.lt(t)){const e=new r.VerticalGraphicalStaffEntryContainer(this.numberOfStaves,t);return this.verticalGraphicalStaffEntryContainers.push(e),e}for(let e=this.verticalGraphicalStaffEntryContainers.length-1;e>=0;e--){if(this.verticalGraphicalStaffEntryContainers[e].AbsoluteTimestamp.lt(t)){const i=new r.VerticalGraphicalStaffEntryContainer(this.numberOfStaves,t);return this.verticalGraphicalStaffEntryContainers.splice(e+1,0,i),i}if(this.verticalGraphicalStaffEntryContainers[e].AbsoluteTimestamp.Equals(t))return this.verticalGraphicalStaffEntryContainers[e]}}GetVerticalContainerFromTimestamp(t,e=0){const i=d.CollectionUtil.binarySearch(this.verticalGraphicalStaffEntryContainers,new r.VerticalGraphicalStaffEntryContainer(0,t),r.VerticalGraphicalStaffEntryContainer.compareByTimestamp,e);if(i>=0)return this.verticalGraphicalStaffEntryContainers[i]}GetInterpolatedIndexInVerticalContainers(t){const e=this.verticalGraphicalStaffEntryContainers;let i,n=0,r=e.length-1,s=void 0,o=void 0;if(t.lte(e[e.length-1].AbsoluteTimestamp)){for(;r-n>1;){const i=Math.floor((r+n)/2);if(e[n].AbsoluteTimestamp.Equals(t)){r=n;break}if(e[r].AbsoluteTimestamp.Equals(t)){n=r;break}if(e[i].AbsoluteTimestamp.Equals(t))return this.verticalGraphicalStaffEntryContainers.indexOf(e[i]);t.lt(e[i].AbsoluteTimestamp)?r=i:n=i}if(n===r)return this.verticalGraphicalStaffEntryContainers.indexOf(e[n]);s=e[n].AbsoluteTimestamp,o=e[r].AbsoluteTimestamp}else s=e[e.length-1].AbsoluteTimestamp,o=u.Fraction.plus(this.getLongestStaffEntryDuration(e.length-1),s),r=e.length;const a=o.RealValue-s.RealValue;return i=r-(o.RealValue-t.RealValue)/a,Math.min(i,this.verticalGraphicalStaffEntryContainers.length)}getVisibleStavesIndicesFromSourceMeasure(t){const e=[],i=[];for(let n=0,r=t.length;n<r;++n){const i=t[n].ParentStaff.ParentInstrument;-1===e.indexOf(i)&&e.push(i)}for(let n=0,r=e.length;n<r;++n){const t=e[n],r=this.musicSheet.getGlobalStaffIndexOfFirstStaff(t);for(let e=0;e<t.Staves.length;e++)i.push(r+e)}return i}getGraphicalMeasureFromSourceMeasureAndIndex(t,e){for(let i=0;i<this.measureList.length;i++)if(this.measureList[i][0].parentSourceMeasure===t)return this.measureList[i][e]}getLastGraphicalMeasureFromIndex(t,e=!0){let i=this.measureList.length-1;return e&&(i=Math.min(i,this.musicSheet.Rules.MaxMeasureToDrawIndex)),this.measureList[i][t]}getMeasureIndex(t,e,i){for(e=0,0;e<this.measureList.length;e++)for(let i=0,n=this.measureList[e].length;i<n;++i)if(this.measureList[e][i]===t)return!0;return!1}GetNearestNote(t,e){const i=[],n=new c.BoundingBox;n.BorderLeft=t.x-10,n.BorderTop=t.y-10,n.BorderRight=t.x+10,n.BorderBottom=t.y+10,n.AbsolutePosition=new o.PointF2D(0,0);for(let s=0,o=this.MusicPages.length;s<o;++s){const r=this.MusicPages[s].PositionAndShape.getObjectsInRegion(n);if(r)for(let n=0,s=r.length;n<s;++n){const s=r[n];Math.abs(s.PositionAndShape.AbsolutePosition.x-t.x)<e.x&&Math.abs(s.PositionAndShape.AbsolutePosition.y-t.y)<e.y&&i.push(s)}}let r=void 0;for(let s=0,o=i.length;s<o;++s){const e=i[s];if(void 0===r)r=e;else{if(!e.parentVoiceEntry.parentStaffEntry.relInMeasureTimestamp)continue;this.CalculateDistance(e.PositionAndShape.AbsolutePosition,t)<this.CalculateDistance(r.PositionAndShape.AbsolutePosition,t)&&(r=e)}}if(r)return r}GetClickableLabel(t){const e=new c.BoundingBox;e.BorderLeft=t.x-4,e.BorderTop=t.y-4,e.BorderRight=t.x+4,e.BorderBottom=t.y+4,e.AbsolutePosition=new o.PointF2D(0,0);for(let i=0,n=this.MusicPages.length;i<n;++i){const t=this.MusicPages[i].PositionAndShape.getObjectsInRegion(e);if(1===t.length)for(let e=0,i=t.length;e<i;++e)return t[e]}}GetNearestStaffEntry(t){const e=[],i=new c.BoundingBox(void 0);i.BorderLeft=t.x-10,i.BorderTop=t.y-10,i.BorderRight=t.x+10,i.BorderBottom=t.y+10,i.AbsolutePosition=new o.PointF2D(0,0);for(let r=0,s=this.MusicPages.length;r<s;++r){const t=this.MusicPages[r].PositionAndShape.getObjectsInRegion(i,!1);if(t&&0!==t.length)for(let i=0,n=t.length;i<n;++i){const n=t[i];e.push(n)}}let n=void 0;for(let r=0,s=e.length;r<s;++r){const i=e[r];if(void 0===n)n=i;else{if(!i.relInMeasureTimestamp)continue;this.CalculateDistance(i.PositionAndShape.AbsolutePosition,t)<this.CalculateDistance(n.PositionAndShape.AbsolutePosition,t)&&(n=i)}}if(n)return n}GetPossibleCommentAnchor(t){const e=this.GetNearestStaffEntry(t);if(e)return e.sourceStaffEntry}getClickedObjectOfType(t){for(let e=0,i=this.musicPages.length;e<i;++e){const i=this.musicPages[e].PositionAndShape.getClickedObjectOfType(t);if(i)return i}}tryGetTimestampFromPosition(t){const e=this.getClickedObjectOfType(t);if(e)return e.getAbsoluteTimestamp()}tryGetClickableLabel(t){try{return this.GetClickableLabel(t)}catch(e){h.default.info("GraphicalMusicSheet.tryGetClickableObject","positionOnMusicSheet: "+t,e)}}tryGetTimeStampFromPosition(t){try{const e=this.GetNearestStaffEntry(t);if(!e)return;return e.getAbsoluteTimestamp()}catch(e){h.default.info("GraphicalMusicSheet.tryGetTimeStampFromPosition","positionOnMusicSheet: "+t,e)}}getStaffEntry(t){const e=this.VerticalGraphicalStaffEntryContainers[t];let i=void 0;try{for(let t=0,n=e.StaffEntries.length;t<n;++t){const n=e.StaffEntries[t];n&&n.sourceStaffEntry.ParentStaff.ParentInstrument.Visible&&(i?n.PositionAndShape&&i.PositionAndShape&&i.PositionAndShape.RelativePosition.x>n.PositionAndShape.RelativePosition.x&&(i=n):i=n)}}catch(t){h.default.info("GraphicalMusicSheet.getStaffEntry",t)}return i}GetPreviousVisibleContainerIndex(t){for(let e=t-1;e>=0;e--){const t=this.verticalGraphicalStaffEntryContainers[e].StaffEntries;for(let i=0,n=t.length;i<n;++i){const n=t[i];if(n&&n.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return e}}return-1}GetNextVisibleContainerIndex(t){for(let e=t+1;e<this.verticalGraphicalStaffEntryContainers.length;++e){const t=this.verticalGraphicalStaffEntryContainers[e].StaffEntries;for(let i=0,n=t.length;i<n;++i){const n=t[i];if(n&&n.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return e}}return-1}findClosestLeftStaffEntry(t,e){let i=void 0,n=Math.floor(t);n=Math.min(this.VerticalGraphicalStaffEntryContainers.length-1,n);for(let r=n;r>=0;r--)if(i=this.getStaffEntry(r),i){if(!e)return i;if(i.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return i}}findClosestRightStaffEntry(t,e){let i=void 0;for(let n=Math.max(0,Math.ceil(t));n<this.VerticalGraphicalStaffEntryContainers.length;n++)if(i=this.getStaffEntry(n),i){if(!e)return i;if(i.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return i}}calculateCursorLineAtTimestamp(t,e){const i=this.calculateXPositionFromTimestamp(t),n=i[0],r=i[1];if(!r||0===r.StaffLines.length)return;const a=r.PositionAndShape.AbsolutePosition.y,l=d.CollectionUtil.last(r.StaffLines).PositionAndShape.RelativePosition.y+4;return new s.GraphicalLine(new o.PointF2D(n,a),new o.PointF2D(n,a+l),3,e)}calculateXPositionFromTimestamp(t){var e,i,n,r;let s=void 0;const o=this.GetInterpolatedIndexInVerticalContainers(t),a=this.findClosestLeftStaffEntry(o,!0),l=this.findClosestRightStaffEntry(o,!0),c=t.RealValue;if(!a&&!l)return[0,void 0];let h=void 0;h=a?null===(e=a.parentMeasure.ParentStaffLine)||void 0===e?void 0:e.ParentMusicSystem:null===(i=l.parentMeasure.ParentStaffLine)||void 0===i?void 0:i.ParentMusicSystem;let d=void 0;if(d=l?null===(n=l.parentMeasure.ParentStaffLine)||void 0===n?void 0:n.ParentMusicSystem:null===(r=a.parentMeasure.ParentStaffLine)||void 0===r?void 0:r.ParentMusicSystem,h===d){let t,e,i;if(s=h,a)if(l)e=a.PositionAndShape.AbsolutePosition.x,i=l.PositionAndShape.AbsolutePosition.x,t=a===l?0:(c-a.getAbsoluteTimestamp().RealValue)/(l.getAbsoluteTimestamp().RealValue-a.getAbsoluteTimestamp().RealValue);else{e=a.PositionAndShape.AbsolutePosition.x,i=s.GetRightBorderAbsoluteXPosition();const n=a.parentMeasure.parentSourceMeasure;t=(c-a.getAbsoluteTimestamp().RealValue)/(u.Fraction.plus(n.AbsoluteTimestamp,n.Duration).RealValue-a.getAbsoluteTimestamp().RealValue)}else e=i=l.PositionAndShape.AbsolutePosition.x,t=0;return t=Math.min(1,Math.max(0,t)),[e+t*(i-e),s]}{const t=l.parentMeasure.parentSourceMeasure.AbsoluteTimestamp.RealValue;let e,i;if(c<t){s=h;const n=a.PositionAndShape.AbsolutePosition.x,r=s.GetRightBorderAbsoluteXPosition();e=(c-a.getAbsoluteTimestamp().RealValue)/(t-a.getAbsoluteTimestamp().RealValue),e=Math.min(1,Math.max(0,e)),i=n+e*(r-n)}else{s=d;const n=l.PositionAndShape.AbsolutePosition.x,r=s.GetLeftBorderAbsoluteXPosition();e=(c-t)/(l.getAbsoluteTimestamp().RealValue-t),e=Math.min(1,Math.max(0,e)),i=r+e*(n-r)}return[i,s]}}GetNumberOfVisibleInstruments(){let t=0;for(let e=0,i=this.musicSheet.Instruments.length;e<i;++e)!0===this.musicSheet.Instruments[e].Visible&&t++;return t}GetNumberOfFollowedInstruments(){let t=0;for(let e=0,i=this.musicSheet.Instruments.length;e<i;++e)!0===this.musicSheet.Instruments[e].Following&&t++;return t}GetGraphicalFromSourceStaffEntry(t){return t.VerticalContainerParent.ParentMeasure.VerticalMeasureList[t.ParentStaff.idInMusicSheet].findGraphicalStaffEntryFromTimestamp(t.Timestamp)}CalculateDistance(t,e){const i=t.x-e.x,n=t.y-e.y;return i*i+n*n}getLongestStaffEntryDuration(t){let e=new u.Fraction(0,1);for(const i of this.verticalGraphicalStaffEntryContainers[t].StaffEntries){if(!i)continue;const t=i.findStaffEntryMaxNoteLength();e.lt(t)&&(e=t)}return e}},e.SystemImageProperties=class{}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(38);class r extends n.AbstractGraphicalExpression{constructor(t,e){super(e.PositionAndShape.Parent.DataObject,t,t.parentMeasure),this.label=e}get GraphicalLabel(){return this.label}updateSkyBottomLine(){}}e.GraphicalInstantaneousTempoExpression=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(93),r=i(11),s=i(0);class o extends n.AbstractTempoExpression{constructor(t,e,i,n,r,s=!1){super(t,e,i,r),this.setTempoAndTempoType(n)}static getDefaultValueForTempoType(t){switch(t){case a.larghissimo:return 20;case a.grave:return 30;case a.lento:return 48;case a.largo:return 52;case a.larghetto:return 63;case a.adagio:return 70;case a.adagietto:return 75;case a.andanteModerato:return 88;case a.andante:return 92;case a.andantino:return 96;case a.moderato:return 106;case a.allegretto:return 112;case a.allegroModerato:return 118;case a.allegro:return 130;case a.vivace:return 140;case a.vivacissimo:return 155;case a.allegrissimo:return 170;case a.presto:return 184;case a.prestissimo:return 200;default:throw new r.ArgumentOutOfRangeException("tempoEnum")}}static isInputStringInstantaneousTempo(t){return!!t&&(o.isStringInStringList(o.listInstantaneousTempoLarghissimo,t)||o.isStringInStringList(o.listInstantaneousTempoGrave,t)||o.isStringInStringList(o.listInstantaneousTempoLento,t)||o.isStringInStringList(o.listInstantaneousTempoLargo,t)||o.isStringInStringList(o.listInstantaneousTempoLarghetto,t)||o.isStringInStringList(o.listInstantaneousTempoAdagio,t)||o.isStringInStringList(o.listInstantaneousTempoAdagietto,t)||o.isStringInStringList(o.listInstantaneousTempoAndanteModerato,t)||o.isStringInStringList(o.listInstantaneousTempoAndante,t)||o.isStringInStringList(o.listInstantaneousTempoAndantino,t)||o.isStringInStringList(o.listInstantaneousTempoModerato,t)||o.isStringInStringList(o.listInstantaneousTempoAllegretto,t)||o.isStringInStringList(o.listInstantaneousTempoAllegroModerato,t)||o.isStringInStringList(o.listInstantaneousTempoAllegro,t)||o.isStringInStringList(o.listInstantaneousTempoVivace,t)||o.isStringInStringList(o.listInstantaneousTempoVivacissimo,t)||o.isStringInStringList(o.listInstantaneousTempoAllegrissimo,t)||o.isStringInStringList(o.listInstantaneousTempoPresto,t)||o.isStringInStringList(o.listInstantaneousTempoPrestissimo,t)||o.isStringInStringList(o.listInstantaneousTempoChangesGeneral,t))}get Label(){return this.label}set Label(t){this.label=t}get Placement(){return this.placement}set Placement(t){this.placement=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Enum(){return this.tempoEnum}get TempoInBpm(){return this.tempoInBpm}set TempoInBpm(t){this.tempoInBpm=t}get ParentMultiTempoExpression(){return this.parentMultiTempoExpression}getAbsoluteTimestamp(){return s.Fraction.plus(this.ParentMultiTempoExpression.SourceMeasureParent.AbsoluteTimestamp,this.ParentMultiTempoExpression.Timestamp)}getAbsoluteFloatTimestamp(){return s.Fraction.plus(this.ParentMultiTempoExpression.SourceMeasureParent.AbsoluteTimestamp,this.ParentMultiTempoExpression.Timestamp).RealValue}setTempoAndTempoType(t){return this.label?o.isStringInStringList(o.listInstantaneousTempoLarghissimo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.larghissimo)),this.tempoInBpm=t,void(this.tempoEnum=a.larghissimo)):o.isStringInStringList(o.listInstantaneousTempoGrave,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.grave)),this.tempoInBpm=t,void(this.tempoEnum=a.grave)):o.isStringInStringList(o.listInstantaneousTempoLento,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.lento)),this.tempoInBpm=t,void(this.tempoEnum=a.lento)):o.isStringInStringList(o.listInstantaneousTempoLargo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.largo)),this.tempoInBpm=t,void(this.tempoEnum=a.largo)):o.isStringInStringList(o.listInstantaneousTempoLarghetto,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.larghetto)),this.tempoInBpm=t,void(this.tempoEnum=a.larghetto)):o.isStringInStringList(o.listInstantaneousTempoAdagio,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.adagio)),this.tempoInBpm=t,void(this.tempoEnum=a.adagio)):o.isStringInStringList(o.listInstantaneousTempoAdagietto,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.adagietto)),this.tempoInBpm=t,void(this.tempoEnum=a.adagietto)):o.isStringInStringList(o.listInstantaneousTempoAndanteModerato,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.andanteModerato)),this.tempoInBpm=t,void(this.tempoEnum=a.andanteModerato)):o.isStringInStringList(o.listInstantaneousTempoAndante,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.andante)),this.tempoInBpm=t,void(this.tempoEnum=a.andante)):o.isStringInStringList(o.listInstantaneousTempoAndantino,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.andantino)),this.tempoInBpm=t,void(this.tempoEnum=a.andantino)):o.isStringInStringList(o.listInstantaneousTempoModerato,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.moderato)),this.tempoInBpm=t,void(this.tempoEnum=a.moderato)):o.isStringInStringList(o.listInstantaneousTempoAllegretto,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.allegretto)),this.tempoInBpm=t,void(this.tempoEnum=a.allegretto)):o.isStringInStringList(o.listInstantaneousTempoAllegroModerato,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.allegroModerato)),this.tempoInBpm=t,void(this.tempoEnum=a.allegroModerato)):o.isStringInStringList(o.listInstantaneousTempoAllegro,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.allegro)),this.tempoInBpm=t,void(this.tempoEnum=a.allegro)):o.isStringInStringList(o.listInstantaneousTempoVivace,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.vivace)),this.tempoInBpm=t,void(this.tempoEnum=a.vivace)):o.isStringInStringList(o.listInstantaneousTempoVivacissimo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.vivacissimo)),this.tempoInBpm=t,void(this.tempoEnum=a.vivacissimo)):o.isStringInStringList(o.listInstantaneousTempoAllegrissimo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.allegrissimo)),this.tempoInBpm=t,void(this.tempoEnum=a.allegrissimo)):o.isStringInStringList(o.listInstantaneousTempoPresto,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.presto)),this.tempoInBpm=t,void(this.tempoEnum=a.presto)):o.isStringInStringList(o.listInstantaneousTempoPrestissimo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.prestissimo)),this.tempoInBpm=t,void(this.tempoEnum=a.prestissimo)):o.isStringInStringList(o.listInstantaneousTempoAddons,this.label)?(this.tempoInBpm=0,void(this.tempoEnum=a.addon)):o.isStringInStringList(o.listInstantaneousTempoChangesGeneral,this.label)?(this.tempoInBpm=0,void(this.tempoEnum=a.changes)):void 0:(this.tempoInBpm=t,void(this.tempoEnum=a.metronomeMark))}}var a;e.InstantaneousTempoExpression=o,o.listInstantaneousTempoLarghissimo=["Larghissimo","Sehr breit","very, very slow"],o.listInstantaneousTempoGrave=["Grave","Schwer","slow and solemn"],o.listInstantaneousTempoLento=["Lento","Lent","Langsam","slowly"],o.listInstantaneousTempoLargo=["Largo","Breit","broadly"],o.listInstantaneousTempoLarghetto=["Larghetto","Etwas breit","rather broadly"],o.listInstantaneousTempoAdagio=["Adagio","Langsam","Ruhig","slow and stately"],o.listInstantaneousTempoAdagietto=["Adagietto","Ziemlich ruhig","Ziemlich langsam","rather slow"],o.listInstantaneousTempoAndanteModerato=["Andante moderato"],o.listInstantaneousTempoAndante=["Andante","Gehend","Schreitend","at a walking pace"],o.listInstantaneousTempoAndantino=["Andantino"],o.listInstantaneousTempoModerato=["Moderato","Mäßig","Mod�r�","moderately"],o.listInstantaneousTempoAllegretto=["Allegretto","fast"],o.listInstantaneousTempoAllegroModerato=["Allegro moderato"],o.listInstantaneousTempoAllegro=["Allegro","Rapide","Vite","Rasch","Schnell","Fr�hlich"],o.listInstantaneousTempoVivace=["Vivace","Lebhaft","Lebendig","lively and fast"],o.listInstantaneousTempoVivacissimo=["Vivacissimo","Sehr lebhaft","Sehr lebendig"],o.listInstantaneousTempoAllegrissimo=["Allegrissimo","very fast"],o.listInstantaneousTempoPresto=["Presto","Sehr schnell","Geschwind"],o.listInstantaneousTempoPrestissimo=["Prestissimo","äußerst schnell"],o.listInstantaneousTempoChangesGeneral=["tempo primo","a tempo","tempo i","rubato","doppio movimento"],o.listInstantaneousTempoAddons=["assai","amoroso","cantabile","con brio","con dolore","con espressione","con fuoco","con moto","con spirito","spiritoso","espressivo","giocoso","giusto","grazioso","lesto","lugubre","maestoso","ma non troppo","marcato","molto","morendo","mosso","non tanto","piu","un poco","poco","quasi","risoluto","scherzando","sostenuto","teneramente","tempo giusto","tranquillo","sehr","lieblich","liebevoll","mit Leidenschaft","mit Liebe","amourös","gesanglich","mit Schwung","mit Feuer","mit Schmerz","mit Ausdruck","mit Bewegung","geistvoll","ausdrucksvoll","freudig","verspielt","angemessen","graziös","mit Grazie","flink","behände","traurig","klagend","majestätisch","aber nicht zu sehr","markant","gemäßigt","viel","sehr","ersterbend","bewegt","nicht zu sehr","mehr","ein wenig","gleichsam","entschlossen","zupackend","heiter","nachdrücklich","getragen","gewichtig","zart","zärtlich","im angemessenen Zeitmaß","ruhig","ein wenig","alla marcia","ad libitum","alla breve"],function(t){t[t.none=0]="none",t[t.larghissimo=1]="larghissimo",t[t.grave=2]="grave",t[t.lento=3]="lento",t[t.largo=4]="largo",t[t.larghetto=5]="larghetto",t[t.adagio=6]="adagio",t[t.adagietto=7]="adagietto",t[t.andanteModerato=8]="andanteModerato",t[t.andante=9]="andante",t[t.andantino=10]="andantino",t[t.moderato=11]="moderato",t[t.allegretto=12]="allegretto",t[t.allegroModerato=13]="allegroModerato",t[t.allegro=14]="allegro",t[t.vivace=15]="vivace",t[t.vivacissimo=16]="vivacissimo",t[t.allegrissimo=17]="allegrissimo",t[t.presto=18]="presto",t[t.prestissimo=19]="prestissimo",t[t.lastRealTempo=20]="lastRealTempo",t[t.addon=21]="addon",t[t.changes=22]="changes",t[t.metronomeMark=23]="metronomeMark"}(a=e.TempoEnum||(e.TempoEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),r=i(93);class s extends r.AbstractTempoExpression{constructor(t,e,i,n){super(t,e,i,n),this.setTempoType()}static isInputStringContinuousTempo(t){return!!t&&(s.isStringInStringList(s.listContinuousTempoFaster,t)||s.isStringInStringList(s.listContinuousTempoSlower,t))}static isIncreasingTempo(t){return t<=o.piuMosso}static isDecreasingTempo(t){return t>=o.allargando&&t<=o.ritenuto}get TempoType(){return this.tempoType}set TempoType(t){this.tempoType=t}get StartTempo(){return this.startTempo}set StartTempo(t){this.startTempo=t}get EndTempo(){return this.endTempo}set EndTempo(t){this.endTempo=t}get AbsoluteEndTimestamp(){return this.absoluteEndTimestamp}set AbsoluteEndTimestamp(t){this.absoluteEndTimestamp=t}get AbsoluteTimestamp(){return this.ParentMultiTempoExpression.AbsoluteTimestamp}getAbsoluteFloatTimestamp(){return this.ParentMultiTempoExpression.AbsoluteTimestamp.RealValue}getInterpolatedTempo(t){const e=n.Fraction.plus(this.parentMultiTempoExpression.SourceMeasureParent.AbsoluteTimestamp,this.parentMultiTempoExpression.Timestamp);if(t.lt(e))return-1;if(this.absoluteEndTimestamp.lt(t))return-2;const i=n.Fraction.minus(t,e).RealValue/n.Fraction.minus(this.absoluteEndTimestamp,e).RealValue;return Math.max(0,Math.min(250,this.startTempo+(this.endTempo-this.startTempo)*i))}setTempoType(){s.isStringInStringList(s.listContinuousTempoFaster,this.label)?this.tempoType=o.accelerando:s.isStringInStringList(s.listContinuousTempoSlower,this.label)&&(this.tempoType=o.ritardando)}}var o;e.ContinuousTempoExpression=s,s.listContinuousTempoFaster=["accelerando","piu mosso","poco piu","stretto"],s.listContinuousTempoSlower=["poco meno","meno mosso","piu lento","calando","allargando","rallentando","ritardando","ritenuto","ritard.","ritard","rit.","rit","riten.","riten"],function(t){t[t.accelerando=0]="accelerando",t[t.stretto=1]="stretto",t[t.stringendo=2]="stringendo",t[t.mosso=3]="mosso",t[t.piuMosso=4]="piuMosso",t[t.allargando=5]="allargando",t[t.calando=6]="calando",t[t.menoMosso=7]="menoMosso",t[t.rallentando=8]="rallentando",t[t.ritardando=9]="ritardando",t[t.ritard=10]="ritard",t[t.rit=11]="rit",t[t.ritenuto=12]="ritenuto",t[t.rubato=13]="rubato",t[t.precipitando=14]="precipitando"}(o=e.ContinuousTempoType||(e.ContinuousTempoType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){if(this.hasAttributes=!1,!t)throw new Error("IXmlElement: expected Element, got undefined");this.elem=t,this.name=t.nodeName.toLowerCase(),t.hasAttributes()&&(this.hasAttributes=!0,this.firstAttribute=t.attributes[0]),this.hasElements=t.hasChildNodes(),1===t.childNodes.length&&t.childNodes[0].nodeType===Node.TEXT_NODE?this.value=t.childNodes[0].nodeValue:this.value=""}attribute(t){return this.elem.attributes.getNamedItem(t)}attributes(){if(!this.attrs){const t=this.elem.attributes,e=[];for(let i=0;i<t.length;i+=1)e.push(t[i]);this.attrs=e}return this.attrs}element(t){const e=this.elem.childNodes;for(let i=0,r=e.length;i<r;i+=1){const r=e[i];if(r.nodeType===Node.ELEMENT_NODE&&r.nodeName.toLowerCase()===t)return new n(r)}}elements(t){const e=this.elem.childNodes,i=[],r=!t;r||(t=t.toLowerCase());for(let s=0;s<e.length;s+=1){const o=e[s];o.nodeType!==Node.ELEMENT_NODE||!r&&o.nodeName.toLowerCase()!==t||i.push(new n(o))}return i}}e.IXmlElement=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(61),r=i(13),s=i(99);class o extends n.InstrumentalGroup{constructor(t,e,i,n){super(void 0,i,n),this.transpose=0,this.voices=[],this.staves=[],this.hasLyrics=!1,this.hasChordSymbols=!1,this.lyricVersesNumbers=[],this.subInstruments=[],this.id=t,this.idString=e,this.nameLabel=new r.Label(e)}get Voices(){return this.voices}get Staves(){return this.staves}get NameLabel(){return this.nameLabel}get HasLyrics(){return this.hasLyrics}set HasLyrics(t){this.hasLyrics=t}get HasChordSymbols(){return this.hasChordSymbols}set HasChordSymbols(t){this.hasChordSymbols=t}get LyricVersesNumbers(){return this.lyricVersesNumbers}set LyricVersesNumbers(t){this.lyricVersesNumbers=t}get Name(){return this.nameLabel.text}set Name(t){this.nameLabel.text=t}get IdString(){return this.idString}get Id(){return this.id}get MidiInstrumentId(){return this.subInstruments[0].midiInstrumentID}set MidiInstrumentId(t){this.subInstruments[0].midiInstrumentID=t}get Volume(){return this.subInstruments[0].volume}set Volume(t){for(let e=0,i=this.subInstruments.length;e<i;++e)this.subInstruments[e].volume=t}get PlaybackTranspose(){return this.playbackTranspose}set PlaybackTranspose(t){this.playbackTranspose=t}get SubInstruments(){return this.subInstruments}getSubInstrument(t){for(let e=0,i=this.subInstruments.length;e<i;++e){const i=this.subInstruments[e];if(i.idString===t)return i}}get PartAbbreviation(){return this.partAbbreviation}set PartAbbreviation(t){this.partAbbreviation=t}get Visible(){return this.voices.length>0&&this.Voices[0].Visible}set Visible(t){for(let e=0,i=this.Voices.length;e<i;++e)this.Voices[e].Visible=t}get Audible(){let t=!1;for(let e=0,i=this.Voices.length;e<i;++e){const i=this.Voices[e];t=t||i.Audible}return t}set Audible(t){for(let e=0,i=this.Voices.length;e<i;++e)this.Voices[e].Audible=t;for(let e=0,i=this.staves.length;e<i;++e)this.staves[e].audible=t}get Following(){let t=!1;for(let e=0,i=this.Voices.length;e<i;++e){const i=this.Voices[e];t=t||i.Following}return t}set Following(t){for(let e=0,i=this.Voices.length;e<i;++e)this.Voices[e].Following=t;for(let e=0,i=this.staves.length;e<i;++e)this.staves[e].following=t}SetVoiceAudible(t,e){for(let i=0,n=this.Voices.length;i<n;++i){const n=this.Voices[i];if(n.VoiceId===t){n.Audible=e;break}}}SetVoiceFollowing(t,e){for(let i=0,n=this.Voices.length;i<n;++i){const n=this.Voices[i];if(n.VoiceId===t){n.Following=e;break}}}SetStaffAudible(t,e){const i=this.staves[t-1];if(i.audible=e,e)for(let n=0,r=i.Voices.length;n<r;++n)i.Voices[n].Audible=!0;else for(let n=0,r=i.Voices.length;n<r;++n){const e=i.Voices[n];let r=!1;for(let i=0,n=this.Staves.length;i<n;++i){const n=this.Staves[i];if(n.Id!==t&&n.audible)for(let t=0,i=n.Voices.length;t<i;++t)n.Voices[t]===e&&(r=!0)}r||(e.Audible=!1)}}SetStaffFollow(t,e){const i=this.staves[t-1];if(i.following=e,e)for(let n=0,r=i.Voices.length;n<r;++n)i.Voices[n].Following=!0;else for(let n=0,r=i.Voices.length;n<r;++n){const e=i.Voices[n];let r=!1;for(let i=0,n=this.Staves.length;i<n;++i){const n=this.Staves[i];if(n.Id!==t&&n.following)for(let t=0,i=n.Voices.length;t<i;++t)n.Voices[t]===e&&(r=!0)}r||(e.Following=!1)}}areAllVoiceVisible(){for(const t of this.Voices)if(!t.Visible)return!1;return!0}createStaves(t){for(let e=0;e<t;e++)this.staves.push(new s.Staff(this,e+1))}toString(){return`${this.Name} , id: ${this.id}, idstring: ${this.idString}`}}e.Instrument=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstrumentalGroup=class{constructor(t,e,i){this.instrumentalGroups=[],this.name=t,this.musicSheet=e,this.parent=i}get InstrumentalGroups(){return this.instrumentalGroups}get Parent(){return this.parent}get Name(){return this.name}set Name(t){this.name=t}get GetMusicSheet(){return this.musicSheet}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(1));class s{constructor(t,e,i){this.sourceNote=t,this.setShapeFromXml(e,i)}setShapeFromXml(t,e){this.shape=s.ShapeTypeXmlToShape(t);let i=e;void 0===i&&(this.sourceNote?i=this.sourceNote.Length.Denominator>2:(r.default.warn("notehead: sourceNote and filledXmlAttribute undefined."),i=!0)),this.filled=i}get SourceNote(){return this.sourceNote}get Shape(){return this.shape}get Filled(){return this.filled}static ShapeTypeXmlToShape(t){switch(t.toLowerCase()){case"normal":return o.NORMAL;case"x":return o.X;case"slash":return o.SLASH;case"diamond":return o.DIAMOND;case"square":case"la":return o.SQUARE;case"do":case"triangle":return o.TRIANGLE;case"rectangle":return o.RECTANGLE;case"circle-x":return o.CIRCLEX;default:return r.default.info("unsupported/unhandled xml notehead '"+t+"'. Using normal notehead."),o.NORMAL}}}var o;e.Notehead=s,function(t){t[t.CIRCLEX=0]="CIRCLEX",t[t.DIAMOND=1]="DIAMOND",t[t.NORMAL=2]="NORMAL",t[t.RECTANGLE=3]="RECTANGLE",t[t.SLASH=4]="SLASH",t[t.SQUARE=5]="SQUARE",t[t.TRIANGLE=6]="TRIANGLE",t[t.X=7]="X"}(o=e.NoteHeadShape||(e.NoteHeadShape={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Unused_first_Symbol=0]="Unused_first_Symbol",t[t.BLACK_HEAD=1]="BLACK_HEAD",t[t.UPWARDS_TAIL=2]="UPWARDS_TAIL",t[t.DOWNWARDS_TAIL=3]="DOWNWARDS_TAIL",t[t.UPWARDS_DOUBLE_TAIL=4]="UPWARDS_DOUBLE_TAIL",t[t.DOWNWARDS_DOUBLE_TAIL=5]="DOWNWARDS_DOUBLE_TAIL",t[t.UPWARDS_TRIPLE_TAIL=6]="UPWARDS_TRIPLE_TAIL",t[t.DOWNWARDS_TRIPLE_TAIL=7]="DOWNWARDS_TRIPLE_TAIL",t[t.UPWARDS_QUAD_TAIL=8]="UPWARDS_QUAD_TAIL",t[t.DOWNWARDS_QUAD_TAIL=9]="DOWNWARDS_QUAD_TAIL",t[t.ROUND_HEAD=10]="ROUND_HEAD",t[t.WHITE_HEAD=11]="WHITE_HEAD",t[t.G_CLEF=12]="G_CLEF",t[t.F_CLEF=13]="F_CLEF",t[t.C_CLEF=14]="C_CLEF",t[t.BREVE=15]="BREVE",t[t.BREVE_REST=16]="BREVE_REST",t[t.COMMON_TIME=17]="COMMON_TIME",t[t.CUT_TIME=18]="CUT_TIME",t[t.WHOLE_REST=19]="WHOLE_REST",t[t.HALF_REST=20]="HALF_REST",t[t.QUARTER_REST=21]="QUARTER_REST",t[t.EIGHTH_REST=22]="EIGHTH_REST",t[t.SIXTEENTH_REST=23]="SIXTEENTH_REST",t[t.THIRTYSECOND_REST=24]="THIRTYSECOND_REST",t[t.SIXTYFOURTH_REST=25]="SIXTYFOURTH_REST",t[t.FLAT=26]="FLAT",t[t.SHARP=27]="SHARP",t[t.NATURAL=28]="NATURAL",t[t.DOUBLE_FLAT=29]="DOUBLE_FLAT",t[t.DOUBLE_SHARP=30]="DOUBLE_SHARP",t[t.ZERO=31]="ZERO",t[t.ONE=32]="ONE",t[t.TWO=33]="TWO",t[t.THREE=34]="THREE",t[t.FOUR=35]="FOUR",t[t.FIVE=36]="FIVE",t[t.SIX=37]="SIX",t[t.SEVEN=38]="SEVEN",t[t.EIGHT=39]="EIGHT",t[t.NINE=40]="NINE",t[t.DOT=41]="DOT",t[t.FERMATA=42]="FERMATA",t[t.INVERTED_FERMATA=43]="INVERTED_FERMATA",t[t.SPICCATO=44]="SPICCATO",t[t.TENUTO=45]="TENUTO",t[t.MARCATO=46]="MARCATO",t[t.MARCATISSIMO=47]="MARCATISSIMO",t[t.INVERTED_MARCATISSIMO=48]="INVERTED_MARCATISSIMO",t[t.P=49]="P",t[t.F=50]="F",t[t.S=51]="S",t[t.Z=52]="Z",t[t.M=53]="M",t[t.R=54]="R",t[t.SEGNO=55]="SEGNO",t[t.CODA=56]="CODA",t[t.DRUM_CLEF=57]="DRUM_CLEF",t[t.G_CLEF_SUB8=58]="G_CLEF_SUB8",t[t.G_CLEF_SUPER8=59]="G_CLEF_SUPER8",t[t.G_CLEF_SUB15=60]="G_CLEF_SUB15",t[t.G_CLEF_SUPER15=61]="G_CLEF_SUPER15",t[t.F_CLEF_SUB8=62]="F_CLEF_SUB8",t[t.F_CLEF_SUPER8=63]="F_CLEF_SUPER8",t[t.F_CLEF_SUB15=64]="F_CLEF_SUB15",t[t.F_CLEF_SUPER15=65]="F_CLEF_SUPER15",t[t.DOWN_BOW=66]="DOWN_BOW",t[t.MORDENT=67]="MORDENT",t[t.INVERTED_MORDENT=68]="INVERTED_MORDENT",t[t.TURN=69]="TURN",t[t.INVERTED_TURN=70]="INVERTED_TURN",t[t.LEFTHAND_PIZZICATO=71]="LEFTHAND_PIZZICATO",t[t.RELEASE_PED=72]="RELEASE_PED",t[t.ENGAGE_PED=73]="ENGAGE_PED",t[t.VA8=74]="VA8",t[t.VB8=75]="VB8",t[t.TRILL=76]="TRILL",t[t.MA15=77]="MA15",t[t.MB15=78]="MB15",t[t.HIGH=79]="HIGH",t[t.PLAY=80]="PLAY",t[t.MIC=81]="MIC",t[t.SNAP_PIZZICATO=82]="SNAP_PIZZICATO",t[t.NATURAL_HARMONIC=83]="NATURAL_HARMONIC",t[t.EditPen=84]="EditPen"}(e.MusicSymbol||(e.MusicSymbol={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(18);e.VexFlowTextMeasurer=class{constructor(t){this.fontSize=20,this.fontSizeStandard=this.fontSize;const e=document.createElement("canvas");this.context=e.getContext("2d"),this.rules=t}computeTextWidthToHeightRatio(t,e,i,r,s=this.fontSize){return this.context.font=n.VexFlowConverter.font(s,i,e,this.rules,r),this.context.measureText(t).width/s}setFontSize(t=this.fontSizeStandard){return this.fontSize=t,t}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(38),s=i(6),o=n(i(1));class a extends r.AbstractGraphicalExpression{constructor(t,e,i){super(e,t,i.parentSourceMeasure),this.mInstantaneousDynamicExpression=t,this.mMeasure=i}updateSkyBottomLine(){const t=this.parentStaffLine.SkyBottomLineCalculator,e=this.PositionAndShape.RelativePosition.x+this.PositionAndShape.BorderMarginLeft,i=this.PositionAndShape.RelativePosition.x+this.PositionAndShape.BorderMarginRight;let n=0;switch(this.Placement){case s.PlacementEnum.Above:n=this.PositionAndShape.RelativePosition.y+this.PositionAndShape.BorderMarginTop,t.updateSkyLineInRange(e,i,n);break;case s.PlacementEnum.Below:n=this.PositionAndShape.RelativePosition.y+this.PositionAndShape.BorderMarginBottom,t.updateBottomLineInRange(e,i,n);break;default:o.default.error("Placement for GraphicalInstantaneousDynamicExpression is unknown")}}}e.GraphicalInstantaneousDynamicExpression=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),r=i(48),s=i(25),o=i(26),a=i(16),l=i(15),u=i(50);e.SourceMeasure=class{constructor(t,e){this.printNewSystemXml=!1,this.printNewPageXml=!1,this.staffLinkedExpressions=[],this.tempoExpressions=[],this.verticalSourceStaffEntryContainers=[],this.graphicalMeasureErrors=[],this.firstRepetitionInstructions=[],this.lastRepetitionInstructions=[],this.completeNumberOfStaves=t,this.implicitMeasure=!1,this.hasEndLine=!1,this.endingBarStyleXml="",this.endingBarStyleEnum=u.SystemLinesEnum.SingleThin,this.firstInstructionsStaffEntries=new Array(t),this.lastInstructionsStaffEntries=new Array(t),this.rules=e,this.TempoInBPM=0;for(let i=0;i<t;i++)this.graphicalMeasureErrors.push(!1),this.staffLinkedExpressions.push([])}get MeasureNumber(){return this.measureNumber}set MeasureNumber(t){this.measureNumber=t}get AbsoluteTimestamp(){return this.absoluteTimestamp}set AbsoluteTimestamp(t){this.absoluteTimestamp=t}get CompleteNumberOfStaves(){return this.completeNumberOfStaves}get Duration(){return this.duration}set Duration(t){this.duration=t}get ActiveTimeSignature(){return this.activeTimeSignature}set ActiveTimeSignature(t){this.activeTimeSignature=t}get ImplicitMeasure(){return this.implicitMeasure}set ImplicitMeasure(t){this.implicitMeasure=t}get HasEndLine(){return this.hasEndLine}set HasEndLine(t){this.hasEndLine=t}get StaffLinkedExpressions(){return this.staffLinkedExpressions}get TempoExpressions(){return this.tempoExpressions}get VerticalSourceStaffEntryContainers(){return this.verticalSourceStaffEntryContainers}get FirstInstructionsStaffEntries(){return this.firstInstructionsStaffEntries}get LastInstructionsStaffEntries(){return this.lastInstructionsStaffEntries}get FirstRepetitionInstructions(){return this.firstRepetitionInstructions}get LastRepetitionInstructions(){return this.lastRepetitionInstructions}getErrorInMeasure(t){return this.graphicalMeasureErrors[t]}setErrorInGraphicalMeasure(t,e){this.graphicalMeasureErrors[t]=e}getNextMeasure(t){return t[this.measureListIndex+1]}getPreviousMeasure(t){if(this.measureListIndex>1)return t[this.measureListIndex-1]}get Rules(){return this.rules}get VerticalMeasureList(){return this.verticalMeasureList}set VerticalMeasureList(t){this.verticalMeasureList=t}get TempoInBPM(){return this.tempoInBPM}set TempoInBPM(t){this.tempoInBPM=t}findOrCreateStaffEntry(t,e,i){let n,o=void 0;for(const r of this.verticalSourceStaffEntryContainers)if(r.Timestamp.Equals(t)){n=r;break}if(n)return n.StaffEntries[e]?o=n.StaffEntries[e]:(o=new s.SourceStaffEntry(n,i),n.StaffEntries[e]=o),{createdNewContainer:!1,staffEntry:o};const a=this.verticalSourceStaffEntryContainers[this.verticalSourceStaffEntryContainers.length-1];if(0===this.verticalSourceStaffEntryContainers.length||a.Timestamp.lt(t)){const n=new r.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.push(n),o=new s.SourceStaffEntry(n,i),n.StaffEntries[e]=o}else for(let l=this.verticalSourceStaffEntryContainers.length-1;l>=0;l--){if(this.verticalSourceStaffEntryContainers[l].Timestamp.lt(t)){const n=new r.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.splice(l+1,0,n),o=new s.SourceStaffEntry(n,i),n.StaffEntries[e]=o;break}if(0===l){const n=new r.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.splice(l,0,n),o=new s.SourceStaffEntry(n,i),n.StaffEntries[e]=o;break}}return{createdNewContainer:!0,staffEntry:o}}findOrCreateVoiceEntry(t,e){let i=void 0,n=!1;for(const r of t.VoiceEntries)if(r.ParentVoice===e){i=r;break}return i||(i=new a.VoiceEntry(t.Timestamp,e,t),t.VoiceEntries.push(i),n=!0),{createdVoiceEntry:n,voiceEntry:i}}getPreviousSourceStaffEntryFromIndex(t,e){for(let i=e-1;i>=0;i--)if(this.verticalSourceStaffEntryContainers[i][t])return this.verticalSourceStaffEntryContainers[i][t]}getVerticalContainerIndexByTimestamp(t){for(let e=0,i=this.VerticalSourceStaffEntryContainers.length;e<i;++e)if(this.VerticalSourceStaffEntryContainers[e].Timestamp.Equals(t))return e;return-1}getVerticalContainerByTimestamp(t){for(let e=0,i=this.VerticalSourceStaffEntryContainers.length;e<i;++e){const i=this.VerticalSourceStaffEntryContainers[e];if(i.Timestamp.Equals(t))return i}}checkForEmptyVerticalContainer(t){let e=0;for(let i=0;i<this.completeNumberOfStaves;i++)this.verticalSourceStaffEntryContainers[t][i]||e++;e===this.completeNumberOfStaves&&this.verticalSourceStaffEntryContainers.splice(t,1)}reverseCheck(t,e){let i=new n.Fraction(0,1);const r=[];for(let s=0;s<t.Instruments.length;s++){let e=new n.Fraction(0,1);const i=t.getGlobalStaffIndexOfFirstStaff(t.Instruments[s]);for(let r=0;r<t.Instruments[s].Staves.length;r++){const t=this.getLastSourceStaffEntryForInstrument(i+r);if(void 0!==t&&!t.hasTie())for(let s=this.verticalSourceStaffEntryContainers.indexOf(t.VerticalContainerParent)-1;s>=0;s--){const t=this.verticalSourceStaffEntryContainers[s][i+r];if(void 0!==t&&t.hasTie()&&e.lt(n.Fraction.plus(t.Timestamp,t.calculateMaxNoteLength()))){e=n.Fraction.plus(t.Timestamp,t.calculateMaxNoteLength());break}}}r.push(e)}for(let n=0,s=r.length;n<s;++n){const t=r[n];i.lt(t)&&(i=t)}return n.Fraction.max(i,e)}calculateInstrumentsDuration(t,e){const i=[];for(let r=0;r<t.Instruments.length;r++){let s=new n.Fraction(0,1);const o=t.getGlobalStaffIndexOfFirstStaff(t.Instruments[r]);for(let e=0;e<t.Instruments[r].Staves.length;e++){const t=this.getLastSourceStaffEntryForInstrument(o+e);void 0!==t&&t.Timestamp&&s.lt(n.Fraction.plus(t.Timestamp,t.calculateMaxNoteLength()))&&(s=n.Fraction.plus(t.Timestamp,t.calculateMaxNoteLength()))}s.lt(e[r])&&(s=e[r]),i.push(s)}return i}getEntriesPerStaff(t){const e=[];for(const i of this.VerticalSourceStaffEntryContainers){const n=i.StaffEntries[t];n&&e.push(n)}return e}hasBeginInstructions(){for(let t=0,e=this.FirstInstructionsStaffEntries.length;t<e;t++){const e=this.FirstInstructionsStaffEntries[t];if(void 0!==e&&e.Instructions.length>0)return!0}return!1}beginsWithLineRepetition(){for(let t=0,e=this.FirstRepetitionInstructions.length;t<e;++t){const e=this.FirstRepetitionInstructions[t];if(e.type===o.RepetitionInstructionEnum.StartLine)return!0;if(void 0!==e.parentRepetition&&e===e.parentRepetition.startMarker&&!e.parentRepetition.FromWords)return!0}return!1}endsWithLineRepetition(){for(let t=0,e=this.LastRepetitionInstructions.length;t<e;++t){const e=this.LastRepetitionInstructions[t];if(e.type===o.RepetitionInstructionEnum.BackJumpLine)return!0;const i=e.parentRepetition;if(i&&!i.FromWords)for(let t=0,n=i.BackwardJumpInstructions.length;t<n;++t)if(e===i.BackwardJumpInstructions[t])return!0}return!1}beginsWithWordRepetition(){for(let t=0,e=this.FirstRepetitionInstructions.length;t<e;++t){const e=this.FirstRepetitionInstructions[t];if(void 0!==e.parentRepetition&&e===e.parentRepetition.startMarker&&e.parentRepetition.FromWords)return!0}return!1}endsWithWordRepetition(){for(let t=0,e=this.LastRepetitionInstructions.length;t<e;++t){const e=this.LastRepetitionInstructions[t],i=e.parentRepetition;if(i&&i.FromWords){for(let t=0,n=i.BackwardJumpInstructions.length;t<n;++t)if(e===i.BackwardJumpInstructions[t])return!0;if(e===i.forwardJumpInstruction)return!0}}return!1}beginsRepetitionEnding(){for(const t of this.FirstRepetitionInstructions)if(t.type===o.RepetitionInstructionEnum.Ending&&t.alignment===o.AlignmentType.Begin)return!0;return!1}endsRepetitionEnding(){for(const t of this.LastRepetitionInstructions)if(t.type===o.RepetitionInstructionEnum.Ending&&t.alignment===o.AlignmentType.End)return!0;return!1}getKeyInstruction(t){if(this.FirstInstructionsStaffEntries[t]){const e=this.FirstInstructionsStaffEntries[t];for(let t=0,i=e.Instructions.length;t<i;++t){const i=e.Instructions[t];if(i instanceof l.KeyInstruction)return i}}}getLastSourceStaffEntryForInstrument(t){let e;for(let i=this.verticalSourceStaffEntryContainers.length-1;i>=0&&(e=this.verticalSourceStaffEntryContainers[i].StaffEntries[t],!e);i--);return e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(49),r=i(22),s=i(13),o=i(7),a=i(23);class l extends n.GraphicalContinuousDynamicExpression{constructor(t,e,i,n){if(super(t,e,i),this.IsVerbal){const e=new s.Label(t.Label);this.label=new r.GraphicalLabel(e,n||this.rules.ContinuousDynamicTextHeight,o.TextAlignmentEnum.LeftCenter,this.rules,this.PositionAndShape),this.label.Label.fontStyle=a.FontStyles.Italic,this.label.setLabelPositionAndShapeBorders(),this.PositionAndShape.calculateBoundingBox()}}}e.VexFlowContinuousDynamicExpression=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10)),s=i(69),o=i(18),a=i(34),l=i(42);class u extends s.VexFlowBackend{constructor(t){super(),this.rules=t}getVexflowBackendType(){return 1}getOSMDBackendType(){return a.BackendType.Canvas}initialize(t){this.canvas=document.createElement("canvas"),this.graphicalMusicPage||(this.graphicalMusicPage=new l.GraphicalMusicPage(void 0),this.graphicalMusicPage.PageNumber=1),this.canvas.id="osmdCanvasVexFlowBackendCanvas"+this.graphicalMusicPage.PageNumber,this.inner=document.createElement("div"),this.inner.style.position="relative",this.canvas.style.zIndex="0",this.inner.appendChild(this.canvas),t.appendChild(this.inner),this.renderer=new r.default.Flow.Renderer(this.canvas,this.getVexflowBackendType()),this.ctx=this.renderer.getContext()}initializeHeadless(t=300,e=300){this.graphicalMusicPage||(this.graphicalMusicPage=new l.GraphicalMusicPage(void 0),this.graphicalMusicPage.PageNumber=1),this.canvas=document.createElement("canvas"),this.canvas.width=t,this.canvas.height=e,this.renderer=new r.default.Flow.Renderer(this.canvas,this.getVexflowBackendType()),this.ctx=this.renderer.getContext()}getContext(){return this.ctx}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.rules.PageBackgroundColor&&(this.ctx.save(),this.ctx.setFillStyle(this.rules.PageBackgroundColor),this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.restore())}scale(t){this.ctx.scale(t,t)}translate(t,e){this.CanvasRenderingCtx.translate(t,e)}renderText(t,e,i,n,r,s,a,l){const u=this.CanvasRenderingCtx.font;this.CanvasRenderingCtx.save(),this.CanvasRenderingCtx.font=o.VexFlowConverter.font(t,e,i,this.rules,l),this.CanvasRenderingCtx.fillStyle=a,this.CanvasRenderingCtx.strokeStyle=a,this.CanvasRenderingCtx.fillText(n,s.x,s.y+r),this.CanvasRenderingCtx.restore(),this.CanvasRenderingCtx.font=u}renderRectangle(t,e,i=1){const n=this.CanvasRenderingCtx.fillStyle;this.CanvasRenderingCtx.fillStyle=o.VexFlowConverter.style(e),this.CanvasRenderingCtx.globalAlpha=i,this.ctx.fillRect(t.x,t.y,t.width,t.height),this.CanvasRenderingCtx.fillStyle=n,this.CanvasRenderingCtx.globalAlpha=1}renderLine(t,e,i="#FF0000FF",n=2){const r=this.CanvasRenderingCtx.strokeStyle;this.CanvasRenderingCtx.strokeStyle=i,this.CanvasRenderingCtx.beginPath(),this.CanvasRenderingCtx.moveTo(t.x,t.y),this.CanvasRenderingCtx.lineTo(e.x,e.y),this.CanvasRenderingCtx.stroke(),this.CanvasRenderingCtx.strokeStyle=r}renderCurve(t){this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y),this.ctx.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y),this.ctx.lineTo(t[7].x,t[7].y),this.ctx.bezierCurveTo(t[6].x,t[6].y,t[5].x,t[5].y,t[4].x,t[4].y),this.ctx.lineTo(t[0].x,t[0].y),this.ctx.closePath(),this.ctx.fill()}get CanvasRenderingCtx(){return this.ctx.vexFlowCanvasContext}}e.CanvasVexFlowBackend=u},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(i(10)),e.VexFlowBackends=class{},e.VexFlowBackend=class{getInnerElement(){return this.inner}getCanvas(){return this.canvas}getRenderElement(){let t=this.canvas;return 1===this.getVexflowBackendType()&&(t=this.inner),t}getRenderer(){return this.renderer}removeAllChildrenFromContainer(t){for(;0!==t.children.length;)t.removeChild(t.children.item(0))}removeFromContainer(t){const e=this.getRenderElement();for(let i=0;i<t.children.length;i++)if(t.children.item(i)===e){t.removeChild(e);break}}resize(t,e){this.renderer.resize(t,e)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(112),r=i(18),s=i(31);class o extends n.GraphicalNote{constructor(t,e,i,n=s.OctaveEnum.NONE,o){if(super(t,e,o),this.clef=i,this.octaveShift=n,t.Pitch){const e=s.OctaveShift.getPitchFromOctaveShift(t.Pitch,n);this.vfpitch=r.VexFlowConverter.pitch(this,e),this.vfpitch[1]=void 0}}setAccidental(t){const e=s.OctaveShift.getPitchFromOctaveShift(t,this.octaveShift);this.vfpitch=r.VexFlowConverter.pitch(this,e)}Transpose(t,e,i,n){const o=super.Transpose(t,e,i,n),a=s.OctaveShift.getPitchFromOctaveShift(o,this.octaveShift);return this.vfpitch=r.VexFlowConverter.pitch(this,a),this.vfpitch[1]=void 0,a}setIndex(t,e){this.vfnote=[t,e]}Clef(){return this.clef}getSVGId(){return this.vfnote[0].getAttribute("id")}getSVGGElement(){return this.vfnote[0].getAttribute("el")}}e.VexFlowGraphicalNote=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10)),s=i(5),o=i(3),a=i(19);class l extends s.GraphicalObject{constructor(t,e,i=0){super(),this.PositionAndShape=new o.BoundingBox(this,t.ParentMusicSystem.PositionAndShape);const n=t.Measures[0],r=e.Measures[0];this.addConnector(n.getVFStave(),r.getVFStave(),4,i)}draw(t){this.vexflowConnector.setContext(t).draw();const e=this.vexflowConnector,i=e.top_stave.getYForLine(0),n=e.bottom_stave.getYForLine(e.bottom_stave.getNumLines()-1)+e.thickness;this.PositionAndShape.AbsolutePosition.x=(e.top_stave.getX()-2+e.x_shift)/a.unitInPixels,this.PositionAndShape.AbsolutePosition.y=i/a.unitInPixels,this.PositionAndShape.Size.height=(n-i)/a.unitInPixels,this.PositionAndShape.Size.width=12/a.unitInPixels}addConnector(t,e,i,n){this.vexflowConnector=new r.default.Flow.StaveConnector(t,e).setType(i).setXShift(-5*n)}}e.VexFlowInstrumentBracket=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10)),s=i(111),o=i(32),a=i(8),l=i(18);var u=r.default.Flow.NoteSubGroup;const c=n(i(1)),h=i(19),d=i(26),f=i(36),p=i(16),m=i(73),g=i(0),y=i(37),v=i(74),b=i(6),_=i(39);class S extends s.GraphicalMeasure{constructor(t,e,i){super(t,e,i),this.octaveOffset=3,this.vfVoices={},this.vfTies=[],this.vfRepetitionWords=[],this.connectors=[],this.beams={},this.tuplets={},this.vftuplets={},this.minimumStaffEntriesWidth=-1,i?this.rules=i.ParentMusicSystem.rules:e&&(this.rules=e.Rules),this.resetLayout()}setAbsoluteCoordinates(t,e){this.stave.setX(t).setY(e)}resetLayout(){this.stave=new r.default.Flow.Stave(0,0,0,{space_above_staff_ln:0,space_below_staff_ln:0}),this.ParentStaff&&this.setLineNumber(this.ParentStaff.StafflineCount),this.stave.setBegBarType(7),this.parentSourceMeasure&&this.parentSourceMeasure.endingBarStyleEnum===o.SystemLinesEnum.None&&this.stave.setEndBarType(7),this.updateInstructionWidth()}clean(){this.vfTies.length=0,this.connectors=[],this.resetLayout()}getLineWidth(t){switch(t){case o.SystemLinesEnum.BoldThinDots:case o.SystemLinesEnum.DotsThinBold:case o.SystemLinesEnum.DotsBoldBoldDots:return 10/h.unitInPixels;default:return 0}}addClefAtBegin(t){if(this.octaveOffset=t.OctaveOffset,t.ClefType===a.ClefEnum.TAB)this.stave.addClef("tab",void 0,void 0,void 0);else{const e=l.VexFlowConverter.Clef(t,"default");this.stave.addClef(e.type,e.size,e.annotation,5)}this.updateInstructionWidth()}setLineNumber(t){5!==t&&(0===t?(this.stave.setNumLines(0),this.stave.getBottomLineY=function(){return this.getYForLine(this.options.num_lines)}):1===t?(this.stave.options.line_config=[{visible:!1},{visible:!1},{visible:!0},{visible:!1},{visible:!1}],this.stave.getBottomLineY=function(){return this.getYForLine(2)}):2===t?(this.stave.options.line_config=[{visible:!1},{visible:!1},{visible:!0},{visible:!0},{visible:!1}],this.stave.getBottomLineY=function(){return this.getYForLine(3)}):3===t?(this.stave.options.line_config=[{visible:!1},{visible:!0},{visible:!0},{visible:!0},{visible:!1}],this.stave.getBottomLineY=function(){return this.getYForLine(2)}):(this.stave.setNumLines(t),this.stave.getBottomLineY=function(){return this.getYForLine(this.options.num_lines)}))}addKeyAtBegin(t,e,i){this.stave.setKeySignature(l.VexFlowConverter.keySignature(t),l.VexFlowConverter.keySignature(e),void 0),this.updateInstructionWidth()}addRhythmAtBegin(t){const e=l.VexFlowConverter.TimeSignature(t);this.stave.addModifier(e,5),this.updateInstructionWidth()}addClefAtEnd(t){const e=l.VexFlowConverter.Clef(t,"small");this.stave.setEndClef(e.type,e.size,e.annotation),this.updateInstructionWidth()}addMeasureLine(t,e){switch(e){case f.SystemLinePosition.MeasureBegin:switch(t){case o.SystemLinesEnum.BoldThinDots:this.stave.setBegBarType(4)}break;case f.SystemLinePosition.MeasureEnd:switch(t){case o.SystemLinesEnum.DotsBoldBoldDots:this.stave.setEndBarType(6);break;case o.SystemLinesEnum.DotsThinBold:this.stave.setEndBarType(5);break;case o.SystemLinesEnum.DoubleThin:this.stave.setEndBarType(2);break;case o.SystemLinesEnum.ThinBold:this.stave.setEndBarType(3);break;case o.SystemLinesEnum.None:this.stave.setEndBarType(7)}}}addMeasureNumber(){const t=this.MeasureNumber.toString(),e=w.ABOVE;this.stave.setText(t,e,{justification:1,shift_x:0,shift_y:0})}addWordRepetition(t){let e=void 0,i=6;switch(t.type){case d.RepetitionInstructionEnum.Segno:e=4,i=5;break;case d.RepetitionInstructionEnum.Coda:e=2,i=5;break;case d.RepetitionInstructionEnum.DaCapo:e=6;break;case d.RepetitionInstructionEnum.DalSegno:e=9;break;case d.RepetitionInstructionEnum.Fine:e=12;break;case d.RepetitionInstructionEnum.ToCoda:break;case d.RepetitionInstructionEnum.DaCapoAlFine:e=8;break;case d.RepetitionInstructionEnum.DaCapoAlCoda:e=7;break;case d.RepetitionInstructionEnum.DalSegnoAlFine:e=11;break;case d.RepetitionInstructionEnum.DalSegnoAlCoda:e=10}e?this.stave.addModifier(new r.default.Flow.Repetition(e,0,0),i):this.addVolta(t)}addVolta(t){let e=2;if(t.type===d.RepetitionInstructionEnum.Ending){switch(t.alignment){case d.AlignmentType.Begin:e=this.parentSourceMeasure.endsRepetitionEnding()?5:2;break;case d.AlignmentType.End:if(this.parentSourceMeasure.beginsRepetitionEnding())return;e=4}const i=this.ParentStaffLine.SkyBottomLineCalculator,n=this.PositionAndShape.AbsolutePosition.x+this.PositionAndShape.BorderMarginLeft+.4,r=this.PositionAndShape.AbsolutePosition.x+this.PositionAndShape.BorderMarginRight,s=i.getSkyLineMinInRange(n,r)-2;let o=-6.1+this.rules.VoltaOffset,a=this.rules.VoltaOffset;s<o&&(a+=s-o,o=s),a*=10,this.stave.setVoltaType(e,t.endingIndices[0],a),i.updateSkyLineInRange(n,r,o)}}setWidth(t){super.setWidth(t),this.stave.setWidth(t*h.unitInPixels)}layoutSymbols(){}draw(t){this.stave.setContext(t).draw();for(const e in this.vfVoices)this.vfVoices.hasOwnProperty(e)&&(t.save(),this.vfVoices[e].draw(t,this.stave),t.restore());for(const e in this.vfbeams)if(this.vfbeams.hasOwnProperty(e))for(const i of this.vfbeams[e])i.setContext(t).draw();if(this.autoVfBeams)for(const e of this.autoVfBeams)e.setContext(t).draw();if(this.autoTupletVfBeams)for(const e of this.autoTupletVfBeams)e.setContext(t).draw();for(const e in this.vftuplets)if(this.vftuplets.hasOwnProperty(e))for(const i of this.vftuplets[e])i.setContext(t).draw();for(const e of this.vfTies)e.setContext(t).draw();for(const e of this.connectors)e.setContext(t).draw()}format(){this.formatVoices&&this.formatVoices((this.PositionAndShape.Size.width-this.beginInstructionsWidth-this.endInstructionsWidth)*h.unitInPixels)}getVoicesWithinMeasure(){const t=[];for(const e of this.staffEntries)for(const i of e.graphicalVoiceEntries)-1===t.indexOf(i.parentVoiceEntry.ParentVoice)&&t.push(i.parentVoiceEntry.ParentVoice);return t}getGraphicalVoiceEntriesPerVoice(t){const e=[];for(const i of this.staffEntries)for(const n of i.graphicalVoiceEntries)n.parentVoiceEntry.ParentVoice===t&&e.push(n);return e}getRestFilledVexFlowStaveNotesPerVoice(t){let e=void 0;const i=this.getGraphicalVoiceEntriesPerVoice(t);for(let s=0,o=i.length;s<o;++s){const t=i[s],n=t.notes[0].sourceNote.getAbsoluteTimestamp();let r=new g.Fraction;for(const e of t.notes){const t=g.Fraction.plus(e.sourceNote.getAbsoluteTimestamp(),e.sourceNote.Length);r.lt(t)&&(r=t)}if(e){const t=g.Fraction.minus(n,e);if(t.RealValue>0){c.default.trace(`Ghost Found in between (measure ${this.MeasureNumber})`);const e=l.VexFlowConverter.GhostNote(t),n=new m.VexFlowVoiceEntry(void 0,void 0);n.vfStaveNote=e,i.splice(s,0,n),s++}}else{const t=g.Fraction.minus(n,this.parentSourceMeasure.AbsoluteTimestamp);if(t.RealValue>0){c.default.trace(`Ghost Found at start (measure ${this.MeasureNumber})`);const e=l.VexFlowConverter.GhostNote(t),n=new m.VexFlowVoiceEntry(void 0,void 0);n.vfStaveNote=e,i.splice(0,0,n),s++}}e=r}const n=g.Fraction.plus(this.parentSourceMeasure.AbsoluteTimestamp,this.parentSourceMeasure.Duration),r=g.Fraction.minus(n,e);if(r.RealValue>0){c.default.trace(`Ghost Found at end (measure ${this.MeasureNumber})`);const t=l.VexFlowConverter.GhostNote(r),e=new m.VexFlowVoiceEntry(void 0,void 0);e.vfStaveNote=t,i.push(e)}return i}handleBeam(t,e){const i=t.sourceNote.ParentVoiceEntry.ParentVoice.VoiceId;let n,r=this.beams[i];r||(r=this.beams[i]=[]);for(const o of r)o[0]===e&&(n=o);n||(n=[e,[]],r.push(n));const s=t.parentVoiceEntry;n[1].indexOf(s)<0&&n[1].push(s)}handleTuplet(t,e){const i=t.sourceNote.ParentVoiceEntry.ParentVoice.VoiceId;e=t.sourceNote.NoteTuplet;let n,r=this.tuplets[i];r||(r=this.tuplets[i]=[]);for(const o of r)o[0]===e&&(n=o);n||(n=[e,[]],r.push(n));const s=t.parentVoiceEntry;n[1].indexOf(s)<0&&n[1].push(s)}finalizeBeams(){this.vfbeams={};const t=[];for(const e in this.beams)if(this.beams.hasOwnProperty(e)){let i=this.vfbeams[e];i||(i=this.vfbeams[e]=[]);for(const n of this.beams[e]){let e=!1;for(const t of n[0].Notes)if(t.Length.RealValue>=new g.Fraction(1,4).RealValue&&(!t.TypeLength||t.TypeLength.RealValue>.125)){e=!0;break}if(e){c.default.debug("Beam between note >= quarter, likely tremolo, currently unsupported. continuing.");continue}const s=[],o=n[0],a=n[1];let l=!0;for(const t of a)t.parentVoiceEntry.ParentVoice===o.Notes[0].ParentVoiceEntry.ParentVoice&&(l=t.parentVoiceEntry.WantedStemDirection===p.StemDirectionType.Undefined);let u,h=!1;const d=[];for(const i of a){const e=i.vfStaveNote;e&&(s.push(e),t.push(e)),i.parentVoiceEntry.IsGrace&&(h=!0),i.parentVoiceEntry.StemColor&&this.rules.ColoringEnabled&&d.push(i.parentVoiceEntry.StemColor)}if(s.length>1){const t=new r.default.Flow.Beam(s,l);if(h&&(t.render_options.beam_width=3,t.render_options.partial_beam_length=4),d.length>=2&&this.rules.ColorBeams){u=d[0];for(const t of d)if(t!==u){u=void 0;break}t.setStyle({fillStyle:u,strokeStyle:u})}i.push(t)}else c.default.debug("Warning! Beam with no notes!")}}this.rules.AutoBeamNotes&&this.autoBeamNotes(t)}autoBeamNotes(t){let e,i=[],n=[],s=[];this.autoTupletVfBeams=[];const o=[];this.autoVfBeams=[];let a=this.parentSourceMeasure.ActiveTimeSignature;a||(a=this.parentSourceMeasure.Duration);for(const c of this.staffEntries)for(const l of c.graphicalVoiceEntries){const u=l.vfStaveNote,h=l.notes[0],d=c.relInMeasureTimestamp.isOnBeat(a),f=n.length>=2,p=h.sourceNote.Length.RealValue-new g.Fraction(1,4).RealValue>-g.Fraction.FloatInaccuracyTolerance,m=l.parentVoiceEntry.IsGrace||p||t.contains(u);if(m||d){if(f){for(const t of n)i.push(t);o.push(i.slice()),i=[]}if(n=[],m)continue}const y=l.notes[0].sourceNote.NoteTuplet;if(y){let t=!1;for(const e of y.Notes){for(const i of e)if(i.NoteTypeXml>=_.NoteType.QUARTER||i.ParentVoiceEntry.IsGrace||i.isRest()&&!this.rules.AutoBeamOptions.beam_rests){t=!0;break}if(t)break}e?e!==y&&(s.length>1&&this.autoTupletVfBeams.push(new r.default.Flow.Beam(s,!0)),s=[],e=y):e=y,t||s.push(u)}else e=void 0,n.push(u)}if(s.length>=2&&this.autoTupletVfBeams.push(new r.default.Flow.Beam(s,!0)),n.length>=2){for(const t of n)i.push(t);o.push(i)}const l=this.rules.AutoBeamOptions,u={beam_middle_only:l.beam_middle_rests_only,beam_rests:l.beam_rests,maintain_stem_directions:l.maintain_stem_directions};if(l.groups&&l.groups.length){const t=[];for(const e of l.groups)t.push(new r.default.Flow.Fraction(e[0],e[1]));u.groups=t}for(const c of o){const t=r.default.Flow.Beam.generateBeams(c,u);for(const e of t)this.autoVfBeams.push(e)}}finalizeTuplets(){this.vftuplets={};for(const t in this.tuplets)if(this.tuplets.hasOwnProperty(t)){let e=this.vftuplets[t];e||(e=this.vftuplets[t]=[]);for(const i of this.tuplets[t]){const t=[],n=i[1];for(const e of n)t.push(e.vfStaveNote);if(t.length>1){const n=i[0],s=n.Notes[0][0].NormalNotes,o=n.Bracket||3===n.TupletLabelNumber&&this.rules.TripletsBracketed||3!==n.TupletLabelNumber&&this.rules.TupletsBracketed;e.push(new r.default.Flow.Tuplet(t,{bracketed:o,notes_occupied:s,num_notes:n.TupletLabelNumber,ratioed:this.rules.TupletsRatioed}))}else c.default.debug("Warning! Tuplet with no notes! Trying to ignore, but this is a serious problem.")}}}layoutStaffEntry(t){}graphicalMeasureCreatedCalculations(){let t,e=[];for(const n of this.staffEntries){t=!1,e=[];for(const i of n.graphicalVoiceEntries)if(i.parentVoiceEntry.IsGrace)e.push(i),t||(t=i.parentVoiceEntry.GraceSlur);else if(i.notes[0].sourceNote.PrintObject,i.vfStaveNote=l.VexFlowConverter.StaveNote(i),e.length>0){const n=[];for(let t=0;t<e.length;t++){const i=e[t],r=l.VexFlowConverter.StaveNote(i);i.vfStaveNote=r,n.push(r)}const s=new r.default.Flow.GraceNoteGroup(n,t);i.vfStaveNote.addModifier(0,s),e=[]}}if(e.length>0)for(const n of e)n.vfStaveNote=l.VexFlowConverter.StaveNote(n),n.parentVoiceEntry.GraceAfterMainNote=!0;this.finalizeBeams(),this.finalizeTuplets();const i=this.getVoicesWithinMeasure();for(const n of i){if(!n)continue;const t=!(n instanceof y.LinkedVoice);this.vfVoices[n.VoiceId]=new r.default.Flow.Voice({beat_value:this.parentSourceMeasure.Duration.Denominator,num_beats:this.parentSourceMeasure.Duration.Numerator,resolution:r.default.Flow.RESOLUTION}).setMode(2);const e=this.getRestFilledVexFlowStaveNotesPerVoice(n);for(const i of e){if(i.parentVoiceEntry&&i.parentVoiceEntry.IsGrace&&!i.parentVoiceEntry.GraceAfterMainNote)continue;const e=i;if(0!==i.notes.length&&i.notes[0]&&i.notes[0].sourceNote.PrintObject){if(t){const t=e.parentStaffEntry;if(t&&t.vfClefBefore){const i=new u([t.vfClefBefore]);e.vfStaveNote.getCategory&&"stavenotes"===e.vfStaveNote.getCategory()&&e.vfStaveNote.addModifier(0,i)}}if(i.parentVoiceEntry&&this.rules.RenderFingerings&&this.createFingerings(i),i.parentVoiceEntry&&i.parentVoiceEntry.Arpeggio){const t=i.parentVoiceEntry.Arpeggio;if(i.notes&&i.notes.length>1){const i=l.VexFlowConverter.StrokeTypeFromArpeggioType(t.type),n=new r.default.Flow.Stroke(i,{all_voices:this.rules.ArpeggiosGoAcrossVoices});this.rules.RenderArpeggios&&e.vfStaveNote.addStroke(0,n)}else c.default.debug(`[OSMD] arpeggio in measure ${this.MeasureNumber} could not be drawn.\n                        voice entry had less than two notes, arpeggio is likely between voice entries, not currently supported in Vexflow.`)}this.vfVoices[n.VoiceId].addTickable(e.vfStaveNote)}else this.vfVoices[n.VoiceId].addTickable(e.vfStaveNote)}}this.createArticulations(),this.createOrnaments(),this.setStemDirectionFromVexFlow()}setStemDirectionFromVexFlow(){for(const t of this.staffEntries)for(const e of t.graphicalVoiceEntries)for(const t of e.notes){const i=t.vfnote;if(i&&i[0])switch(i[0].getStemDirection()){case r.default.Flow.Stem.UP:e.parentVoiceEntry.StemDirection=p.StemDirectionType.Up;break;case r.default.Flow.Stem.DOWN:e.parentVoiceEntry.StemDirection=p.StemDirectionType.Down}}}createArticulations(){for(let t=0,e=this.staffEntries.length;t<e;++t){const e=this.staffEntries[t].graphicalVoiceEntries;for(const t of e){const e=t.vfStaveNote;l.VexFlowConverter.generateArticulations(e,t.notes[0].sourceNote.ParentVoiceEntry.Articulations)}}}createOrnaments(){for(let t=0,e=this.staffEntries.length;t<e;++t){const e=this.staffEntries[t].graphicalVoiceEntries;for(const t in e)if(e.hasOwnProperty(t)){const i=e[t].vfStaveNote,n=e[t].notes[0].sourceNote.ParentVoiceEntry.OrnamentContainer;n&&l.VexFlowConverter.generateOrnaments(i,n)}}}createFingerings(t){const e=t,i=t.parentVoiceEntry.TechnicalInstructions;let n=0;for(const r of i)r.type===v.TechnicalInstructionType.Fingering&&n++;let s=-1;for(const o of i){if(o.type!==v.TechnicalInstructionType.Fingering)continue;s++;let i,a=this.rules.FingeringPosition;switch(o.placement!==b.PlacementEnum.NotYetDefined&&(a=o.placement),a){default:case b.PlacementEnum.Left:i=1;break;case b.PlacementEnum.Right:i=2;break;case b.PlacementEnum.Above:i=3;break;case b.PlacementEnum.Below:i=4;break;case b.PlacementEnum.NotYetDefined:const e=t.parentStaffEntry.sourceStaffEntry.ParentStaff;t.notes.length>1||t.parentStaffEntry.graphicalVoiceEntries.length>1?i=1:0===e.idInMusicSheet?(i=3,a=b.PlacementEnum.Above):(i=4,a=b.PlacementEnum.Below)}const l=new r.default.Flow.FretHandFinger(o.value);if(l.setPosition(i),l.setOffsetX(this.rules.FingeringOffsetX),a===b.PlacementEnum.Above||a===b.PlacementEnum.Below){const t=a===b.PlacementEnum.Above?-1:1,u=a===b.PlacementEnum.Above?s:n-1-s;if(this.rules.FingeringInsideStafflines&&n>1){const e=l.getWidth()/2,i=2.5*n;l.setOffsetY(t*(u+i)*e)}else if(!this.rules.FingeringInsideStafflines){const n=new r.default.Flow.StringNumber(o.value);n.radius=0,n.setPosition(i),n.setOffsetY(t*u*n.getWidth()*2/3),e.vfStaveNote.addModifier(s,n);continue}}"tabnotes"===e.vfStaveNote.getCategory()||e.vfStaveNote.addModifier(s,l)}}lineTo(t,e){const i=new r.default.Flow.StaveConnector(t.getVFStave(),this.stave);i.setType(e),this.connectors.push(i)}getVFStave(){return this.stave}updateInstructionWidth(){let t=0,e=0;const i=this.stave.getModifiers();for(const n of i)n.getPosition()===w.BEGIN?t+=n.getWidth()+n.getPadding(void 0):n.getPosition()===w.END&&(e+=n.getWidth()+n.getPadding(void 0));this.beginInstructionsWidth=t/h.unitInPixels,this.endInstructionsWidth=e/h.unitInPixels}}var w;e.VexFlowMeasure=S,function(t){t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.ABOVE=3]="ABOVE",t[t.BELOW=4]="BELOW",t[t.BEGIN=5]="BEGIN",t[t.END=6]="END"}(w=e.StavePositionEnum||(e.StavePositionEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(117),r=i(19),s=i(28);class o extends n.GraphicalVoiceEntry{constructor(t,e){super(t,e)}applyBordersFromVexflow(){const t=this.vfStaveNote;if(!t.getNoteHeadBeginX)return;const e=t.getBoundingBox(),i=t.getNoteHeadBeginX()-e.x;this.PositionAndShape.RelativePosition.y=e.y/r.unitInPixels,this.PositionAndShape.BorderTop=0,this.PositionAndShape.BorderBottom=e.h/r.unitInPixels,this.PositionAndShape.BorderLeft=-(i+t.width/2)/r.unitInPixels,this.PositionAndShape.BorderRight=(e.w-i)/r.unitInPixels}set vfStaveNote(t){this.mVexFlowStaveNote=t}get vfStaveNote(){return this.mVexFlowStaveNote}color(){const t=this.rules.DefaultColorNotehead,e=this.rules.DefaultColorRest,i=this.rules.DefaultColorStem;let n,r;const o=this.vfStaveNote;for(let c=0;c<this.notes.length;c++){const i=this.notes[c];if(r=i.sourceNote.NoteheadColor,n=r,this.rules.ColoringMode===s.ColoringModes.AutoColoring||this.rules.ColoringMode===s.ColoringModes.CustomColorSet)if(i.sourceNote.isRest())n=this.rules.ColoringSetCurrent.getValue(-1);else{const t=i.sourceNote.Pitch.FundamentalNote;n=this.rules.ColoringSetCurrent.getValue(t)}if(i.sourceNote.PrintObject?n&&"#000000"!==n||(n=this.rules.DefaultColorNotehead):n="#00000000",!r&&this.rules.ColoringMode===s.ColoringModes.XML&&i.sourceNote.PrintObject&&(!i.sourceNote.isRest()&&t?n=t:i.sourceNote.isRest()&&e&&(n=e)),n&&i.sourceNote.PrintObject)i.sourceNote.NoteheadColorCurrentlyRendered=n;else if(!n)continue;if(this.rules.ColoringEnabled&&i.sourceNote.NoteBeam&&this.rules.ColorBeams){const t=i.sourceNote.NoteBeam.Notes;let e=!0;for(let i=0;i<t.length;i++)t[i].NoteheadColorCurrentlyRendered!==n&&(e=!1);e&&null!==o.beam&&o.beam.setStyle&&o.beam.setStyle({fillStyle:n,strokeStyle:n})}if(o&&o.note_heads){const t=o.note_heads[c];t&&t.setStyle({fillStyle:n,strokeStyle:n})}}let a=i;this.rules.ColoringEnabled&&(a=this.parentVoiceEntry.StemColor,a&&"#000000"!==a||(a=i),this.rules.ColorStemsLikeNoteheads&&n&&(a=n));let l=!0;for(const s of this.parentVoiceEntry.Notes)if(s.PrintObject){l=!1;break}l&&(a="#00000000");const u={fillStyle:a,strokeStyle:a};o&&o.setStemStyle&&(l||(this.parentVoiceEntry.StemColor=a),o.setStemStyle(u),o.flag&&o.setFlagStyle&&this.rules.ColorFlags&&o.setFlagStyle(u))}}e.VexFlowVoiceEntry=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Fingering=0]="Fingering"}(e.TechnicalInstructionType||(e.TechnicalInstructionType={})),e.TechnicalInstruction=class{}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.Tie=class{constructor(t){this.notes=[],this.AddNote(t)}get Notes(){return this.notes}get StartNote(){return this.notes[0]}get Duration(){const t=new n.Fraction;for(const e of this.notes)t.Add(e.Length);return t}get Pitch(){return this.StartNote.Pitch}AddNote(t){this.notes.push(t),t.NoteTie=this}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartListEntry=class{constructor(t){this.enrolledTimestamps=[],this.visible=!0,this.musicSheet=t}get Visible(){return this.visible}set Visible(t){this.visible=t}getFirstSourceMeasure(){return this.musicSheet.SourceMeasures[this.startIndex]}getLastSourceMeasure(){return this.musicSheet.SourceMeasures[this.endIndex]}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(34)),n(i(147)),n(i(194)),n(i(128))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AJAX=class{static ajax(t){let e;const i=t.indexOf(".mxl")>-1?"text/plain; charset=x-user-defined":"application/xml";if(XMLHttpRequest)e=new XMLHttpRequest;else{if(!ActiveXObject)return Promise.reject(new Error("XMLHttp not supported."));e=new ActiveXObject("Microsoft.XMLHTTP")}return new Promise((n,r)=>{e.onreadystatechange=()=>{e.readyState===XMLHttpRequest.DONE&&(200===e.status||0===e.status&&e.responseText?n(e.responseText):r(new Error("Could not retrieve requested URL "+e.status)))},e.ontimeout=t=>{r(new Error("Server request Timeout"))},e.overrideMimeType(i),e.open("GET",t,!0),e.send()})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(77);e.Cursor=class{constructor(t,e){this.hidden=!0,this.container=t,this.openSheetMusicDisplay=e,this.rules=this.openSheetMusicDisplay.EngravingRules;let i=0;for(this.cursorElementId="cursorImg-0";document.getElementById(this.cursorElementId);)i++,this.cursorElementId="cursorImg-"+i;const n=document.createElement("img");n.id=this.cursorElementId,n.style.position="absolute",n.style.zIndex="-1",this.cursorElement=n,this.container.appendChild(n)}init(t,e){this.manager=t,this.graphic=e,this.reset(),this.hidden=!0,this.hide()}show(){this.hidden=!1,this.resetIterator(),this.update()}resetIterator(){if(!this.openSheetMusicDisplay.Sheet||!this.openSheetMusicDisplay.Sheet.SourceMeasures)return void console.log("OSMD.Cursor.resetIterator(): sheet or measures were null/undefined.");const t=this.openSheetMusicDisplay.Sheet.SourceMeasures.length-1;let e=this.rules.MinMeasureToDrawIndex;e=Math.min(e,t);let i=this.rules.MaxMeasureToDrawIndex;if(i=Math.min(i,t),this.openSheetMusicDisplay.Sheet&&this.openSheetMusicDisplay.Sheet.SourceMeasures.length>e&&(this.openSheetMusicDisplay.Sheet.SelectionStart=this.openSheetMusicDisplay.Sheet.SourceMeasures[e].AbsoluteTimestamp),this.openSheetMusicDisplay.Sheet&&this.openSheetMusicDisplay.Sheet.SourceMeasures.length>i){const t=this.openSheetMusicDisplay.Sheet.SourceMeasures[i];this.openSheetMusicDisplay.Sheet.SelectionEnd=n.Fraction.plus(t.AbsoluteTimestamp,t.Duration)}this.iterator=this.manager.getIterator()}getStaffEntryFromVoiceEntry(t){const e=t.ParentSourceStaffEntry.VerticalContainerParent.ParentMeasure.measureListIndex,i=t.ParentSourceStaffEntry.ParentStaff.idInMusicSheet;return this.graphic.findGraphicalStaffEntryFromMeasureList(i,e,t.ParentSourceStaffEntry)}update(){if(this.hidden||void 0===this.hidden||null===this.hidden)return;const t=this.iterator,e=t.CurrentVisibleVoiceEntries();if(t.EndReached||!t.CurrentVoiceEntries||0===e.length)return;let i=0,n=0,r=0;const s=e.map(t=>this.getStaffEntryFromVoiceEntry(t)).sort((t,e)=>{var i,n,r,s;return(null===(n=null===(i=null==t?void 0:t.PositionAndShape)||void 0===i?void 0:i.AbsolutePosition)||void 0===n?void 0:n.x)<=(null===(s=null===(r=null==e?void 0:e.PositionAndShape)||void 0===r?void 0:r.AbsolutePosition)||void 0===s?void 0:s.x)?-1:1})[0];i=s.PositionAndShape.AbsolutePosition.x;const o=s.parentMeasure.ParentMusicSystem;if(!o)return;n=o.PositionAndShape.AbsolutePosition.y+o.StaffLines[0].PositionAndShape.RelativePosition.y;const a=o.StaffLines[o.StaffLines.length-1];r=o.PositionAndShape.AbsolutePosition.y+a.PositionAndShape.RelativePosition.y+a.StaffHeight-n;const l=this.cursorElement;l.style.top=10*n*this.openSheetMusicDisplay.zoom+"px",l.style.left=10*(i-1.5)*this.openSheetMusicDisplay.zoom+"px",l.height=10*r*this.openSheetMusicDisplay.zoom;const u=30*this.openSheetMusicDisplay.zoom;if(u!==l.width&&(l.width=u,this.updateStyle(u)),this.openSheetMusicDisplay.FollowCursor){const t=this.cursorElement.getBoundingClientRect().top;this.cursorElement.scrollIntoView({behavior:t<1e3?"smooth":"auto",block:"center"})}this.cursorElement.style.display=""}hide(){this.cursorElement.style.display="none",this.hidden=!0}next(){this.iterator.moveToNext(),this.update()}reset(){this.resetIterator(),this.update()}updateStyle(t,e="#33e02f"){const i=document.createElement("canvas");i.width=this.cursorElement.width,i.height=1;const n=i.getContext("2d");n.globalAlpha=.5;const r=n.createLinearGradient(0,0,this.cursorElement.width,0);r.addColorStop(0,"white"),r.addColorStop(.2,e),r.addColorStop(.8,e),r.addColorStop(1,"white"),n.fillStyle=r,n.fillRect(0,0,t,1),this.cursorElement.src=i.toDataURL("image/png")}get Iterator(){return this.iterator}get Hidden(){return this.hidden}VoicesUnderCursor(t){return this.iterator.CurrentVisibleVoiceEntries(t)}NotesUnderCursor(t){const e=this.VoicesUnderCursor(t),i=[];return e.forEach(t=>{i.push.apply(i,t.Notes)}),i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeF2D=class{constructor(t=0,e=0){this.width=t,this.height=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(35),s=i(12),o=function(){function t(t){this.dictionary=new s.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!n.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach((function(i){return t.contains(i)||e.remove(i),!0}))},t.prototype.union=function(t){var e=this;t.forEach((function(t){return e.add(t),!0}))},t.prototype.difference=function(t){var e=this;t.forEach((function(t){return e.remove(t),!0}))},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach((function(i){return!!t.contains(i)||(e=!1,!1)})),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach((function(e,i){return t(i)}))},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return r.toString(this.toArray())},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(83),s=function(){function t(t){this.root=null,this.compare=t||n.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!n.isUndefined(t)&&null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0)},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!n.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal((function(e){return t.push(e),!0})),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var i=1;null!==t&&0!==i;)(i=this.compare(e,t.element))<0?t=t.leftCh:i>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,i){null===t||i.stop||(this.inorderTraversalAux(t.leftCh,e,i),i.stop||(i.stop=!1===e(t.element),i.stop||this.inorderTraversalAux(t.rightCh,e,i)))},t.prototype.levelTraversalAux=function(t,e){var i=new r.default;for(null!==t&&i.enqueue(t),t=i.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&i.enqueue(t.leftCh),null!==t.rightCh&&i.enqueue(t.rightCh),t=i.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,i){null===t||i.stop||(i.stop=!1===e(t.element),i.stop||(this.preorderTraversalAux(t.leftCh,e,i),i.stop||this.preorderTraversalAux(t.rightCh,e,i)))},t.prototype.postorderTraversalAux=function(t,e,i){null===t||i.stop||(this.postorderTraversalAux(t.leftCh,e,i),i.stop||(this.postorderTraversalAux(t.rightCh,e,i),i.stop||(i.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,i=this.root;null!==i;){var n=this.compare(t.element,i.element);if(0===n)return null;n<0?(e=i,i=i.leftCh):(e=i,i=i.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(54),r=function(){function t(){this.list=new n.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(35),s=function(){function t(t){this.data=[],this.compare=t||n.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)r.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)r.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!n.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=n.compareToEquals(this.compare);return r.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){r.forEach(this.data,t)},t}();e.default=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),o=i(9),a=function(t){function e(e,i){var n=t.call(this,i)||this;return n.defaultFactoryFunction=e,n}return r(e,t),e.prototype.setDefault=function(e,i){var n=t.prototype.getValue.call(this,e);return o.isUndefined(n)?(this.setValue(e,i),i):n},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(s.default);e.default=a},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(23)),n(i(87)),n(i(7))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.TimesNewRoman=0]="TimesNewRoman",t[t.Kokila=1]="Kokila"}(e.Fonts||(e.Fonts={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalGraphicalStaffEntryContainer=class{constructor(t,e){this.staffEntries=[],this.absoluteTimestamp=e,this.staffEntries=new Array(t)}get Index(){return this.index}set Index(t){this.index=t}get AbsoluteTimestamp(){return this.absoluteTimestamp}get StaffEntries(){return this.staffEntries}set StaffEntries(t){this.staffEntries=t}static compareByTimestamp(t,e){const i=t.absoluteTimestamp.RealValue,n=e.absoluteTimestamp.RealValue;return i<n?-1:i>n?1:0}getFirstNonNullStaffEntry(){for(let t=0,e=this.staffEntries.length;t<e;++t){const e=this.staffEntries[t];if(e)return e}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(42),r=i(17),s=i(15),o=i(8),a=i(4),l=i(20),u=i(32),c=i(14),h=i(8),d=i(24),f=i(36);e.MusicSystemBuilder=class{constructor(){this.musicSystems=[],this.globalSystemIndex=0,this.leadSheet=!1}initialize(t,e,i){this.leadSheet=t.LeadSheet,this.graphicalMusicSheet=t,this.rules=this.graphicalMusicSheet.ParentMusicSheet.Rules,this.measureList=e,this.numberOfVisibleStaffLines=i,this.activeRhythm=new Array(this.numberOfVisibleStaffLines),this.activeKeys=new Array(this.numberOfVisibleStaffLines),this.activeClefs=new Array(this.numberOfVisibleStaffLines),this.initializeActiveInstructions(this.measureList[0])}buildMusicSystems(){const t=this.getFullPageSystemWidth();let e=!1;this.measureListIndex=0,this.currentSystemParams=new p,this.currentSystemParams.currentSystem=this.initMusicSystem();let i=0;for(let n=0,r=this.measureList.length;n<r;++n)this.measureList[n].length>0&&i++;for(;this.measureListIndex<i;){const i=this.measureList[this.measureListIndex];for(let t=0,e=i.length;t<e;++t)i[t].resetLayout();const n=i[0].parentSourceMeasure,r=n.HasEndLine,s=this.currentSystemParams.IsSystemStartMeasure(),o=n===this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();let a=this.rules.MeasureLeftMargin,l=0;const u=this.getMeasureStartLine();if(a+=this.getLineWidth(i[0],u,s),!this.leadSheet){let t=!1;e&&this.rules.ShowRhythmAgainAfterPartEndOrFinalBarline&&(t=!0),a+=this.addBeginInstructions(i,s,o||t),l+=this.addEndInstructions(i)}let c=0;for(let t=0;t<this.numberOfVisibleStaffLines;t++)c=Math.max(c,i[t].minimumStaffEntriesWidth);const h=this.getMeasureEndLine();l+=this.getLineWidth(i[0],h,s);let d=this.rules.MeasureLeftMargin,f=void 0;if(this.measureListIndex+1<this.measureList.length){const t=this.measureList[this.measureListIndex+1];f=t[0].parentSourceMeasure,f.hasBeginInstructions()&&(d+=this.addBeginInstructions(t,!1,!1))}const p=a+l+c,m=this.currentSystemParams.currentWidth+p+d<t,g=this.rules.NewPageAtXMLNewPageAttribute&&n.printNewPageXml,y=g||this.rules.NewSystemAtXMLNewSystemAttribute&&n.printNewSystemXml;s||m&&!y?(this.addMeasureToSystem(i,u,h,p,a,c,l),this.updateActiveClefs(n,i),this.measureListIndex++,r&&this.finalizeCurrentAndCreateNewSystem(i,!0,!1),e=r):this.finalizeCurrentAndCreateNewSystem(i,!1,!0,g)}return this.currentSystemParams.systemMeasures.length>0&&this.finalizeCurrentAndCreateNewSystem(this.measureList[this.measureList.length-1],!0,!1),this.musicSystems}calculateSystemYLayout(){for(const t of this.musicSystems)this.optimizeDistanceBetweenStaffLines(t);this.calculateMusicSystemsRelativePositions()}setMeasureWidth(t,e,i,n){for(let r=0,s=t.length;r<s;++r){const s=t[r];s.setWidth(e),i>0&&(s.beginInstructionsWidth=i),n>0&&(s.endInstructionsWidth=n)}}finalizeCurrentAndCreateNewSystem(t,e=!1,i=!0,n=!1){this.currentSystemParams.currentSystem.breaksPage=n,this.adaptRepetitionLineWithIfNeeded(),void 0!==t&&i&&this.checkAndCreateExtraInstructionMeasure(t),this.stretchMusicSystem(e),this.currentSystemParams=new p,void 0!==t&&this.measureListIndex<this.measureList.length&&(this.currentSystemParams.currentSystem=this.initMusicSystem())}adaptRepetitionLineWithIfNeeded(){const t=this.currentSystemParams.systemMeasures;if(t.length>=1){const e=this.currentSystemParams.currentSystem.GraphicalMeasures[this.currentSystemParams.currentSystem.GraphicalMeasures.length-1],i=t[t.length-1];let n=0;i.endLine===u.SystemLinesEnum.DotsBoldBoldDots&&(i.endLine=u.SystemLinesEnum.DotsThinBold,n=e[0].getLineWidth(u.SystemLinesEnum.DotsBoldBoldDots)/2-e[0].getLineWidth(u.SystemLinesEnum.DotsThinBold)),this.currentSystemParams.currentSystemFixWidth-=n;for(let t=0,r=e.length;t<r;++t)e[t].endInstructionsWidth-=n}}addMeasureToSystem(t,e,i,n,r,s,o){this.currentSystemParams.systemMeasures.push({beginLine:e,endLine:i}),this.setMeasureWidth(t,n,r,o),this.addStaveMeasuresToSystem(t),this.currentSystemParams.currentWidth+=n,this.currentSystemParams.currentSystemFixWidth+=r+o,this.currentSystemParams.currentSystemVarWidth+=s,this.currentSystemParams.systemMeasureIndex++}initMusicSystem(){const t=c.MusicSheetCalculator.symbolFactory.createMusicSystem(this.globalSystemIndex++,this.rules);return this.musicSystems.push(t),this.layoutSystemStaves(t),t.createMusicSystemLabel(this.rules.InstrumentLabelTextHeight,this.rules.SystemLabelsRightMargin,this.rules.LabelMarginBorderFactor,1===this.musicSystems.length),t}getFullPageSystemWidth(){return this.graphicalMusicSheet.ParentMusicSheet.pageWidth-this.rules.PageLeftMargin-this.rules.PageRightMargin-this.rules.SystemLeftMargin-this.rules.SystemRightMargin}layoutSystemStaves(t){const e=this.getFullPageSystemWidth(),i=t.PositionAndShape;i.BorderLeft=0,i.BorderRight=e,i.BorderTop=0;const n=[],r=this.graphicalMusicSheet.ParentMusicSheet.Instruments;for(let a=0,l=r.length;a<l;++a){const t=r[a];if(0!==t.Voices.length&&t.Visible)for(let e=0,i=t.Staves.length;e<i;++e){const i=t.Staves[e];n.push(i)}}let s=!1;if(this.leadSheet)for(let a=0,l=n.length;a<l;++a)if(n[a].ParentInstrument.LyricVersesNumbers.length>1){s=!0;break}let o=0;for(let a=0;a<n.length;a++)if(this.addStaffLineToMusicSystem(t,o,n[a]),o+=this.rules.StaffHeight,a+1<n.length){let t=0;t=this.leadSheet&&!s?2.5:n[a].ParentInstrument===n[a+1].ParentInstrument?this.rules.BetweenStaffDistance:this.rules.StaffDistance,o+=t}i.BorderBottom=o}addStaffLineToMusicSystem(t,e,i){if(t){const n=c.MusicSheetCalculator.symbolFactory.createStaffLine(t,i);t.StaffLines.push(n);const r=n.PositionAndShape,s=new a.PointF2D;t!==this.musicSystems[0]||this.rules.CompactMode?(s.x=0,r.BorderRight=t.PositionAndShape.Size.width):(s.x=this.rules.FirstSystemMargin,r.BorderRight=t.PositionAndShape.Size.width-this.rules.FirstSystemMargin),s.y=e,r.RelativePosition=s,r.BorderLeft=0,r.BorderTop=0,r.BorderBottom=this.rules.StaffHeight;for(let t=0;t<5;t++){const e=new a.PointF2D;e.x=0,e.y=t*this.rules.StaffHeight/4;const i=new a.PointF2D;i.x=n.PositionAndShape.Size.width,i.y=t*this.rules.StaffHeight/4,this.leadSheet&&(e.y=i.y=0),n.StaffLines[t]=new l.GraphicalLine(e,i,this.rules.StaffLineWidth)}}}initializeActiveInstructions(t){const e=this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();if(e){this.visibleStaffIndices=this.graphicalMusicSheet.getVisibleStavesIndicesFromSourceMeasure(t);for(let t=0,i=this.visibleStaffIndices.length;t<i;t++){const i=this.visibleStaffIndices[t],n=this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(e,i);this.activeClefs[t]=e.FirstInstructionsStaffEntries[i].Instructions[0];let r=s.KeyInstruction.copy(e.FirstInstructionsStaffEntries[i].Instructions[1]);r=this.transposeKeyInstruction(r,n),this.activeKeys[t]=r,this.activeRhythm[t]=e.FirstInstructionsStaffEntries[i].Instructions[2]}}}transposeKeyInstruction(t,e){return 0!==this.graphicalMusicSheet.ParentMusicSheet.Transpose&&e.ParentStaff.ParentInstrument.MidiInstrumentId!==h.MidiInstrument.Percussion&&void 0!==c.MusicSheetCalculator.transposeCalculator&&c.MusicSheetCalculator.transposeCalculator.transposeKey(t,this.graphicalMusicSheet.ParentMusicSheet.Transpose),t}addBeginInstructions(t,e,i){const n=t.length;if(0===n)return 0;let r=0;const s=t[0].parentSourceMeasure;for(let o=0;o<n;++o){const n=t[o],a=this.visibleStaffIndices[o],l=s.FirstInstructionsStaffEntries[a],u=this.AddInstructionsAtMeasureBegin(l,n,o,i,e);r=Math.max(r,u)}return r}addEndInstructions(t){const e=t.length;if(0===e)return 0;let i=.5;const n=t[0].parentSourceMeasure;for(let r=0;r<e;r++){const e=t[r],s=this.visibleStaffIndices[r],o=n.LastInstructionsStaffEntries[s],a=this.addInstructionsAtMeasureEnd(o,e);i=Math.max(i,a)}return i}AddInstructionsAtMeasureBegin(t,e,i,n,a){let l=0,u=void 0,c=void 0,h=void 0;if(t)for(let m=0,g=t.Instructions.length;m<g;++m){const e=t.Instructions[m];e instanceof o.ClefInstruction?u=e:e instanceof s.KeyInstruction?c=e:e instanceof r.RhythmInstruction&&(h=e)}a&&(u||(u=this.activeClefs[i]),c||(c=this.activeKeys[i]),n&&!h&&(h=this.activeRhythm[i]));let d=!1,f=!1,p=!1;if(u?(e.addClefAtBegin(u),d=!0):u=this.activeClefs[i],c){c=this.transposeKeyInstruction(c,e);const t=a?void 0:this.activeKeys[i];e.addKeyAtBegin(c,t,u),f=!0}return void 0!==h&&h.PrintObject&&(e.addRhythmAtBegin(h),p=!0),(d||f||p)&&(l+=e.beginInstructionsWidth,p&&(l+=this.rules.RhythmRightMargin)),l}addInstructionsAtMeasureEnd(t,e){if(!t||!t.Instructions||0===t.Instructions.length)return 0;for(let i=0,n=t.Instructions.length;i<n;++i){const n=t.Instructions[i];if(n instanceof o.ClefInstruction){const t=n;e.addClefAtEnd(t)}}return this.rules.MeasureRightMargin+e.endInstructionsWidth}updateActiveClefs(t,e){for(let i=0,n=e.length;i<n;i++){const e=this.visibleStaffIndices[i],n=t.FirstInstructionsStaffEntries[e];if(n)for(let t=0,u=n.Instructions.length;t<u;++t){const e=n.Instructions[t];e instanceof o.ClefInstruction?this.activeClefs[i]=e:e instanceof s.KeyInstruction?this.activeKeys[i]=e:e instanceof r.RhythmInstruction&&(this.activeRhythm[i]=e)}const a=t.getEntriesPerStaff(e);for(let t=0,r=a.length;t<r;++t){const e=a[t];if(e.Instructions)for(let t=0,n=e.Instructions.length;t<n;++t){const n=e.Instructions[t];n instanceof o.ClefInstruction&&(this.activeClefs[i]=n)}}const l=t.LastInstructionsStaffEntries[e];if(l){const t=l.Instructions;for(let e=0,n=t.length;e<n;++e){const n=t[e];n instanceof o.ClefInstruction&&(this.activeClefs[i]=n)}}}}checkAndCreateExtraInstructionMeasure(t){const e=t[0].parentSourceMeasure.FirstInstructionsStaffEntries,i=[];for(let r=0,s=t.length;r<s;++r){const n=t[r];i.push(e[n.ParentStaff.idInMusicSheet])}let n=0;for(let o=0,a=i.length;o<a;++o){const t=i[o];if(!t)continue;const e=t.Instructions;let a=void 0,l=void 0;for(let i=0,n=e.length;i<n;++i){const t=e[i];t instanceof s.KeyInstruction&&t.Key!==this.activeKeys[o].Key&&(a=t),t instanceof r.RhythmInstruction&&t!==this.activeRhythm[o]&&(l=t)}if(void 0!==a||l){const t=this.addExtraInstructionMeasure(o,a,l);n=Math.max(n,t)}}n>0&&(this.currentSystemParams.systemMeasures.push({beginLine:u.SystemLinesEnum.None,endLine:u.SystemLinesEnum.None}),this.currentSystemParams.currentWidth+=n,this.currentSystemParams.currentSystemFixWidth+=n)}addExtraInstructionMeasure(t,e,i){const n=this.currentSystemParams.currentSystem,r=c.MusicSheetCalculator.symbolFactory.createExtraGraphicalMeasure(n.StaffLines[t]);[].push(r),e&&r.addKeyAtBegin(e,this.activeKeys[t],this.activeClefs[t]),void 0!==i&&i.PrintObject&&r.addRhythmAtBegin(i),r.PositionAndShape.BorderLeft=0,r.PositionAndShape.BorderTop=0,r.PositionAndShape.BorderBottom=this.rules.StaffHeight;const s=this.rules.MeasureLeftMargin+r.beginInstructionsWidth+this.rules.MeasureRightMargin;return r.PositionAndShape.BorderRight=s,n.StaffLines[t].Measures.push(r),s}addStaveMeasuresToSystem(t){if(t[0]){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);const i=this.currentSystemParams.currentSystem;for(let t=0;t<this.numberOfVisibleStaffLines;t++){const n=e[t];i.StaffLines[t].Measures.push(n),n.ParentStaffLine=i.StaffLines[t]}i.AddGraphicalMeasures(e)}}getMeasureStartLine(){if(this.thisMeasureBeginsLineRepetition()){const t=this.currentSystemParams.IsSystemStartMeasure(),e=0===this.measureListIndex;if(this.previousMeasureEndsLineRepetition()&&!t)return u.SystemLinesEnum.DotsBoldBoldDots;if(!e)return u.SystemLinesEnum.BoldThinDots}return u.SystemLinesEnum.None}getMeasureEndLine(){let t=void 0;try{t=this.measureList[this.measureListIndex][0].parentSourceMeasure}finally{}return this.nextMeasureBeginsLineRepetition()&&this.thisMeasureEndsLineRepetition()?u.SystemLinesEnum.DotsBoldBoldDots:this.thisMeasureEndsLineRepetition()?u.SystemLinesEnum.DotsThinBold:this.nextMeasureHasKeyInstructionChange()||this.thisMeasureEndsWordRepetition()||this.nextMeasureBeginsWordRepetition()?u.SystemLinesEnum.DoubleThin:t&&void 0!==t.endingBarStyleEnum?t.endingBarStyleEnum:u.SystemLinesEnum.SingleThin}getLineWidth(t,e,i){let n=t.getLineWidth(e);return e===u.SystemLinesEnum.DotsBoldBoldDots&&(n/=2),i&&e===u.SystemLinesEnum.BoldThinDots&&(n+=this.rules.DistanceBetweenLastInstructionAndRepetitionBarline),n}previousMeasureEndsLineRepetition(){if(0===this.measureListIndex)return!1;for(let t=0,e=this.measureList[this.measureListIndex-1].length;t<e;++t)if(this.measureList[this.measureListIndex-1][t].endsWithLineRepetition())return!0;return!1}thisMeasureBeginsLineRepetition(){for(let t=0,e=this.measureList[this.measureListIndex].length;t<e;++t)if(this.measureList[this.measureListIndex][t].beginsWithLineRepetition())return!0;return!1}nextMeasureBeginsLineRepetition(){const t=this.measureListIndex+1;if(t>=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length||!this.measureList[t])return!1;for(let e=0,i=this.measureList[t].length;e<i;++e)if(this.measureList[t][e].beginsWithLineRepetition())return!0;return!1}thisMeasureEndsLineRepetition(){for(let t=0,e=this.measureList[this.measureListIndex].length;t<e;++t)if(this.measureList[this.measureListIndex][t].endsWithLineRepetition())return!0;return!1}nextMeasureBeginsWordRepetition(){const t=this.measureListIndex+1;if(t>=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length||t>this.measureList.length-1)return!1;for(let e=0,i=this.measureList[t].length;e<i;++e)if(this.measureList[t][e].beginsWithWordRepetition())return!0;return!1}thisMeasureEndsWordRepetition(){for(let t=0,e=this.measureList[this.measureListIndex].length;t<e;++t)if(this.measureList[this.measureListIndex][t].endsWithWordRepetition())return!0;return!1}nextMeasureHasKeyInstructionChange(){return void 0!==this.getNextMeasureKeyInstruction()}getNextMeasureKeyInstruction(){if(this.measureListIndex<this.measureList.length-1)for(let t=0;t<this.measureList[this.measureListIndex].length;t++){const e=this.measureList[this.measureListIndex+1][t].parentSourceMeasure;if(!e)return;return e.getKeyInstruction(this.visibleStaffIndices[t])}}calculateXScalingFactor(t,e){if(Math.abs(e-0)<1e-5||Math.abs(t-0)<1e-5)return 1;let i;return i=this.currentSystemParams.currentSystem.StaffLines[0].PositionAndShape.Size.width,(i-t)/e}stretchMusicSystem(t){let e=this.calculateXScalingFactor(this.currentSystemParams.currentSystemFixWidth,this.currentSystemParams.currentSystemVarWidth);t&&(e=Math.min(e,this.rules.LastSystemMaxScalingFactor));const i=this.currentSystemParams.currentSystem;for(let n=0,r=i.StaffLines.length;n<r;++n){const t=i.StaffLines[n];let r=0;for(let n=0;n<t.Measures.length;n++){const s=t.Measures[n];if(s.setPositionInStaffline(r),s.setWidth(s.beginInstructionsWidth+s.minimumStaffEntriesWidth*e+s.endInstructionsWidth),n<this.currentSystemParams.systemMeasures.length){const t=this.currentSystemParams.systemMeasures[n].beginLine,e=s.getLineWidth(u.SystemLinesEnum.BoldThinDots);switch(t){case u.SystemLinesEnum.BoldThinDots:let o=r;0===n&&(o=r+s.beginInstructionsWidth-e),i.createVerticalLineForMeasure(o,e,t,f.SystemLinePosition.MeasureBegin,n,s)}}if(s.staffEntriesScaleFactor=e,s.layoutSymbols(),!(n+1<this.currentSystemParams.systemMeasures.length&&this.currentSystemParams.systemMeasures[n+1].beginLine===u.SystemLinesEnum.BoldThinDots)){let t=u.SystemLinesEnum.SingleThin;n<this.currentSystemParams.systemMeasures.length&&(t=this.currentSystemParams.systemMeasures[n].endLine);const e=s.getLineWidth(t);let r=s.PositionAndShape.RelativePosition.x+s.PositionAndShape.BorderRight-e;t===u.SystemLinesEnum.DotsBoldBoldDots&&(r-=e/2),i.createVerticalLineForMeasure(r,e,t,f.SystemLinePosition.MeasureEnd,n,s)}r=s.PositionAndShape.RelativePosition.x+s.PositionAndShape.BorderRight}}t&&this.decreaseMusicSystemBorders()}decreaseMusicSystemBorders(){const t=this.currentSystemParams.currentSystem,e=d.CollectionUtil.last(t.StaffLines[0].Measures).PositionAndShape,i=e.RelativePosition.x+e.Size.width;for(let n=0,r=t.StaffLines.length;n<r;++n){const e=t.StaffLines[n];e.PositionAndShape.BorderRight=i;for(let t=0,n=e.StaffLines.length;t<n;++t){const n=e.StaffLines[t];n.End=new a.PointF2D(i,n.End.y)}}t.PositionAndShape.BorderRight=i+this.currentSystemParams.maxLabelLength+this.rules.SystemLabelsRightMargin}updateStaffLinesRelativePosition(t,e,i){for(let n=e;n<t.StaffLines.length;n++)t.StaffLines[n].PositionAndShape.RelativePosition.y=i;t.PositionAndShape.BorderBottom+=i}createMusicPage(){const t=new n.GraphicalMusicPage(this.graphicalMusicSheet);return this.graphicalMusicSheet.MusicPages.push(t),t.PageNumber=this.graphicalMusicSheet.MusicPages.length,t.PositionAndShape.BorderLeft=0,t.PositionAndShape.BorderRight=this.graphicalMusicSheet.ParentMusicSheet.pageWidth,t.PositionAndShape.BorderTop=0,t.PositionAndShape.BorderBottom=this.rules.PageHeight,t.PositionAndShape.RelativePosition=new a.PointF2D(0,0),t}addSystemToPage(t,e){t.MusicSystems.push(e),e.Parent=t}optimizeDistanceBetweenStaffLines(t){if(!t.checkStaffEntriesForStaffEntryLink())for(let n=0;n<t.StaffLines.length-1;n++){const e=t.StaffLines[n].BottomLine,i=t.StaffLines[n+1].SkyLine;let r=0;for(let t=0;t<e.length;t++){const n=e[t],s=Math.max(0,t-6),o=Math.min(i.length-1,t+6);let a=0;for(let t=s;t<=o;t++)a=Math.min(a,i[t]);const l=n-a;r=Math.max(l,r)}r+=this.rules.MinSkyBottomDistBetweenStaves,r=Math.max(r,this.rules.StaffHeight+this.rules.MinimumStaffLineDistance);const s=r+t.StaffLines[n].PositionAndShape.RelativePosition.y;this.updateStaffLinesRelativePosition(t,n+1,s)}const e=t.StaffLines[0];t.PositionAndShape.BorderTop=e.PositionAndShape.RelativePosition.y+e.PositionAndShape.BorderTop;const i=t.StaffLines[t.StaffLines.length-1];t.PositionAndShape.BorderBottom=i.PositionAndShape.RelativePosition.y+i.PositionAndShape.BorderBottom}calculateMusicSystemsRelativePositions(){let t=this.createMusicPage(),e=0,i=this.musicSystems[0],n=0;for(let r=0;r<this.musicSystems.length;r++)if(i=this.musicSystems[r],0===t.MusicSystems.length){this.addSystemToPage(t,i),e=this.rules.CompactMode?this.rules.PageTopMarginNarrow:this.rules.PageTopMargin,1===this.graphicalMusicSheet.MusicPages.length&&this.rules.RenderTitle&&(e+=this.rules.TitleTopDistance+this.rules.SheetTitleHeight+this.rules.TitleBottomDistance),e+=-i.PositionAndShape.BorderTop;const r=new a.PointF2D(this.rules.PageLeftMargin+this.rules.SystemLeftMargin,e);i.PositionAndShape.RelativePosition=r,e+i.PositionAndShape.BorderBottom>this.rules.PageHeight-this.rules.PageBottomMargin&&(n++,n<=4&&console.log("warning: could not fit a single system on page "+t.PageNumber+` and measure number ${i.GraphicalMeasures[0][0].MeasureNumber}.\n                            The PageFormat may be too small for this sheet."\n                            Will not give further warnings for all pages, only total.`))}else{const n=this.musicSystems[r-1],s=n.StaffLines[n.StaffLines.length-1],o=s.PositionAndShape;let l=this.findReqiredDistanceWithSkyBottomLine(n,i);l+=this.rules.MinSkyBottomDistBetweenSystems,l=Math.max(l,this.rules.MinimumDistanceBetweenSystems+s.StaffHeight);const u=e+o.RelativePosition.y+l,c=u+i.PositionAndShape.BorderMarginBottom;if(this.rules.NewPageAtXMLNewPageAttribute&&n.breaksPage||!(c<this.rules.PageHeight-this.rules.PageBottomMargin)){t=this.createMusicPage(),r-=1;continue}{this.addSystemToPage(t,i),e=u;const n=new a.PointF2D(this.rules.PageLeftMargin+this.rules.SystemLeftMargin,e);i.PositionAndShape.RelativePosition=n}}n>0&&console.log(`total amount of pages that couldn't fit a single music system: ${n} of ${t.PageNumber}`)}findReqiredDistanceWithSkyBottomLine(t,e){const i=t.StaffLines[t.StaffLines.length-1],n=e.StaffLines[0],r=i.BottomLine,s=n.SkyLine,o=i.PositionAndShape,a=n.PositionAndShape,l=1/this.rules.SamplingUnit;let u=0;for(let c=0;c<r.length;c++){const t=r[c],e=c+Math.round((o.RelativePosition.x-a.RelativePosition.x)*l);if(e<0)continue;if(e>=s.length)break;const i=Math.max(0,e-6),n=Math.min(s.length-1,e+6);let h=0;for(let r=i;r<=n;r++)h=Math.min(h,s[r]);const d=t-h;u=Math.max(d,u)}return 0===u&&(u=o.BorderBottom-a.BorderTop),u}};class p{constructor(){this.systemMeasures=[],this.systemMeasureIndex=0,this.currentWidth=0,this.currentSystemFixWidth=0,this.currentSystemVarWidth=0,this.maxLabelLength=0}IsSystemStartMeasure(){return 0===this.systemMeasureIndex}}e.SystemBuildParameters=p,e.MeasureBuildParameters=class{}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5);class r extends n.GraphicalObject{}e.Clickable=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OctaveShiftParams=class{constructor(t,e,i){this.getOpenOctaveShift=t,this.getAbsoluteStartTimestamp=e,this.getAbsoluteEndTimestamp=i}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(2),s=i(2),o=n(i(12)),a=i(14);e.AccidentalCalculator=class{constructor(){this.keySignatureNoteAlterationsDict=new o.default,this.currentAlterationsComparedToKeyInstructionList=[],this.currentInMeasureNoteAlterationsDict=new o.default}get ActiveKeyInstruction(){return this.activeKeyInstruction}set ActiveKeyInstruction(t){this.activeKeyInstruction=t,this.reactOnKeyInstructionChange()}doCalculationsAtEndOfMeasure(){this.currentInMeasureNoteAlterationsDict.clear();for(const t of this.keySignatureNoteAlterationsDict.keys())this.currentInMeasureNoteAlterationsDict.setValue(t,this.keySignatureNoteAlterationsDict.getValue(t))}checkAccidental(t,e){if(!e)return;const i=e.FundamentalNote+12*e.Octave,n=this.currentAlterationsComparedToKeyInstructionList.indexOf(i)>=0;this.currentInMeasureNoteAlterationsDict.containsKey(i)?(n&&this.currentAlterationsComparedToKeyInstructionList.splice(this.currentAlterationsComparedToKeyInstructionList.indexOf(i),1),this.currentInMeasureNoteAlterationsDict.getValue(i)!==e.AccidentalHalfTones&&(this.keySignatureNoteAlterationsDict.containsKey(i)&&this.keySignatureNoteAlterationsDict.getValue(i)!==e.AccidentalHalfTones?(this.currentAlterationsComparedToKeyInstructionList.push(i),this.currentInMeasureNoteAlterationsDict.setValue(i,e.AccidentalHalfTones)):this.currentInMeasureNoteAlterationsDict.remove(i),e.Accidental===r.AccidentalEnum.NONE&&(e=new s.Pitch(e.FundamentalNote,e.Octave,r.AccidentalEnum.NATURAL)),a.MusicSheetCalculator.symbolFactory.addGraphicalAccidental(t,e))):e.Accidental!==r.AccidentalEnum.NONE?(n||this.currentAlterationsComparedToKeyInstructionList.push(i),this.currentInMeasureNoteAlterationsDict.setValue(i,e.AccidentalHalfTones),a.MusicSheetCalculator.symbolFactory.addGraphicalAccidental(t,e)):n&&(e=new s.Pitch(e.FundamentalNote,e.Octave,r.AccidentalEnum.NATURAL),this.currentAlterationsComparedToKeyInstructionList.splice(this.currentAlterationsComparedToKeyInstructionList.indexOf(i),1),a.MusicSheetCalculator.symbolFactory.addGraphicalAccidental(t,e))}reactOnKeyInstructionChange(){const t=this.activeKeyInstruction.AlteratedNotes;let e;e=this.activeKeyInstruction.Key>0?r.AccidentalEnum.SHARP:r.AccidentalEnum.FLAT,this.keySignatureNoteAlterationsDict.clear(),this.currentAlterationsComparedToKeyInstructionList.length=0;for(let i=-9;i<9;i++)for(let n=0;n<t.length;n++)this.keySignatureNoteAlterationsDict.setValue(t[n]+12*i,s.Pitch.HalfTonesFromAccidental(e));this.doCalculationsAtEndOfMeasure()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(6);class r extends n.AbstractExpression{constructor(t,e,i,n){super(e),this.label=t,this.staffNumber=i,this.parentMultiTempoExpression=n}get Label(){return this.label}set Label(t){this.label=t}get Placement(){return this.placement}set Placement(t){this.placement=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get ParentMultiTempoExpression(){return this.parentMultiTempoExpression}static isStringInStringList(t,e){for(const i of t)if(r.stringContainsSeparatedWord(e.toLowerCase().trim(),i.toLowerCase().trim()))return!0;return!1}static stringContainsSeparatedWord(t,e){return t===e||-1!==t.indexOf(" "+e)||-1!==t.indexOf(e+" ")}}e.AbstractTempoExpression=r},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(38),s=i(6),o=n(i(1));class a extends r.AbstractGraphicalExpression{constructor(t,e,i,n,r){super(t,new s.AbstractExpression(i),n),this.label=e,this.sourceMultiExpression=r}updateSkyBottomLine(){const t=this.parentStaffLine.SkyBottomLineCalculator,e=this.label.PositionAndShape.RelativePosition.x+this.label.PositionAndShape.BorderMarginLeft,i=this.label.PositionAndShape.RelativePosition.x+this.label.PositionAndShape.BorderMarginRight;switch(this.Placement){case s.PlacementEnum.Above:const n=this.label.PositionAndShape.BorderMarginTop+this.label.PositionAndShape.RelativePosition.y;t.updateSkyLineInRange(e,i,n);break;case s.PlacementEnum.Below:const r=this.label.PositionAndShape.BorderMarginBottom+this.label.PositionAndShape.RelativePosition.y;t.updateBottomLineInRange(e,i,r);break;default:o.default.error("Placement for GraphicalUnknownExpression is unknown")}}}e.GraphicalUnknownExpression=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(14),s=i(96),o=i(116),a=i(64),l=n(i(10)),u=n(i(1)),c=i(19),h=i(109),d=i(110),f=i(123),p=i(121),m=i(7),g=i(114),y=i(67),v=i(34),b=i(170);class _ extends r.MusicSheetCalculator{constructor(t){super(),this.beamsNeedUpdate=!1,this.rules=t,r.MusicSheetCalculator.symbolFactory=new s.VexFlowGraphicalSymbolFactory,r.MusicSheetCalculator.TextMeasurer=new a.VexFlowTextMeasurer(this.rules),r.MusicSheetCalculator.stafflineNoteCalculator=new b.VexflowStafflineNoteCalculator(this.rules)}clearRecreatedObjects(){super.clearRecreatedObjects(),r.MusicSheetCalculator.stafflineNoteCalculator=new b.VexflowStafflineNoteCalculator(this.rules);for(const t of this.graphicalMusicSheet.MeasureList)for(const e of t)e.clean()}formatMeasures(){for(const t of this.graphicalMusicSheet.MeasureList){t[0].format();for(const e of t){for(const t of e.staffEntries)t.calculateXPosition();this.beamsNeedUpdate&&e.finalizeBeams()}}this.beamsNeedUpdate=!1}calculateMeasureXLayout(t){const e=[];for(const r of t)e.push(r);t=e;const i=[],n=new l.default.Flow.Formatter;for(const r of t){const t=r.vfVoices,e=[];for(const n in t)t.hasOwnProperty(n)&&(e.push(t[n]),i.push(t[n]));0!==e.length?n.joinVoices(e):u.default.debug("Found a measure with no voices. Continuing anyway.",t)}let s=12;if(i.length>0){s=n.preCalculateMinTotalWidth(i)/c.unitInPixels+5,r.MusicSheetCalculator.setMeasuresMinStaffEntriesWidth(t,s);const e=t=>{n.format(i,t)},o=t=>{n.format(i,t,{align_rests:!0,context:void 0})};for(const i of t){if(this.rules.AlignRests===v.AlignRestOption.Never)i.formatVoices=e;else if(this.rules.AlignRests===v.AlignRestOption.Always)i.formatVoices=o;else if(this.rules.AlignRests===v.AlignRestOption.Auto){let t=!1;for(const e of i.staffEntries){let i=0,n=0;for(const r of e.graphicalVoiceEntries)if(r.parentVoiceEntry.IsGrace||r&&r.notes&&r.notes[0]&&r.notes[0].sourceNote&&r.notes[0].sourceNote.PrintObject&&i++,r&&r.notes&&r.notes[0]&&r.notes[0].sourceNote&&r.notes[0].sourceNote.isRest()&&r.notes[0].sourceNote.PrintObject&&n++,i>1&&n>=1){t=!0;break}if(t)break}i.formatVoices=t?o:e}i===t[0]&&i.formatVoices(s*c.unitInPixels)}}for(const r of t)for(const t of r.staffEntries)t.calculateXPosition();return s}calculateMeasureWidthFromLyrics(t,e){let i=1;for(const n of t){const t={};for(let r=0;r<n.staffEntries.length;r++){const s=n.staffEntries[r];if(0!==s.LyricsEntries.length)for(let r=0;r<s.LyricsEntries.length;r++){const o=s.LyricsEntries[r],a=o.GraphicalLabel.Label.textAlignment;let l=this.rules.HorizontalBetweenLyricsDistance,u=this.rules.LyricOverlapAllowedIntoNextMeasure;if(o.ParentLyricWord){o.LyricsEntry.SyllableIndex>0&&(l=this.rules.BetweenSyllableMinimumDistance,m.TextAlignment.IsCenterAligned(o.GraphicalLabel.Label.textAlignment)&&(l+=1));const t=o.ParentLyricWord.GetLyricWord.Syllables;t.length>1&&o.LyricsEntry.SyllableIndex<t.length-1&&(void 0===this.dashSpace&&(this.dashSpace=1.5),u-=this.dashSpace)}const c=o.GraphicalLabel.PositionAndShape,h=c.Size.width,d=s.PositionAndShape.RelativePosition.x+c.BorderMarginLeft;let f,p,g,y;t[r]&&t[r].extend,t[r]&&(p=d-t[r].lyricsXPosition);const v=e*i;m.TextAlignment.IsCenterAligned(a)?(u/=4,g=v-d,y=h/2-u,t[r]&&(f=t[r].labelWidth/2+h/2+l)):m.TextAlignment.IsLeft(a)&&(g=v-d,y=h-u,t[r]&&(f=t[r].labelWidth+l));let b=1;const _=y/g;let S=1;if(t[r]){const e=t[r].sourceNoteDuration;S=f/p,e.Denominator>4&&(S*=1.1)}b=Math.max(_,S),i=Math.max(i,b),t[r]={extend:o.LyricsEntry.extend,labelWidth:h,lyricsXPosition:d,measureNumber:n.MeasureNumber,sourceNoteDuration:o.LyricsEntry.Parent.Notes[0].Length,text:o.LyricsEntry.Text}}}}return e*i}createGraphicalTie(t,e,i,n,r){return new o.GraphicalTie(t,n,r)}updateStaffLineBorders(t){t.SkyBottomLineCalculator.updateStaffLineBorders()}graphicalMeasureCreatedCalculations(t){t.rules=this.rules,t.graphicalMeasureCreatedCalculations()}layoutVoiceEntry(t,e,i,n){}layoutStaffEntry(t){t.parentMeasure.layoutStaffEntry(t)}initGraphicalMeasuresCreation(){}layoutArticulationMarks(t,e,i){}layoutGraphicalTie(t,e){const i=t.StartNote,n=t.EndNote;let r=void 0,s=0;i&&i.vfnote&&i.vfnote.length>=2&&(r=i.vfnote[0],s=i.vfnote[1]);let o=void 0,a=0;if(n&&n.vfnote&&n.vfnote.length>=2&&(o=n.vfnote[0],a=n.vfnote[1]),e){if(r){const t=new l.default.Flow.StaveTie({first_indices:[s],first_note:r});i.parentVoiceEntry.parentStaffEntry.parentMeasure.vfTies.push(t)}if(o){const t=new l.default.Flow.StaveTie({last_indices:[a],last_note:o});n.parentVoiceEntry.parentStaffEntry.parentMeasure.vfTies.push(t)}}else if(r||o){const t=new l.default.Flow.StaveTie({first_indices:[s],first_note:r,last_indices:[a],last_note:o});n.parentVoiceEntry.parentStaffEntry.parentMeasure.vfTies.push(t)}}calculateDynamicExpressionsForMultiExpression(t,e,i){if(e<this.rules.MinMeasureToDrawIndex||e>this.rules.MaxMeasureToDrawIndex)return;const n=t.AbsoluteTimestamp,r=this.graphicalMusicSheet.MeasureList[e],s=r[i].ParentStaffLine,o=r[i],a=this.getRelativePositionInStaffLineFromTimestamp(n,i,s,null==s?void 0:s.isPartOfMultiStaffInstrument()),l=a;if(a.x<=0&&(l.x=o.beginInstructionsWidth+this.rules.RhythmRightMargin),t.InstantaneousDynamic){const e=new p.VexFlowInstantaneousDynamicExpression(t.InstantaneousDynamic,s,o);this.calculateGraphicalInstantaneousDynamicExpression(e,l)}if(t.StartingContinuousDynamic){const e=t.StartingContinuousDynamic,i=new y.VexFlowContinuousDynamicExpression(t.StartingContinuousDynamic,s,o.parentSourceMeasure);if(i.StartMeasure=o,!i.IsVerbal&&e.EndMultiExpression)try{this.calculateGraphicalContinuousDynamic(i,l)}catch(t){}else i.IsVerbal?this.calculateGraphicalVerbalContinuousDynamic(i,l):u.default.warn("This continuous dynamic is not covered")}}createMetronomeMark(t){const e=this.graphicalMusicSheet.MeasureList[0][0].getVFStave();e.setTempo({bpm:t.TempoInBpm,dots:t.dotted,duration:"q"},this.rules.MetronomeMarkYShift*c.unitInPixels),e.getModifiers()[e.getModifiers().length-1].setShiftX(this.rules.MetronomeMarkXShift*c.unitInPixels);const i=this.graphicalMusicSheet.MeasureList[0][0].ParentStaffLine.SkyLine;i[0]=Math.min(i[0],-4.5+this.rules.MetronomeMarkYShift)}calculateSingleOctaveShift(t,e,i,n){var r;const s=e.OctaveShiftStart,o=s.ParentStartMultiExpression.Timestamp,a=null===(r=s.ParentEndMultiExpression)||void 0===r?void 0:r.Timestamp,l=this.rules.MinMeasureToDrawIndex,c=this.rules.MaxMeasureToDrawIndex;let h=this.graphicalMusicSheet.MeasureList[i][n].ParentStaffLine;h||(h=this.graphicalMusicSheet.MeasureList[l][n].ParentStaffLine);let d=void 0;d=s.ParentEndMultiExpression?this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(s.ParentEndMultiExpression.SourceMeasureParent,n):this.graphicalMusicSheet.getLastGraphicalMeasureFromIndex(n,!0),d.MeasureNumber>c+1&&(d=this.graphicalMusicSheet.getLastGraphicalMeasureFromIndex(n,!0));let p=void 0;if(p=s.ParentEndMultiExpression?this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(s.ParentStartMultiExpression.SourceMeasureParent,n):this.graphicalMusicSheet.MeasureList[l][n],p.MeasureNumber<l+1&&(p=this.graphicalMusicSheet.MeasureList[l][n]),p.MeasureNumber<l+1||p.MeasureNumber>c+1||d.MeasureNumber<l+1||d.MeasureNumber>c+1)return;let m=d.ParentStaffLine;if(m||(m=h),d&&h&&m){const t=new f.VexFlowOctaveShift(s,h.PositionAndShape);t.getStartNote()||t.setStartNote(p.staffEntries[0]),t.getStartNote()||t.setEndNote(d.staffEntries.last()),h.OctaveShifts.push(t);let e=p.findGraphicalStaffEntryFromTimestamp(o);e||(e=p.staffEntries[0]);let i=d.findGraphicalStaffEntryFromTimestamp(a);if(i||(i=d.staffEntries[d.staffEntries.length-1]),t.setStartNote(e),m!==h){t.endsOnDifferentStaffLine=!0;let n=h.Measures[h.Measures.length-1];n||(n=d);const r=n.staffEntries[n.staffEntries.length-1];t.setEndNote(r);const o=new f.VexFlowOctaveShift(s,d.PositionAndShape);m.OctaveShifts.push(o);let a=m.Measures[0];a||(a=p);const l=a.staffEntries[0];o.setStartNote(l),o.setEndNote(i),this.calculateOctaveShiftSkyBottomLine(e,r,t,h),this.calculateOctaveShiftSkyBottomLine(l,i,o,m)}else t.setEndNote(i),this.calculateOctaveShiftSkyBottomLine(e,i,t,h)}else u.default.warn("End measure or staffLines for octave shift are undefined! This should not happen!")}calculateOctaveShiftSkyBottomLine(t,e,i,n){const r=t.PositionAndShape.AbsolutePosition.x-t.PositionAndShape.Size.width/2,s=e.PositionAndShape.AbsolutePosition.x+e.PositionAndShape.Size.width/2;i.PositionAndShape.Size.width=r-s;const o=i.getTextBracket(),a=o.font.size/10;if(1===o.position){const t=Math.ceil(n.SkyBottomLineCalculator.getSkyLineMinInRange(r,s));if(t===1/0)return;o.start.getStave().options.top_text_position=Math.abs(t),n.SkyBottomLineCalculator.updateSkyLineInRange(r,s,t-2*a)}else{const t=n.SkyBottomLineCalculator.getBottomLineMaxInRange(r,s);if(t===1/0)return;o.start.getStave().options.bottom_text_position=t,n.SkyBottomLineCalculator.updateBottomLineInRange(r,s,t+1.5*a)}}calculateWordRepetitionInstruction(t,e){let i=void 0;const n=this.graphicalMusicSheet.MeasureList[e];for(let r=0,s=n.length;r<s;++r){const t=n[r];if(t.ParentStaffLine&&t.ParentStaff.ParentInstrument.Visible){i=t;break}}i&&i.addWordRepetition(t)}calculateExpressionAlignements(){for(const e of this.musicSystems)for(const i of e.StaffLines)try{i.AlignmentManager.alignDynamicExpressions(),i.AbstractExpressions.forEach(t=>{t.updateSkyBottomLine()})}catch(t){}}handleTiedGraphicalNote(t,e,i,n,r,s,o,a){}handleBeam(t,e,i){t.parentVoiceEntry.parentStaffEntry.parentMeasure.handleBeam(t,e)}handleVoiceEntryLyrics(t,e,i){t.LyricsEntries.forEach((t,n)=>{const r=new h.GraphicalLyricEntry(n,e,this.rules.LyricsHeight,this.rules.StaffHeight);if(e.LyricsEntries.push(r),r.GraphicalLabel.setLabelPositionAndShapeBorders(),n.Word){const t=n.Word.Syllables.indexOf(n);let e=i.indexOf(n.Word);if(-1===e&&(i.push(n.Word),e=i.indexOf(n.Word)),0===this.graphicalLyricWords.length||e>this.graphicalLyricWords.length-1){const e=new d.GraphicalLyricWord(n.Word);r.ParentLyricWord=e,e.GraphicalLyricsEntries[t]=r,this.graphicalLyricWords.push(e)}else{const n=this.graphicalLyricWords[e];r.ParentLyricWord=n,n.GraphicalLyricsEntries[t]=r,n.isFilled()&&(i.splice(e,1),this.graphicalLyricWords.splice(this.graphicalLyricWords.indexOf(n),1))}}})}handleVoiceEntryOrnaments(t,e,i){}handleVoiceEntryArticulations(t,e,i){}handleVoiceEntryTechnicalInstructions(t,e,i){}handleTuplet(t,e,i){t.parentVoiceEntry.parentStaffEntry.parentMeasure.handleTuplet(t,e)}findIndexGraphicalSlurFromSlur(t,e){for(let i=0;i<t.length;i++)if(t[i].slur===e)return i;return-1}calculateSlurs(){const t={};for(const e of this.graphicalMusicSheet.MeasureList[0])t[e.ParentStaff.idInMusicSheet]=[];for(const e of this.musicSystems)for(const i of e.StaffLines){const e=t[i.ParentStaff.idInMusicSheet];for(let t=0;t<e.length;t++){const n=e[t],r=new g.GraphicalSlur(n.slur);i.addSlurToStaffline(r),e[t]=r}for(const t of i.Measures)for(const n of t.staffEntries){for(const t of n.graphicalVoiceEntries)for(const r of t.notes)for(const t of r.sourceNote.NoteSlurs)if(t.EndNote&&t.StartNote){if(t.StartNote===r.sourceNote){if(r.sourceNote.NoteTie&&r.parentVoiceEntry.parentStaffEntry.getAbsoluteTimestamp()!==r.sourceNote.NoteTie.StartNote.getAbsoluteTimestamp())break;const n=new g.GraphicalSlur(t);e.push(n),i.addSlurToStaffline(n)}if(t.EndNote===r.sourceNote){const i=this.findIndexGraphicalSlurFromSlur(e,t);if(i>=0){const t=e[i];-1===t.staffEntries.indexOf(n)&&t.staffEntries.push(n),e.splice(i,1)}}}for(const t of e)-1===t.staffEntries.indexOf(n)&&t.staffEntries.push(n)}}for(const e of this.musicSystems)for(const t of e.StaffLines){const e=t.GraphicalSlurs.sort(g.GraphicalSlur.Compare);for(const t of e)t.slur.isCrossed()||t.calculateCurve(this.rules)}}}e.VexFlowMusicSheetCalculator=_},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10)),s=i(97),o=i(72),a=i(124),l=i(31),u=i(70),c=i(107),h=i(73),d=i(18),f=i(169),p=i(125);e.VexFlowGraphicalSymbolFactory=class{createMusicSystem(t,e){return new s.VexFlowMusicSystem(t,e)}createStaffLine(t,e){return new p.VexFlowStaffLine(t,e)}createGraphicalMeasure(t,e,i=!1){return new o.VexFlowMeasure(e,t,void 0)}createTabStaffMeasure(t,e){return new f.VexFlowTabMeasure(e,t)}createExtraGraphicalMeasure(t){return new o.VexFlowMeasure(t.ParentStaff,void 0,t)}createStaffEntry(t,e){return new a.VexFlowStaffEntry(e,t,void 0)}createVoiceEntry(t,e){return new h.VexFlowVoiceEntry(t,e)}createNote(t,e,i,n=l.OctaveEnum.NONE,r){return new u.VexFlowGraphicalNote(t,e,i,n,r)}createGraceNote(t,e,i,n=l.OctaveEnum.NONE){return new u.VexFlowGraphicalNote(t,e,i,n)}addGraphicalAccidental(t,e){t.setAccidental(e)}addFermataAtTiedEndNote(t,e){}createInStaffClef(t,e){const i=t,n=d.VexFlowConverter.Clef(e,"small");i.vfClefBefore=new r.default.Flow.ClefNote(n.type,n.size,n.annotation)}createChordSymbols(t,e,i,n){const r=e.parentMeasure.parentSourceMeasure.Rules;let s=0;const o=r.ChordSymbolXSpacing;for(const a of t.ChordContainers){const t=new c.GraphicalChordSymbolContainer(a,e.PositionAndShape,r.ChordSymbolTextHeight,i,n,e.parentMeasure.parentSourceMeasure.Rules),l=t.GetGraphicalLabel;l.PositionAndShape.RelativePosition.y-=r.ChordSymbolYOffset,l.PositionAndShape.RelativePosition.x+=s,l.setLabelPositionAndShapeBorders(),t.PositionAndShape.calculateBoundingBox(),e.graphicalChordContainers.push(t),s+=l.PositionAndShape.Size.width+o}}createGraphicalTechnicalInstruction(t,e){}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(98),r=i(100),s=i(18),o=i(71),a=i(122);class l extends n.MusicSystem{constructor(t,e){super(t),this.rules=e}calculateBorders(t){if(0===this.staffLines.length)return;const e=this.calcBracketsWidth();this.boundingBox.BorderLeft=-e,this.boundingBox.BorderMarginLeft=-e,this.boundingBox.XBordersHaveBeenSet=!0;const i=this.staffLines[0].SkyBottomLineCalculator.getSkyLineMin();this.boundingBox.BorderTop=i,this.boundingBox.BorderMarginTop=i;const n=this.staffLines[this.staffLines.length-1],r=n.SkyBottomLineCalculator.getBottomLineMax()+n.PositionAndShape.RelativePosition.y;this.boundingBox.BorderBottom=r,this.boundingBox.BorderMarginBottom=r,this.boundingBox.XBordersHaveBeenSet=!0,this.boundingBox.YBordersHaveBeenSet=!0}createSystemLine(t,e,i,n,o,a,l){return a.addMeasureLine(i,n),l&&(l.lineTo(a,s.VexFlowConverter.line(i,n)),l.addMeasureLine(i,n)),new r.SystemLine(i,n,this,a,l)}createInstrumentBracket(t,e){const i=t,n=e,r=new a.VexFlowInstrumentBrace(i,n);this.InstrumentBrackets.push(r)}createGroupBracket(t,e,i){const n=t,r=e;if(0===i){const t=new o.VexFlowInstrumentBracket(n,r,i);this.GroupBrackets.push(t)}else{const t=new a.VexFlowInstrumentBrace(n,r,i);this.GroupBrackets.push(t)}}}e.VexFlowMusicSystem=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(60),s=i(3),o=i(0),a=i(7),l=i(22),u=i(5),c=i(4),h=i(32),d=n(i(12)),f=i(36),p=i(13);class m extends u.GraphicalObject{constructor(t){super(),this.needsToBeRedrawn=!0,this.staffLines=[],this.graphicalMeasures=[],this.labels=new d.default,this.measureNumberLabels=[],this.objectsToRedraw=[],this.instrumentBrackets=[],this.groupBrackets=[],this.graphicalMarkedAreas=[],this.graphicalComments=[],this.systemLines=[],this.breaksPage=!1,this.id=t,this.boundingBox=new s.BoundingBox(this),this.maxLabelLength=0}get Parent(){return this.parent}set Parent(t){if(this.parent){const t=this.parent.MusicSystems.indexOf(this,0);t>-1&&this.parent.MusicSystems.splice(t,1)}this.parent=t,this.boundingBox.Parent=t.PositionAndShape}get NextSystem(){const t=this.Parent.MusicSystems.indexOf(this);return t!==this.Parent.MusicSystems.length?this.Parent.MusicSystems[t+1]:void 0}get StaffLines(){return this.staffLines}get GraphicalMeasures(){return this.graphicalMeasures}get MeasureNumberLabels(){return this.measureNumberLabels}get Labels(){return this.labels.values()}get ObjectsToRedraw(){return this.objectsToRedraw}get InstrumentBrackets(){return this.instrumentBrackets}get GroupBrackets(){return this.groupBrackets}get GraphicalMarkedAreas(){return this.graphicalMarkedAreas}get GraphicalComments(){return this.graphicalComments}get SystemLines(){return this.systemLines}get Id(){return this.id}createSystemLeftLine(t,e,i){let n=-t/2;i&&(n=this.maxLabelLength+e-t/2);const r=this.staffLines[0].Measures[0];let s=void 0;this.staffLines.length>1&&(s=this.staffLines[this.staffLines.length-1].Measures[0]);const o=this.createSystemLine(n,t,h.SystemLinesEnum.SingleThin,f.SystemLinePosition.MeasureBegin,this,r,s);this.SystemLines.push(o),o.PositionAndShape.RelativePosition=new c.PointF2D(n,0),o.PositionAndShape.BorderLeft=0,o.PositionAndShape.BorderRight=t,o.PositionAndShape.BorderTop=0,o.PositionAndShape.BorderBottom=this.boundingBox.Size.height,this.createLinesForSystemLine(o)}createVerticalLineForMeasure(t,e,i,n,r,s){const o=s.ParentStaffLine,a=new c.PointF2D(o.PositionAndShape.RelativePosition.x,o.PositionAndShape.RelativePosition.y),l=o.ParentStaff.ParentInstrument.Staves;if(o.ParentStaff===l[0]){let u=void 0;l.length>1&&(u=this.getBottomStaffLine(o).Measures[r]);const h=this.createSystemLine(t,e,i,n,this,s,u),d=a.x+t;h.PositionAndShape.RelativePosition=new c.PointF2D(d,0),h.PositionAndShape.BorderLeft=0,h.PositionAndShape.BorderRight=e,this.SystemLines.push(h)}}setYPositionsToVerticalLineObjectsAndCreateLines(t){}calculateBorders(t){}alignBeginInstructions(){}GetLeftBorderAbsoluteXPosition(){return this.StaffLines[0].PositionAndShape.AbsolutePosition.x+this.StaffLines[0].Measures[0].beginInstructionsWidth}GetRightBorderAbsoluteXPosition(){return this.StaffLines[0].PositionAndShape.AbsolutePosition.x+this.StaffLines[0].StaffLines[0].End.x}AddGraphicalMeasures(t){for(let e=0,i=t.length;e<i;++e)t[e].ParentMusicSystem=this;this.graphicalMeasures.push(t)}GetSystemsFirstTimeStamp(){return this.graphicalMeasures[0][0].parentSourceMeasure.AbsoluteTimestamp}GetSystemsLastTimeStamp(){const t=this.graphicalMeasures[this.graphicalMeasures.length-1][0].parentSourceMeasure;return o.Fraction.plus(t.AbsoluteTimestamp,t.Duration)}createInstrumentBrackets(t,e){for(let i=0,n=t.length;i<n;++i){const e=t[i];if(e.Staves.length>1){let t=void 0,i=void 0;for(let n=0,r=this.staffLines.length;n<r;++n){const r=this.staffLines[n];r.ParentStaff===e.Staves[0]&&(t=r),r.ParentStaff===e.Staves[e.Staves.length-1]&&(i=r)}t&&i&&this.createInstrumentBracket(t,i)}}}createGroupBrackets(t,e,i){for(let n=0,r=t.length;n<r;++n){const r=t[n];if(r.InstrumentalGroups.length<1)continue;const s=this.findFirstVisibleInstrumentInInstrumentalGroup(r),o=this.findLastVisibleInstrumentInInstrumentalGroup(r);if(!s||!o)continue;let a=void 0,l=void 0;for(let t=0,e=this.staffLines.length;t<e;++t){const e=this.staffLines[t];e.ParentStaff===s.Staves[0]&&(a=e),e.ParentStaff===o.Staves[0]&&(l=e)}a&&l&&this.createGroupBracket(a,l,i),r.InstrumentalGroups.length<1||this.createGroupBrackets(r.InstrumentalGroups,e,i+1)}}createMusicSystemLabel(t,e,i,n=!1){for(let s=0,o=this.staffLines.length;s<o;++s){const i=this.staffLines[s].ParentStaff.ParentInstrument;let r;if(n)r=i.NameLabel,this.rules.RenderPartNames||(r=new p.Label("",i.NameLabel.textAlignment,i.NameLabel.font),e=0);else{if(!this.rules.RenderPartAbbreviations||1===this.staffLines.length||!i.PartAbbreviation||""===i.PartAbbreviation)return;const t=i.PartAbbreviation;r=new p.Label(t,i.NameLabel.textAlignment,i.NameLabel.font)}const o=new l.GraphicalLabel(r,t,a.TextAlignmentEnum.LeftCenter,this.rules,this.boundingBox);o.setLabelPositionAndShapeBorders(),this.labels.setValue(i,o)}this.maxLabelLength=0;const r=this.labels.values();for(let s=0,o=r.length;s<o;++s){const t=r[s];t.PositionAndShape.Size.width>this.maxLabelLength&&(this.maxLabelLength=t.PositionAndShape.Size.width)}this.updateMusicSystemStaffLineXPosition(e)}setMusicSystemLabelsYPosition(){this.labels.forEach((t,e)=>{let i=0,n=0;for(let r=0;r<this.staffLines.length;r++)if(this.staffLines[r].ParentStaff.ParentInstrument===t){for(let e=r;e<this.staffLines.length;e++){const r=this.staffLines[e];if(r.ParentStaff.ParentInstrument!==t)break;i+=r.PositionAndShape.RelativePosition.y,n++}break}n>0&&(e.PositionAndShape.RelativePosition=new c.PointF2D(0,i/n+2))})}checkStaffEntriesForStaffEntryLink(){let t=!1,e=!1;for(let i=0;i<this.staffLines.length-1;i++){for(let e=0,n=this.staffLines[i].Measures.length;e<n;++e){const n=this.staffLines[i].Measures[e];for(let e=0,i=n.staffEntries.length;e<i;++e)n.staffEntries[e].sourceStaffEntry.Link&&(t=!0)}for(let t=0,n=this.staffLines[i+1].Measures.length;t<n;++t){const n=this.staffLines[i+1].Measures[t];for(let t=0,i=n.staffEntries.length;t<i;++t)n.staffEntries[t].sourceStaffEntry.Link&&(e=!0)}}return!(!t||!e)}getBottomStaffLine(t){const e=t.ParentStaff.ParentInstrument.Staves,i=e[e.length-1];for(const n of t.ParentMusicSystem.staffLines)if(n.ParentStaff===i)return n}createSystemLine(t,e,i,n,r,s,o){throw new Error("not implemented")}createLinesForSystemLine(t){}calcBracketsWidth(){let t=0;for(let e=0,i=this.GroupBrackets.length;e<i;++e){const i=this.GroupBrackets[e];t=Math.max(t,i.PositionAndShape.Size.width)}for(let e=0,i=this.InstrumentBrackets.length;e<i;++e){const i=this.InstrumentBrackets[e];t=Math.max(t,i.PositionAndShape.Size.width)}return t}createInstrumentBracket(t,e){}createGroupBracket(t,e,i){}findFirstVisibleInstrumentInInstrumentalGroup(t){for(let e=0,i=t.InstrumentalGroups.length;e<i;++e){const i=t.InstrumentalGroups[e];if(!(i instanceof r.Instrument))return this.findFirstVisibleInstrumentInInstrumentalGroup(i);if(!0===i.Visible)return i}}findLastVisibleInstrumentInInstrumentalGroup(t){let e;for(let i=t.InstrumentalGroups.length-1;i>=0;i--){if(e=t.InstrumentalGroups[i],!(e instanceof r.Instrument))return this.findLastVisibleInstrumentInInstrumentalGroup(e);if(!0===e.Visible)return e}}updateMusicSystemStaffLineXPosition(t){for(let e=0,i=this.StaffLines.length;e<i;++e){const i=this.StaffLines[e],n=i.PositionAndShape.RelativePosition;n.x=this.maxLabelLength+t,i.PositionAndShape.RelativePosition=n,i.PositionAndShape.BorderRight=this.boundingBox.Size.width-this.maxLabelLength-t;for(let t=0;t<i.StaffLines.length;t++){const e=new c.PointF2D(i.PositionAndShape.Size.width,i.StaffLines[t].End.y);i.StaffLines[t].End=e}}}}e.MusicSystem=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Staff=class{constructor(t,e){this.isTab=!1,this.voices=[],this.volume=1,this.stafflineCount=5,this.parentInstrument=t,this.id=e,this.audible=!0,this.following=!0}get ParentInstrument(){return this.parentInstrument}set ParentInstrument(t){this.parentInstrument=t}get Voices(){return this.voices}get Id(){return this.id}get Volume(){return this.volume}set Volume(t){this.volume=t}get StafflineCount(){return this.stafflineCount}set StafflineCount(t){this.stafflineCount=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(32),r=i(3),s=i(5);class o extends s.GraphicalObject{constructor(t,e,i,n,s){super(),this.lineType=t,this.linePosition=e,this.parentMusicSystem=i,this.topMeasure=n,this.bottomMeasure=s,this.parentTopStaffLine=n.ParentStaffLine,this.boundingBox=new r.BoundingBox(this,i.PositionAndShape)}static getObjectWidthForLineType(t,e){switch(e){case n.SystemLinesEnum.SingleThin:return t.SystemThinLineWidth;case n.SystemLinesEnum.DoubleThin:return 2*t.SystemThinLineWidth+t.DistanceBetweenVerticalSystemLines;case n.SystemLinesEnum.ThinBold:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines;case n.SystemLinesEnum.BoldThinDots:case n.SystemLinesEnum.DotsThinBold:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines+t.SystemDotWidth+t.DistanceBetweenDotAndLine;case n.SystemLinesEnum.DotsBoldBoldDots:return 2*t.SystemBoldLineWidth+2*t.SystemDotWidth+2*t.DistanceBetweenDotAndLine+t.DistanceBetweenVerticalSystemLines;default:return 0}}}e.SystemLine=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3),r=i(21),s=i(20),o=i(52),a=i(4),l=i(22),u=i(13),c=i(7),h=i(11),d=i(63),f=i(102);e.MusicSheetDrawer=class{constructor(t,e){this.drawableBoundingBoxElement=!1,this.skyLineVisible=!1,this.bottomLineVisible=!1,this.phonicScoreMode=f.PhonicScoreModes.Manual,this.textMeasurer=t,this.splitScreenLineColor=-1,this.drawingParameters=e}set Mode(t){this.phonicScoreMode=t}drawSheet(t){if(this.graphicalMusicSheet=t,this.rules=t.ParentMusicSheet.Rules,this.drawSplitScreenLine(),this.drawingParameters.drawCursors)for(const e of t.Cursors){if(!e)continue;const t=new n.BoundingBox(e);t.AbsolutePosition=e.Start,t.BorderBottom=e.End.y-e.Start.y,t.BorderRight=e.Width/2,t.BorderLeft=-e.Width/2,this.isVisible(t)&&this.drawLineAsVerticalRectangle(e,r.GraphicalLayers.Cursor)}this.drawingParameters.drawScrollIndicator&&this.drawScrollIndicator();for(const e of this.graphicalMusicSheet.MusicPages)this.drawPage(e)}drawLineAsHorizontalRectangle(t,e){let i=new o.RectangleF2D(t.Start.x,t.End.y-t.Width/2,t.End.x-t.Start.x,t.Width);i=this.applyScreenTransformationForRect(i),this.renderRectangle(i,e,t.styleId)}drawLineAsVerticalRectangle(t,e){const i=t.Start,n=t.Width;let r=new o.RectangleF2D(i.x-n/2,i.y,n,t.End.y-i.y);r=this.applyScreenTransformationForRect(r),this.renderRectangle(r,e,t.styleId)}drawLineAsHorizontalRectangleWithOffset(t,e,i){const n=new a.PointF2D(t.Start.x+e.x,t.Start.y+e.y),r=new a.PointF2D(t.End.x+e.x,t.End.y+e.y),s=t.Width;let l=new o.RectangleF2D(n.x,r.y-s/2,r.x-n.x,s);l=this.applyScreenTransformationForRect(l),this.renderRectangle(l,i,t.styleId)}drawLineAsVerticalRectangleWithOffset(t,e,i){const n=new a.PointF2D(t.Start.x+e.x,t.Start.y+e.y),r=new a.PointF2D(t.End.x+e.x,t.End.y+e.y),s=t.Width;let l=new o.RectangleF2D(n.x,n.y,s,r.y-n.y);l=this.applyScreenTransformationForRect(l),this.renderRectangle(l,i,t.styleId)}drawRectangle(t,e){const i=t.PositionAndShape;let n=new o.RectangleF2D(i.AbsolutePosition.x,i.AbsolutePosition.y,i.BorderRight,i.BorderBottom);n=this.applyScreenTransformationForRect(n),this.renderRectangle(n,e,t.style)}calculatePixelDistance(t){throw new Error("not implemented")}drawLabel(t,e){if(!this.isVisible(t.PositionAndShape))return;const i=t.Label;if(""===i.text.trim())return;const n=this.applyScreenTransformation(t.PositionAndShape.AbsolutePosition),r=this.calculatePixelDistance(i.fontHeight),s=r*this.textMeasurer.computeTextWidthToHeightRatio(i.text,i.font,i.fontStyle),o=Math.ceil(s),a=Math.ceil(1.2*r);switch(i.textAlignment){case c.TextAlignmentEnum.LeftTop:break;case c.TextAlignmentEnum.LeftCenter:n.y-=a/2;break;case c.TextAlignmentEnum.LeftBottom:n.y-=a;break;case c.TextAlignmentEnum.CenterTop:n.x-=o/2;break;case c.TextAlignmentEnum.CenterCenter:n.x-=o/2,n.y-=a/2;break;case c.TextAlignmentEnum.CenterBottom:n.x-=o/2,n.y-=a;break;case c.TextAlignmentEnum.RightTop:n.x-=o;break;case c.TextAlignmentEnum.RightCenter:n.x-=o,n.y-=a/2;break;case c.TextAlignmentEnum.RightBottom:n.x-=o,n.y-=a;break;default:throw new h.ArgumentOutOfRangeException("")}this.renderLabel(t,e,o,a,r,n)}applyScreenTransformation(t){throw new Error("not implemented")}applyScreenTransformations(t){const e=[];for(const i of t)e.push(this.applyScreenTransformation(i));return e}applyScreenTransformationForRect(t){throw new Error("not implemented")}drawSplitScreenLine(){}renderRectangle(t,e,i,n=1){throw new Error("not implemented")}drawScrollIndicator(){}drawSelectionStartSymbol(t){}drawSelectionEndSymbol(t){}renderLabel(t,e,i,n,r,s){throw new Error("not implemented")}renderSystemToScreen(t,e,i){}drawMeasure(t){throw new Error("not implemented")}drawSkyLine(t){}drawBottomLine(t){}drawInstrumentBrace(t,e){}drawGroupBracket(t,e){}isVisible(t){return!0}drawMusicSystem(t){const e=this.getSystemAbsBoundingRect(t),i=this.getSytemBoundingBoxInPixels(e);this.drawMusicSystemComponents(t,i,e)}getSytemBoundingBoxInPixels(t){const e=this.applyScreenTransformationForRect(t);return e.x=Math.round(e.x),e.y=Math.round(e.y),e}getSystemAbsBoundingRect(t){const e=t.PositionAndShape.BoundingRectangle;return new o.RectangleF2D(t.PositionAndShape.AbsolutePosition.x+t.PositionAndShape.BorderLeft-1,t.PositionAndShape.AbsolutePosition.y+t.PositionAndShape.BorderTop-1,e.width+6,e.height+2)}drawMusicSystemComponents(t,e,i){const n=this.graphicalMusicSheet.SelectionStartSymbol,s=this.graphicalMusicSheet.SelectionEndSymbol;this.drawingParameters.drawSelectionStartSymbol&&void 0!==n&&this.isVisible(n.PositionAndShape)&&this.drawSelectionStartSymbol(n),this.drawingParameters.drawSelectionEndSymbol&&void 0!==s&&this.isVisible(s.PositionAndShape)&&this.drawSelectionEndSymbol(s);for(const r of t.StaffLines)this.drawStaffLine(r),this.rules.RenderLyrics&&(r.LyricsDashes.length>0&&this.drawDashes(r.LyricsDashes),r.LyricLines.length>0&&this.drawLyricLines(r.LyricLines,r));for(const r of t.SystemLines)this.drawSystemLineObject(r);if(t.Parent===t.Parent.Parent.MusicPages[0])for(const o of t.Labels)this.drawLabel(o,r.GraphicalLayers.Notes);for(const r of t.InstrumentBrackets)this.drawInstrumentBrace(r,t);for(const r of t.GroupBrackets)this.drawGroupBracket(r,t);if(!this.leadSheet)for(const o of t.MeasureNumberLabels)this.drawLabel(o,r.GraphicalLayers.Notes);for(const r of t.StaffLines)this.drawStaffLineSymbols(r);this.drawingParameters.drawMarkedAreas&&this.drawMarkedAreas(t),this.drawingParameters.drawComments&&this.drawComment(t)}activateSystemRendering(t,e,i,n){return!0}drawSystemLineObject(t){}drawStaffLine(t){for(const e of t.Measures)this.drawMeasure(e);this.rules.RenderLyrics&&t.LyricsDashes.length>0&&this.drawDashes(t.LyricsDashes),this.drawOctaveShifts(t),this.drawExpressions(t),this.skyLineVisible&&this.drawSkyLine(t),this.bottomLineVisible&&this.drawBottomLine(t)}drawLyricLines(t,e){e.LyricLines.forEach(t=>{t.Start.y+=e.PositionAndShape.AbsolutePosition.y,t.End.y+=e.PositionAndShape.AbsolutePosition.y,t.Start.x+=e.PositionAndShape.AbsolutePosition.x,t.End.x+=e.PositionAndShape.AbsolutePosition.x,this.drawGraphicalLine(t,this.rules.LyricUnderscoreLineWidth)})}drawExpressions(t){}drawGraphicalLine(t,e,i="black"){this.drawLine(t.Start,t.End,i,e)}drawLine(t,e,i="#FF0000FF",n){}drawDashes(t){t.forEach(t=>this.drawLabel(t,r.GraphicalLayers.Notes))}drawOctaveShifts(t){}drawStaffLines(t){if(t.StaffLines){const e=t.PositionAndShape.AbsolutePosition;for(let i=0;i<5;i++)this.drawLineAsHorizontalRectangleWithOffset(t.StaffLines[i],e,r.GraphicalLayers.Notes)}}drawInstantaneousDynamic(t){throw new Error("not implemented")}drawContinuousDynamic(t){throw new Error("not implemented")}drawSymbol(t,e,i,n=1,s=r.GraphicalLayers.Notes){}get leadSheet(){return this.graphicalMusicSheet.LeadSheet}set leadSheet(t){this.graphicalMusicSheet.LeadSheet=t}drawPage(t){if(this.isVisible(t.PositionAndShape)){for(const e of t.MusicSystems)this.isVisible(e.PositionAndShape)&&this.drawMusicSystem(e);if(t===t.Parent.MusicPages[0])for(const e of t.Labels)this.drawLabel(e,r.GraphicalLayers.Notes);this.drawableBoundingBoxElement&&this.drawBoundingBoxes(t.PositionAndShape,0,this.drawableBoundingBoxElement)}}drawBoundingBoxes(t,e=0,i="all"){const n=t.DataObject.constructor.name;if(n===i||"all"===i){let i=new o.RectangleF2D(t.AbsolutePosition.x+t.BorderMarginLeft,t.AbsolutePosition.y+t.BorderMarginTop,t.BorderMarginRight-t.BorderMarginLeft,t.BorderMarginBottom-t.BorderMarginTop);this.drawLineAsHorizontalRectangle(new s.GraphicalLine(new a.PointF2D(t.AbsolutePosition.x-1,t.AbsolutePosition.y),new a.PointF2D(t.AbsolutePosition.x+1,t.AbsolutePosition.y),.1,r.OutlineAndFillStyleEnum.BaseWritingColor),e-1),this.drawLineAsVerticalRectangle(new s.GraphicalLine(new a.PointF2D(t.AbsolutePosition.x,t.AbsolutePosition.y-1),new a.PointF2D(t.AbsolutePosition.x,t.AbsolutePosition.y+1),.1,r.OutlineAndFillStyleEnum.BaseWritingColor),e-1),i=this.applyScreenTransformationForRect(i),this.renderRectangle(i,r.GraphicalLayers.Background,e,.5);const h=new u.Label(n);this.renderLabel(new l.GraphicalLabel(h,.8,c.TextAlignmentEnum.CenterCenter,this.rules),e,i.width,i.height,i.height,new a.PointF2D(i.x,i.y+12))}e++,t.ChildElements.forEach(t=>this.drawBoundingBoxes(t,e,i))}drawMarkedAreas(t){for(const e of t.GraphicalMarkedAreas)e&&(e.systemRectangle&&this.drawRectangle(e.systemRectangle,r.GraphicalLayers.Background),e.settings&&this.drawLabel(e.settings,r.GraphicalLayers.Comment),e.labelRectangle&&this.drawRectangle(e.labelRectangle,r.GraphicalLayers.Background),e.label&&this.drawLabel(e.label,r.GraphicalLayers.Comment))}drawComment(t){for(const e of t.GraphicalComments)e&&(e.settings&&this.drawLabel(e.settings,r.GraphicalLayers.Comment),e.label&&this.drawLabel(e.label,r.GraphicalLayers.Comment))}drawStaffLineSymbols(t){const e=t.ParentStaff.ParentInstrument,i=t.PositionAndShape.AbsolutePosition.x,n=t.PositionAndShape.AbsolutePosition.y+2,o=t.PositionAndShape.BorderRight;e.highlight&&this.drawingParameters.drawHighlights&&this.drawLineAsHorizontalRectangle(new s.GraphicalLine(new a.PointF2D(i,n),new a.PointF2D(i+o,n),4,r.OutlineAndFillStyleEnum.Highlighted),r.GraphicalLayers.Highlight);let l=f.MusicSymbolDrawingStyle.Disabled,u=d.MusicSymbol.PLAY,c=this.drawingParameters.drawActivitySymbols;switch(this.phonicScoreMode){case f.PhonicScoreModes.Midi:u=d.MusicSymbol.PLAY,this.midiPlaybackAvailable&&t.ParentStaff.audible&&(l=f.MusicSymbolDrawingStyle.PlaybackSymbols);break;case f.PhonicScoreModes.Following:u=d.MusicSymbol.MIC,t.ParentStaff.following&&(l=f.MusicSymbolDrawingStyle.FollowSymbols);break;default:c=!1}if(c){const t=new a.PointF2D(i+o+2,n);this.drawSymbol(u,l,t)}if(this.drawingParameters.drawErrors)for(const h of t.Measures){const t=h.PositionAndShape,e=t.AbsolutePosition.x,i=t.AbsolutePosition.y+2;h.hasError&&this.graphicalMusicSheet.ParentMusicSheet.DrawErroneousMeasures&&this.drawLineAsHorizontalRectangle(new s.GraphicalLine(new a.PointF2D(e,i),new a.PointF2D(e+t.BorderRight,i),4,r.OutlineAndFillStyleEnum.ErrorUnderlay),r.GraphicalLayers.MeasureError)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.All=0]="All",t[t.NoOverlays=1]="NoOverlays",t[t.Leadsheet=2]="Leadsheet"}(e.DrawingMode||(e.DrawingMode={})),function(t){t[t.Normal=0]="Normal",t[t.Disabled=1]="Disabled",t[t.Selected=2]="Selected",t[t.Clickable=3]="Clickable",t[t.PlaybackSymbols=4]="PlaybackSymbols",t[t.FollowSymbols=5]="FollowSymbols",t[t.QFeedbackNotFound=6]="QFeedbackNotFound",t[t.QFeedbackOk=7]="QFeedbackOk",t[t.QFeedbackPerfect=8]="QFeedbackPerfect",t[t.Debug1=9]="Debug1",t[t.Debug2=10]="Debug2",t[t.Debug3=11]="Debug3"}(e.MusicSymbolDrawingStyle||(e.MusicSymbolDrawingStyle={})),function(t){t[t.Following=0]="Following",t[t.Midi=1]="Midi",t[t.Manual=2]="Manual"}(e.PhonicScoreModes||(e.PhonicScoreModes={}))},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Arpeggio=class{constructor(t,e=n.ARPEGGIO_DIRECTIONLESS){this.parentVoiceEntry=t,this.type=e,this.notes=[]}addNote(t){this.notes.push(t),t.Arpeggio=this}},function(t){t[t.BRUSH_DOWN=1]="BRUSH_DOWN",t[t.BRUSH_UP=2]="BRUSH_UP",t[t.ROLL_DOWN=3]="ROLL_DOWN",t[t.ROLL_UP=4]="ROLL_UP",t[t.RASQUEDO_DOWN=5]="RASQUEDO_DOWN",t[t.RASQUEDO_UP=6]="RASQUEDO_UP",t[t.ARPEGGIO_DIRECTIONLESS=7]="ARPEGGIO_DIRECTIONLESS"}(n=e.ArpeggioType||(e.ArpeggioType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Beam=class{constructor(){this.notes=[],this.extendedNoteList=[]}get Notes(){return this.notes}set Notes(t){this.notes=t}get ExtendedNoteList(){return this.extendedNoteList}set ExtendedNoteList(t){this.extendedNoteList=t}addNoteToBeam(t){t&&(t.NoteBeam=this,this.notes.push(t),this.extendedNoteList.push(t))}},function(t){t[t.BeamNone=-1]="BeamNone",t[t.BeamBegin=0]="BeamBegin",t[t.BeamContinue=1]="BeamContinue",t[t.BeamEnd=2]="BeamEnd",t[t.BeamForward=3]="BeamForward",t[t.BeamBackward=4]="BeamBackward"}(e.BeamEnum||(e.BeamEnum={}))},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.UNDEFINED=0]="UNDEFINED",t[t._1024th=1]="_1024th",t[t._512th=2]="_512th",t[t._256th=3]="_256th",t[t._128th=4]="_128th",t[t._64th=5]="_64th",t[t._32nd=6]="_32nd",t[t._16th=7]="_16th",t[t.EIGTH=8]="EIGTH",t[t.QUARTER=9]="QUARTER",t[t.HALF=10]="HALF",t[t.WHOLE=11]="WHOLE",t[t.BREVE=12]="BREVE",t[t.LONG=13]="LONG",t[t.MAXIMA=14]="MAXIMA"}(n=e.NoteType||(e.NoteType={}));class r{static NoteTypeToString(t){return this.NoteTypeXmlValues[t]}static StringToNoteType(t){const e=this.NoteTypeXmlValues.indexOf(t);return-1!==e?e:n.UNDEFINED}}e.NoteTypeHandler=r,r.NoteTypeXmlValues=["","1024th","512th","256th","128th","64th","32nd","16th","eigth","quarter","half","whole","breve","long","maxima"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(67),r=i(4);e.AlignmentManager=class{constructor(t){this.parentStaffline=t,this.rules=this.parentStaffline.ParentMusicSystem.rules}alignDynamicExpressions(){var t,e;const i=[];let r=new Array;for(let n=0;n<this.parentStaffline.AbstractExpressions.length-1;n++){const s=this.parentStaffline.AbstractExpressions[n],o=this.parentStaffline.AbstractExpressions[n+1];if((null===(t=null==s?void 0:s.SourceExpression)||void 0===t?void 0:t.Placement)===(null===(e=null==o?void 0:o.SourceExpression)||void 0===e?void 0:e.Placement)){const t=this.getDistance(s.PositionAndShape,o.PositionAndShape);Math.abs(t.x)<this.rules.DynamicExpressionMaxDistance?(-1===r.indexOf(s)&&r.push(s),r.push(o)):(i.push(r),r=new Array)}}i.push(r);for(const s of i)if(s.length>0){const t=s.map(t=>t.PositionAndShape.Center.y),e=Math.max(...t);for(let i=0;i<s.length;i++){const r=s[i],o=t[i]-e;if(r instanceof n.VexFlowContinuousDynamicExpression?(r.shiftYPosition(-o),r.calcPsi()):(r.PositionAndShape.RelativePosition.y-=.8*o,r.PositionAndShape.calculateBoundingBox()),r.squeeze){const t=i<s.length-1?s[i+1]:void 0,e=i>0?s[i-1]:void 0;if(t){const e=this.getOverlap(r.PositionAndShape,t.PositionAndShape);r.squeeze(-(e.x+this.rules.DynamicExpressionSpacer))}if(e){const t=this.getOverlap(e.PositionAndShape,r.PositionAndShape);r.squeeze(t.x+this.rules.DynamicExpressionSpacer)}}}}}getDistance(t,e){const i=t.RelativePosition.x+t.BorderMarginRight,n=e.RelativePosition.x+e.BorderMarginLeft,s=t.RelativePosition.y+t.BorderMarginBottom,o=e.RelativePosition.y+e.BorderMarginTop;return new r.PointF2D(n-i,o-s)}getOverlap(t,e){return new r.PointF2D(t.RelativePosition.x+t.BorderMarginRight-(e.RelativePosition.x+e.BorderMarginLeft),t.RelativePosition.y+t.BorderMarginBottom-(e.RelativePosition.y+e.BorderMarginTop))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(7),r=i(13),s=i(22),o=i(44),a=i(3),l=i(5),u=i(4);class c extends l.GraphicalObject{constructor(t,e,i,n,r,s){super(),this.chordSymbolContainer=t,this.boundingBox=new a.BoundingBox(this,e),this.calculateLabel(i,r,n),this.rules=s}get GetChordSymbolContainer(){return this.chordSymbolContainer}get GetGraphicalLabel(){return this.graphicalLabel}calculateLabel(t,e,i){const a=o.ChordSymbolContainer.calculateChordText(this.chordSymbolContainer,e,i);this.graphicalLabel=new s.GraphicalLabel(new r.Label(a),t,n.TextAlignmentEnum.CenterBottom,this.rules,this.boundingBox),this.graphicalLabel.PositionAndShape.RelativePosition=new u.PointF2D(0,0)}}e.GraphicalChordSymbolContainer=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4);class r{constructor(){r.tPow3=new Array(r.bezierCurveStepSize),r.oneMinusTPow3=new Array(r.bezierCurveStepSize),r.bezierFactorOne=new Array(r.bezierCurveStepSize),r.bezierFactorTwo=new Array(r.bezierCurveStepSize);for(let t=0;t<r.bezierCurveStepSize;t++){const e=t/r.bezierCurveStepSize;r.tPow3[t]=Math.pow(e,3),r.oneMinusTPow3[t]=Math.pow(1-e,3),r.bezierFactorOne[t]=3*Math.pow(1-e,2)*e,r.bezierFactorTwo[t]=3*(1-e)*Math.pow(e,2)}}calculateCurvePointAtIndex(t){const e=Math.round(t*r.bezierCurveStepSize);return e<0||e>=r.bezierCurveStepSize?new n.PointF2D:new n.PointF2D(r.oneMinusTPow3[e]*this.bezierStartPt.x+r.bezierFactorOne[e]*this.bezierStartControlPt.x+r.bezierFactorTwo[e]*this.bezierEndControlPt.x+r.tPow3[e]*this.bezierEndPt.x,r.oneMinusTPow3[e]*this.bezierStartPt.y+r.bezierFactorOne[e]*this.bezierStartControlPt.y+r.bezierFactorTwo[e]*this.bezierEndControlPt.y+r.tPow3[e]*this.bezierEndPt.y)}}e.GraphicalCurve=r,r.bezierCurveStepSize=1e3},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(22),r=i(13),s=i(4),o=i(7);e.GraphicalLyricEntry=class{constructor(t,e,i,a){this.lyricsEntry=t,this.graphicalStaffEntry=e;const l=e.parentMeasure.parentSourceMeasure.Rules.LyricsAlignmentStandard;t.Text.length>=4&&t.Parent.Notes[0].Length.Denominator>4&&o.TextAlignmentEnum.LeftBottom;const u=new r.Label(t.Text);this.graphicalLabel=new n.GraphicalLabel(u,i,l,this.graphicalStaffEntry.parentMeasure.parentSourceMeasure.Rules,e.PositionAndShape),this.graphicalLabel.PositionAndShape.RelativePosition=new s.PointF2D(0,a),l===o.TextAlignmentEnum.LeftBottom&&(this.graphicalLabel.PositionAndShape.RelativePosition.x-=1)}get LyricsEntry(){return this.lyricsEntry}get ParentLyricWord(){return this.graphicalLyricWord}set ParentLyricWord(t){this.graphicalLyricWord=t}get GraphicalLabel(){return this.graphicalLabel}set GraphicalLabel(t){this.graphicalLabel=t}get StaffEntryParent(){return this.graphicalStaffEntry}set StaffEntryParent(t){this.graphicalStaffEntry=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphicalLyricWord=class{constructor(t){this.graphicalLyricsEntries=[],this.lyricWord=t,this.initialize()}get GetLyricWord(){return this.lyricWord}get GraphicalLyricsEntries(){return this.graphicalLyricsEntries}set GraphicalLyricsEntries(t){this.graphicalLyricsEntries=t}isFilled(){for(let t=0;t<this.graphicalLyricsEntries.length;t++)if(!this.graphicalLyricsEntries[t])return!1;return!0}initialize(){for(let t=0;t<this.lyricWord.Syllables.length;t++)this.graphicalLyricsEntries.push(void 0)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),r=i(0),s=i(3),o=i(4);class a extends n.GraphicalObject{constructor(t,e,i){super(),this.measureNumber=-1,this.parentStaff=t,this.parentSourceMeasure=e,this.parentStaffLine=i,i?(this.parentStaff=i.ParentStaff,this.PositionAndShape=new s.BoundingBox(this,i.PositionAndShape)):this.PositionAndShape=new s.BoundingBox(this),this.PositionAndShape.BorderBottom=4,this.parentSourceMeasure&&(this.measureNumber=this.parentSourceMeasure.MeasureNumber),this.staffEntries=[]}get ParentStaff(){return this.parentStaff}get ParentMusicSystem(){return this.parentMusicSystem}set ParentMusicSystem(t){this.parentMusicSystem=t}get MeasureNumber(){return this.measureNumber}get FirstInstructionStaffEntry(){return this.firstInstructionStaffEntry}set FirstInstructionStaffEntry(t){this.firstInstructionStaffEntry=t}get LastInstructionStaffEntry(){return this.lastInstructionStaffEntry}set LastInstructionStaffEntry(t){this.lastInstructionStaffEntry=t}get ParentStaffLine(){return this.parentStaffLine}set ParentStaffLine(t){this.parentStaffLine=t,this.parentStaffLine&&(this.PositionAndShape.Parent=this.parentStaffLine.PositionAndShape)}resetLayout(){throw new Error("not implemented")}getLineWidth(t){throw new Error("not implemented")}addClefAtBegin(t){throw new Error("not implemented")}addKeyAtBegin(t,e,i){throw new Error("not implemented")}addRhythmAtBegin(t){throw new Error("not implemented")}addClefAtEnd(t){throw new Error("not implemented")}setPositionInStaffline(t){this.PositionAndShape.RelativePosition=new o.PointF2D(t,0)}setWidth(t){this.PositionAndShape.BorderRight=t}layoutSymbols(){throw new Error("not implemented")}findGraphicalStaffEntryFromTimestamp(t){var e;for(let i=0,n=this.staffEntries.length;i<n;++i){const n=this.staffEntries[i];if(null===(e=n.relInMeasureTimestamp)||void 0===e?void 0:e.Equals(t))return n}}findGraphicalStaffEntryFromVerticalContainerTimestamp(t){for(let e=0,i=this.staffEntries.length;e<i;++e){const i=this.staffEntries[e];if(i.sourceStaffEntry.VerticalContainerParent.getAbsoluteTimestamp().Equals(t))return i}}hasSameDurationWithSourceMeasureParent(){const t=new r.Fraction(0,1);for(let e=0,i=this.staffEntries.length;e<i;++e){const i=this.staffEntries[e];t.Add(i.findStaffEntryMinNoteLength())}return t.Equals(this.parentSourceMeasure.Duration)}hasMultipleVoices(){if(0===this.staffEntries.length)return!1;const t=[];for(let e=0,i=this.staffEntries.length;e<i;++e){const i=this.staffEntries[e];for(let e=0,n=i.sourceStaffEntry.VoiceEntries.length;e<n;++e){const n=i.sourceStaffEntry.VoiceEntries[e];t.indexOf(n.ParentVoice)<0&&t.push(n.ParentVoice)}}return t.length>1}isVisible(){return this.ParentStaff.ParentInstrument.Visible}getGraphicalMeasureDurationFromStaffEntries(){let t=new r.Fraction(0,1);const e=[];for(let i=0,n=this.staffEntries.length;i<n;++i){const t=this.staffEntries[i];for(let i=0,n=t.sourceStaffEntry.VoiceEntries.length;i<n;++i){const n=t.sourceStaffEntry.VoiceEntries[i];e.indexOf(n.ParentVoice)<0&&e.push(n.ParentVoice)}}for(let i=0,n=e.length;i<n;++i){const n=e[i],s=new r.Fraction(0,1);for(const t of this.staffEntries)for(const e of t.graphicalVoiceEntries)e.parentVoiceEntry.ParentVoice===n&&e.notes.length>0&&s.Add(e.notes[0].graphicalNoteLength);t.lt(s)&&(t=r.Fraction.createFromFraction(s))}return t}addGraphicalStaffEntry(t){this.staffEntries.push(t)}addGraphicalStaffEntryAtTimestamp(t){if(t)if(0===this.staffEntries.length||this.staffEntries[this.staffEntries.length-1].relInMeasureTimestamp.lt(t.relInMeasureTimestamp))this.staffEntries.push(t);else for(let e=this.staffEntries.length-1;e>=0;e--){if(this.staffEntries[e].relInMeasureTimestamp.lt(t.relInMeasureTimestamp)){this.staffEntries.splice(e+1,0,t);break}0===e&&this.staffEntries.splice(e,0,t)}}beginsWithLineRepetition(){const t=this.parentSourceMeasure;return!!t&&t.beginsWithLineRepetition()}endsWithLineRepetition(){const t=this.parentSourceMeasure;return!!t&&t.endsWithLineRepetition()}beginsWithWordRepetition(){const t=this.parentSourceMeasure;return!!t&&t.beginsWithWordRepetition()}endsWithWordRepetition(){const t=this.parentSourceMeasure;return!!t&&t.endsWithWordRepetition()}}e.GraphicalMeasure=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),r=i(14),s=i(3);class o extends n.GraphicalObject{constructor(t,e,i){super(),this.sourceNote=t,this.parentVoiceEntry=e,this.PositionAndShape=new s.BoundingBox(this,e.PositionAndShape),this.graphicalNoteLength=i||t.Length,this.numberOfDots=this.calculateNumberOfNeededDots(this.graphicalNoteLength)}Transpose(t,e,i,n){let s=this.sourceNote.Pitch;return r.MusicSheetCalculator.transposeCalculator&&(s=r.MusicSheetCalculator.transposeCalculator.transposePitch(this.sourceNote.Pitch,t,i)),s}calculateNumberOfNeededDots(t){let e=1,i=2;const n=t.GetExpandedNumerator();if(!this.sourceNote||!this.sourceNote.NoteTuplet)for(;i<n;)e++,i=Math.pow(2,e);return Math.min(3,e-1)}get ParentMusicPage(){return this.parentVoiceEntry.parentStaffEntry.parentMeasure.ParentMusicSystem.Parent}}e.GraphicalNote=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),r=i(31),s=i(3),o=i(63),a=i(11);class l extends n.GraphicalObject{constructor(t,e){super(),this.getOctaveShift=t,this.setSymbol(),this.PositionAndShape=new s.BoundingBox(this,e)}setSymbol(){switch(this.getOctaveShift.Type){case r.OctaveEnum.VA8:this.octaveSymbol=o.MusicSymbol.VA8;break;case r.OctaveEnum.VB8:this.octaveSymbol=o.MusicSymbol.VB8;break;case r.OctaveEnum.MA15:this.octaveSymbol=o.MusicSymbol.MA15;break;case r.OctaveEnum.MB15:this.octaveSymbol=o.MusicSymbol.MB15;break;default:throw new a.ArgumentOutOfRangeException("")}}}e.GraphicalOctaveShift=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4),r=i(108),s=i(6),o=i(161),a=i(37),l=i(0),u=i(16);class c extends r.GraphicalCurve{constructor(t){super(),this.staffEntries=[],this.slur=t}static Compare(t,e){if(t.staffEntries.length<1)return-1;if(e.staffEntries.length<1)return 1;const i=l.Fraction.minus(t.staffEntries[t.staffEntries.length-1].getAbsoluteTimestamp(),t.staffEntries[0].getAbsoluteTimestamp()),n=l.Fraction.minus(e.staffEntries[e.staffEntries.length-1].getAbsoluteTimestamp(),e.staffEntries[0].getAbsoluteTimestamp());return i.RealValue>n.RealValue?1:n.RealValue>i.RealValue?-1:0}calculateCurve(t){const e=this.staffEntries[0],i=this.staffEntries[this.staffEntries.length-1];let r=e.findGraphicalNoteFromNote(this.slur.StartNote);!r&&this.graceStart&&(r=e.findGraphicalNoteFromGraceNote(this.slur.StartNote)),r||(r=e.findEndTieGraphicalNoteFromNoteWithStartingSlur(this.slur.StartNote,this.slur));let a=i.findGraphicalNoteFromNote(this.slur.EndNote);!a&&this.graceEnd&&(a=i.findGraphicalNoteFromGraceNote(this.slur.EndNote));const l=e.parentMeasure.ParentStaffLine,u=l.SkyBottomLineCalculator;this.calculatePlacement(u,l);const c=this.calculateStartAndEnd(r,a,l,t,u),h=c.startX,d=c.endX;let f=c.startY,p=c.endY;const m=t.SlurTangentMinAngle,g=t.SlurTangentMaxAngle;let y,v,b;if(this.placement===s.PlacementEnum.Above){f-=t.SlurNoteHeadYOffset,p-=t.SlurNoteHeadYOffset,y=new n.PointF2D(h,f),v=new n.PointF2D(d,p);const e=new n.PointF2D(this.staffEntries[0].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[0].PositionAndShape.RelativePosition.x,f);r?e.x+=this.staffEntries[0].PositionAndShape.BorderRight:e.x=this.staffEntries[0].parentMeasure.beginInstructionsWidth,this.graceStart&&(e.x+=i.PositionAndShape.RelativePosition.x);const s=new n.PointF2D(this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[this.staffEntries.length-1].PositionAndShape.RelativePosition.x,p);if(a?s.x+=this.staffEntries[this.staffEntries.length-1].PositionAndShape.BorderLeft:s.x=this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.Size.width,this.graceEnd&&(s.x+=i.staffEntryParent.PositionAndShape.RelativePosition.x),b=this.calculateTopPoints(e,s,l,u),0===b.length){const t=new n.PointF2D((s.x-e.x)/2+e.x,(s.y-e.y)/2+e.y);b.push(t)}const c=Math.atan((p-f)/(d-h)),_=new n.PointF2D(0,0);let S,w,T=new n.PointF2D(d-h,-(p-f));S=o.Matrix2D.getRotationMatrix(c),w=S.getTransposeMatrix(),T=S.vectorMultiplication(T);const x=this.calculateTranslatedAndRotatedPointListAbove(b,h,f,S),E=this.calculateMaxLeftSlope(x,_,T),C=this.calculateMaxRightSlope(x,_,T),A=_.y-_.x*E,P=T.y-T.x*C,M=new n.PointF2D;let k=!1;Math.abs(Math.abs(E)-Math.abs(C))<1e-4?(M.x=T.x/2,M.y=0,k=!0):(M.x=(P-A)/(E-C),M.y=E*M.x+A);const L=m,I=-m;k||this.calculateAngles(L,I,E,C,g);const O=this.calculateControlPoints(T.x,L,I,x);let R=O.leftControlPoint,N=O.rightControlPoint;R=w.vectorMultiplication(R),R.x+=h,R.y=-R.y+f,N=w.vectorMultiplication(N),N.x+=h,N.y=-N.y+f,this.bezierStartPt=y,this.bezierStartControlPt=R,this.bezierEndControlPt=N,this.bezierEndPt=v;const D=l.SkyLine.length,B=u.getLeftIndexForPointX(this.bezierStartPt.x,D),F=u.getLeftIndexForPointX(this.bezierEndPt.x,D),V=this.bezierEndPt.x-this.bezierStartPt.x,j=u.SamplingUnit;for(let t=B;t<F;t++){const e=t/j-this.bezierStartPt.x,i=this.calculateCurvePointAtIndex(Math.abs(e)/V);let n=u.getLeftIndexForPointX(i.x,D);n>=B&&(l.SkyLine[n]=Math.min(l.SkyLine[n],i.y)),n++,n<D&&(l.SkyLine[n]=Math.min(l.SkyLine[n],i.y))}}else{f+=t.SlurNoteHeadYOffset,p+=t.SlurNoteHeadYOffset,y=new n.PointF2D(h,f),v=new n.PointF2D(d,p);const e=new n.PointF2D(this.staffEntries[0].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[0].PositionAndShape.RelativePosition.x,f);r?e.x+=this.staffEntries[0].PositionAndShape.BorderRight:e.x=this.staffEntries[0].parentMeasure.beginInstructionsWidth,this.graceStart&&(e.x+=i.PositionAndShape.RelativePosition.x);const s=new n.PointF2D(this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[this.staffEntries.length-1].PositionAndShape.RelativePosition.x,p);if(a?s.x+=this.staffEntries[this.staffEntries.length-1].PositionAndShape.BorderLeft:s.x=this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.Size.width,this.graceEnd&&(s.x+=i.staffEntryParent.PositionAndShape.RelativePosition.x),b=this.calculateBottomPoints(e,s,l,u),0===b.length){const t=new n.PointF2D((s.x-e.x)/2+e.x,(s.y-e.y)/2+e.y);b.push(t)}const c=Math.atan((p-f)/(d-h)),_=new n.PointF2D(0,0);let S,w,T=new n.PointF2D(d-h,p-f);S=o.Matrix2D.getRotationMatrix(-c),w=S.getTransposeMatrix(),T=S.vectorMultiplication(T);const x=this.calculateTranslatedAndRotatedPointListBelow(b,h,f,S),E=this.calculateMaxLeftSlope(x,_,T),C=this.calculateMaxRightSlope(x,_,T),A=_.y-_.x*E,P=T.y-T.x*C,M=new n.PointF2D;let k=!1;Math.abs(Math.abs(E)-Math.abs(C))<1e-4?(M.x=T.x/2,M.y=0,k=!0):(M.x=(P-A)/(E-C),M.y=E*M.x+A);const L=m,I=-m;k||this.calculateAngles(L,I,E,C,g);const O=this.calculateControlPoints(T.x,L,I,x);let R=O.leftControlPoint,N=O.rightControlPoint;R=w.vectorMultiplication(R),R.x+=h,R.y+=f,N=w.vectorMultiplication(N),N.x+=h,N.y+=f,this.bezierStartPt=y,this.bezierStartControlPt=R,this.bezierEndControlPt=N,this.bezierEndPt=v;const D=l.BottomLine.length,B=u.getLeftIndexForPointX(this.bezierStartPt.x,D),F=u.getLeftIndexForPointX(this.bezierEndPt.x,D),V=this.bezierEndPt.x-this.bezierStartPt.x,j=u.SamplingUnit;for(let t=B;t<F;t++){const e=t/j-this.bezierStartPt.x,i=this.calculateCurvePointAtIndex(Math.abs(e)/V);let n=u.getLeftIndexForPointX(i.x,D);n>=B&&(l.BottomLine[n]=Math.max(l.BottomLine[n],i.y)),n++,n<D&&(l.BottomLine[n]=Math.max(l.BottomLine[n],i.y))}}}calculateStartAndEnd(t,e,i,n,r){let o=0,a=0,l=0,c=0;if(t){o=t.PositionAndShape.RelativePosition.x+t.parentVoiceEntry.parentStaffEntry.PositionAndShape.RelativePosition.x+t.parentVoiceEntry.parentStaffEntry.parentMeasure.PositionAndShape.RelativePosition.x,this.graceStart&&(o+=t.parentVoiceEntry.parentStaffEntry.staffEntryParent.PositionAndShape.RelativePosition.x);const e=t.parentVoiceEntry;a=this.placement===s.PlacementEnum.Above?e.PositionAndShape.RelativePosition.y+e.PositionAndShape.BorderTop:e.PositionAndShape.RelativePosition.y+e.PositionAndShape.BorderBottom,e.parentVoiceEntry.StemDirection===u.StemDirectionType.Down&&this.placement===s.PlacementEnum.Below&&(o-=.5),e.parentVoiceEntry.StemDirection===u.StemDirectionType.Up&&this.placement===s.PlacementEnum.Above&&(o+=.5)}else o=i.Measures[0].beginInstructionsWidth;if(e){l=e.PositionAndShape.RelativePosition.x+e.parentVoiceEntry.parentStaffEntry.PositionAndShape.RelativePosition.x+e.parentVoiceEntry.parentStaffEntry.parentMeasure.PositionAndShape.RelativePosition.x,this.graceEnd&&(l+=e.parentVoiceEntry.parentStaffEntry.staffEntryParent.PositionAndShape.RelativePosition.x);const t=e.parentVoiceEntry;c=this.placement===s.PlacementEnum.Above?t.PositionAndShape.RelativePosition.y+t.PositionAndShape.BorderTop:t.PositionAndShape.RelativePosition.y+t.PositionAndShape.BorderBottom,t.parentVoiceEntry.StemDirection===u.StemDirectionType.Down&&this.placement===s.PlacementEnum.Below&&(l-=.5),t.parentVoiceEntry.StemDirection===u.StemDirectionType.Up&&this.placement===s.PlacementEnum.Above&&(l+=.5)}else l=i.PositionAndShape.Size.width;return t||e||(a=0,c=0),t||(a=c),e||(c=a),this.slur.startNoteHasMoreStartingSlurs()&&this.slur.isSlurLonger()&&(this.placement===s.PlacementEnum.Above?a-=n.SlursStartingAtSameStaffEntryYOffset:a+=n.SlursStartingAtSameStaffEntryYOffset),this.slur.endNoteHasMoreEndingSlurs()&&this.slur.isSlurLonger()&&(this.placement===s.PlacementEnum.Above?c-=n.SlursStartingAtSameStaffEntryYOffset:c+=n.SlursStartingAtSameStaffEntryYOffset),{startX:o,startY:a,endX:l,endY:c}}calculatePlacement(t,e){for(let o=0,l=this.staffEntries.length;o<l;++o)if(this.staffEntries[o].parentMeasure.hasMultipleVoices())return void(this.slur.StartNote.ParentVoiceEntry.ParentVoice instanceof a.LinkedVoice||this.slur.EndNote.ParentVoiceEntry.ParentVoice instanceof a.LinkedVoice?this.placement=s.PlacementEnum.Below:this.placement=s.PlacementEnum.Above);for(let o=0,a=this.staffEntries.length;o<a;++o)if(this.staffEntries[o].LyricsEntries.length>0)return void(this.placement=s.PlacementEnum.Above);const i=this.staffEntries[0],n=this.staffEntries[this.staffEntries.length-1],r=i.graphicalVoiceEntries[0].parentVoiceEntry.StemDirection;if(r===n.graphicalVoiceEntries[0].parentVoiceEntry.StemDirection)this.placement=r===u.StemDirectionType.Up?s.PlacementEnum.Below:s.PlacementEnum.Above;else{let r=i.PositionAndShape.BorderLeft+i.PositionAndShape.RelativePosition.x+i.parentMeasure.PositionAndShape.RelativePosition.x,o=n.PositionAndShape.BorderRight+n.PositionAndShape.RelativePosition.x+n.parentMeasure.PositionAndShape.RelativePosition.x;this.graceStart&&(r+=n.PositionAndShape.RelativePosition.x),this.graceEnd&&(o+=n.staffEntryParent.PositionAndShape.RelativePosition.x);const a=-1*t.getSkyLineMinInRange(r,o),l=t.getBottomLineMaxInRange(r,o)-e.StaffHeight;this.placement=l>a?s.PlacementEnum.Above:s.PlacementEnum.Below}}calculateTopPoints(t,e,i,r){const s=[];let o=r.getRightIndexForPointX(t.x,i.SkyLine.length),a=r.getLeftIndexForPointX(e.x,i.SkyLine.length);o<0&&(o=0),a>=i.SkyLine.length&&(a=i.SkyLine.length-1);for(let l=o;l<a;l++){const t=new n.PointF2D((.5+l)/r.SamplingUnit,i.SkyLine[l]);s.push(t)}return s}calculateBottomPoints(t,e,i,r){const s=[];let o=r.getRightIndexForPointX(t.x,i.BottomLine.length),a=r.getLeftIndexForPointX(e.x,i.BottomLine.length);o<0&&(o=0),a>=i.BottomLine.length&&(a=i.BottomLine.length-1);for(let l=o;l<a;l++){const t=new n.PointF2D((.5+l)/r.SamplingUnit,i.BottomLine[l]);s.push(t)}return s}calculateMaxLeftSlope(t,e,i){let n=-Number.MAX_VALUE;const r=e.x,s=e.y;for(let o=0;o<t.length;o++)Math.abs(t[o].y-Number.MAX_VALUE)<1e-4||Math.abs(t[o].y- -Number.MAX_VALUE)<1e-4||(n=Math.max(n,(t[o].y-s)/(t[o].x-r)));return n=Math.max(n,Math.abs(i.y-s)/(i.x-r)),n}calculateMaxRightSlope(t,e,i){let n=Number.MAX_VALUE;const r=i.x,s=i.y;for(let o=0;o<t.length;o++)Math.abs(t[o].y-Number.MAX_VALUE)<1e-4||Math.abs(t[o].y- -Number.MAX_VALUE)<1e-4||(n=Math.min(n,(s-t[o].y)/(r-t[o].x)));return n=Math.min(n,(s-e.y)/(r-e.x)),n}getPointListMaxY(t){let e=-Number.MAX_VALUE;for(let i=0,n=t.length;i<n;++i){const n=t[i];Math.abs(n.y- -Number.MAX_VALUE)<1e-4||Math.abs(n.y-Number.MAX_VALUE)<1e-4||(e=Math.max(e,n.y))}return e}calculateTranslatedAndRotatedPointListAbove(t,e,i,r){const s=[];for(let o=0;o<t.length;o++){if(Math.abs(t[o].y-Number.MAX_VALUE)<1e-4||Math.abs(t[o].y- -Number.MAX_VALUE)<1e-4)continue;let a=new n.PointF2D(t[o].x-e,-(t[o].y-i));a=r.vectorMultiplication(a),s.push(a)}return s}calculateTranslatedAndRotatedPointListBelow(t,e,i,r){const s=[];for(let o=0;o<t.length;o++){if(Math.abs(t[o].y-Number.MAX_VALUE)<1e-4||Math.abs(t[o].y- -Number.MAX_VALUE)<1e-4)continue;let a=new n.PointF2D(t[o].x-e,t[o].y-i);a=r.vectorMultiplication(a),s.push(a)}return s}calculateHeightWidthRatio(t,e){return 0===e.length?0:Math.max(0,this.getPointListMaxY(e))/t}calculateControlPoints(t,e,i,r){const s=this.calculateHeightWidthRatio(t,r),o=t*(c.k*s+c.d),a=new n.PointF2D;a.x=o*Math.cos(e*c.degreesToRadiansFactor),a.y=o*Math.sin(e*c.degreesToRadiansFactor);const l=new n.PointF2D;return l.x=t-o*Math.cos(i*c.degreesToRadiansFactor),l.y=-o*Math.sin(i*c.degreesToRadiansFactor),{leftControlPoint:a,rightControlPoint:l}}calculateAngles(t,e,i,n,r){let s=Math.atan(i)/c.degreesToRadiansFactor;i>0?s+=20:s-=20;let o=Math.atan(n)/c.degreesToRadiansFactor;n<0?o-=20:o+=20,t=Math.min(Math.max(t,s),r),e=Math.max(Math.min(e,o),-r)}}e.GraphicalSlur=c,c.degreesToRadiansFactor=Math.PI/180,c.k=.9,c.d=.2},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3),r=i(0),s=i(5),o=i(24),a=i(14);class l extends s.GraphicalObject{constructor(t,e,i){super(),this.graphicalChordContainers=[],this.tabStaffEntry=void 0,this.graphicalInstructions=[],this.graphicalTies=[],this.lyricsEntries=[],this.parentMeasure=t,this.graphicalVoiceEntries=[],this.sourceStaffEntry=e,i?(this.staffEntryParent=i,this.parentVerticalContainer=i.parentVerticalContainer,this.PositionAndShape=new n.BoundingBox(this,i.PositionAndShape)):this.PositionAndShape=new n.BoundingBox(this,t.PositionAndShape),e&&(this.relInMeasureTimestamp=e.Timestamp)}get GraphicalInstructions(){return this.graphicalInstructions}get GraphicalTies(){return this.graphicalTies}get LyricsEntries(){return this.lyricsEntries}set LyricsEntries(t){this.lyricsEntries=t}getAbsoluteTimestamp(){const t=this.parentMeasure.parentSourceMeasure.AbsoluteTimestamp.clone();return this.relInMeasureTimestamp&&t.Add(this.relInMeasureTimestamp),t}findEndTieGraphicalNoteFromNote(t){for(const e of this.graphicalVoiceEntries)for(const i of e.notes){const e=i.sourceNote;if(!e.isRest()&&e.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&e.Pitch.Octave===t.Pitch.Octave&&e.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return i}}findEndTieGraphicalNoteFromNoteWithStartingSlur(t,e){if(t)for(const i of this.graphicalVoiceEntries)if(i.parentVoiceEntry===t.ParentVoiceEntry)for(const t of i.notes){const i=t.sourceNote;if(i.NoteTie&&-1!==i.NoteSlurs.indexOf(e))return t}}findGraphicalNoteFromGraceNote(t){if(t)for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry===t.ParentVoiceEntry)for(const i of e.notes)if(i.sourceNote===t)return i}findGraphicalNoteFromNote(t){if(t)for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry===t.ParentVoiceEntry)for(const i of e.notes)if(i.sourceNote===t&&this.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return i}getGraphicalNoteDurationFromVoice(t){for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry.ParentVoice===t)return e.notes[0].graphicalNoteLength;return new r.Fraction(0,1)}findVoiceEntryGraphicalNotes(t){for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry===t)return e.notes}isVoiceEntryPartOfLinkedVoiceEntry(t){if(this.sourceStaffEntry.Link)for(let e=0,i=this.sourceStaffEntry.Link.LinkStaffEntries.length;e<i;++e){const i=this.sourceStaffEntry.Link.LinkStaffEntries[e];if(-1!==i.VoiceEntries.indexOf(t)&&i!==this.sourceStaffEntry)return!0}return!1}findStaffEntryMinNoteLength(){let t=new r.Fraction(Number.MAX_VALUE,1);for(const e of this.graphicalVoiceEntries)for(const i of e.notes){const e=i.graphicalNoteLength;e.lt(t)&&e.GetExpandedNumerator()>0&&(t=e)}return t}findStaffEntryMaxNoteLength(){let t=new r.Fraction(0,1);for(const e of this.graphicalVoiceEntries)for(const i of e.notes){const e=i.graphicalNoteLength;t.lt(e)&&e.GetExpandedNumerator()>0&&(t=e)}return t}findOrCreateGraphicalVoiceEntry(t){for(const i of this.graphicalVoiceEntries)if(i.parentVoiceEntry===t)return i;const e=a.MusicSheetCalculator.symbolFactory.createVoiceEntry(t,this);return this.graphicalVoiceEntries.push(e),e}findOrCreateGraphicalVoiceEntryFromGraphicalNote(t){for(const i of this.graphicalVoiceEntries)if(i===t.parentVoiceEntry)return i;const e=a.MusicSheetCalculator.symbolFactory.createVoiceEntry(t.sourceNote.ParentVoiceEntry,this);return this.graphicalVoiceEntries.push(e),e}addGraphicalNoteToListAtCorrectYPosition(t,e){const i=t.notes;if(0===i.length||e.PositionAndShape.RelativePosition.y<o.CollectionUtil.last(i).PositionAndShape.RelativePosition.y)i.push(e);else for(let n=i.length-1;n>=0;n--){if(i[n].PositionAndShape.RelativePosition.y>e.PositionAndShape.RelativePosition.y){i.splice(n+1,0,e);break}if(0===n){i.splice(0,0,e);break}}}hasOnlyRests(){for(const t of this.graphicalVoiceEntries)for(const e of t.notes)if(!e.sourceNote.isRest())return!1;return!0}}e.GraphicalStaffEntry=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphicalTie=class{constructor(t,e,i){this.tie=t,this.startNote=e,this.endNote=i}get GetTie(){return this.tie}get StartNote(){return this.startNote}set StartNote(t){this.startNote=t}get EndNote(){return this.endNote}set EndNote(t){this.endNote=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),r=i(3),s=i(29);class o extends n.GraphicalObject{constructor(t,e){super(),this.parentVoiceEntry=t,this.parentStaffEntry=e,this.PositionAndShape=new r.BoundingBox(this,e?e.PositionAndShape:void 0,!0),this.notes=[],this.rules=e?e.parentMeasure.parentSourceMeasure.Rules:new s.EngravingRules}sort(){this.notes.sort((t,e)=>e.sourceNote.Pitch.getHalfTone()-t.sourceNote.Pitch.getHalfTone())}color(){}}e.GraphicalVoiceEntry=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});i(4);const r=i(68),s=i(19),o=n(i(1));e.SkyBottomLineCalculator=class{constructor(t){this.mStaffLineParent=t,this.mRules=t.ParentMusicSystem.rules}calculateLines(){const t=Math.max(Math.ceil(this.StaffLineParent.PositionAndShape.Size.width*this.SamplingUnit),1);this.mSkyLine=[],this.mBottomLine=[];const e=new r.CanvasVexFlowBackend(this.StaffLineParent.ParentMusicSystem.rules);for(const r of this.StaffLineParent.Measures){r.PositionAndShape.calculateAbsolutePositionsRecursive(0,0);const i=r.getVFStave();e.initializeHeadless(i.getWidth());const n=e.getContext(),s=e.getCanvas(),a=s.width,l=s.height;i.setY(i.y+100);const u=i.getWidth();i.setWidth(a),r.format(),i.setWidth(u);try{r.draw(n)}catch(t){o.default.warn("SkyBottomLineCalculator.calculateLines.draw",t)}const c=n.getImageData(0,0,a,l),h=4,d=Math.max(Math.ceil(r.PositionAndShape.Size.width*this.mRules.SamplingUnit),1),f=new Array(d),p=new Array(d);for(let t=0;t<a;t++){for(let e=0;e<l;e++){const i=e*a*h+t*h;if(c.data[i+3]>0){f[t]=e;break}}for(let e=l;e>0;e--){const i=e*a*h+t*h;if(c.data[i+3]>0){p[t]=e;break}}}this.mSkyLine.push(...f),this.mBottomLine.push(...p),0,e.clear()}const i=this.mSkyLine.length/t,n=[],a=[];for(let r=0;r<this.mSkyLine.length&&n.length!==t;r+=i){const t=Math.min(this.mSkyLine.length,r+i);let e=this.mSkyLine.slice(r,t+1);n.push(Math.min(...e)),e=this.mBottomLine.slice(r,t+1),a.push(Math.max(...e))}this.mSkyLine=n,this.mBottomLine=a,this.mSkyLine.length!==t&&o.default.debug(`SkyLine calculation was not correct (${this.mSkyLine.length} instead of ${t})`),this.mSkyLine=this.mSkyLine.map(t=>(t-Math.max(...this.mSkyLine))/s.unitInPixels+this.StaffLineParent.TopLineOffset),this.mBottomLine=this.mBottomLine.map(t=>(t-Math.min(...this.mBottomLine))/s.unitInPixels+this.StaffLineParent.BottomLineOffset)}drawPixel(t,e,i="#FF0000FF"){const n=e.getContext(),r=n.fillStyle;n.fillStyle=i,n.fillRect(t.x,t.y,2,2),n.fillStyle=r}updateSkyLineWithWedge(t,e){let i=Math.floor(t.x*this.SamplingUnit),n=Math.ceil(e.x*this.SamplingUnit),r=(e.y-t.y)/(e.x-t.x);n-i<=1&&(n++,r=0),i<0&&(i=0),i>=this.BottomLine.length&&(i=this.BottomLine.length-1),n<0&&(n=0),n>=this.BottomLine.length&&(n=this.BottomLine.length),this.SkyLine[i]=t.y;for(let s=i+1;s<Math.min(n,this.SkyLine.length);s++)this.SkyLine[s]=this.SkyLine[s-1]+r/this.SamplingUnit}updateBottomLineWithWedge(t,e){let i=Math.floor(t.x*this.SamplingUnit),n=Math.ceil(e.x*this.SamplingUnit),r=(e.y-t.y)/(e.x-t.x);n-i<=1&&(n++,r=0),i<0&&(i=0),i>=this.BottomLine.length&&(i=this.BottomLine.length-1),n<0&&(n=0),n>=this.BottomLine.length&&(n=this.BottomLine.length),this.BottomLine[i]=t.y;for(let s=i+1;s<n;s++)this.BottomLine[s]=this.BottomLine[s-1]+r/this.SamplingUnit}updateSkyLineInRange(t,e,i){this.updateInRange(this.mSkyLine,t,e,i)}updateBottomLineInRange(t,e,i){this.updateInRange(this.BottomLine,t,e,i)}resetSkyLineInRange(t,e){this.updateInRange(this.SkyLine,t,e)}resetBottomLineInRange(t,e){this.setInRange(this.BottomLine,t,e)}setSkyLineWithValue(t){this.SkyLine.forEach(e=>t)}setBottomLineWithValue(t){this.BottomLine.forEach(e=>t)}getLeftIndexForPointX(t,e){const i=Math.floor(t*this.SamplingUnit);return i<0?0:i>=e?e-1:i}getRightIndexForPointX(t,e){const i=Math.ceil(t*this.SamplingUnit);return i<0?0:i>=e?e-1:i}updateStaffLineBorders(){this.mStaffLineParent.PositionAndShape.BorderTop=this.getSkyLineMin(),this.mStaffLineParent.PositionAndShape.BorderMarginTop=this.getSkyLineMin(),this.mStaffLineParent.PositionAndShape.BorderBottom=this.getBottomLineMax(),this.mStaffLineParent.PositionAndShape.BorderMarginBottom=this.getBottomLineMax()}getSkyLineMin(){return Math.min(...this.SkyLine.filter(t=>!isNaN(t)))}getSkyLineMinAtPoint(t){const e=Math.round(t*this.SamplingUnit);return this.mSkyLine[e]}getSkyLineMinInRange(t,e){return this.getMinInRange(this.SkyLine,t,e)}getBottomLineMax(){return Math.max(...this.BottomLine.filter(t=>!isNaN(t)))}getBottomLineMaxAtPoint(t){const e=Math.round(t*this.SamplingUnit);return this.mBottomLine[e]}getBottomLineMaxInRange(t,e){return this.getMaxInRange(this.BottomLine,t,e)}getBottomLineMaxInBoundingBox(t){const e=Math.floor(t.AbsolutePosition.x+t.BorderLeft),i=Math.ceil(t.AbsolutePosition.x+t.BorderRight);return this.getMaxInRange(this.mBottomLine,e,i)}updateWithBoundingBoxRecursivly(t){if(t.ChildElements&&t.ChildElements.length>0)this.updateWithBoundingBoxRecursivly(t);else{const e=t.BorderTop+t.AbsolutePosition.y,i=t.BorderBottom+t.AbsolutePosition.y;if(e<0){const i=Math.floor(t.AbsolutePosition.x+t.BorderLeft),n=Math.ceil(t.AbsolutePosition.x+t.BorderRight);this.updateInRange(this.mSkyLine,i,n,e)}else if(i>this.StaffLineParent.StaffHeight){const e=Math.floor(t.AbsolutePosition.x+t.BorderLeft),n=Math.ceil(t.AbsolutePosition.x+t.BorderRight);this.updateInRange(this.mBottomLine,e,n,i)}}}updateInRange(t,e=0,i=t.length,n=0){if(e=Math.floor(e*this.SamplingUnit),(i=Math.ceil(i*this.SamplingUnit))<e)throw new Error("start index of line is greater then the end index");e<0&&(e=0),i>t.length&&(i=t.length);for(let r=e;r<i;r++)t[r]=Math.abs(n)>Math.abs(t[r])?n:t[r]}setInRange(t,e=0,i=t.length,n=0){if(e=Math.floor(e*this.SamplingUnit),(i=Math.ceil(i*this.SamplingUnit))<e)throw new Error("start index of line is greater then the end index");e<0&&(e=0),i>t.length&&(i=t.length);for(let r=e;r<i;r++)t[r]=n}getMinInRange(t,e,i){return e=Math.floor(e*this.SamplingUnit),i=Math.ceil(i*this.SamplingUnit),t?(e<0&&(e=0),e>=t.length&&(e=t.length-1),i<0&&(i=0),i>=t.length&&(i=t.length),e>=0&&i<=t.length?Math.min(...t.slice(e,i+1)):void 0):Number.MAX_VALUE}getMaxInRange(t,e,i){return e=Math.floor(e*this.SamplingUnit),i=Math.ceil(i*this.SamplingUnit),t?(e<0&&(e=0),e>=t.length&&(e=t.length-1),i<0&&(i=0),i>=t.length&&(i=t.length),e>=0&&i<=t.length?Math.max(...t.slice(e,i+1)):void 0):Number.MIN_VALUE}get SamplingUnit(){return this.mRules.SamplingUnit}get StaffLineParent(){return this.mStaffLineParent}get SkyLine(){return this.mSkyLine}get BottomLine(){return this.mBottomLine}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3),r=i(5),s=i(53),o=i(4),a=i(118);class l extends r.GraphicalObject{constructor(t,e){super(),this.measures=[],this.staffLines=new Array(5),this.octaveShifts=[],this.lyricLines=[],this.lyricsDashes=[],this.abstractExpressions=[],this.graphicalSlurs=[],this.parentMusicSystem=t,this.parentStaff=e,this.boundingBox=new n.BoundingBox(this,t.PositionAndShape),this.skyBottomLine=new a.SkyBottomLineCalculator(this),this.staffHeight=this.parentMusicSystem.rules.StaffHeight,this.topLineOffset=0,this.bottomLineOffset=4,this.calculateStaffLineOffsets()}calculateStaffLineOffsets(){if(this.ParentStaff.isTab)switch(this.ParentStaff.StafflineCount){case 5:this.staffHeight=this.bottomLineOffset=6*this.ParentStaff.ParentInstrument.GetMusicSheet.Rules.TabStaffInterlineHeight;break;default:this.staffHeight=this.bottomLineOffset=this.ParentStaff.ParentInstrument.GetMusicSheet.Rules.TabStaffInterlineHeight*this.ParentStaff.StafflineCount}else switch(this.ParentStaff.StafflineCount){case 4:this.bottomLineOffset=1;break;case 3:this.topLineOffset=1,this.bottomLineOffset=1;break;case 2:this.topLineOffset=2,this.bottomLineOffset=1;break;case 1:this.topLineOffset=2,this.bottomLineOffset=2}}get Measures(){return this.measures}set Measures(t){this.measures=t}get StaffLines(){return this.staffLines}set StaffLines(t){this.staffLines=t}get NextStaffLine(){const t=this.parentMusicSystem.StaffLines.indexOf(this);return t!==this.parentMusicSystem.StaffLines.length?this.parentMusicSystem.StaffLines[t+1]:void 0}get LyricLines(){return this.lyricLines}get AbstractExpressions(){return this.abstractExpressions}set AbstractExpressions(t){this.abstractExpressions=t}set LyricLines(t){this.lyricLines=t}get LyricsDashes(){return this.lyricsDashes}set LyricsDashes(t){this.lyricsDashes=t}get ParentMusicSystem(){return this.parentMusicSystem}set ParentMusicSystem(t){this.parentMusicSystem=t}get ParentStaff(){return this.parentStaff}set ParentStaff(t){this.parentStaff=t}get SkyBottomLineCalculator(){return this.skyBottomLine}get SkyLine(){return this.skyBottomLine.SkyLine}get BottomLine(){return this.skyBottomLine.BottomLine}get OctaveShifts(){return this.octaveShifts}set OctaveShifts(t){this.octaveShifts=t}get StaffHeight(){return this.staffHeight}get TopLineOffset(){return this.topLineOffset}get BottomLineOffset(){return this.bottomLineOffset}get GraphicalSlurs(){return this.graphicalSlurs}addSlurToStaffline(t){this.graphicalSlurs.push(t)}addActivitySymbolClickArea(){const t=new s.StaffLineActivitySymbol(this),e=this.PositionAndShape;t.PositionAndShape.RelativePosition=new o.PointF2D(e.RelativePosition.x+e.BorderRight+.5,e.RelativePosition.y+.5),t.PositionAndShape.Parent=this.parentMusicSystem.PositionAndShape}isPartOfMultiStaffInstrument(){return this.parentStaff.ParentInstrument.Staves.length>1}findClosestStaffEntry(t){let e=void 0;for(let i=0,n=this.Measures.length;i<n;++i){const n=this.Measures[i];for(let i=0,r=n.staffEntries.length;i<r;++i){const r=n.staffEntries[i];Math.abs(r.PositionAndShape.RelativePosition.x-t+n.PositionAndShape.RelativePosition.x)<5&&(e=r)}}return e}}e.StaffLine=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10)),s=i(69),o=i(18),a=i(23),l=i(34);class u extends s.VexFlowBackend{constructor(t){super(),this.rules=t}getVexflowBackendType(){return 3}getOSMDBackendType(){return l.BackendType.SVG}initialize(t){this.canvas=document.createElement("div"),this.inner=this.canvas,this.inner.style.position="relative",this.canvas.style.zIndex="0",t.appendChild(this.inner),this.renderer=new r.default.Flow.Renderer(this.canvas,this.getVexflowBackendType()),this.ctx=this.renderer.getContext()}getContext(){return this.ctx}getSvgElement(){return this.ctx.svg}clear(){if(!this.ctx)return;const t=this.ctx.svg;for(;t.lastChild;)t.removeChild(t.lastChild);this.rules.PageBackgroundColor&&(this.ctx.save(),this.ctx.setFillStyle(this.rules.PageBackgroundColor),this.ctx.fillRect(0,0,this.canvas.offsetWidth,this.canvas.offsetHeight),this.ctx.restore())}scale(t){this.ctx.scale(t,t)}translate(t,e){}renderText(t,e,i,n,r,s,l,u){this.ctx.save(),l&&(this.ctx.attributes.fill=l,this.ctx.attributes.stroke=l);let c=u;u&&"default"!==u||(c=this.rules.DefaultFontFamily),this.ctx.setFont(c,t,o.VexFlowConverter.fontStyle(e)),this.ctx.attributes["font-size"]=t+"px",this.ctx.state["font-size"]=t+"px";let h="normal",d="normal";switch(e){case a.FontStyles.Bold:h="bold";break;case a.FontStyles.Italic:d="italic";break;case a.FontStyles.BoldItalic:h="bold",d="italic";break;default:h="normal"}this.ctx.attributes["font-weight"]=h,this.ctx.state["font-weight"]=h,this.ctx.attributes["font-style"]=d,this.ctx.state["font-style"]=d,this.ctx.fillText(n,s.x,s.y+r),this.ctx.restore()}renderRectangle(t,e,i=1){this.ctx.save(),this.ctx.attributes.fill=o.VexFlowConverter.style(e),this.ctx.attributes["fill-opacity"]=i,this.ctx.fillRect(t.x,t.y,t.width,t.height),this.ctx.restore(),this.ctx.attributes["fill-opacity"]=1}renderLine(t,e,i="#FF0000FF",n=2){this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.attributes.stroke=i,this.ctx.lineWidth=n,this.ctx.stroke(),this.ctx.restore()}renderCurve(t){this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y),this.ctx.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y),this.ctx.lineTo(t[7].x,t[7].y),this.ctx.bezierCurveTo(t[6].x,t[6].y,t[5].x,t[5].y,t[4].x,t[4].y),this.ctx.lineTo(t[0].x,t[0].y),this.ctx.closePath(),this.ctx.fill()}}e.SvgVexFlowBackend=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(65),r=i(51),s=i(22),o=i(13),a=i(7),l=i(23);class u extends n.GraphicalInstantaneousDynamicExpression{constructor(t,e,i){super(t,e,i);const n=new o.Label(this.Expression);this.label=new s.GraphicalLabel(n,this.rules.ContinuousDynamicTextHeight,a.TextAlignmentEnum.CenterCenter,this.rules,this.PositionAndShape),this.label.Label.fontStyle=l.FontStyles.BoldItalic,this.label.setLabelPositionAndShapeBorders(),this.PositionAndShape.calculateBoundingBox()}get InstantaneousDynamic(){return this.mInstantaneousDynamicExpression}get Expression(){return r.DynamicEnum[this.mInstantaneousDynamicExpression.DynEnum]}}e.VexFlowInstantaneousDynamicExpression=u},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(i(10));const r=i(71);class s extends r.VexFlowInstrumentBracket{constructor(t,e,i=0){super(t,e,i),this.vexflowConnector.setType(3)}}e.VexFlowInstrumentBrace=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10)),s=i(113),o=i(31),a=n(i(1));class l extends s.GraphicalOctaveShift{constructor(t,e){switch(super(t,e),t.Type){case o.OctaveEnum.VA8:this.position=1,this.supscript="va",this.text="8";break;case o.OctaveEnum.MA15:this.position=1,this.supscript="ma",this.text="15";break;case o.OctaveEnum.VB8:this.position=-1,this.supscript="vb",this.text="8";break;case o.OctaveEnum.MB15:this.position=-1,this.supscript="mb",this.text="15";break;default:a.default.error("Unknown or NONE octaveshift. This should not be called!")}}setStartNote(t){this.startNote=t.graphicalVoiceEntries[0].vfStaveNote}setEndNote(t){this.endNote=t.graphicalVoiceEntries[0].vfStaveNote}getStartNote(){return this.startNote}getEndNote(){return this.endNote}getTextBracket(){return new r.default.Flow.TextBracket({position:this.position,start:this.startNote,stop:this.endNote,superscript:this.supscript,text:this.text})}}e.VexFlowOctaveShift=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(115),r=i(19);class s extends n.GraphicalStaffEntry{constructor(t,e,i){super(t,e,i)}calculateXPosition(){const t=this.parentMeasure.getVFStave();let e=0;for(const i of this.graphicalVoiceEntries)if(i.vfStaveNote){if(i.vfStaveNote.setStave(t),!i.vfStaveNote.preFormatted)continue;i.applyBordersFromVexflow(),this.parentMeasure.ParentStaff.isTab?this.PositionAndShape.RelativePosition.x=(i.vfStaveNote.getAbsoluteX()+i.vfStaveNote.glyph.getWidth())/r.unitInPixels:this.PositionAndShape.RelativePosition.x=i.vfStaveNote.getBoundingBox().getX()/r.unitInPixels;const n=i.notes[0].sourceNote;n.isRest()&&n.Length.RealValue===this.parentMeasure.parentSourceMeasure.ActiveTimeSignature.RealValue&&(this.PositionAndShape.RelativePosition.x+=this.parentMeasure.parentSourceMeasure.Rules.WholeRestXShiftVexflow-.1,i.PositionAndShape.BorderLeft=-.7,i.PositionAndShape.BorderRight=.7),i.PositionAndShape.BorderLeft<e&&(e=i.PositionAndShape.BorderLeft)}this.PositionAndShape.RelativePosition.x-=e,this.PositionAndShape.calculateBoundingBox()}}e.VexFlowStaffEntry=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(119),r=i(106);class s extends n.StaffLine{constructor(t,e){super(t,e),this.slursInVFStaffLine=[],this.alignmentManager=new r.AlignmentManager(this)}get SlursInVFStaffLine(){return this.slursInVFStaffLine}addVFSlurToVFStaffline(t){this.slursInVFStaffLine.push(t)}get AlignmentManager(){return this.alignmentManager}}e.VexFlowStaffLine=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaffEntryLink=class{constructor(t){this.linkStaffEntries=[],this.voiceEntry=t}get GetVoiceEntry(){return this.voiceEntry}get LinkStaffEntries(){return this.linkStaffEntries}set LinkStaffEntries(t){this.linkStaffEntries=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tuplet=class{constructor(t,e=!1){this.notes=[],this.fractions=[],this.tupletLabelNumber=t,this.bracket=e}get TupletLabelNumber(){return this.tupletLabelNumber}set TupletLabelNumber(t){this.tupletLabelNumber=t}get Notes(){return this.notes}set Notes(t){this.notes=t}get Fractions(){return this.fractions}set Fractions(t){this.fractions=t}get Bracket(){return this.bracket}set Bracket(t){this.bracket=t}getNoteIndex(t){for(let e=this.notes.length-1;e>=0;e--)for(let i=0;i<this.notes[e].length;i++)if(t===this.notes[e][i])return e;return 0}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(0)),n(i(2)),n(i(86)),n(i(171))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(59),s=n(i(172));e.MXLHelper=class{static MXLtoIXmlElement(t){const e=new s.default;return e.loadAsync(t).then(t=>e.file("META-INF/container.xml").async("text"),t=>{throw t}).then(t=>{const i=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("rootfile")[0].getAttribute("full-path");return e.file(i).async("text")},t=>{throw t}).then(t=>{const e=(new DOMParser).parseFromString(t,"text/xml"),i=new r.IXmlElement(e.documentElement);return Promise.resolve(i)},t=>{throw t}).then(t=>t,t=>{throw new Error("extractSheetFromMxl: "+t.message)})}static MXLtoXMLstring(t){const e=new s.default;return e.loadAsync(t).then(t=>e.file("META-INF/container.xml").async("text"),t=>{throw t}).then(t=>{const i=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("rootfile")[0].getAttribute("full-path");return e.file(i).async("text")},t=>{throw t})}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(131),s=i(66),o=i(0),a=i(134),l=i(60),u=i(27),c=i(11),h=n(i(1)),d=i(17),f=i(17),p=i(25),m=i(61),g=i(143),y=i(8),v=i(13),b=i(144),_=i(50);class S{constructor(t,e=new _.EngravingRules){this.completeNumberOfStaves=0,this.afterSheetReadingModules=t||[],this.repetitionInstructionReader=b.MusicSymbolModuleFactory.createRepetitionInstructionReader(),this.repetitionCalculator=b.MusicSymbolModuleFactory.createRepetitionCalculator(),this.rules=e}get CompleteNumberOfStaves(){return this.completeNumberOfStaves}static doCalculationsAfterDurationHasBeenSet(t){for(const e of t)e.doCalculationsAfterDurationHasBeenSet()}createMusicSheet(t,e){try{return this._createMusicSheet(t,e)}catch(t){return void h.default.error("MusicSheetReader.CreateMusicSheet",t)}}_removeFromArray(t,e){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}trimString(t){return t.replace(/^\s+|\s+$/g,"")}_lastElement(t){return t[t.length-1]}_createMusicSheet(t,e){const i=[];let n=0;if(this.musicSheet=new r.MusicSheet,this.musicSheet.Path=e,this.musicSheet.Rules=this.rules,!t)throw new c.MusicSheetReadingException("Undefined root element");this.pushSheetLabels(t,e);const a=t.element("part-list");if(!a)throw new c.MusicSheetReadingException("Undefined partListNode");const l=t.elements("part"),h=a.elements();this.initializeReading(h,l,i);let d=!0;this.currentFraction=new o.Fraction(0,1);let f=!1,p=t.element("identification");for(p&&(p=p.element("encoding")),p&&(p=p.element("software")),void 0!==p&&"Guitar Pro 5"===p.value&&(f=!0);d;){void 0!==this.currentMeasure&&this.currentMeasure.HasEndLine&&(n=0),this.currentMeasure=new s.SourceMeasure(this.completeNumberOfStaves,this.musicSheet.Rules);for(const e of i)try{d=d&&e.readNextXmlMeasure(this.currentMeasure,this.currentFraction,f)}catch(t){const e=u.ITextTranslation.translateText("ReaderErrorMessages/InstrumentError","Error while reading instruments.");throw new c.MusicSheetReadingException(e,t)}d&&(this.musicSheet.addMeasure(this.currentMeasure),this.checkIfRhythmInstructionsAreSetAndEqual(i),this.checkSourceMeasureForNullEntries(),n=this.setSourceMeasureDuration(i,n),S.doCalculationsAfterDurationHasBeenSet(i),this.currentMeasure.AbsoluteTimestamp=this.currentFraction.clone(),this.musicSheet.SheetErrors.finalizeMeasure(this.currentMeasure.MeasureNumber),this.currentFraction.Add(this.currentMeasure.Duration),this.previousMeasure=this.currentMeasure)}this.repetitionInstructionReader&&(this.repetitionInstructionReader.removeRedundantInstructions(),this.repetitionCalculator&&this.repetitionCalculator.calculateRepetitions(this.musicSheet,this.repetitionInstructionReader.repetitionInstructions)),this.musicSheet.checkForInstrumentWithNoVoice(),this.musicSheet.fillStaffList();for(let r=0,s=this.afterSheetReadingModules.length;r<s;++r)this.afterSheetReadingModules[r].calculate(this.musicSheet);return this.musicSheet.DefaultStartTempoInBpm=this.musicSheet.SourceMeasures[0].TempoInBPM,this.musicSheet.userStartTempoInBPM=this.musicSheet.userStartTempoInBPM||this.musicSheet.DefaultStartTempoInBpm,this.musicSheet}initializeReading(t,e,i){const n=this.createInstrumentGroups(t);this.completeNumberOfStaves=this.getCompleteNumberOfStavesFromXml(e),0!==e.length&&(this.repetitionInstructionReader.MusicSheet=this.musicSheet,this.currentFraction=new o.Fraction(0,1),this.currentMeasure=void 0,this.previousMeasure=void 0);let r=0;for(const s of e){const e=s.attribute("id");if(e){const o=n[e.value],l=s.elements("measure");let c=1;try{c=this.getInstrumentNumberOfStavesFromXml(s)}catch(t){const e=u.ITextTranslation.translateText("ReaderErrorMessages/InstrumentStavesNumberError","Invalid number of staves at instrument: ");this.musicSheet.SheetErrors.push(e+o.Name);continue}o.createStaves(c),i.push(new a.InstrumentReader(this.repetitionInstructionReader,l,o)),this.repetitionInstructionReader&&(this.repetitionInstructionReader.xmlMeasureList[r]=l),r++}}}checkIfRhythmInstructionsAreSetAndEqual(t){const e=[];for(let r=0;r<this.completeNumberOfStaves;r++)if(this.currentMeasure.FirstInstructionsStaffEntries[r]){const t=this.currentMeasure.FirstInstructionsStaffEntries[r].Instructions[this.currentMeasure.FirstInstructionsStaffEntries[r].Instructions.length-1];t instanceof d.RhythmInstruction&&e.push(t)}let i=0,n=-1;for(let r=0,s=e.length;r<s;++r){const t=e[r];if(t.Rhythm.RealValue>i){if(this.areRhythmInstructionsMixed(e)&&t.SymbolEnum!==f.RhythmSymbolEnum.NONE)continue;i=t.Rhythm.RealValue,n=e.indexOf(t)}}if(e.length>0&&e.length<this.completeNumberOfStaves){const i=e[n].clone();for(let t=0;t<this.completeNumberOfStaves;t++)void 0===this.currentMeasure.FirstInstructionsStaffEntries[t]||this._lastElement(this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions)instanceof d.RhythmInstruction||(this.currentMeasure.FirstInstructionsStaffEntries[t].removeAllInstructionsOfTypeRhythmInstruction(),this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions.push(i.clone())),this.currentMeasure.FirstInstructionsStaffEntries[t]||(this.currentMeasure.FirstInstructionsStaffEntries[t]=new p.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions.push(i.clone()));for(let e=0,n=t.length;e<n;++e)t[e].ActiveRhythm=i}if(0===e.length&&this.currentMeasure===this.musicSheet.SourceMeasures[0]){const e=new d.RhythmInstruction(new o.Fraction(4,4,0,!1),f.RhythmSymbolEnum.NONE);for(let t=0;t<this.completeNumberOfStaves;t++)this.currentMeasure.FirstInstructionsStaffEntries[t]?this.currentMeasure.FirstInstructionsStaffEntries[t].removeAllInstructionsOfTypeRhythmInstruction():this.currentMeasure.FirstInstructionsStaffEntries[t]=new p.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions.push(e);for(let i=0,n=t.length;i<n;++i)t[i].ActiveRhythm=e}for(let r=0,s=e.length;r<s;++r){const t=e[r];if(t.Rhythm.RealValue<i&&this._lastElement(this.currentMeasure.FirstInstructionsStaffEntries[e.indexOf(t)].Instructions)instanceof d.RhythmInstruction){const i=this.currentMeasure.FirstInstructionsStaffEntries[e.indexOf(t)].Instructions;i[i.length-1]=e[n].clone()}Math.abs(t.Rhythm.RealValue-i)<1e-6&&t.SymbolEnum!==f.RhythmSymbolEnum.NONE&&this.areRhythmInstructionsMixed(e)&&(t.SymbolEnum=f.RhythmSymbolEnum.NONE)}}areRhythmInstructionsMixed(t){for(let e=1;e<t.length;e++)if(Math.abs(t[e].Rhythm.RealValue-t[0].Rhythm.RealValue)<1e-6&&t[e].SymbolEnum!==t[0].SymbolEnum)return!0;return!1}setSourceMeasureDuration(t,e){let i=new o.Fraction(0,1);const n=[];for(const a of t){n.push(a.MaxTieNoteFraction);const t=a.ActiveRhythm.Rhythm;i.lt(t)&&(i=new o.Fraction(t.Numerator,t.Denominator,0,!1))}const r=this.currentMeasure.calculateInstrumentsDuration(this.musicSheet,n);let s=new o.Fraction(0,1);for(const o of r)s.lt(o)&&(s=o);o.Fraction.Equal(s,i)?this.checkFractionsForEquivalence(s,i):s.lt(i)&&(s=this.currentMeasure.reverseCheck(this.musicSheet,s),this.checkFractionsForEquivalence(s,i)),this.currentMeasure.ImplicitMeasure=this.checkIfMeasureIsImplicit(s,i),this.currentMeasure.ImplicitMeasure||e++,this.currentMeasure.Duration=s,this.currentMeasure.ActiveTimeSignature=i,this.currentMeasure.MeasureNumber=e;for(let a=0;a<r.length;a++){const t=r[a];if(this.currentMeasure.ImplicitMeasure&&t!==s||!o.Fraction.Equal(t,i)&&!this.allInstrumentsHaveSameDuration(r,s)){const t=this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.musicSheet.Instruments[a]);for(let e=0;e<this.musicSheet.Instruments[a].Staves.length;e++)if(!this.graphicalMeasureIsEmpty(t+e)){this.currentMeasure.setErrorInGraphicalMeasure(t+e,!0);const i=u.ITextTranslation.translateText("ReaderErrorMessages/MissingNotesError","Given Notes don't correspond to measure duration.");this.musicSheet.SheetErrors.pushMeasureError(i)}}}return e}checkFractionsForEquivalence(t,e){if(e.Denominator>t.Denominator){const i=e.Denominator/t.Denominator;t.expand(i)}}checkIfMeasureIsImplicit(t,e){return!(this.previousMeasure||!t.lt(e))||!!this.previousMeasure&&o.Fraction.plus(this.previousMeasure.Duration,t).Equals(e)}allInstrumentsHaveSameDuration(t,e){let i=0;for(let n=0,r=t.length;n<r;++n)t[n].Equals(e)&&i++;return i===t.length&&e!==new o.Fraction(0,1)}graphicalMeasureIsEmpty(t){let e=0;for(let i=0;i<this.currentMeasure.VerticalSourceStaffEntryContainers.length;i++)this.currentMeasure.VerticalSourceStaffEntryContainers[i].StaffEntries[t]||e++;return e===this.currentMeasure.VerticalSourceStaffEntryContainers.length}checkSourceMeasureForNullEntries(){for(let t=this.currentMeasure.VerticalSourceStaffEntryContainers.length-1;t>=0;t--)for(let e=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length-1;e>=0;e--){const i=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[e];if(i)for(let t=i.VoiceEntries.length-1;t>=0;t--){const e=i.VoiceEntries[t];0===e.Notes.length&&(this._removeFromArray(e.ParentVoice.VoiceEntries,e),this._removeFromArray(i.VoiceEntries,e))}void 0!==i&&0===i.VoiceEntries.length&&(this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[e]=void 0)}for(let t=this.currentMeasure.VerticalSourceStaffEntryContainers.length-1;t>=0;t--){let e=0;for(let i=0,n=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length;i<n;++i)this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[i]||e++;e===this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length&&this._removeFromArray(this.currentMeasure.VerticalSourceStaffEntryContainers,this.currentMeasure.VerticalSourceStaffEntryContainers[t])}}pushSheetLabels(t,e){this.readComposer(t),this.readTitle(t);try{this.musicSheet.Title&&this.musicSheet.Composer||this.readTitleAndComposerFromCredits(t)}catch(t){h.default.info("MusicSheetReader.pushSheetLabels","readTitleAndComposerFromCredits",t)}try{if(!this.musicSheet.Title){const t=Math.max(0,e.lastIndexOf("/"),e.lastIndexOf("\\")),i=e.substr(t).split(".",1);this.musicSheet.Title=new v.Label(i[0])}}catch(t){h.default.info("MusicSheetReader.pushSheetLabels","read title from file name",t)}}presentAttrsWithValue(t,e){for(const i of t.attributes())if(i.value===e)return!0;return!1}readComposer(t){const e=t.element("identification");if(e){const t=e.elements("creator");for(let e=0,i=t.length;e<i;++e){const i=t[e];if(i.hasAttributes){if(this.presentAttrsWithValue(i,"composer")){this.musicSheet.Composer=new v.Label(this.trimString(i.value));continue}(this.presentAttrsWithValue(i,"lyricist")||this.presentAttrsWithValue(i,"poet"))&&(this.musicSheet.Lyricist=new v.Label(this.trimString(i.value)))}}}}readTitleAndComposerFromCredits(t){const e=this.computeSystemYCoordinates(t);if(0===e)return;let i=1,n=void 0,r=0,s=void 0,o=void 0;const a=t.elements("credit");for(let l=0,u=a.length;l<u;++l){const t=a[l];if(!t.attribute("page"))return;if("1"===t.attribute("page").value){let a=void 0;if(t){if(a=t.element("credit-words"),!a.attribute("justify"))break;const l=a.attribute("justify").value,u=a.attribute("default-y").value,c=parseFloat(u);if(c>e){if(!this.musicSheet.Title){const t=a.attribute("font-size").value,e=parseFloat(t);i<e&&(i=e,n=a.value)}if(this.musicSheet.Subtitle||"right"!==l&&"left"!==l&&r<c&&(r=c,o?(s=o,o=a.value):o=a.value),void 0===this.musicSheet.Composer||!this.musicSheet.Lyricist)switch(l){case"right":this.musicSheet.Composer=new v.Label(this.trimString(a.value));break;case"left":this.musicSheet.Lyricist=new v.Label(this.trimString(a.value))}}}}}!this.musicSheet.Title&&n&&(this.musicSheet.Title=new v.Label(this.trimString(n))),!this.musicSheet.Subtitle&&s&&(this.musicSheet.Subtitle=new v.Label(this.trimString(s)))}computeSystemYCoordinates(t){if(!t.element("defaults"))return 0;let e=0,i=0;try{const i=t.element("defaults").element("page-layout").element("page-height").value;e=parseFloat(i)}catch(t){return h.default.info("MusicSheetReader.computeSystemYCoordinates(): couldn't find page height, not reading title/composer."),0}let n=!1;const r=t.elements("part");for(let s=0,o=r.length;s<o;++s){const t=r[s].elements("measure");for(let e=0,r=t.length;e<r;++e){const r=t[e];if(r.element("print")){const t=r.element("print").elements("system-layout");for(let e=0,r=t.length;e<r;++e){const r=t[e];if(r.element("top-system-distance")){const t=r.element("top-system-distance").value;i=parseFloat(t),n=!0;break}}break}}if(n)break}if(t.element("defaults").element("system-layout")&&t.element("defaults").element("system-layout").element("top-system-distance")){const e=t.element("defaults").element("system-layout").element("top-system-distance").value;i=parseFloat(e)}return 0===i?0:e-i}readTitle(t){const e=t.element("work");let i=void 0;e&&(i=e.element("work-title"),i&&i.value&&(this.musicSheet.Title=new v.Label(this.trimString(i.value))));const n=t.element("movement-title");let r="";if(n&&(this.musicSheet.Title?r=this.trimString(n.value):this.musicSheet.Title=new v.Label(this.trimString(n.value))),e){const t=e.element("work-number");if(t){const e=t.value;e&&(r=""===r?e:r+", "+e)}}r&&(this.musicSheet.Subtitle=new v.Label(r))}createInstrumentGroups(t){let e=0;const i={};let n;try{const r=t;for(let s=0,o=r.length;s<o;++s){const o=r[s];if("score-part"===o.name){const r=o.attribute("id").value,s=new l.Instrument(e,r,this.musicSheet,n);e++;const a=o.elements();for(let e=0,i=a.length;e<i;++e){const i=a[e];try{if("part-name"===i.name)s.Name=i.value;else if("part-abbreviation"===i.name)s.PartAbbreviation=i.value;else if("score-instrument"===i.name){const t=new g.SubInstrument(s);t.idString=i.firstAttribute.value,s.SubInstruments.push(t);const e=i.element("instrument-name");e&&(t.name=e.value,t.setMidiInstrument(e.value))}else if("midi-instrument"===i.name){let e=s.getSubInstrument(i.firstAttribute.value);for(let t=0,r=s.SubInstruments.length;t<r;++t){const n=s.SubInstruments[t];if(n.idString===i.value){e=n;break}}const n=i.elements();for(let i=0,r=n.length;i<r;++i){const r=n[i];try{if("midi-channel"===r.name)10===parseInt(r.value,10)&&(s.MidiInstrumentId=y.MidiInstrument.Percussion);else if("midi-program"===r.name)s.SubInstruments.length>0&&s.MidiInstrumentId!==y.MidiInstrument.Percussion&&(e.midiInstrumentID=Math.max(0,parseInt(r.value,10)-1));else if("midi-unpitched"===r.name)e.fixedKey=Math.max(0,parseInt(r.value,10));else if("volume"===r.name)try{const t=parseFloat(r.value);e.volume=t/127}catch(t){h.default.debug("ExpressionReader.readExpressionParameters","read volume",t)}else if("pan"===r.name)try{const t=parseFloat(r.value);e.pan=t/64}catch(t){h.default.debug("ExpressionReader.readExpressionParameters","read pan",t)}}catch(t){h.default.info("MusicSheetReader.createInstrumentGroups midi settings: ",t)}}}}catch(t){h.default.info("MusicSheetReader.createInstrumentGroups: ",t)}}if(0===s.SubInstruments.length){const t=new g.SubInstrument(s);s.SubInstruments.push(t)}i[r]=s,n?(n.InstrumentalGroups.push(s),this.musicSheet.Instruments.push(s)):(this.musicSheet.InstrumentalGroups.push(s),this.musicSheet.Instruments.push(s))}else if("part-group"===o.name&&"start"===o.attribute("type").value){const t=new m.InstrumentalGroup("group",this.musicSheet,n);n?n.InstrumentalGroups.push(t):this.musicSheet.InstrumentalGroups.push(t),n=t}else if("part-group"===o.name&&"stop"===o.attribute("type").value&&n){if(1===n.InstrumentalGroups.length){const t=n.InstrumentalGroups[0];n.Parent?(n.Parent.InstrumentalGroups.push(t),this._removeFromArray(n.Parent.InstrumentalGroups,n)):(this.musicSheet.InstrumentalGroups.push(t),this._removeFromArray(this.musicSheet.InstrumentalGroups,n))}n=n.Parent}}}catch(t){const e=u.ITextTranslation.translateText("ReaderErrorMessages/InstrumentError","Error while reading Instruments");throw new c.MusicSheetReadingException(e,t)}for(let r=0,s=this.musicSheet.Instruments.length;r<s;++r){const t=this.musicSheet.Instruments[r];t.Name||(t.Name="Instr. "+t.IdString)}return i}getCompleteNumberOfStavesFromXml(t){let e=0;for(const i of t){const t=i.elements("measure");if(t.length>0){const i=t[0];if(i){let t=i.element("attributes");t&&(t=t.element("staves")),t?e+=parseInt(t.value,10):e++}}}if(isNaN(e)||e<=0){const t=u.ITextTranslation.translateText("ReaderErrorMessages/StaffError","Invalid number of staves.");throw new c.MusicSheetReadingException(t)}return e}getInstrumentNumberOfStavesFromXml(t){let e=0;const i=t.element("measure");if(i){const t=i.element("attributes");let n=void 0;t&&(n=t.element("staves")),e=t&&n?parseInt(n.value,10):1}if(isNaN(e)||e<=0){const t=u.ITextTranslation.translateText("ReaderErrorMessages/StaffError","Invalid number of Staves.");throw new c.MusicSheetReadingException(t)}return e}}e.MusicSheetReader=S},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(179),o=i(132),a=i(47),l=i(182),u=i(29),c=i(21),h=n(i(1));class d{}e.PlaybackSettings=d;class f{constructor(){this.idString="random idString, not initialized",this.sourceMeasures=[],this.repetitions=[],this.dynListStaves=[],this.timestampSortedDynamicExpressionsList=[],this.timestampSortedTempoExpressionsList=[],this.instrumentalGroups=[],this.instruments=[],this.musicPartManager=void 0,this.musicSheetErrors=new l.MusicSheetErrors,this.staves=[],this.transpose=0,this.defaultStartTempoInBpm=0,this.drawErroneousMeasures=!1,this.hasBeenOpenedForTheFirstTime=!1,this.currentEnrolledPosition=new r.Fraction(0,1),this.playbackSettings=new d,this.playbackSettings.rhythm=new r.Fraction(4,4,0,!1),this.userStartTempoInBPM=100,this.pageWidth=120,this.MusicPartManager=new s.MusicPartManager(this),this.hasBPMInfo=!1}static getIndexFromStaff(t){return t.idInMusicSheet}get SourceMeasures(){return this.sourceMeasures}set SourceMeasures(t){this.sourceMeasures=t}get Repetitions(){return this.repetitions}set Repetitions(t){this.repetitions=t}get DynListStaves(){return this.dynListStaves}get TimestampSortedTempoExpressionsList(){return this.timestampSortedTempoExpressionsList}get TimestampSortedDynamicExpressionsList(){return this.timestampSortedDynamicExpressionsList}get InstrumentalGroups(){return this.instrumentalGroups}get Parts(){return this.instruments}get Instruments(){return this.instruments}get SheetPlaybackSetting(){return this.playbackSettings}set SheetPlaybackSetting(t){this.playbackSettings=t}get DrawErroneousMeasures(){return this.drawErroneousMeasures}set DrawErroneousMeasures(t){this.drawErroneousMeasures=t}get HasBeenOpenedForTheFirstTime(){return this.hasBeenOpenedForTheFirstTime}set HasBeenOpenedForTheFirstTime(t){this.hasBeenOpenedForTheFirstTime=t}InitializeStartTempoInBPM(t){this.userStartTempoInBPM=t}get DefaultStartTempoInBpm(){return this.defaultStartTempoInBpm}set DefaultStartTempoInBpm(t){this.defaultStartTempoInBpm=t,this.InitializeStartTempoInBPM(t)}get Path(){return this.path}set Path(t){this.path=t}get Staves(){return this.staves}get TitleString(){return this.title?this.title.text:""}get SubtitleString(){return this.subtitle?this.subtitle.text:""}get ComposerString(){return this.composer?this.composer.text:""}get LyricistString(){return this.lyricist?this.lyricist.text:""}get Title(){return this.title}set Title(t){this.title=t}get Subtitle(){return this.subtitle}set Subtitle(t){this.subtitle=t}get Composer(){return this.composer}set Composer(t){this.composer=t}get Lyricist(){return this.lyricist}set Lyricist(t){this.lyricist=t}get Rules(){return this.rules||(h.default.debug("warning: sheet.Rules was undefined. Creating new EngravingRules."),this.rules=new u.EngravingRules),this.rules}set Rules(t){this.rules=t}get SheetErrors(){return this.musicSheetErrors}get SelectionStart(){return this.selectionStart}set SelectionStart(t){this.selectionStart=t.clone(),this.currentEnrolledPosition=t.clone()}get SelectionEnd(){return this.selectionEnd}set SelectionEnd(t){this.selectionEnd=t}set HasBPMInfo(t){this.hasBPMInfo=t}get HasBPMInfo(){return this.hasBPMInfo}addMeasure(t){this.sourceMeasures.push(t),t.measureListIndex=this.sourceMeasures.length-1}checkForInstrumentWithNoVoice(){for(let t=0,e=this.instruments.length;t<e;++t){const e=this.instruments[t];if(0===e.Voices.length){const t=new a.Voice(e,1);e.Voices.push(t)}}}getStaffFromIndex(t){return this.staves[t]}fillStaffList(){let t=0;for(let e=0,i=this.instruments.length;e<i;++e){const i=this.instruments[e];for(let e=0,n=i.Staves.length;e<n;++e){const n=i.Staves[e];n.idInMusicSheet=t,this.staves.push(n),t++}}}get MusicPartManager(){return this.musicPartManager}set MusicPartManager(t){this.musicPartManager=t}getCompleteNumberOfStaves(){let t=0;for(let e=0,i=this.instruments.length;e<i;++e)t+=this.instruments[e].Staves.length;return t}getListOfMeasuresFromIndeces(t,e){const i=[];for(let n=t;n<=e;n++)i.push(this.sourceMeasures[n]);return i}getNextSourceMeasure(t){const e=this.sourceMeasures.indexOf(t);return e===this.sourceMeasures.length-1?t:this.sourceMeasures[e+1]}getFirstSourceMeasure(){return this.sourceMeasures[0]}getLastSourceMeasure(){return this.sourceMeasures[this.sourceMeasures.length-1]}resetAllNoteStates(){const t=this.MusicPartManager.getIterator();for(;!t.EndReached&&t.CurrentVoiceEntries;){for(let e=0,i=t.CurrentVoiceEntries.length;e<i;++e){const i=t.CurrentVoiceEntries[e];for(let t=0,e=i.Notes.length;t<e;++t)i.Notes[t].state=c.NoteState.Normal}t.moveToNext()}}getMusicSheetInstrumentIndex(t){return this.Instruments.indexOf(t)}getGlobalStaffIndexOfFirstStaff(t){const e=this.getMusicSheetInstrumentIndex(t);let i=0;for(let n=0;n<e;n++)i+=this.Instruments[n].Staves.length;return i}setRepetitionNewUserNumberOfRepetitions(t,e){let i=0;for(let n=0;n<this.repetitions.length;n++)if(this.repetitions[n]instanceof o.Repetition){if(t===i){this.repetitions[n].UserNumberOfRepetitions=e;break}i++}}getRepetitionByIndex(t){let e=0;for(let i=0;i<this.repetitions.length;i++)if(this.repetitions[i]instanceof o.Repetition){if(t===e)return this.repetitions[i];e++}}CompareTo(t){return this.Title.text.localeCompare(t.Title.text)}get Errors(){return this.musicSheetErrors.measureErrors}get FirstMeasureNumber(){try{return this.getFirstSourceMeasure().MeasureNumber}catch(t){return h.default.info("MusicSheet.FirstMeasureNumber: ",t),0}}get LastMeasureNumber(){try{return this.getLastSourceMeasure().MeasureNumber}catch(t){return h.default.info("MusicSheet.LastMeasureNumber: ",t),0}}get CurrentEnrolledPosition(){return this.currentEnrolledPosition.clone()}set CurrentEnrolledPosition(t){this.currentEnrolledPosition=t.clone()}get Transpose(){return this.transpose}set Transpose(t){this.transpose=t}get FullNameString(){return this.ComposerString+" "+this.TitleString}get IdString(){return this.idString}set IdString(t){this.idString=t}getEnrolledSelectionStartTimeStampWorkaround(){const t=this.MusicPartManager.getIterator(this.SelectionStart);return r.Fraction.createFromFraction(t.CurrentEnrolledTimestamp)}get SheetEndTimestamp(){const t=this.getLastSourceMeasure();return r.Fraction.plus(t.AbsoluteTimestamp,t.Duration)}getSourceMeasureFromTimeStamp(t){for(let e=0,i=this.sourceMeasures.length;e<i;++e){const i=this.sourceMeasures[e];for(let e=0,n=i.VerticalSourceStaffEntryContainers.length;e<n;++e){const n=i.VerticalSourceStaffEntryContainers[e];if(t.Equals(n.getAbsoluteTimestamp()))return i}}return this.findSourceMeasureFromTimeStamp(t)}findSourceMeasureFromTimeStamp(t){for(const e of this.sourceMeasures)if(e.AbsoluteTimestamp.lte(t)&&t.lt(r.Fraction.plus(e.AbsoluteTimestamp,e.Duration)))return e}getVisibleInstruments(){const t=[];for(let e=0,i=this.Instruments.length;e<i;++e){const i=this.Instruments[e];i.Voices.length>0&&i.Voices[0].Visible&&t.push(i)}return t}}e.MusicSheet=f,f.defaultTitle="[no title given]"},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(133),s=i(0),o=i(76),a=n(i(1));class l extends o.PartListEntry{constructor(t,e){super(t),this.backwardJumpInstructions=[],this.endingParts=[],this.endingIndexDict={},this.userNumberOfRepetitions=0,this.visibles=[],this.fromWords=!1,this.repetitonIterationOrder=[],this.numberOfEndings=1,this.musicSheet2=t,this.virtualOverallRepetition=e}get BackwardJumpInstructions(){return this.backwardJumpInstructions}get EndingIndexDict(){return this.endingIndexDict}get EndingParts(){return this.endingParts}get Visibles(){return this.visibles}set Visibles(t){this.visibles=t}get DefaultNumberOfRepetitions(){let t=2;return this.virtualOverallRepetition&&(t=1),Math.max(t,Object.keys(this.endingIndexDict).length,this.checkRepetitionForMultipleLyricVerses())}get UserNumberOfRepetitions(){return this.userNumberOfRepetitions}set UserNumberOfRepetitions(t){this.userNumberOfRepetitions=t,this.repetitonIterationOrder=[];const e=this.userNumberOfRepetitions-this.NumberOfEndings;for(let i=1;i<=this.userNumberOfRepetitions;i++)i<=e?this.repetitonIterationOrder.push(1):this.repetitonIterationOrder.push(i-e)}getForwardJumpTargetForIteration(t){const e=this.repetitonIterationOrder[t-1];return this.endingIndexDict[e]?this.endingIndexDict[e].part.StartIndex:-1}getBackwardJumpTarget(){return this.startMarker.measureIndex}SetEndingStartIndex(t,e){const i=new u(new r.SourceMusicPart(this.musicSheet2,e,e));this.endingParts.push(i);for(const n of t)try{this.endingIndexDict[n]=i,i.endingIndices.push(n),this.numberOfEndings<n&&(this.numberOfEndings=n)}catch(t){a.default.error("Repetition: Exception.",t)}}setEndingEndIndex(t,e){this.endingIndexDict[t]&&this.endingIndexDict[t].part.setEndIndex(e)}get NumberOfEndings(){return this.numberOfEndings}get FromWords(){return this.fromWords}set FromWords(t){this.fromWords=t}get AbsoluteTimestamp(){return s.Fraction.createFromFraction(this.musicSheet2.SourceMeasures[this.startMarker.measureIndex].AbsoluteTimestamp)}get StartIndex(){return this.startMarker.measureIndex}get EndIndex(){if(0===this.BackwardJumpInstructions.length)return this.StartIndex;let t=this.backwardJumpInstructions[this.backwardJumpInstructions.length-1].measureIndex;return this.endingIndexDict[this.NumberOfEndings]&&(t=Math.max(this.endingIndexDict[this.NumberOfEndings].part.EndIndex,t)),t}checkRepetitionForMultipleLyricVerses(){let t=0;const e=this.StartIndex,i=this.EndIndex;for(let n=e;n<=i;n++){const e=this.musicSheet2.SourceMeasures[n];for(let i=0;i<e.CompleteNumberOfStaves;i++)for(const n of e.VerticalSourceStaffEntryContainers[i].StaffEntries)if(n){let e=0;for(const t of n.VoiceEntries)e+=Object.keys(t.LyricsEntries).length;t=Math.max(t,e)}}return t}get FirstSourceMeasureNumber(){return this.getFirstSourceMeasure().MeasureNumber}get LastSourceMeasureNumber(){return this.getLastSourceMeasure().MeasureNumber}}e.Repetition=l;class u{constructor(t){this.endingIndices=[],this.part=t}ToString(){return this.endingIndices.join(", ")}}e.RepetitionEndingPart=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(76),r=i(0);class s extends n.PartListEntry{constructor(t,e,i){super(t),this.musicSheet=t,this.startIndex=e,this.endIndex=i}get MeasuresCount(){return this.endIndex-this.startIndex+1}get StartIndex(){return this.startIndex}get EndIndex(){return this.endIndex}get ParentRepetition(){return this.parentRepetition}set ParentRepetition(t){this.parentRepetition=t}get AbsoluteTimestamp(){return r.Fraction.createFromFraction(this.musicSheet.SourceMeasures[this.startIndex].AbsoluteTimestamp)}setStartIndex(t){this.startIndex=t}setEndIndex(t){this.endIndex=t}}e.SourceMusicPart=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(135),s=i(25),o=i(8),a=i(15),l=i(17),u=i(0),c=i(27),h=i(11),d=i(8),f=i(17),p=i(15),m=n(i(1)),g=i(8),y=i(138),v=i(139),b=i(142),_=i(16),S=i(39),w=i(50);e.InstrumentReader=class{constructor(t,e,i){this.voiceGeneratorsDict={},this.staffMainVoiceGeneratorDict={},this.divisions=0,this.currentClefNumber=1,this.currentXmlMeasureIndex=0,this.activeKeyHasBeenInitialized=!1,this.abstractInstructions=[],this.openChordSymbolContainers=[],this.repetitionInstructionReader=t,this.xmlMeasureList=e,this.musicSheet=i.GetMusicSheet,this.instrument=i,this.activeClefs=new Array(i.Staves.length),this.activeClefsHaveBeenInitialized=new Array(i.Staves.length);for(let n=0;n<i.Staves.length;n++)this.activeClefsHaveBeenInitialized[n]=!1;this.createExpressionGenerators(i.Staves.length),this.slurReader=new b.SlurReader(this.musicSheet)}get ActiveKey(){return this.activeKey}get MaxTieNoteFraction(){return this.maxTieNoteFraction}get ActiveRhythm(){return this.activeRhythm}set ActiveRhythm(t){this.activeRhythm=t}readNextXmlMeasure(t,e,i){var n;if(this.currentXmlMeasureIndex>=this.xmlMeasureList.length)return!1;this.currentMeasure=t,this.inSourceMeasureInstrumentIndex=this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.instrument),this.repetitionInstructionReader&&this.repetitionInstructionReader.prepareReadingMeasure(t,this.currentXmlMeasureIndex);let r=new u.Fraction(0,1),s=new u.Fraction(0,1),o=!1;this.maxTieNoteFraction=new u.Fraction(0,1);let a=!1;try{const l=this.xmlMeasureList[this.currentXmlMeasureIndex].elements();for(const d of l)if("print"===d.name){const e=d.attribute("new-system");"yes"===(null==e?void 0:e.value)&&(t.printNewSystemXml=!0);const i=d.attribute("new-page");"yes"===(null==i?void 0:i.value)&&(t.printNewPageXml=!0)}else if("note"===d.name){let t=!0;d.hasAttributes&&d.attribute("print-object")&&"no"===d.attribute("print-object").value&&(t=!1);let n=1;this.instrument.Staves.length>1&&d.element("staff")&&(n=parseInt(d.element("staff").value,10),isNaN(n)&&(m.default.debug("InstrumentReader.readNextXmlMeasure.get staff number"),n=1)),this.currentStaff=this.instrument.Staves[n-1];const o=void 0!==d.element("chord");if(d.element("voice")){const t=parseInt(d.element("voice").value,10);this.currentVoiceGenerator=this.getOrCreateVoiceGenerator(t,n-1)}else o&&this.currentVoiceGenerator||(this.currentVoiceGenerator=this.getOrCreateVoiceGenerator(1,n-1));let l=0,h=new u.Fraction(0,1),f=2,p=void 0,g=!1;if(d.element("duration")){if(l=parseInt(d.element("duration").value,10),isNaN(l)){const t=c.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid Note Duration.");this.musicSheet.SheetErrors.pushMeasureError(t),m.default.debug("InstrumentReader.readNextXmlMeasure",t);continue}if(h=new u.Fraction(l,4*this.divisions),0===l?h=this.getNoteDurationFromTypeNode(d):p=this.getNoteDurationFromTypeNode(d),d.element("time-modification")){h=this.getNoteDurationForTuplet(d);const t=d.element("time-modification");t&&t.element("normal-notes")&&(f=parseInt(t.element("normal-notes").value,10)),g=!0}}const y=void 0!==d.element("rest"),v=d.element("notations"),b=void 0!==d.element("grace")||0===l||o&&a;let w=!1,T=!1;if(b){const t=d.element("grace");t&&t.attributes()&&t.attribute("slash")&&"yes"===t.attribute("slash").value&&(w=!0),h=this.getNoteDurationFromTypeNode(d);const e=d.element("notations");e&&e.element("slur")&&(T=!0)}let x=!1;d.element("cue")&&(x=!0);const E=d.element("type");let C=S.NoteType.UNDEFINED;if(E){const t=E.attribute("size");null!=t&&"cue"===t.value&&(x=!0),C=S.NoteTypeHandler.StringToNoteType(E.value)}let A,P=_.StemDirectionType.Undefined;const M=d.element("stem");if(M){switch(M.value){case"down":P=_.StemDirectionType.Down;break;case"up":P=_.StemDirectionType.Up;break;case"double":P=_.StemDirectionType.Double;break;case"none":P=_.StemDirectionType.None;break;default:P=_.StemDirectionType.Undefined}const t=M.attribute("color");t&&(A=this.parseXmlColor(t.value))}let k,L=0;if(v){const t=v.element("ornaments");if(t){const e=t.element("tremolo");if(e){const t=e.attribute("type");if(t&&"single"===t.value){const t=parseInt(e.value,10);t>0&&(L=t)}}}}const I=d.element("notehead");if(I){const t=I.attribute("color");t&&(k=this.parseXmlColor(t.value))}let O;const R=d.attribute("color");R&&(O=this.parseXmlColor(R.value),k||(k=O),A||(A=O));let N=r.clone();o&&(N=s.clone()),this.currentStaffEntry=this.currentMeasure.findOrCreateStaffEntry(N,this.inSourceMeasureInstrumentIndex+n-1,this.currentStaff).staffEntry,(!this.currentVoiceGenerator.hasVoiceEntry()||!o&&!b&&!a||b&&!a||b&&!o||!b&&a)&&this.currentVoiceGenerator.createVoiceEntry(N,this.currentStaffEntry,!y&&!b,b,w,T),b||o||(s=r.clone(),r.Add(h)),o&&void 0!==this.currentStaffEntry&&this.currentStaffEntry.ParentStaff!==this.currentStaff&&(this.currentStaffEntry=this.currentVoiceGenerator.checkForStaffEntryLink(this.inSourceMeasureInstrumentIndex+n-1,this.currentStaff,this.currentStaffEntry,this.currentMeasure));const D=void 0!==this.currentStaffEntry&&void 0!==this.currentStaffEntry.Timestamp&&this.currentStaffEntry.Timestamp.Equals(new u.Fraction(0,1))&&!this.currentStaffEntry.hasNotes();if(this.saveAbstractInstructionList(this.instrument.Staves.length,D),0!==this.openChordSymbolContainers.length&&(this.currentStaffEntry.ChordContainers=this.openChordSymbolContainers,this.openChordSymbolContainers=[]),this.activeRhythm,g||b||(h=new u.Fraction(l,4*this.divisions)),this.currentVoiceGenerator.read(d,h,p,C,f,y,this.currentStaffEntry,this.currentMeasure,e,this.maxTieNoteFraction,o,i,t,x,P,L,A,k),void 0!==v&&v.element("dynamics")){const t=this.expressionReaders[this.readExpressionStaffNumber(d)-1];t&&(t.readExpressionParameters(d,this.instrument,this.divisions,r,s,this.currentMeasure.MeasureNumber,!1),t.read(d,this.currentMeasure,s))}a=b}else if("attributes"===d.name){const t=d.element("divisions");if(t&&(this.divisions=parseInt(t.value,10),isNaN(this.divisions))){const t=c.ITextTranslation.translateText("ReaderErrorMessages/DivisionError","Invalid divisions value at Instrument: ");if(m.default.debug("InstrumentReader.readNextXmlMeasure",t),this.divisions=this.readDivisionsFromNotes(),!(this.divisions>0))throw o=!0,new h.MusicSheetReadingException(t+this.instrument.Name);this.musicSheet.SheetErrors.push(t+this.instrument.Name)}if(!d.element("divisions")&&0===this.divisions&&0===this.currentXmlMeasureIndex){const t=c.ITextTranslation.translateText("ReaderErrorMessages/DivisionError","Invalid divisions value at Instrument: ");if(this.divisions=this.readDivisionsFromNotes(),!(this.divisions>0))throw o=!0,new h.MusicSheetReadingException(t+this.instrument.Name);this.musicSheet.SheetErrors.push(t+this.instrument.Name)}this.addAbstractInstruction(d,i),r.Equals(new u.Fraction(0,1))&&this.isAttributesNodeAtBeginOfMeasure(this.xmlMeasureList[this.currentXmlMeasureIndex],d)&&this.saveAbstractInstructionList(this.instrument.Staves.length,!0),this.isAttributesNodeAtEndOfMeasure(this.xmlMeasureList[this.currentXmlMeasureIndex],d)&&this.saveClefInstructionAtEndOfMeasure();const e=d.element("staff-details");if(e){const t=e.element("staff-lines");if(t){let i=1;const n=e.attribute("number");n&&(i=parseInt(n.value,10)),this.instrument.Staves[i-1].StafflineCount=parseInt(t.value,10)}}}else if("forward"===d.name){const t=parseInt(d.element("duration").value,10);r.Add(new u.Fraction(t,4*this.divisions))}else if("backup"===d.name){const t=parseInt(d.element("duration").value,10);r.Sub(new u.Fraction(t,4*this.divisions)),r.IsNegative()&&(r=new u.Fraction(0,1)),s.Sub(new u.Fraction(t,4*this.divisions)),s.IsNegative()&&(s=new u.Fraction(0,1))}else if("direction"===d.name){const t=d.element("direction-type");let e=Math.min(1,r.RealValue);void 0!==this.activeRhythm&&this.activeRhythm.Rhythm&&(e/=this.activeRhythm.Rhythm.RealValue);let i=!1;if(this.repetitionInstructionReader&&(i=this.repetitionInstructionReader.handleRepetitionInstructionsFromWordsOrSymbols(t,e)),!i){let e=this.expressionReaders[0];const i=this.readExpressionStaffNumber(d)-1;i<this.expressionReaders.length&&(e=this.expressionReaders[i]),e&&(t.element("octave-shift")&&(e.readExpressionParameters(d,this.instrument,this.divisions,r,s,this.currentMeasure.MeasureNumber,!0),e.addOctaveShift(d,this.currentMeasure,s.clone())),e.readExpressionParameters(d,this.instrument,this.divisions,r,s,this.currentMeasure.MeasureNumber,!1),e.read(d,this.currentMeasure,r))}}else if("barline"===d.name){this.repetitionInstructionReader&&this.repetitionInstructionReader.handleLineRepetitionInstructions(d)&&(this.currentMeasure.HasEndLine=!0);const t=d.attribute("location");if(t&&"right"===t.value){const t=null===(n=d.element("bar-style"))||void 0===n?void 0:n.value;t&&(this.currentMeasure.endingBarStyleXml=t,this.currentMeasure.endingBarStyleEnum=w.SystemLinesEnumHelper.xmlBarlineStyleToSystemLinesEnum(t))}}else"sound"===d.name||"harmony"===d.name&&this.openChordSymbolContainers.push(y.ChordSymbolReader.readChordSymbol(d,this.musicSheet,this.activeKey));for(const t in this.voiceGeneratorsDict)this.voiceGeneratorsDict.hasOwnProperty(t)&&this.voiceGeneratorsDict[t].checkForOpenBeam();if(this.currentXmlMeasureIndex===this.xmlMeasureList.length-1){for(let t=0;t<this.instrument.Staves.length;t++)this.activeClefsHaveBeenInitialized[t]||this.createDefaultClefInstruction(this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.instrument)+t);this.activeKeyHasBeenInitialized||this.createDefaultKeyInstruction();for(let t=0;t<this.expressionReaders.length;t++){const e=this.expressionReaders[t];e&&e.checkForOpenExpressions(this.currentMeasure,r)}}this.musicSheet.HasBPMInfo?0===t.TempoInBPM&&(this.currentMeasure.TempoInBPM=this.previousMeasure.TempoInBPM):this.currentMeasure.TempoInBPM=120}catch(t){if(o)throw new h.MusicSheetReadingException(t.Message);const e=c.ITextTranslation.translateText("ReaderErrorMessages/MeasureError","Error while reading Measure.");this.musicSheet.SheetErrors.pushMeasureError(e),m.default.debug("InstrumentReader.readNextXmlMeasure",e,t)}return this.previousMeasure=this.currentMeasure,this.currentXmlMeasureIndex+=1,!0}parseXmlColor(t){if(t)return 7===t.length?t:9===t.length?"#"+t.substr(3):void 0}doCalculationsAfterDurationHasBeenSet(){for(const t in this.voiceGeneratorsDict)this.voiceGeneratorsDict.hasOwnProperty(t)&&this.voiceGeneratorsDict[t].checkOpenTies()}getOrCreateVoiceGenerator(t,e){const i=this.instrument.Staves[e];let n=this.voiceGeneratorsDict[t];if(n)-1===i.Voices.indexOf(n.GetVoice)&&i.Voices.push(n.GetVoice);else{const s=this.staffMainVoiceGeneratorDict[e];s?(n=new r.VoiceGenerator(this.instrument,t,this.slurReader,s.GetVoice),i.Voices.push(n.GetVoice),this.voiceGeneratorsDict[t]=n):(n=new r.VoiceGenerator(this.instrument,t,this.slurReader),i.Voices.push(n.GetVoice),this.voiceGeneratorsDict[t]=n,this.staffMainVoiceGeneratorDict[e]=n)}return n}createExpressionGenerators(t){this.expressionReaders=new Array(t);for(let e=0;e<t;e++)this.expressionReaders[e]=new v.ExpressionReader(this.musicSheet,this.instrument,e+1)}createDefaultClefInstruction(t){let e;e=this.musicSheet.SourceMeasures.length>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure;const i=new o.ClefInstruction(d.ClefEnum.G,0,2);let n;e.FirstInstructionsStaffEntries[t]?(n=e.FirstInstructionsStaffEntries[t],n.removeFirstInstructionOfTypeClefInstruction()):(n=new s.SourceStaffEntry(void 0,void 0),e.FirstInstructionsStaffEntries[t]=n),i.Parent=n,n.Instructions.splice(0,0,i)}createDefaultKeyInstruction(){let t;t=this.musicSheet.SourceMeasures.length>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure;const e=new a.KeyInstruction(void 0,0,p.KeyEnum.major);for(let i=this.inSourceMeasureInstrumentIndex;i<this.inSourceMeasureInstrumentIndex+this.instrument.Staves.length;i++)if(t.FirstInstructionsStaffEntries[i]){const n=t.FirstInstructionsStaffEntries[i];e.Parent=n,n.removeFirstInstructionOfTypeKeyInstruction(),n.Instructions[0]instanceof o.ClefInstruction?n.Instructions.splice(1,0,e):n.Instructions.splice(0,0,e)}else{const n=new s.SourceStaffEntry(void 0,void 0);t.FirstInstructionsStaffEntries[i]=n,e.Parent=n,n.Instructions.push(e)}}isAttributesNodeAtBeginOfMeasure(t,e){const i=t.elements(),n=i.indexOf(e);if(n>0&&"backup"===i[n-1].name)return!0;let r=-1;for(let s=0;s<i.length;s++)if("note"===i[s].name){r=s;break}return n<r&&r>0||r<0}isAttributesNodeAtEndOfMeasure(t,e){const i=t.elements().slice();let n=0;for(let s=0;s<i.length;s++)if(i[s]===e){n=s;break}let r=0;for(let s=n;s<i.length;s++)if("note"===i[s].name){r=s;break}return n>r}getNoteDurationFromTypeNode(t){const e=t.element("type");if(e){const t=e.value;return this.currentVoiceGenerator.getNoteDurationFromType(t)}return new u.Fraction(0,4*this.divisions)}addAbstractInstruction(t,e){if(t.element("divisions")&&1===t.elements().length)return;const i=t.element("transpose");if(i){const t=i.element("chromatic");t&&(this.instrument.PlaybackTranspose=parseInt(t.value,10))}const n=t.elements("clef");let r;if(n.length>0)for(let s=0,a=n.length;s<a;++s){const e=n[s];let i=d.ClefEnum.G,a=2,l=1,u=0;const h=e.element("line");if(h)try{a=parseInt(h.value,10)}catch(t){r=c.ITextTranslation.translateText("ReaderErrorMessages/ClefLineError","Invalid clef line given -> using default clef line."),this.musicSheet.SheetErrors.pushMeasureError(r),a=2,m.default.debug("InstrumentReader.addAbstractInstruction",r,t)}const f=e.element("sign");if(f)try{i=d.ClefEnum[f.value],o.ClefInstruction.isSupportedClef(i)||(r=c.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Unsupported clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),i=d.ClefEnum.G,a=2),i===d.ClefEnum.TAB&&(u=-1)}catch(t){r=c.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Invalid clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),i=d.ClefEnum.G,a=2,m.default.debug("InstrumentReader.addAbstractInstruction",r,t)}const p=e.element("clef-octave-change");if(p)try{u=parseInt(p.value,10)}catch(t){r=c.ITextTranslation.translateText("ReaderErrorMessages/ClefOctaveError","Invalid clef octave found -> using default clef octave."),this.musicSheet.SheetErrors.pushMeasureError(r),u=0}if(e.hasAttributes&&"number"===e.attributes()[0].name)try{l=parseInt(e.attributes()[0].value,10),l>this.currentClefNumber&&(l=this.currentClefNumber),this.currentClefNumber=l+1}catch(t){r=c.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Invalid clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),l=1,this.currentClefNumber=l+1}const g=new o.ClefInstruction(i,u,a);this.abstractInstructions.push([l,g])}if(void 0!==t.element("key")&&this.instrument.MidiInstrumentId!==g.MidiInstrument.Percussion){let e=0;const i=t.element("key").element("fifths");if(i)try{e=parseInt(i.value,10)}catch(t){r=c.ITextTranslation.translateText("ReaderErrorMessages/KeyError","Invalid key found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),e=0,m.default.debug("InstrumentReader.addAbstractInstruction",r,t)}let n=p.KeyEnum.none,s=t.element("key");if(s&&(s=s.element("mode")),s)try{n=p.KeyEnum[s.value]}catch(t){r=c.ITextTranslation.translateText("ReaderErrorMessages/KeyError","Invalid key found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),n=p.KeyEnum.major,m.default.debug("InstrumentReader.addAbstractInstruction",r,t)}const o=new a.KeyInstruction(void 0,e,n);this.abstractInstructions.push([1,o])}if(t.element("time")){const e=t.element("time");let i=f.RhythmSymbolEnum.NONE,n=!0;if(void 0!==e&&e.hasAttributes){const t=e.attribute("symbol");t&&("common"===t.value?i=f.RhythmSymbolEnum.COMMON:"cut"===t.value&&(i=f.RhythmSymbolEnum.CUT));const r=e.attribute("print-object");r&&"no"===r.value&&(n=!1)}let s=0,o=0;const a=e&&void 0!==e.element("senza-misura"),h=t.elements("time"),d=[],p=[];for(let t=0,r=h.length;t<r;++t){const e=h[t];d.push.apply(d,e.elements("beats")),p.push.apply(p,e.elements("beat-type"))}if(a)this.abstractInstructions.push([1,new l.RhythmInstruction(new u.Fraction(4,4,0,!1),f.RhythmSymbolEnum.NONE)]);else{try{if(void 0!==d&&d.length>0&&void 0!==p&&d.length===p.length){const t=d.length,e=new Array(t);let i=0;for(let n=0;n<t;n++){const t=d[n].value;let r=0,s=0;if(-1!==t.indexOf("+")){const e=t.split("+");for(let t=0,i=e.length;t<i;++t)r+=parseInt(e[t],10)}else r=parseInt(t,10);s=parseInt(p[n].value,10),i=Math.max(i,s),e[n]=new u.Fraction(r,s,0,!1)}for(let n=0;n<t;n++)e[n].Denominator===i?s+=e[n].Numerator:s+=i/e[n].Denominator*e[n].Numerator;o=i}else s=parseInt(t.element("time").element("beats").value,10),o=parseInt(t.element("time").element("beat-type").value,10)}catch(t){r=c.ITextTranslation.translateText("ReaderErrorMessages/RhythmError","Invalid rhythm found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),s=4,o=4,m.default.debug("InstrumentReader.addAbstractInstruction",r,t)}const e=new l.RhythmInstruction(new u.Fraction(s,o,0,!1),i);e.PrintObject=n,this.abstractInstructions.push([1,e])}}}saveAbstractInstructionList(t,e){for(let i=this.abstractInstructions.length-1;i>=0;i--){const n=this.abstractInstructions[i],r=n[0],u=n[1];if(u instanceof o.ClefInstruction){const t=u;if(0===this.currentXmlMeasureIndex||r<=this.activeClefs.length&&t!==this.activeClefs[r-1])if(e||void 0===this.currentStaffEntry||this.currentStaffEntry.hasNotes()||r-1!==this.instrument.Staves.indexOf(this.currentStaffEntry.ParentStaff)){if(e){let e;if(this.currentMeasure){const n=t,a=this.inSourceMeasureInstrumentIndex+r-1,l=this.currentMeasure.FirstInstructionsStaffEntries[a];if(0===this.currentXmlMeasureIndex)if(l)if(void 0===this.currentMeasure.FirstInstructionsStaffEntries[a]||l.Instructions[0]instanceof o.ClefInstruction){const t=new s.SourceStaffEntry(void 0,void 0);this.currentMeasure.LastInstructionsStaffEntries[a]=t,n.Parent=t,t.Instructions.push(n)}else e=l,n.Parent=e,e.removeFirstInstructionOfTypeClefInstruction(),e.Instructions.splice(0,0,n),this.activeClefsHaveBeenInitialized[r-1]=!0;else e=new s.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[a]=e,n.Parent=e,e.Instructions.push(n),this.activeClefsHaveBeenInitialized[r-1]=!0;else if(this.activeClefsHaveBeenInitialized[r-1]){const t=new s.SourceStaffEntry(void 0,void 0);this.previousMeasure.LastInstructionsStaffEntries[a]=t,n.Parent=t,t.Instructions.push(n)}else{const t=this.musicSheet.SourceMeasures[0];t.FirstInstructionsStaffEntries[a]?(e=t.FirstInstructionsStaffEntries[a],e.removeFirstInstructionOfTypeClefInstruction()):e=new s.SourceStaffEntry(void 0,void 0),n.Parent=e,e.Instructions.splice(0,0,n),this.activeClefsHaveBeenInitialized[r-1]=!0}this.activeClefs[r-1]=t,this.abstractInstructions.splice(i,1)}}}else{const e=t;e.Parent=this.currentStaffEntry,this.currentStaffEntry.removeFirstInstructionOfTypeClefInstruction(),this.currentStaffEntry.Instructions.push(e),this.activeClefs[r-1]=t,this.abstractInstructions.splice(i,1)}else r<=this.activeClefs.length&&t===this.activeClefs[r-1]&&this.abstractInstructions.splice(i,1)}if(u instanceof a.KeyInstruction){const e=u;if(this.activeKey&&this.activeKey.Key===e.Key)this.abstractInstructions.splice(i,1);else{let n;if(this.activeKey=e,this.abstractInstructions.splice(i,1),this.activeKeyHasBeenInitialized?n=this.currentMeasure:(this.activeKeyHasBeenInitialized=!0,n=this.currentXmlMeasureIndex>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure),n)for(let i=this.inSourceMeasureInstrumentIndex;i<this.inSourceMeasureInstrumentIndex+t;i++){const t=e;if(n.FirstInstructionsStaffEntries[i]){const e=n.FirstInstructionsStaffEntries[i];t.Parent=e,e.removeFirstInstructionOfTypeKeyInstruction(),0===e.Instructions.length?e.Instructions.push(t):e.Instructions[0]instanceof o.ClefInstruction?e.Instructions.splice(1,0,t):e.Instructions.splice(0,0,t)}else{const e=new s.SourceStaffEntry(void 0,void 0);n.FirstInstructionsStaffEntries[i]=e,t.Parent=e,e.Instructions.push(t)}}}}if(u instanceof l.RhythmInstruction){const e=u;if(this.activeRhythm&&this.activeRhythm===e)this.abstractInstructions.splice(i,1);else if(this.activeRhythm=e,this.abstractInstructions.splice(i,1),this.currentMeasure)for(let i=this.inSourceMeasureInstrumentIndex;i<this.inSourceMeasureInstrumentIndex+t;i++){const t=e;let n;this.currentMeasure.FirstInstructionsStaffEntries[i]?(n=this.currentMeasure.FirstInstructionsStaffEntries[i],n.removeFirstInstructionOfTypeRhythmInstruction()):(n=new s.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[i]=n),t.Parent=n,n.Instructions.push(t)}}}}saveClefInstructionAtEndOfMeasure(){for(let t=this.abstractInstructions.length-1;t>=0;t--){const e=this.abstractInstructions[t][0],i=this.abstractInstructions[t][1];if(i instanceof o.ClefInstruction){const n=i;if(!this.activeClefs[e-1]||n.ClefType!==this.activeClefs[e-1].ClefType||n.ClefType===this.activeClefs[e-1].ClefType&&n.Line!==this.activeClefs[e-1].Line){const i=new s.SourceStaffEntry(void 0,void 0);this.currentMeasure.LastInstructionsStaffEntries[this.inSourceMeasureInstrumentIndex+e-1]=i;const r=n;r.Parent=i,i.Instructions.push(r),this.activeClefs[e-1]=n,this.abstractInstructions.splice(t,1)}}}}getNoteDurationForTuplet(t){let e=new u.Fraction(0,1);const i=this.getNoteDurationFromTypeNode(t);if(t.element("time-modification")){const n=t.element("time-modification");if(n&&void 0!==n.element("actual-notes")&&n.element("normal-notes")){const t=n.element("actual-notes"),r=n.element("normal-notes");if(void 0!==t&&r){const n=parseInt(t.value,10),s=parseInt(r.value,10);e=new u.Fraction(s*i.Numerator,n*i.Denominator)}}}return e}readExpressionStaffNumber(t){let e=1;if(t.element("staff")){const i=t.element("staff");if(i)try{e=parseInt(i.value,10)}catch(t){const i=c.ITextTranslation.translateText("ReaderErrorMessages/ExpressionStaffError","Invalid Expression staff number -> set to default.");this.musicSheet.SheetErrors.pushMeasureError(i),e=1,m.default.debug("InstrumentReader.readExpressionStaffNumber",i,t)}}return e}readDivisionsFromNotes(){let t=0,e=this.currentXmlMeasureIndex,i=!1;for(;!i;){const n=this.xmlMeasureList[e].elements();for(let e=0,r=n.length;e<r;++e){const r=n[e];if("note"===r.name&&!r.element("time-modification")){const e=r.element("duration"),i=r.element("type");if(void 0!==e&&i){const n=i.value;let r=0;try{r=parseInt(e.value,10)}catch(t){m.default.debug("InstrumentReader.readDivisionsFromNotes",t);continue}switch(n){case"1024th":t=r/4*1024;break;case"512th":t=r/4*512;break;case"256th":t=r/4*256;break;case"128th":t=r/4*128;break;case"64th":t=r/4*64;break;case"32nd":t=r/4*32;break;case"16th":t=r/4*16;break;case"eighth":t=r/4*8;break;case"quarter":t=r/4*4;break;case"half":t=r/4*2;break;case"whole":t=r/4;break;case"breve":t=r/4/2;break;case"long":t=r/4/4;break;case"maxima":t=r/4/8}}}if(t>0){i=!0;break}}if(0===t&&(e++,e===this.xmlMeasureList.length)){const t=c.ITextTranslation.translateText("ReaderErrorMEssages/DivisionsError","Invalid divisions value at Instrument: ");throw new h.MusicSheetReadingException(t+this.instrument.Name)}}return t}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(37),s=i(47),o=i(16),a=i(30),l=i(25),u=i(104),c=i(75),h=i(127),d=i(0),f=i(27),p=i(136),m=i(11),g=i(2),y=i(2),v=i(126),b=n(i(1)),_=i(2),S=i(24),w=i(137),T=i(62),x=i(103),E=i(185);e.VoiceGenerator=class{constructor(t,e,i,n){this.lastBeamTag="",this.openTieDict={},this.currentOctaveShift=0,this.tupletDict={},this.openTupletNumber=0,this.musicSheet=t.GetMusicSheet,this.slurReader=i,this.voice=n?new r.LinkedVoice(t,e,n):new s.Voice(t,e),t.Voices.push(this.voice),this.lyricsReader=new p.LyricsReader(this.musicSheet),this.articulationReader=new w.ArticulationReader}get GetVoice(){return this.voice}get OctaveShift(){return this.currentOctaveShift}set OctaveShift(t){this.currentOctaveShift=t}createVoiceEntry(t,e,i,n=!1,r=!1,s=!1){this.currentVoiceEntry=new o.VoiceEntry(t.clone(),this.voice,e,n,r,s),i&&this.voice.VoiceEntries.push(this.currentVoiceEntry),-1===e.VoiceEntries.indexOf(this.currentVoiceEntry)&&e.VoiceEntries.push(this.currentVoiceEntry)}read(t,e,i,n,r,s,o,a,l,u,c,h,p,m,g,y,v,b){this.currentStaffEntry=o,this.currentMeasure=a;try{this.currentNote=s?this.addRestNote(e,n,p,m,b):this.addSingleNote(t,e,n,i,r,c,h,p,m,g,y,v,b);const o=t.elements("lyric");void 0!==this.lyricsReader&&o&&(this.lyricsReader.addLyricEntry(o,this.currentVoiceEntry),this.voice.Parent.HasLyrics=!0);let a=!1;const f=t.element("notations");if(f){this.articulationReader&&this.readArticulations(f,this.currentVoiceEntry);const e=f.elements("slur");void 0!==this.slurReader&&e.length>0&&!this.currentNote.ParentVoiceEntry.IsGrace&&this.slurReader.addSlur(e,this.currentNote);const i=f.elements("tuplet");i.length>0&&(this.openTupletNumber=this.addTuplet(t,i),a=!0);const n=f.element("arpeggiate");if(void 0!==n&&!this.currentVoiceEntry.IsGrace){let t;if(this.currentVoiceEntry.Arpeggio)t=this.currentVoiceEntry.Arpeggio;else{let e=!1;for(const i of this.currentStaffEntry.VoiceEntries)if(i.Arpeggio){e=!0,t=i.Arpeggio;break}if(!e){let e=x.ArpeggioType.ARPEGGIO_DIRECTIONLESS;const i=n.attribute("direction");if(null!==i)switch(i.value){case"up":e=x.ArpeggioType.ROLL_UP;break;case"down":e=x.ArpeggioType.ROLL_DOWN;break;default:e=x.ArpeggioType.ARPEGGIO_DIRECTIONLESS}t=new x.Arpeggio(this.currentVoiceEntry,e),this.currentVoiceEntry.Arpeggio=t}}t.addNote(this.currentNote)}const r=f.elements("tied");r.length>0&&this.addTie(r,l,u);const s=this.openTieDict;for(const t in s)if(s.hasOwnProperty(t)){const e=s[t];d.Fraction.plus(e.StartNote.ParentStaffEntry.Timestamp,e.Duration).lt(this.currentStaffEntry.Timestamp)&&delete s[t]}}void 0===t.element("time-modification")||a||this.handleTimeModificationNode(t)}catch(t){const e=f.ITextTranslation.translateText("ReaderErrorMessages/NoteError","Ignored erroneous Note.");this.musicSheet.SheetErrors.pushMeasureError(e)}return this.currentNote}checkForStaffEntryLink(t,e,i,n){const r=new v.StaffEntryLink(this.currentVoiceEntry);r.LinkStaffEntries.push(i),i.Link=r;const s=this.currentVoiceEntry.Timestamp.clone(),o=n.getVerticalContainerByTimestamp(s);return(i=o.StaffEntries[t])||(i=new l.SourceStaffEntry(o,e),o.StaffEntries[t]=i),i.VoiceEntries.push(this.currentVoiceEntry),r.LinkStaffEntries.push(i),i.Link=r,i}checkForOpenBeam(){void 0!==this.openBeam&&this.currentNote&&this.handleOpenBeam()}checkOpenTies(){const t=this.openTieDict;for(const e in t)if(t.hasOwnProperty(e)){const i=t[e];d.Fraction.plus(i.StartNote.ParentStaffEntry.Timestamp,i.Duration).lt(i.StartNote.ParentStaffEntry.VerticalContainerParent.ParentMeasure.Duration)&&delete t[e]}}hasVoiceEntry(){return void 0!==this.currentVoiceEntry}getNoteDurationFromType(t){switch(t){case"1024th":return new d.Fraction(1,1024);case"512th":return new d.Fraction(1,512);case"256th":return new d.Fraction(1,256);case"128th":return new d.Fraction(1,128);case"64th":return new d.Fraction(1,64);case"32th":case"32nd":return new d.Fraction(1,32);case"16th":return new d.Fraction(1,16);case"eighth":return new d.Fraction(1,8);case"quarter":return new d.Fraction(1,4);case"half":return new d.Fraction(1,2);case"whole":return new d.Fraction(1,1);case"breve":return new d.Fraction(2,1);case"long":return new d.Fraction(4,1);case"maxima":return new d.Fraction(8,1);default:{const t=f.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid note duration.");throw new m.MusicSheetReadingException(t)}}}readArticulations(t,e){const i=t.element("articulations");i&&this.articulationReader.addArticulationExpression(i,e);const n=t.element("fermata");n&&this.articulationReader.addFermata(n,e);const r=t.element("technical");r&&this.articulationReader.addTechnicalArticulations(r,e);const s=t.element("ornaments");s&&this.articulationReader.addOrnament(s,e)}addSingleNote(t,e,i,n,r,s,o,l,u,c,h,p,v){let S=0,w=g.AccidentalEnum.NONE,x=y.NoteEnum.C,C=0,A=void 0,P=void 0,M=void 0;const k=t.elements();for(let a=0,d=k.length;a<d;++a){const e=k[a];try{if("pitch"===e.name){const i=e.elements();for(let e=0,n=i.length;e<n;++e){const n=i[e];P=void 0,M=void 0;try{if("step"===n.name){if(x=y.NoteEnum[n.value],void 0===x){const t=f.ITextTranslation.translateText("ReaderErrorMessages/NotePitchError","Invalid pitch while reading note.");throw this.musicSheet.SheetErrors.pushMeasureError(t),new m.MusicSheetReadingException(t,void 0)}}else if("alter"===n.name){if(S=parseFloat(n.value),isNaN(S)){const t=f.ITextTranslation.translateText("ReaderErrorMessages/NoteAlterationError","Invalid alteration while reading note.");throw this.musicSheet.SheetErrors.pushMeasureError(t),new m.MusicSheetReadingException(t,void 0)}w=_.Pitch.AccidentalFromHalfTones(S)}else if("octave"===n.name&&(C=parseInt(n.value,10),isNaN(C))){const t=f.ITextTranslation.translateText("ReaderErrorMessages/NoteOctaveError","Invalid octave value while reading note.");throw this.musicSheet.SheetErrors.pushMeasureError(t),new m.MusicSheetReadingException(t,void 0)}}catch(t){b.default.info("VoiceGenerator.addSingleNote read Step: ",t.message)}}}else if("accidental"===e.name)"natural"===e.value&&(w=g.AccidentalEnum.NATURAL);else if("unpitched"===e.name){const t=e.element("display-step");t&&(x=y.NoteEnum[t.value.toUpperCase()]);const i=e.element("display-octave");i&&(C=parseInt(i.value,10),o&&(C+=1))}else"instrument"===e.name?e.firstAttribute&&(A=e.firstAttribute.value):"notehead"===e.name&&(P=e.value,null!==e.attribute("filled")&&(M="yes"===e.attribute("filled").value))}catch(t){b.default.info("VoiceGenerator.addSingleNote: ",t)}}C-=_.Pitch.OctaveXmlDifference;const L=new _.Pitch(x,C,w),I=d.Fraction.createFromFraction(e);let O=void 0,R=-1,N=-1;const D=t.element("notations");if(D){const t=D.element("technical");if(t){const e=t.element("string");e&&(R=parseInt(e.value,10));const i=t.element("fret");i&&(N=parseInt(i.value,10))}}return O=R<0||N<0?new a.Note(this.currentVoiceEntry,this.currentStaffEntry,I,L):new E.TabNote(this.currentVoiceEntry,this.currentStaffEntry,I,L,R,N),O.TypeLength=n,O.NoteTypeXml=i,O.NormalNotes=r,O.PrintObject=l,O.IsCueNote=u,O.StemDirectionXml=c,O.TremoloStrokes=h,(void 0!==P&&"normal"!==P||void 0!==M)&&(O.Notehead=new T.Notehead(O,P,M)),O.NoteheadColorXml=v,O.NoteheadColor=v,O.PlaybackInstrumentId=A,this.currentVoiceEntry.Notes.push(O),this.currentVoiceEntry.StemDirectionXml=c,p&&(this.currentVoiceEntry.StemColorXml=p,this.currentVoiceEntry.StemColor=p,O.StemColorXml=p),t.elements("beam")&&!s&&this.createBeam(t,O),O}addRestNote(t,e,i,n,r){const s=d.Fraction.createFromFraction(t),o=new a.Note(this.currentVoiceEntry,this.currentStaffEntry,s,void 0);return o.NoteTypeXml=e,o.PrintObject=i,o.IsCueNote=n,o.NoteheadColorXml=r,o.NoteheadColor=r,this.currentVoiceEntry.Notes.push(o),this.openBeam&&this.openBeam.ExtendedNoteList.push(o),o}createBeam(t,e){try{const i=t.element("beam");let n=void 0;if(void 0!==i&&i.hasAttributes&&(n=i.attribute("number")),n){const i=parseInt(n.value,10),r=t.elements("beam"),s=r[0].value;1===i&&r&&("begin"===s&&this.lastBeamTag!==s&&(this.openBeam&&this.handleOpenBeam(),this.openBeam=new u.Beam),this.lastBeamTag=s);let o=!1;if(!this.openBeam)return;for(let t=0,e=this.openBeam.Notes.length;t<e;++t){const e=this.openBeam.Notes[t];this.currentVoiceEntry===e.ParentVoiceEntry&&(o=!0)}o||(this.openBeam.addNoteToBeam(e),"end"===s&&1===i&&(this.openBeam=void 0))}}catch(t){const e=f.ITextTranslation.translateText("ReaderErrorMessages/BeamError","Error while reading beam.");throw this.musicSheet.SheetErrors.pushMeasureError(e),new m.MusicSheetReadingException("",t)}}handleOpenBeam(){if(1===this.openBeam.Notes.length)return this.openBeam.Notes[0].NoteBeam=void 0,void(this.openBeam=void 0);if(this.currentNote===S.CollectionUtil.last(this.openBeam.Notes))this.openBeam=void 0;else{const t=S.CollectionUtil.last(this.openBeam.Notes).ParentStaffEntry,e=this.currentMeasure.getVerticalContainerIndexByTimestamp(t.Timestamp),i=t.VerticalContainerParent.StaffEntries.indexOf(t);if(e<this.currentMeasure.VerticalSourceStaffEntryContainers.length-1){const t=this.currentMeasure.VerticalSourceStaffEntryContainers[e+1].StaffEntries[i];if(t)for(let e=0,i=t.VoiceEntries.length;e<i;++e){const i=t.VoiceEntries[e];if(i.ParentVoice===this.voice){const t=i.Notes[0];t.Length.lte(new d.Fraction(1,8))?(this.openBeam.addNoteToBeam(t),this.openBeam=void 0):this.openBeam=void 0}}}else this.openBeam=void 0}}addTuplet(t,e){let i=!1;if(void 0!==e&&e.length>1){let n=t.element("time-modification");n&&(n=n.element("actual-notes"));const r=e;for(let e=0,s=r.length;e<s;++e){const s=r[e];if(void 0!==s&&s.attributes()){const e=s.attribute("bracket");e&&"yes"===e.value&&(i=!0);const r=s.attribute("type");if(r&&"start"===r.value){let e=1;s.attribute("number")&&(e=parseInt(s.attribute("number").value,10));let r=0;if(n&&(r=parseInt(n.value,10),isNaN(r))){const t=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNoteDurationError","Invalid tuplet note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(t),new m.MusicSheetReadingException(t,void 0)}const o=new h.Tuplet(r,i);this.tupletDict[e]&&(delete this.tupletDict[e],0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--),this.tupletDict[e]=o;const a=[];a.push(this.currentNote),o.Notes.push(a),o.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=o,this.openTupletNumber=e}else if("stop"===r.value){let e=1;s.attribute("number")&&(e=parseInt(s.attribute("number").value,10));const i=this.tupletDict[e];if(i){const n=[];n.push(this.currentNote),i.Notes.push(n),i.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=i,delete this.tupletDict[e],0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--}}}}}else if(e[0]){const n=e[0];if(n.hasAttributes){const e=n.attribute("type").value;let r=1;n.attribute("number")&&(r=parseInt(n.attribute("number").value,10));const s=isNaN(r),o=n.attribute("bracket");if(o&&"yes"===o.value&&(i=!0),"start"===e){let e=0,n=t.element("time-modification");if(n&&(n=n.element("actual-notes")),n&&(e=parseInt(n.value,10),isNaN(e))){const t=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNoteDurationError","Invalid tuplet note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(t),new m.MusicSheetReadingException(t)}s&&(this.openTupletNumber++,r=this.openTupletNumber);let o=this.tupletDict[r];o||(o=this.tupletDict[r]=new h.Tuplet(e,i));const a=[];a.push(this.currentNote),o.Notes.push(a),o.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=o,this.openTupletNumber=r}else if("stop"===e){s&&(r=this.openTupletNumber);const e=this.tupletDict[this.openTupletNumber];if(e){const i=[];i.push(this.currentNote),e.Notes.push(i),e.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=e,0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--,delete this.tupletDict[r]}}}}return this.openTupletNumber}handleTimeModificationNode(t){if(this.tupletDict[this.openTupletNumber])try{const e=this.tupletDict[this.openTupletNumber],i=S.CollectionUtil.last(e.Notes);let n;i[0].ParentVoiceEntry.Timestamp.Equals(this.currentVoiceEntry.Timestamp)?n=i:(n=[],e.Notes.push(n),e.Fractions.push(this.getTupletNoteDurationFromType(t))),n.push(this.currentNote),this.currentNote.NoteTuplet=e}catch(t){const e=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNumberError","Invalid tuplet number.");throw this.musicSheet.SheetErrors.pushMeasureError(e),t}else if(this.currentVoiceEntry.Notes.length>0){const t=this.currentVoiceEntry.Notes[0];if(t.NoteTuplet){const e=t.NoteTuplet;S.CollectionUtil.last(e.Notes).push(this.currentNote),this.currentNote.NoteTuplet=e}}}addTie(t,e,i){if(t)if(1===t.length){const e=t[0];if(void 0!==e&&e.attributes()){const n=e.attribute("type").value;try{if("start"===n){const t=this.findCurrentNoteInTieDict(this.currentNote);t<0&&delete this.openTieDict[t];const e=this.getNextAvailableNumberForTie(),i=new c.Tie(this.currentNote);this.openTieDict[e]=i}else if("stop"===n){const t=this.findCurrentNoteInTieDict(this.currentNote),e=this.openTieDict[t];e&&(e.AddNote(this.currentNote),i.lt(d.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))&&(i=d.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length)),delete this.openTieDict[t])}}catch(t){const e=f.ITextTranslation.translateText("ReaderErrorMessages/TieError","Error while reading tie.");this.musicSheet.SheetErrors.pushMeasureError(e)}}}else if(2===t.length){const t=this.findCurrentNoteInTieDict(this.currentNote);t>=0&&(this.openTieDict[t].AddNote(this.currentNote),i.lt(d.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))&&(i=d.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length)))}}getNextAvailableNumberForTie(){const t=Object.keys(this.openTieDict);if(0===t.length)return 1;t.sort((t,e)=>+t-+e);for(let e=0;e<t.length;e++)if(""+(e+1)!==t[e])return e+1;return+t[t.length-1]+1}findCurrentNoteInTieDict(t){const e=this.openTieDict;for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];if(n.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&n.Pitch.Octave===t.Pitch.Octave)return+i}return-1}getTupletNoteDurationFromType(t){if(t.element("type")){const e=t.element("type");if(e){const i=e.value;try{return this.getNoteDurationFromType(i)}catch(t){const e=f.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(e),new m.MusicSheetReadingException("",t)}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(183),r=i(184),s=i(27);e.LyricsReader=class{constructor(t){this.openLyricWords={},this.musicSheet=t}addLyricEntry(t,e){if(t){const i=t;for(let o=0,a=i.length;o<a;++o){const a=i[o];try{let i="single";if(a.element("text")){let o=a.element("text");if(a.element("syllabic")&&(i=a.element("syllabic").value),o){const l=o.value;if(void 0!==a.element("elision")&&"-"===l){const t=a.elements();let e=0;for(let i=0;i<t.length;i++)if("elision"===t[i].name){e=i;break}let n=void 0,r=void 0;if(e>0)for(let i=e;i<t.length;i++){const e=t[i];"text"===e.name&&(n=e),"syllabic"===e.name&&(r=e)}void 0!==n&&r&&(o=n,i="middle")}let u=1,c=!1;if(void 0!==a.attributes()&&a.attribute("number")){try{u=parseInt(a.attribute("number").value,10)}catch(t){c=!0}if(c=c||isNaN(u),c)try{const t=a.attribute("number").value.toLowerCase().split("verse");t.length>1&&(u=parseInt(t[1],10))}catch(t){const e=s.ITextTranslation.translateText("ReaderErrorMessages/LyricVerseNumberError","Invalid lyric verse number");this.musicSheet.SheetErrors.pushMeasureError(e);continue}}let h=void 0;if("single"===i||"end"===i){if(this.openLyricWords[u]){this.currentLyricWord=this.openLyricWords[u];const t=this.currentLyricWord.Syllables.length;h=new r.LyricsEntry(l,u,this.currentLyricWord,e,t),this.currentLyricWord.Syllables.push(h),delete this.openLyricWords[u],this.currentLyricWord=void 0}else h=new r.LyricsEntry(l,u,void 0,e);h.extend=void 0!==a.element("extend")}else if("begin"===i)this.openLyricWords[u]&&(delete this.openLyricWords[u],this.currentLyricWord=void 0),this.currentLyricWord=new n.LyricWord,this.openLyricWords[u]=this.currentLyricWord,h=new r.LyricsEntry(l,u,this.currentLyricWord,e,0),this.currentLyricWord.Syllables.push(h);else if("middle"===i)if(this.openLyricWords[u]){this.currentLyricWord=this.openLyricWords[u];const t=this.currentLyricWord.Syllables.length;h=new r.LyricsEntry(l,u,this.currentLyricWord,e,t),this.currentLyricWord.Syllables.push(h)}else h=new r.LyricsEntry(l,u,void 0,e);h&&(e.LyricsEntries[u]||e.LyricsEntries.setValue(u,h),e.ParentVoice.Parent.LyricVersesNumbers[u]||e.ParentVoice.Parent.LyricVersesNumbers.push(u))}}}catch(t){const e=s.ITextTranslation.translateText("ReaderErrorMessages/LyricError","Error while reading lyric entry.");this.musicSheet.SheetErrors.pushMeasureError(e);continue}}e.ParentVoice.Parent.LyricVersesNumbers=e.ParentVoice.Parent.LyricVersesNumbers.filter((t,e,i)=>i.indexOf(t)===e)}}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(16),s=n(i(1)),o=i(74),a=i(46),l=i(6),u=i(2);e.ArticulationReader=class{getAccEnumFromString(t){switch(t){case"sharp":return u.AccidentalEnum.SHARP;case"flat":return u.AccidentalEnum.FLAT;case"natural":return u.AccidentalEnum.NATURAL;case"double-sharp":case"sharp-sharp":return u.AccidentalEnum.DOUBLESHARP;case"double-flat":case"flat-flat":return u.AccidentalEnum.DOUBLEFLAT;case"quarter-sharp":return u.AccidentalEnum.QUARTERTONESHARP;case"quarter-flat":return u.AccidentalEnum.QUARTERTONEFLAT;case"triple-sharp":return u.AccidentalEnum.TRIPLESHARP;case"triple-flat":return u.AccidentalEnum.TRIPLEFLAT;default:return u.AccidentalEnum.NONE}}addArticulationExpression(t,e){if(void 0!==t&&t.elements().length>0){const i=t.elements();for(let n=0,o=i.length;n<o;++n){const o=i[n].name;try{o.replace("-","");const t=r.ArticulationEnum[o];r.VoiceEntry.isSupportedArticulation(t)&&("staccato"===o&&e.Articulations.length>0&&e.Articulations[0]!==r.ArticulationEnum.staccato&&e.Articulations.splice(0,0,t),-1===e.Articulations.indexOf(t)&&e.Articulations.push(t))}catch(t){const e="Invalid note articulation.";return void s.default.debug("addArticulationExpression",e,t)}}}}addFermata(t,e){let i=r.ArticulationEnum.fermata;t.attributes().length>0&&t.attribute("type")&&"inverted"===t.attribute("type").value&&(i=r.ArticulationEnum.invertedfermata),e.Articulations.push(i)}addTechnicalArticulations(t,e){const i={"down-bow":r.ArticulationEnum.downbow,"open-string":r.ArticulationEnum.naturalharmonic,"snap-pizzicato":r.ArticulationEnum.snappizzicato,stopped:r.ArticulationEnum.lefthandpizzicato,"up-bow":r.ArticulationEnum.upbow};for(const r in i){if(!i.hasOwnProperty(r))continue;const n=i[r];t.element(r)&&-1===e.Articulations.indexOf(n)&&e.Articulations.push(n)}const n=t.element("fingering");if(n){const t=new o.TechnicalInstruction;t.type=o.TechnicalInstructionType.Fingering,t.value=n.value,t.placement=l.PlacementEnum.NotYetDefined;const i=n.attribute("placement");if(null!=i)switch(i.value){case"above":t.placement=l.PlacementEnum.Above;break;case"below":t.placement=l.PlacementEnum.Below;break;case"left":t.placement=l.PlacementEnum.Left;break;case"right":t.placement=l.PlacementEnum.Right;break;default:t.placement=l.PlacementEnum.NotYetDefined}e.TechnicalInstructions.push(t)}}addOrnament(t,e){if(t){let i=void 0;const n={"delayed-inverted-turn":a.OrnamentEnum.DelayedInvertedTurn,"delayed-turn":a.OrnamentEnum.DelayedTurn,"inverted-mordent":a.OrnamentEnum.InvertedMordent,"inverted-turn":a.OrnamentEnum.InvertedTurn,mordent:a.OrnamentEnum.Mordent,"trill-mark":a.OrnamentEnum.Trill,turn:a.OrnamentEnum.Turn};for(const e in n)n.hasOwnProperty(e)&&t.element(e)&&(i=new a.OrnamentContainer(n[e]));if(i){const n=t.elements("accidental-mark");if(n){let t=l.PlacementEnum.Below,e=u.AccidentalEnum.NONE;const r=n;for(let n=0,s=r.length;n<s;++n){const s=r[n];let o=s.value;e=this.getAccEnumFromString(o);const a=s.attribute("placement");s.hasAttributes&&a&&(o=a.value,"above"===o?t=l.PlacementEnum.Above:"below"===o&&(t=l.PlacementEnum.Below)),t===l.PlacementEnum.Above?i.AccidentalAbove=e:t===l.PlacementEnum.Below&&(i.AccidentalBelow=e)}}e.OrnamentContainer=i}}}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(44),s=i(2),o=i(27),a=n(i(1));e.ChordSymbolReader=class{static readChordSymbol(t,e,i){const n=t.element("root"),l=t.element("kind"),u=l.attribute("text");if(!n||!l)return;const c=n.element("root-step"),h=n.element("root-alter");if(!c)return;let d;try{d=s.NoteEnum[c.value.trim()]}catch(t){const i=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");return e.SheetErrors.pushMeasureError(i),void a.default.debug("InstrumentReader.readChordSymbol",i,t)}let f=s.AccidentalEnum.NONE;if(h)try{f=s.Pitch.AccidentalFromHalfTones(parseInt(h.value,void 0))}catch(t){const i=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");e.SheetErrors.pushMeasureError(i),a.default.debug("InstrumentReader.readChordSymbol",i,t)}const p=new s.Pitch(d,1,f);let m,g=l.value.trim().replace("-","");if(u)switch(u.value){case"aug":g="augmented";break;case"dim":g="diminished"}try{m=r.ChordSymbolEnum[g]}catch(t){const i=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");return e.SheetErrors.pushMeasureError(i),void a.default.debug("InstrumentReader.readChordSymbol",i,t)}let y=void 0;const v=t.element("bass");if(v){const i=v.element("bass-step"),n=v.element("bass-alter");let r=s.NoteEnum.C;if(i)try{r=s.NoteEnum[i.value.trim()]}catch(t){const i=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");return e.SheetErrors.pushMeasureError(i),void a.default.debug("InstrumentReader.readChordSymbol",i,t)}let l=s.AccidentalEnum.NONE;if(n)try{l=s.Pitch.AccidentalFromHalfTones(parseInt(n.value,void 0))}catch(t){const i=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");e.SheetErrors.pushMeasureError(i),a.default.debug("InstrumentReader.readChordSymbol",i,t)}y=new s.Pitch(r,1,l)}let b=void 0;const _=t.element("degree");if(_){const i=_.element("degree-value"),n=_.element("degree-alter"),l=_.element("degree-type");if(!i||!n||!l)return;let u,c,h;try{u=parseInt(i.value.trim(),void 0)}catch(t){const i=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");return e.SheetErrors.pushMeasureError(i),void a.default.debug("InstrumentReader.readChordSymbol",i,t)}try{c=s.Pitch.AccidentalFromHalfTones(parseInt(n.value,void 0))}catch(t){const i=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");return e.SheetErrors.pushMeasureError(i),void a.default.debug("InstrumentReader.readChordSymbol",i,t)}try{h=r.ChordDegreeText[l.value.trim().toLowerCase()]}catch(t){const i=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");return e.SheetErrors.pushMeasureError(i),void a.default.debug("InstrumentReader.readChordSymbol",i,t)}b=new r.Degree(u,c,h)}return new r.ChordSymbolContainer(p,m,y,b,e.Rules)}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(186),o=i(33),a=i(58),l=i(51),u=i(31),c=i(187),h=i(57),d=i(140),f=i(141),p=i(6),m=i(7),g=i(27),y=n(i(1));e.ExpressionReader=class{constructor(t,e,i){this.musicSheet=t,this.staffNumber=i,this.globalStaffIndex=t.getGlobalStaffIndexOfFirstStaff(e)+(i-1),this.initialize()}readExpressionParameters(t,e,i,n,s,o,a){this.initialize();const l=t.element("offset");if(void 0!==l&&!a)try{this.offsetDivisions=parseInt(l.value,10)}catch(t){const e="ReaderErrorMessages/ExpressionOffsetError, Invalid expression offset -> set to default.";y.default.debug("ExpressionReader.readExpressionParameters",e,t),this.musicSheet.SheetErrors.pushMeasureError(e),this.offsetDivisions=0}this.directionTimestamp=r.Fraction.createFromFraction(n);let u=new r.Fraction(Math.abs(this.offsetDivisions),4*i);this.offsetDivisions>0?n.RealValue>0?(u=r.Fraction.multiply(r.Fraction.minus(n,s),u),this.directionTimestamp=r.Fraction.plus(u,n)):this.directionTimestamp=r.Fraction.createFromFraction(u):this.offsetDivisions<0&&(n.RealValue>0?(u=r.Fraction.multiply(r.Fraction.minus(n,s),u),this.directionTimestamp=r.Fraction.minus(n,u)):this.directionTimestamp=r.Fraction.createFromFraction(u));const c=t.attribute("placement");if(null!=c)try{const t=c.value;"below"===t?this.placement=p.PlacementEnum.Below:"above"===t&&(this.placement=p.PlacementEnum.Above)}catch(t){const e=g.ITextTranslation.translateText("ReaderErrorMessages/ExpressionPlacementError","Invalid expression placement -> set to default.");y.default.debug("ExpressionReader.readExpressionParameters",e,t),this.musicSheet.SheetErrors.pushMeasureError(e),this.placement=p.PlacementEnum.Below}if(this.placement===p.PlacementEnum.NotYetDefined)try{const e=t.element("direction-type");if(e){const t=e.element("dynamics");if(t){const e=t.attribute("default-y");null!=e&&this.readExpressionPlacement(e,"read dynamics y pos")}const i=e.element("wedge");if(i){const t=i.attribute("default-y");null!=t&&this.readExpressionPlacement(t,"read wedge y pos")}const n=e.element("words");if(n){const t=n.attribute("default-y");null!=t&&this.readExpressionPlacement(t,"read words y pos")}}}catch(t){const e=g.ITextTranslation.translateText("ReaderErrorMessages/ExpressionPlacementError","Invalid expression placement -> set to default.");y.default.debug("ExpressionReader.readExpressionParameters",e,t),this.musicSheet.SheetErrors.pushMeasureError(e),this.placement=p.PlacementEnum.Below}this.placement===p.PlacementEnum.NotYetDefined&&(e.Staves.length>1?this.placement=p.PlacementEnum.Below:e.HasLyrics?this.placement=p.PlacementEnum.Above:this.placement=p.PlacementEnum.Below)}read(t,e,i){let n=!1,s=!1;const o=t.element("sound");if(o){const t=o.attribute("tempo"),i=o.attribute("dynamics");if(t){const i=t.value.match(/\d+/);this.soundTempo=void 0!==i?parseInt(i[0],10):100,e.TempoInBPM=this.soundTempo,this.musicSheet.HasBPMInfo=!0,n=!0}if(i){const t=i.value.match(/\d+/);this.soundDynamic=void 0!==t?parseInt(t[0],10):100,s=!0}}const a=t.element("direction-type");if(!a)return;let l=a.element("metronome");if(l){const t=l.element("beat-unit"),n=void 0!==l.element("beat-unit-dot"),s=l.element("per-minute");if(void 0!==t&&s){l.hasAttributes&&void 0!==l.attribute("default-x")&&(this.directionTimestamp=r.Fraction.createFromFraction(i));const o=parseInt(s.value,10);this.createNewTempoExpressionIfNeeded(e);const a=new h.InstantaneousTempoExpression(void 0,this.placement,this.staffNumber,o,this.currentMultiTempoExpression,!0);this.soundTempo=o,e.TempoInBPM=this.soundTempo,this.musicSheet.HasBPMInfo=!0,a.dotted=n,a.beatUnit=t.value,this.currentMultiTempoExpression.addExpression(a,""),this.currentMultiTempoExpression.CombinedExpressionsText="test"}}else if(l=a.element("dynamics"),l){const n=void 0!==t.element("notations");this.interpretInstantaneousDynamics(l,e,i,n)}else if(l=a.element("words"),l)if(n){this.createNewTempoExpressionIfNeeded(e),this.currentMultiTempoExpression.CombinedExpressionsText=l.value;const t=new h.InstantaneousTempoExpression(l.value,this.placement,this.staffNumber,this.soundTempo,this.currentMultiTempoExpression);this.currentMultiTempoExpression.addExpression(t,"")}else s||this.interpretWords(l,e,i);else l=a.element("wedge"),l&&this.interpretWedge(l,e,i,e.MeasureNumber)}checkForOpenExpressions(t,e){this.openContinuousDynamicExpression&&(this.createNewMultiExpressionIfNeeded(t,e),this.closeOpenContinuousDynamic()),this.openContinuousTempoExpression&&this.closeOpenContinuousTempo(r.Fraction.plus(t.AbsoluteTimestamp,e))}addOctaveShift(t,e,i){let n=1;const r=t.element("staff");if(r)try{n=parseInt(r.value,10)}catch(t){const e=g.ITextTranslation.translateText("ReaderErrorMessages/OctaveShiftStaffError","Invalid octave shift staff number -> set to default");this.musicSheet.SheetErrors.pushMeasureError(e),n=1,y.default.debug("ExpressionReader.addOctaveShift",e,t)}const s=t.element("direction-type");if(s){const r=s.element("octave-shift");if(void 0!==r&&r.hasAttributes)try{if(r.attribute("size")){const t=parseInt(r.attribute("size").value,10);let s=0;if(8===t?s=1:15===t&&(s=2),r.attribute("type")){const t=r.attribute("type").value;if("up"===t||"down"===t){const i=new u.OctaveShift(t,s);i.StaffNumber=n,this.createNewMultiExpressionIfNeeded(e),this.getMultiExpression.OctaveShiftStart=i,i.ParentStartMultiExpression=this.getMultiExpression,this.openOctaveShift=i}else"stop"===t&&this.openOctaveShift&&(this.createNewMultiExpressionIfNeeded(e,i),this.getMultiExpression.OctaveShiftEnd=this.openOctaveShift,this.openOctaveShift.ParentEndMultiExpression=this.getMultiExpression,this.openOctaveShift=void 0)}}}catch(t){const e=g.ITextTranslation.translateText("ReaderErrorMessages/OctaveShiftError","Error while reading octave shift.");this.musicSheet.SheetErrors.pushMeasureError(e),y.default.debug("ExpressionReader.addOctaveShift",e,t)}}}initialize(){this.placement=p.PlacementEnum.NotYetDefined,this.soundTempo=0,this.soundDynamic=0,this.offsetDivisions=0}readExpressionPlacement(t,e){try{const e=parseInt(t.value,10);e<0?this.placement=p.PlacementEnum.Below:e>0&&(this.placement=p.PlacementEnum.Above)}catch(t){y.default.debug("ExpressionReader.readExpressionParameters",e,t)}}interpretInstantaneousDynamics(t,e,i,n){if(t.hasElements){t.hasAttributes&&t.attribute("default-x")&&(this.directionTimestamp=r.Fraction.createFromFraction(i));let s=t.elements()[0].name;if("other-dynamics"===s&&(s=t.elements()[0].value),s){n?this.createNewMultiExpressionIfNeeded(e,r.Fraction.createFromFraction(i)):this.createNewMultiExpressionIfNeeded(e),void 0!==this.openContinuousDynamicExpression&&this.openContinuousDynamicExpression.StartMultiExpression!==this.getMultiExpression&&this.closeOpenContinuousDynamic();const t=new l.InstantaneousDynamicExpression(s,this.soundDynamic,this.placement,this.staffNumber,e);this.getMultiExpression.addExpression(t,""),this.initialize(),this.activeInstantaneousDynamic?this.activeInstantaneousDynamic.DynEnum=t.DynEnum:this.activeInstantaneousDynamic=new l.InstantaneousDynamicExpression(s,0,p.PlacementEnum.NotYetDefined,1,e)}}}interpretWords(t,e,i){const n=t.value;if(n.length>0){if(t.hasAttributes&&t.attribute("default-x")&&(this.directionTimestamp=r.Fraction.createFromFraction(i)),this.checkIfWordsNodeIsRepetitionInstruction(n))return;this.fillMultiOrTempoExpression(n,e),this.initialize()}}interpretWedge(t,e,i,n){void 0!==t&&t.hasAttributes&&t.attribute("default-x")&&(this.directionTimestamp=r.Fraction.createFromFraction(i)),this.createNewMultiExpressionIfNeeded(e),this.addWedge(t,e),this.initialize()}createNewMultiExpressionIfNeeded(t,e){e||(e=this.directionTimestamp),(!this.getMultiExpression||this.getMultiExpression&&(this.getMultiExpression.SourceMeasureParent!==t||this.getMultiExpression.SourceMeasureParent===t&&this.getMultiExpression.Timestamp!==e))&&(this.getMultiExpression=new c.MultiExpression(t,r.Fraction.createFromFraction(e)),t.StaffLinkedExpressions[this.globalStaffIndex].push(this.getMultiExpression))}createNewTempoExpressionIfNeeded(t){this.currentMultiTempoExpression&&this.currentMultiTempoExpression.SourceMeasureParent===t&&this.currentMultiTempoExpression.Timestamp===this.directionTimestamp||(this.currentMultiTempoExpression=new s.MultiTempoExpression(t,r.Fraction.createFromFraction(this.directionTimestamp)),t.TempoExpressions.push(this.currentMultiTempoExpression))}addWedge(t,e){if(void 0!==t&&t.hasAttributes){const i=t.attribute("type").value.toLowerCase();try{if("crescendo"===i||"diminuendo"===i){const t=new o.ContinuousDynamicExpression(o.ContDynamicEnum[i],this.placement,this.staffNumber,e);this.openContinuousDynamicExpression&&this.closeOpenContinuousDynamic(),this.openContinuousDynamicExpression=t,this.getMultiExpression.StartingContinuousDynamic=t,t.StartMultiExpression=this.getMultiExpression,void 0!==this.activeInstantaneousDynamic&&this.activeInstantaneousDynamic.StaffNumber===t.StaffNumber&&(this.activeInstantaneousDynamic=void 0)}else"stop"===i&&this.openContinuousDynamicExpression&&this.closeOpenContinuousDynamic()}catch(t){const e="ReaderErrorMessages/WedgeError, Error while reading Crescendo / Diminuendo.";this.musicSheet.SheetErrors.pushMeasureError(e),y.default.debug("ExpressionReader.addWedge",e,t)}}}fillMultiOrTempoExpression(t,e){if(!t)return;const i=t.trim();this.createExpressionFromString("",i,e,t)}createExpressionFromString(t,e,i,n){if(h.InstantaneousTempoExpression.isInputStringInstantaneousTempo(e)||a.ContinuousTempoExpression.isInputStringContinuousTempo(e)){if(i.TempoExpressions.length>0)for(let t=0,n=i.TempoExpressions.length;t<n;++t){const n=i.TempoExpressions[t];if(n.Timestamp===this.directionTimestamp&&void 0!==n.InstantaneousTempo&&-1!==n.InstantaneousTempo.Label.indexOf(e))return!1}if(this.createNewTempoExpressionIfNeeded(i),this.currentMultiTempoExpression.CombinedExpressionsText=n,h.InstantaneousTempoExpression.isInputStringInstantaneousTempo(e)){const i=new h.InstantaneousTempoExpression(e,this.placement,this.staffNumber,this.soundTempo,this.currentMultiTempoExpression);return this.currentMultiTempoExpression.addExpression(i,t),!0}if(a.ContinuousTempoExpression.isInputStringContinuousTempo(e)){const i=new a.ContinuousTempoExpression(e,this.placement,this.staffNumber,this.currentMultiTempoExpression);return this.currentMultiTempoExpression.addExpression(i,t),!0}}if(l.InstantaneousDynamicExpression.isInputStringInstantaneousDynamic(e)||o.ContinuousDynamicExpression.isInputStringContinuousDynamic(e)){if(this.createNewMultiExpressionIfNeeded(i),l.InstantaneousDynamicExpression.isInputStringInstantaneousDynamic(e)){void 0===this.openContinuousDynamicExpression||this.openContinuousDynamicExpression.EndMultiExpression||this.closeOpenContinuousDynamic();const n=new l.InstantaneousDynamicExpression(e,this.soundDynamic,this.placement,this.staffNumber,i);return this.getMultiExpression.addExpression(n,t),!0}if(o.ContinuousDynamicExpression.isInputStringContinuousDynamic(e)){const n=new o.ContinuousDynamicExpression(void 0,this.placement,this.staffNumber,i,e);return void 0===this.openContinuousDynamicExpression||this.openContinuousDynamicExpression.EndMultiExpression||this.closeOpenContinuousDynamic(),void 0!==this.activeInstantaneousDynamic&&this.activeInstantaneousDynamic.StaffNumber===n.StaffNumber&&(this.activeInstantaneousDynamic=void 0),this.openContinuousDynamicExpression=n,n.StartMultiExpression=this.getMultiExpression,this.getMultiExpression.addExpression(n,t),!0}}if(d.MoodExpression.isInputStringMood(e)){this.createNewMultiExpressionIfNeeded(i);const n=new d.MoodExpression(e,this.placement,this.staffNumber);return this.getMultiExpression.addExpression(n,t),!0}if(this.createNewMultiExpressionIfNeeded(i),i.TempoExpressions.length>0)for(let o=0,a=i.TempoExpressions.length;o<a;++o){const t=i.TempoExpressions[o];if(t.Timestamp===this.directionTimestamp&&void 0!==t.InstantaneousTempo&&t.EntriesList.length>0&&!this.hasDigit(e)&&this.globalStaffIndex>0){if(t.EntriesList[0].label.indexOf(e)>=0)return!1;break}}let r=m.TextAlignmentEnum.CenterBottom;this.musicSheet.Rules.CompactMode&&(r=m.TextAlignmentEnum.LeftBottom);const s=new f.UnknownExpression(e,this.placement,r,this.staffNumber);return this.getMultiExpression.addExpression(s,t),!1}closeOpenContinuousDynamic(){this.openContinuousDynamicExpression.EndMultiExpression=this.getMultiExpression,this.getMultiExpression.EndingContinuousDynamic=this.openContinuousDynamicExpression,this.openContinuousDynamicExpression=void 0}closeOpenContinuousTempo(t){this.openContinuousTempoExpression.AbsoluteEndTimestamp=t,this.openContinuousTempoExpression=void 0}checkIfWordsNodeIsRepetitionInstruction(t){return"coda"===(t=t.trim().toLowerCase())||"tocoda"===t||"to coda"===t||"fine"===t||"d.c."===t||"dacapo"===t||"da capo"===t||"d.s."===t||"dalsegno"===t||"dal segno"===t||"d.c. al fine"===t||"d.s. al fine"===t||"d.c. al coda"===t||"d.s. al coda"===t}hasDigit(t){return/\d/.test(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(6);class r extends n.AbstractExpression{constructor(t,e,i){super(e),this.label=t,this.staffNumber=i,this.setMoodType()}static isInputStringMood(t){return!!t&&(r.isStringInStringList(r.listMoodAffettuoso,t)||r.isStringInStringList(r.listMoodAgitato,t)||r.isStringInStringList(r.listMoodAnimato,t)||r.isStringInStringList(r.listMoodAppassionato,t)||r.isStringInStringList(r.listMoodBrillante,t)||r.isStringInStringList(r.listMoodCantabile,t)||r.isStringInStringList(r.listMoodDolce,t)||r.isStringInStringList(r.listMoodEnergico,t)||r.isStringInStringList(r.listMoodEroico,t)||r.isStringInStringList(r.listMoodEspressivo,t)||r.isStringInStringList(r.listMoodFurioso,t)||r.isStringInStringList(r.listMoodGiocoso,t)||r.isStringInStringList(r.listMoodGioioso,t)||r.isStringInStringList(r.listMoodGrandioso,t)||r.isStringInStringList(r.listMoodGrazioso,t)||r.isStringInStringList(r.listMoodLacrimoso,t)||r.isStringInStringList(r.listMoodLeggiero,t)||r.isStringInStringList(r.listMoodMaestoso,t)||r.isStringInStringList(r.listMoodMalinconico,t)||r.isStringInStringList(r.listMoodMarcato,t)||r.isStringInStringList(r.listMoodMarziale,t)||r.isStringInStringList(r.listMoodMesto,t)||r.isStringInStringList(r.listMoodMorendo,t)||r.isStringInStringList(r.listMoodNobilmente,t)||r.isStringInStringList(r.listMoodPatetico,t)||r.isStringInStringList(r.listMoodPesante,t)||r.isStringInStringList(r.listMoodSaltando,t)||r.isStringInStringList(r.listMoodSautille,t)||r.isStringInStringList(r.listMoodScherzando,t)||r.isStringInStringList(r.listMoodSostenuto,t)||r.isStringInStringList(r.listMoodSpiccato,t)||r.isStringInStringList(r.listMoodTenerezza,t)||r.isStringInStringList(r.listMoodTranquillamente,t)||r.isStringInStringList(r.listMoodTrionfante,t))}get Label(){return this.label}set Label(t){this.label=t}get Mood(){return this.moodType}set Mood(t){this.moodType=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Placement(){return this.placement}set Placement(t){this.placement=t}setMoodType(){r.isStringInStringList(r.listMoodAffettuoso,this.label)?this.moodType=s.Affettuoso:r.isStringInStringList(r.listMoodAgitato,this.label)?this.moodType=s.Agitato:r.isStringInStringList(r.listMoodAnimato,this.label)?this.moodType=s.Animato:r.isStringInStringList(r.listMoodAppassionato,this.label)?this.moodType=s.Appassionato:r.isStringInStringList(r.listMoodBrillante,this.label)?this.moodType=s.Brillante:r.isStringInStringList(r.listMoodCantabile,this.label)?this.moodType=s.Cantabile:r.isStringInStringList(r.listMoodDolce,this.label)?this.moodType=s.Dolce:r.isStringInStringList(r.listMoodEnergico,this.label)?this.moodType=s.Energico:r.isStringInStringList(r.listMoodEroico,this.label)?this.moodType=s.Eroico:r.isStringInStringList(r.listMoodEspressivo,this.label)?this.moodType=s.Espressivo:r.isStringInStringList(r.listMoodFurioso,this.label)?this.moodType=s.Furioso:r.isStringInStringList(r.listMoodGiocoso,this.label)?this.moodType=s.Giocoso:r.isStringInStringList(r.listMoodGioioso,this.label)?this.moodType=s.Gioioso:r.isStringInStringList(r.listMoodGrandioso,this.label)?this.moodType=s.Grandioso:r.isStringInStringList(r.listMoodGrazioso,this.label)?this.moodType=s.Grazioso:r.isStringInStringList(r.listMoodLacrimoso,this.label)?this.moodType=s.Lacrimoso:r.isStringInStringList(r.listMoodLeggiero,this.label)?this.moodType=s.Leggiero:r.isStringInStringList(r.listMoodMaestoso,this.label)?this.moodType=s.Maestoso:r.isStringInStringList(r.listMoodMalinconico,this.label)?this.moodType=s.Malinconico:r.isStringInStringList(r.listMoodMarcato,this.label)?this.moodType=s.Marcato:r.isStringInStringList(r.listMoodMarziale,this.label)?this.moodType=s.Marziale:r.isStringInStringList(r.listMoodMesto,this.label)?this.moodType=s.Mesto:r.isStringInStringList(r.listMoodMorendo,this.label)?this.moodType=s.Morendo:r.isStringInStringList(r.listMoodNobilmente,this.label)?this.moodType=s.Nobilmente:r.isStringInStringList(r.listMoodPatetico,this.label)?this.moodType=s.Patetico:r.isStringInStringList(r.listMoodPesante,this.label)?this.moodType=s.Pesante:r.isStringInStringList(r.listMoodSaltando,this.label)?this.moodType=s.Saltando:r.isStringInStringList(r.listMoodSautille,this.label)?this.moodType=s.Sautille:r.isStringInStringList(r.listMoodScherzando,this.label)?this.moodType=s.Scherzando:r.isStringInStringList(r.listMoodSostenuto,this.label)?this.moodType=s.Sostenuto:r.isStringInStringList(r.listMoodSpiccato,this.label)?this.moodType=s.Spiccato:r.isStringInStringList(r.listMoodTenerezza,this.label)?this.moodType=s.Tenerezza:r.isStringInStringList(r.listMoodTranquillamente,this.label)?this.moodType=s.Tranquillamente:r.isStringInStringList(r.listMoodTrionfante,this.label)&&(this.moodType=s.Trionfante)}}var s;e.MoodExpression=r,r.listMoodAffettuoso=["affettuoso"],r.listMoodAgitato=["agitato"],r.listMoodAppassionato=["appassionato"],r.listMoodAnimato=["animato","lively"],r.listMoodBrillante=["brillante"],r.listMoodCantabile=["cantabile"],r.listMoodDolce=["dolce"],r.listMoodEnergico=["energico"],r.listMoodEroico=["eroico"],r.listMoodEspressivo=["espressivo"],r.listMoodFurioso=["furioso"],r.listMoodGiocoso=["giocoso"],r.listMoodGioioso=["gioioso"],r.listMoodLacrimoso=["lacrimoso"],r.listMoodGrandioso=["grandioso"],r.listMoodGrazioso=["grazioso"],r.listMoodLeggiero=["leggiero"],r.listMoodMaestoso=["maestoso"],r.listMoodMalinconico=["malinconico"],r.listMoodMarcato=["marcato"],r.listMoodMarziale=["marziale"],r.listMoodMesto=["mesto"],r.listMoodMorendo=["morendo"],r.listMoodNobilmente=["nobilmente"],r.listMoodPatetico=["patetico"],r.listMoodPesante=["pesante"],r.listMoodSautille=["sautille"],r.listMoodSaltando=["saltando"],r.listMoodScherzando=["scherzando"],r.listMoodSostenuto=["sostenuto"],r.listMoodSpiccato=["spiccato"],r.listMoodTenerezza=["tenerezza"],r.listMoodTranquillamente=["tranquillamente"],r.listMoodTrionfante=["trionfante"],function(t){t[t.Affettuoso=0]="Affettuoso",t[t.Agitato=1]="Agitato",t[t.Appassionato=2]="Appassionato",t[t.Animato=3]="Animato",t[t.Brillante=4]="Brillante",t[t.Cantabile=5]="Cantabile",t[t.Dolce=6]="Dolce",t[t.Energico=7]="Energico",t[t.Eroico=8]="Eroico",t[t.Espressivo=9]="Espressivo",t[t.Furioso=10]="Furioso",t[t.Giocoso=11]="Giocoso",t[t.Gioioso=12]="Gioioso",t[t.Lacrimoso=13]="Lacrimoso",t[t.Grandioso=14]="Grandioso",t[t.Grazioso=15]="Grazioso",t[t.Leggiero=16]="Leggiero",t[t.Maestoso=17]="Maestoso",t[t.Malinconico=18]="Malinconico",t[t.Marcato=19]="Marcato",t[t.Marziale=20]="Marziale",t[t.Mesto=21]="Mesto",t[t.Morendo=22]="Morendo",t[t.Nobilmente=23]="Nobilmente",t[t.Patetico=24]="Patetico",t[t.Pesante=25]="Pesante",t[t.Sautille=26]="Sautille",t[t.Saltando=27]="Saltando",t[t.Scherzando=28]="Scherzando",t[t.Sostenuto=29]="Sostenuto",t[t.Spiccato=30]="Spiccato",t[t.Tenerezza=31]="Tenerezza",t[t.Tranquillamente=32]="Tranquillamente",t[t.Trionfante=33]="Trionfante",t[t.Vivace=34]="Vivace"}(s=e.MoodEnum||(e.MoodEnum={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(6),r=i(7);class s extends n.AbstractExpression{constructor(t,e,i,n){super(e),this.label=t,this.staffNumber=n,void 0===i&&(i=r.TextAlignmentEnum.LeftBottom),this.textAlignment=i}get Label(){return this.label}get Placement(){return this.placement}set Placement(t){this.placement=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get TextAlignment(){return this.textAlignment}}e.UnknownExpression=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(188),s=n(i(1)),o=i(27);e.SlurReader=class{constructor(t){this.openSlurDict={},this.musicSheet=t}addSlur(t,e){try{if(t)for(const i of t)if(i.attributes().length>0){const n=i.attribute("type").value;let o=1;try{i.attribute("number")&&(o=parseInt(i.attribute("number").value,10))}catch(t){s.default.debug("VoiceGenerator.addSlur number: ",t)}if("start"===n){let t=this.openSlurDict[o];t||(t=new r.Slur,this.openSlurDict[o]=t),t.StartNote=e}else if("stop"===n){const t=this.openSlurDict[o];t&&(t.EndNote=e,e.checkForDoubleSlur(t)||(e.NoteSlurs.push(t),t.StartNote.NoteSlurs.push(t)),delete this.openSlurDict[o])}}}catch(t){const e=o.ITextTranslation.translateText("ReaderErrorMessages/SlurError","Error while reading slur.");this.musicSheet.SheetErrors.pushMeasureError(e)}}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(8),s=n(i(1));class o{constructor(t){this.parentInstrument=t,this.fixedKey=-1,this.name=this.parseMidiInstrument(this.parentInstrument.Name),this.midiInstrumentID=o.midiInstrument[this.name],this.volume=1}get ParentInstrument(){return this.parentInstrument}static isPianoInstrument(t){return t===r.MidiInstrument.Acoustic_Grand_Piano||t===r.MidiInstrument.Bright_Acoustic_Piano||t===r.MidiInstrument.Electric_Grand_Piano||t===r.MidiInstrument.Electric_Piano_1||t===r.MidiInstrument.Electric_Piano_2}setMidiInstrument(t){this.midiInstrumentID=o.midiInstrument[this.parseMidiInstrument(t)]}parseMidiInstrument(t){try{if(t){const e=t.toLowerCase().trim();for(const t in o.midiInstrument)if(-1!==e.indexOf(t))return t}if(this.parentInstrument.Name){const t=this.parentInstrument.Name.toLowerCase().trim();for(const e in o.midiInstrument)if(-1!==t.indexOf(e))return e}}catch(t){s.default.error("Error parsing MIDI Instrument. Default to Grand Piano.")}return"unnamed"}}e.SubInstrument=o,o.midiInstrument={alt:r.MidiInstrument.Synth_Voice,alto:r.MidiInstrument.Synth_Voice,banjo:r.MidiInstrument.Banjo,bariton:r.MidiInstrument.Synth_Voice,baritone:r.MidiInstrument.Synth_Voice,bass:r.MidiInstrument.Synth_Voice,"blockflöte":r.MidiInstrument.Recorder,brass:r.MidiInstrument.Trombone,bratsche:r.MidiInstrument.Viola,cello:r.MidiInstrument.Cello,clarinet:r.MidiInstrument.Clarinet,contrabass:r.MidiInstrument.Contrabass,drums:r.MidiInstrument.Percussion,flute:r.MidiInstrument.Flute,"flöte":r.MidiInstrument.Flute,frenchhorn:r.MidiInstrument.French_Horn,gitarre:r.MidiInstrument.Acoustic_Guitar_nylon,guitar:r.MidiInstrument.Acoustic_Guitar_nylon,harfe:r.MidiInstrument.Orchestral_Harp,harp:r.MidiInstrument.Orchestral_Harp,klarinette:r.MidiInstrument.Clarinet,klavier:r.MidiInstrument.Acoustic_Grand_Piano,kontrabass:r.MidiInstrument.Contrabass,oboe:r.MidiInstrument.Oboe,organ:r.MidiInstrument.Church_Organ,orgel:r.MidiInstrument.Church_Organ,orgue:r.MidiInstrument.Church_Organ,percussion:r.MidiInstrument.Percussion,piano:r.MidiInstrument.Acoustic_Grand_Piano,piccolo:r.MidiInstrument.Piccolo,posaune:r.MidiInstrument.Trombone,recorder:r.MidiInstrument.Recorder,sax:r.MidiInstrument.Tenor_Sax,schlagwerk:r.MidiInstrument.Percussion,schlagzeug:r.MidiInstrument.Percussion,sopran:r.MidiInstrument.Synth_Voice,steeldrum:r.MidiInstrument.Steel_Drums,streicher:r.MidiInstrument.String_Ensemble_1,strings:r.MidiInstrument.String_Ensemble_1,tenor:r.MidiInstrument.Synth_Voice,tpt:r.MidiInstrument.Trumpet,trombone:r.MidiInstrument.Trombone,trompete:r.MidiInstrument.Trumpet,trumpet:r.MidiInstrument.Trumpet,tuba:r.MidiInstrument.Tuba,unnamed:r.MidiInstrument.Acoustic_Grand_Piano,viola:r.MidiInstrument.Viola,violin:r.MidiInstrument.Violin,"violon-c":r.MidiInstrument.Cello,"violon.":r.MidiInstrument.Violin,voice:r.MidiInstrument.Synth_Voice,woodblock:r.MidiInstrument.Woodblock}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(145),r=i(146);e.MusicSymbolModuleFactory=class{static createRepetitionInstructionReader(){return new n.RepetitionInstructionReader}static createRepetitionCalculator(){return new r.RepetitionCalculator}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(26),r=i(26),s=i(189);e.RepetitionInstructionReader=class{set MusicSheet(t){this.musicSheet=t,this.xmlMeasureList=new Array(this.musicSheet.Instruments.length),this.repetitionInstructions=[]}prepareReadingMeasure(t,e){this.currentMeasureIndex=e}handleLineRepetitionInstructions(t){let e=!1;if(t.elements().length>0){let i="",r=!1,s="",o="",a="";const l=[],u=t.element("bar-style");u&&(a=u.value),i=t.attributes().length>0&&t.attribute("location")?t.attribute("location").value:"right";const c=t.elements();for(let t=0,e=c.length;t<e;++t){const e=c[t];if("repeat"===e.name&&e.hasAttributes)r=!0,s=e.attribute("direction").value;else if("ending"===e.name&&e.hasAttributes&&void 0!==e.attribute("type")&&e.attribute("number")){o=e.attribute("type").value;const t=e.attribute("number").value.split("[,+]");for(let e=0,i=t.length;e<i;++e){const i=t[e],n=i.match("[0-9]");if(-1!==i.search("-")&&2===n.length){const t=parseInt(n[0],10),e=parseInt(n[1],10);for(let i=t;i<=e;i++)l.push(i)}else for(let t=0,e=n.length;t<e;++t){const e=n[t];l.push(parseInt(e,10))}}}}if("light-heavy"!==a||0!==l.length||r||(e=!0),r||l.length>0)if("left"===i){if("start"===o){const t=new n.RepetitionInstruction(this.currentMeasureIndex,n.RepetitionInstructionEnum.Ending,n.AlignmentType.Begin,void 0,l);this.addInstruction(this.repetitionInstructions,t)}if("forward"===s){const t=new n.RepetitionInstruction(this.currentMeasureIndex,n.RepetitionInstructionEnum.StartLine);this.addInstruction(this.repetitionInstructions,t)}}else{if("stop"===o){const t=new n.RepetitionInstruction(this.currentMeasureIndex,n.RepetitionInstructionEnum.Ending,n.AlignmentType.End,void 0,l);this.addInstruction(this.repetitionInstructions,t)}if("backward"===s){const t=new n.RepetitionInstruction(this.currentMeasureIndex,n.RepetitionInstructionEnum.BackJumpLine);this.addInstruction(this.repetitionInstructions,t)}}}return e}handleRepetitionInstructionsFromWordsOrSymbols(t,e){const i=t.element("words");if(i){const t="d\\s?\\.s\\.",r=i.value.trim().toLowerCase();if(s.StringUtil.StringContainsSeparatedWord(r,t+" al fine")){let t=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&t--;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.DalSegnoAlFine);return this.addInstruction(this.repetitionInstructions,i),!0}const o="d\\.\\s?c\\.";if(s.StringUtil.StringContainsSeparatedWord(r,o+" al coda")){let t=this.currentMeasureIndex;e<.5&&t--;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.DalSegnoAlCoda);return this.addInstruction(this.repetitionInstructions,i),!0}if(s.StringUtil.StringContainsSeparatedWord(r,o+" al fine")){let t=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&t--;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.DaCapoAlFine);return this.addInstruction(this.repetitionInstructions,i),!0}if(s.StringUtil.StringContainsSeparatedWord(r,o+" al coda")){let t=this.currentMeasureIndex;e<.5&&t--;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.DaCapoAlCoda);return this.addInstruction(this.repetitionInstructions,i),!0}if(s.StringUtil.StringContainsSeparatedWord(r,o)||s.StringUtil.StringContainsSeparatedWord(r,"da\\s?capo")){let t=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&t--;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.DaCapo);return this.addInstruction(this.repetitionInstructions,i),!0}if(s.StringUtil.StringContainsSeparatedWord(r,t)||s.StringUtil.StringContainsSeparatedWord(r,"dal\\s?segno")){let t=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&t--;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.DalSegno);return this.addInstruction(this.repetitionInstructions,i),!0}if(s.StringUtil.StringContainsSeparatedWord(r,"to\\s?coda")||s.StringUtil.StringContainsSeparatedWord(r,"a (la )?coda")){let t=this.currentMeasureIndex;e<.5&&t--;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.ToCoda);return this.addInstruction(this.repetitionInstructions,i),!0}if(s.StringUtil.StringContainsSeparatedWord(r,"fine")){let t=this.currentMeasureIndex;e<.5&&t--;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.Fine);return this.addInstruction(this.repetitionInstructions,i),!0}if(s.StringUtil.StringContainsSeparatedWord(r,"coda")){let t=this.currentMeasureIndex;e>.5&&t++;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.Coda);return this.addInstruction(this.repetitionInstructions,i),!0}if(s.StringUtil.StringContainsSeparatedWord(r,"segno")){let t=this.currentMeasureIndex;e>.5&&t++;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.Segno);return this.addInstruction(this.repetitionInstructions,i),!0}}else{if(t.element("segno")){let t=this.currentMeasureIndex;e>.5&&t++;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.Segno);return this.addInstruction(this.repetitionInstructions,i),!0}if(t.element("coda")){let t=this.currentMeasureIndex;e>.5&&t++;const i=new n.RepetitionInstruction(t,n.RepetitionInstructionEnum.Coda);return this.addInstruction(this.repetitionInstructions,i),!0}}return!1}removeRedundantInstructions(){let t=0,e=0,i=0,s=0;for(let r=0;r<this.repetitionInstructions.length;r++){const o=this.repetitionInstructions[r];switch(o.type){case n.RepetitionInstructionEnum.Coda:i>0&&this.findInstructionInPreviousMeasure(r,o.measureIndex,n.RepetitionInstructionEnum.ToCoda)&&(o.type=n.RepetitionInstructionEnum.None),0===e&&0===i&&(o.type=n.RepetitionInstructionEnum.ToCoda,o.alignment=n.AlignmentType.End,o.measureIndex--);break;case n.RepetitionInstructionEnum.Segno:if(t-s>0){let t=!1;for(let r=0,s=this.repetitionInstructions.length;r<s;++r){const s=this.repetitionInstructions[r];if(o.measureIndex-s.measureIndex==1)switch(s.type){case n.RepetitionInstructionEnum.BackJumpLine:s.type=i-e>0?n.RepetitionInstructionEnum.DalSegnoAlCoda:n.RepetitionInstructionEnum.DalSegno,o.type=n.RepetitionInstructionEnum.None,t=!0;break;case n.RepetitionInstructionEnum.DalSegno:case n.RepetitionInstructionEnum.DalSegnoAlFine:case n.RepetitionInstructionEnum.DalSegnoAlCoda:o.type=n.RepetitionInstructionEnum.None,t=!0}if(t)break}if(t)break;o.type=i-e>0?n.RepetitionInstructionEnum.DalSegnoAlCoda:n.RepetitionInstructionEnum.DalSegno,o.alignment=n.AlignmentType.End,o.measureIndex--}}if(this.backwardSearchForPreviousIdenticalInstruction(r,o)||o.type===n.RepetitionInstructionEnum.None)this.repetitionInstructions.splice(r,1),r--;else switch(o.type){case n.RepetitionInstructionEnum.Fine:break;case n.RepetitionInstructionEnum.ToCoda:i++;break;case n.RepetitionInstructionEnum.Coda:e++;break;case n.RepetitionInstructionEnum.Segno:t++;break;case n.RepetitionInstructionEnum.DalSegnoAlFine:case n.RepetitionInstructionEnum.DalSegnoAlCoda:s++}}this.repetitionInstructions.sort(r.RepetitionInstructionComparer.Compare)}findInstructionInPreviousMeasure(t,e,i){for(let n=t-1;n>=0;n--){const t=this.repetitionInstructions[n];if(e-t.measureIndex==1&&t.type===i)return!0}return!1}backwardSearchForPreviousIdenticalInstruction(t,e){for(let i=t-1;i>=0;i--)if(this.repetitionInstructions[i].equals(e))return!0;return!1}addInstruction(t,e){let i=!0;for(let n=0,r=t.length;n<r;++n){const r=t[n];if(e.equals(r)){i=!1;break}}i&&t.push(e)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(26),r=i(26),s=i(11);e.RepetitionCalculator=class{constructor(){this.repetitionInstructions=[]}calculateRepetitions(t,e){this.musicSheet=t,this.repetitionInstructions=e;const i=this.musicSheet.SourceMeasures;for(let n=0,r=this.repetitionInstructions.length;n<r;++n){const t=this.repetitionInstructions[n];this.currentMeasureIndex=t.measureIndex,this.currentMeasure=i[this.currentMeasureIndex],this.handleRepetitionInstructions(t)}for(let n=0,s=this.musicSheet.SourceMeasures.length;n<s;++n){const t=this.musicSheet.SourceMeasures[n];t.FirstRepetitionInstructions.length>1&&t.FirstRepetitionInstructions.sort(r.RepetitionInstructionComparer.Compare),t.LastRepetitionInstructions.length>1&&t.LastRepetitionInstructions.sort(r.RepetitionInstructionComparer.Compare)}}handleRepetitionInstructions(t){if(!this.currentMeasure)return!1;switch(t.type){case n.RepetitionInstructionEnum.StartLine:this.currentMeasure.FirstRepetitionInstructions.push(t);break;case n.RepetitionInstructionEnum.BackJumpLine:this.currentMeasure.LastRepetitionInstructions.push(t);break;case n.RepetitionInstructionEnum.Ending:if(t.alignment===n.AlignmentType.Begin)this.currentMeasure.FirstRepetitionInstructions.push(t);else for(let e=0,i=t.endingIndices.length;e<i;++e)this.currentMeasure.LastRepetitionInstructions.push(t);break;case n.RepetitionInstructionEnum.Segno:this.currentMeasure.FirstRepetitionInstructions.push(t);break;case n.RepetitionInstructionEnum.Fine:case n.RepetitionInstructionEnum.ToCoda:case n.RepetitionInstructionEnum.Coda:case n.RepetitionInstructionEnum.DaCapo:case n.RepetitionInstructionEnum.DalSegno:case n.RepetitionInstructionEnum.DalSegnoAlFine:case n.RepetitionInstructionEnum.DaCapoAlFine:case n.RepetitionInstructionEnum.DalSegnoAlCoda:case n.RepetitionInstructionEnum.DaCapoAlCoda:this.currentMeasure.LastRepetitionInstructions.push(t);break;case n.RepetitionInstructionEnum.None:break;default:throw new s.ArgumentOutOfRangeException("currentRepetitionInstruction")}return!0}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(11)),n(i(60)),n(i(61)),n(i(13)),n(i(131)),n(i(143)),n(i(39)),n(i(190)),n(i(192)),n(i(50))},function(t,e){var i,n,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=a(d);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new p(t,e)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(12),s=i(81),o=function(){function t(t){this.toStrF=t||n.defaultToString,this.dictionary=new r.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){if(void 0===e&&(e=1),n.isUndefined(t)||e<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=e;else{var i={value:t,copies:e};this.dictionary.setValue(t,i)}return this.nElements+=e,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),n.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var i=this.dictionary.getValue(t);return e>i.copies?this.nElements-=i.copies:this.nElements-=e,i.copies-=e,i.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,i=this.dictionary.values();e<i.length;e++)for(var n=i[e],r=n.value,s=n.copies,o=0;o<s;o++)t.push(r);return t},t.prototype.toSet=function(){for(var t=new s.default(this.toStrF),e=0,i=this.dictionary.values();e<i.length;e++){var n=i[e].value;t.add(n)}return t},t.prototype.forEach=function(t){this.dictionary.forEach((function(e,i){for(var n=i.value,r=i.copies,s=0;s<r;s++)if(!1===t(n))return!1;return!0}))},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();e.default=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i(82).default);e.default=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),o=i(9),a=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),l=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),u=function(t){function e(e){var i=t.call(this,e)||this;return i.head=new l,i.tail=new l,i.head.next=i.tail,i.tail.prev=i.head,i}return r(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!o.isUndefined(t)){var e="$"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!o.isUndefined(e))return e.value},e.prototype.remove=function(e){var i=this.getLinkedDictionaryPair(e);if(!o.isUndefined(i))return t.prototype.remove.call(this,e),i.unlink(),i.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var i="$"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[i]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!o.isUndefined(t)&&!o.isUndefined(e)){var i=this.getLinkedDictionaryPair(t),n=new a(t,e),r="$"+this.toStr(t);return o.isUndefined(i)?(this.appendToTail(n),this.table[r]=n,void++this.nElements):(this.replace(i,n),i.value)}},e.prototype.keys=function(){var t=[];return this.forEach((function(e,i){t.push(e)})),t},e.prototype.values=function(){var t=[];return this.forEach((function(e,i){t.push(i)})),t},e.prototype.forEach=function(t){for(var e=this.head.next;e.next;){if(!1===t(e.key,e.value))return;e=e.next}},e}(s.default);e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(12),s=i(35),o=function(){function t(t,e,i){void 0===i&&(i=!1),this.dict=new r.default(t),this.equalsF=e||n.defaultEquals,this.allowDuplicate=i}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return n.isUndefined(e)?[]:s.copy(e)},t.prototype.setValue=function(t,e){if(n.isUndefined(t)||n.isUndefined(e))return!1;var i=this.dict.getValue(t);return n.isUndefined(i)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&s.contains(i,e,this.equalsF))&&(i.push(e),!0)},t.prototype.remove=function(t,e){if(n.isUndefined(e)){var i=this.dict.remove(t);return!n.isUndefined(i)}var r=this.dict.getValue(t);return!(n.isUndefined(r)||!s.remove(r,e,this.equalsF))&&(0===r.length&&this.dict.remove(t),!0)},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,i=this.dict.values();e<i.length;e++)for(var n=0,r=i[e];n<r.length;n++){var s=r[n];t.push(s)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(84),s=function(){function t(t){this.heap=new r.default(n.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(54),r=function(){function t(){this.list=new n.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=r},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(n||(n={}));var r=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++){var i=e[t];this.createEmptyNodeIfNotExist(i)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,i=this.nodes[t];e<i.length;e++){var n=i[e];this.createEmptyNodeIfNotExist(n)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=this,e=[],i=0;i<this.rootIds.length;i++){var n=this.rootIds[i];e.push({id:n,level:0,hasParent:!1,childrenCount:0}),l(n,this.nodes,e,0)}for(var r=0,s=e;r<s.length;r++){var o=s[r];o.childrenCount=a(o.id)}return e;function a(e){return t.nodes[e]?t.nodes[e].length:0}function l(t,e,i,n){if(void 0===n&&(n=0),t&&e&&i&&e[t]){n++;for(var r=e[t],s=0;s<r.length;s++){var o=r[s];i.push({id:o,level:n,hasParent:!0}),l(o,e,i,n)}n--}}},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,n.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,n.AFTER)},t.prototype.moveIdIntoId=function(t,e,i){return void 0===i&&(i=!0),i?this.moveId(t,e,n.INSIDE_AT_START):this.moveId(t,e,n.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var i=this.findRootId(t),n=this.findRootId(e);this.swapRootPositionWithRootPosition(i,n)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var i=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=i},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var i=this.findRootId(t);for(var n in i>-1&&this.insertIdIntoRoot(e,i),this.nodes)if(this.nodes.hasOwnProperty(n)){var r=this.findNodeId(n,t);r>-1&&this.insertIdIntoNode(n,e,r)}},t.prototype.insertIdAfterId=function(t,e){var i=this.findRootId(t);for(var n in i>-1&&this.insertIdIntoRoot(e,i+1),this.nodes)if(this.nodes.hasOwnProperty(n)){var r=this.findNodeId(n,t);r>-1&&this.insertIdIntoNode(n,e,r+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){if(void 0===e)this.rootInsertAtEnd(t);else if(e<0){var i=this.rootIds.length;this.rootIds.splice(e+i+1,0,t)}else this.rootIds.splice(e,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,i){if(this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===i)this.nodeInsertAtEnd(t,e);else if(i<0){var n=this.nodes[t].length;this.nodes[t].splice(i+n+1,0,e)}else this.nodes[t].splice(i,0,e)},t.prototype.moveId=function(t,e,i){var r=t,s=this.findRootId(r);for(var o in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(o)){this.findNodeId(o,e);break}var a=e,l=this.findRootId(a);for(var o in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(o)){this.findNodeId(o,e);break}if(s>-1){if(l>-1)switch(this.rootDelete(s),l>s&&l--,i){case n.BEFORE:this.insertIdIntoRoot(r,l);break;case n.AFTER:this.insertIdIntoRoot(r,l+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}else for(var o in this.rootDelete(s),this.nodes)if(this.nodes.hasOwnProperty(o)&&(u=this.findNodeId(o,a))>-1){switch(i){case n.BEFORE:this.insertIdIntoNode(o,r,u);break;case n.AFTER:this.insertIdIntoNode(o,r,u+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}break}}else if(l>-1){for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)&&(u=this.findNodeId(o,r))>-1){this.nodeDeleteAtIndex(o,u);break}switch(i){case n.BEFORE:this.insertIdIntoRoot(r,l);break;case n.AFTER:this.insertIdIntoRoot(r,l+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}}else{for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)&&(u=this.findNodeId(o,r))>-1){this.nodeDeleteAtIndex(o,u);break}for(var o in this.nodes){var u;if(this.nodes.hasOwnProperty(o)&&(u=this.findNodeId(o,a))>-1){switch(i){case n.BEFORE:this.insertIdIntoNode(o,r,u);break;case n.AFTER:this.insertIdIntoNode(o,r,u+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}break}}}},t.prototype.swapArrayElements=function(t,e,i){var n=t[e];return t[e]=t[i],t[i]=n,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],i=0;i<this.nodes[t].length;i++){var n=this.nodes[t][i];this.nodeAndSubNodesDelete(n),e.push(t)}for(this.nodeDelete(t),i=0;i<e.length;i++)this.nodeDelete(e[i])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var i=0;i<this.nodes[e].length;i++)this.nodes[e][i]===t&&this.nodeDeleteAtIndex(e,i)},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();e.default=r},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(59),s=i(95),o=i(130),a=i(55),l=i(14),u=i(19),c=i(120),h=i(68),d=i(79),f=i(129),p=i(78),m=n(i(1)),g=i(28),y=i(41),v=i(29),b=i(6),_=i(43),S=i(77),w=i(147);class T{constructor(t,e=y.OSMDOptions.OSMDOptionsStandard()){if(this.version="0.8.2-release",this.zoom=1,this.zoomUpdated=!1,"string"==typeof t?this.container=document.getElementById(t):t&&"appendChild"in t&&(this.container=t),!this.container)throw new Error("Please pass a valid div container to OpenSheetMusicDisplay");void 0===e.autoResize&&(e.autoResize=!0),this.backendType=y.BackendType.SVG,this.setOptions(e)}load(t){if(this.reset(),"string"==typeof t){const e=t,i=this;if("PK"===e.substr(0,4))return m.default.debug("[OSMD] This is a zip file, unpack it first: "+e),f.MXLHelper.MXLtoXMLstring(e).then(t=>i.load(t),t=>{throw m.default.debug(t),new Error("OpenSheetMusicDisplay: Invalid MXL file")});if(""===e.substr(0,3))return m.default.debug("[OSMD] UTF with BOM detected, truncate first three bytes and pass along: "+e),i.load(e.substr(3));let n=e;if(/^\s/.test(n)&&(n=n.trim()),n.substr(0,6).includes("<?xml"))m.default.debug("[OSMD] Finally parsing XML content, length: "+n.length),t=(new DOMParser).parseFromString(n,"application/xml");else{if(n.length<2083)return m.default.debug("[OSMD] Retrieve the file at the given URL: "+n),p.AJAX.ajax(n).then(t=>i.load(t),t=>{throw t});console.error("[OSMD] osmd.load(string): Could not process string. Did not find <?xml at beginning.")}}if(!t||!t.nodeName)return Promise.reject(new Error("OpenSheetMusicDisplay: The document which was provided is invalid"));const e=t,i=e.childNodes;let n;m.default.debug("[OSMD] load(), Document url: "+e.URL);for(let r=0,o=i.length;r<o;r+=1){const t=i[r];if(t.nodeType===Node.ELEMENT_NODE&&"score-partwise"===t.nodeName.toLowerCase()){n=t;break}}if(!n)return console.error("Could not parse MusicXML, no valid partwise element found"),Promise.reject(new Error("OpenSheetMusicDisplay: Document is not a valid 'partwise' MusicXML"));const s=new r.IXmlElement(n),a=new o.MusicSheetReader(void 0,this.rules);return this.sheet=a.createMusicSheet(s,"Untitled Score"),void 0===this.sheet?Promise.reject(new Error("given music sheet was incomplete or could not be loaded.")):(m.default.info(`[OSMD] Loaded sheet ${this.sheet.TitleString} successfully.`),this.needBackendUpdate=!0,this.updateGraphic(),Promise.resolve({}))}updateGraphic(){const t=new s.VexFlowMusicSheetCalculator(this.rules);this.graphic=new a.GraphicalMusicSheet(this.sheet,t),this.drawingParameters.drawCursors&&this.cursor&&this.cursor.init(this.sheet.MusicPartManager,this.graphic)}render(){if(!this.graphic)throw new Error("OpenSheetMusicDisplay: Before rendering a music sheet, please load a MusicXML file");this.drawer&&this.drawer.clear();let t=this.container.offsetWidth;this.rules.RenderSingleHorizontalStaffline&&(t=32767),this.sheet.pageWidth=t/this.zoom/10,this.rules.PageFormat&&!this.rules.PageFormat.IsUndefined?(this.rules.PageHeight=this.sheet.pageWidth/this.rules.PageFormat.aspectRatio,m.default.debug("[OSMD] PageHeight: "+this.rules.PageHeight)):(m.default.debug("[OSMD] endless/undefined pageformat, id: "+this.rules.PageFormat.idString),this.rules.PageHeight=100001),this.graphic.reCalculate(),this.drawingParameters.drawCursors&&(this.graphic.Cursors.length=0),this.createOrRefreshRenderBackend(),this.needBackendUpdate=!1,this.drawer.setZoom(this.zoom),this.drawer.drawSheet(this.graphic),this.enableOrDisableCursor(this.drawingParameters.drawCursors),this.drawingParameters.drawCursors&&this.cursor&&this.cursor.update(),this.zoomUpdated=!1}createOrRefreshRenderBackend(){this.drawer&&this.drawer.Backends&&(this.drawer.Backends[0]&&this.drawer.Backends[0].removeAllChildrenFromContainer(this.container),this.drawer.Backends.clear()),this.drawingParameters.Rules=this.rules,this.drawer=new u.VexFlowMusicSheetDrawer(this.drawingParameters),this.drawer.drawableBoundingBoxElement=this.DrawBoundingBox,this.drawer.bottomLineVisible=this.drawBottomLine,this.drawer.skyLineVisible=this.drawSkyLine;let t,e=this.container.offsetWidth;this.rules.RenderSingleHorizontalStaffline&&(e=10*this.graphic.MusicPages[0].PositionAndShape.Size.width*this.zoom);for(const i of this.graphic.MusicPages){const n=this.createBackend(this.backendType,i),r=" exceeds CanvasBackend limit of 32767. Cutting off score.";n.getOSMDBackendType()===y.BackendType.Canvas&&e>32767&&(console.log("[OSMD] Warning: width of "+e+r),e=32767),t=this.rules.PageFormat&&!this.rules.PageFormat.IsUndefined?e/this.rules.PageFormat.aspectRatio:(i.PositionAndShape.Size.height+15)*this.zoom*10,n.getOSMDBackendType()===y.BackendType.Canvas&&t>32767&&(console.log("[OSMD] Warning: height of "+t+r),t=Math.min(t,32767)),n.resize(e,t),n.clear(),this.drawer.Backends.push(n)}}IsReadyToRender(){return void 0!==this.graphic}clear(){this.drawer.clear(),this.reset()}setOptions(t){if(this.rules||(this.rules=new v.EngravingRules),this.drawingParameters||(this.drawingParameters=new g.DrawingParameters,this.drawingParameters.Rules=this.rules),null==t)return void m.default.warn("warning: osmd.setOptions() called without an options parameter, has no effect.\nexample usage: osmd.setOptions({drawCredits: false, drawPartNames: false})");t.drawingParameters&&(this.drawingParameters.DrawingParametersEnum=g.DrawingParametersEnum[t.drawingParameters.toLowerCase()]);let e=!this.drawer||!this.drawer.Backends||this.drawer.Backends.length<1;if(void 0!==t.backend){const i=y.OSMDOptions.BackendTypeFromString(t.backend);e=e||this.backendType!==i,this.backendType=i}this.needBackendUpdate=e,void 0!==t.autoBeam&&(this.rules.AutoBeamNotes=t.autoBeam);const i=t.autoBeamOptions;if(i&&(void 0===i.maintain_stem_directions&&(i.maintain_stem_directions=!1),this.rules.AutoBeamOptions=i,i.groups&&i.groups.length))for(const n of i.groups)if(2!==n.length)throw new Error("Each fraction in autoBeamOptions.groups must be of length 2, e.g. [3,4] for beaming three fourths");void 0!==t.percussionOneLineCutoff&&(this.rules.PercussionOneLineCutoff=t.percussionOneLineCutoff),0!==this.rules.PercussionOneLineCutoff&&void 0!==t.percussionForceVoicesOneLineCutoff&&(this.rules.PercussionForceVoicesOneLineCutoff=t.percussionForceVoicesOneLineCutoff),void 0!==t.alignRests&&(this.rules.AlignRests=t.alignRests),void 0!==t.coloringMode&&this.setColoringMode(t),void 0!==t.coloringEnabled&&(this.rules.ColoringEnabled=t.coloringEnabled),void 0!==t.colorStemsLikeNoteheads&&(this.rules.ColorStemsLikeNoteheads=t.colorStemsLikeNoteheads),t.disableCursor&&(this.drawingParameters.drawCursors=!1),t.drawHiddenNotes&&(this.drawingParameters.drawHiddenNotes=!0),void 0!==t.drawCredits&&(this.drawingParameters.DrawCredits=t.drawCredits),void 0!==t.drawComposer&&(this.drawingParameters.DrawComposer=t.drawComposer),void 0!==t.drawTitle&&(this.drawingParameters.DrawTitle=t.drawTitle),void 0!==t.drawSubtitle&&(this.drawingParameters.DrawSubtitle=t.drawSubtitle),void 0!==t.drawLyricist&&(this.drawingParameters.DrawLyricist=t.drawLyricist),void 0!==t.drawMetronomeMarks&&(this.rules.MetronomeMarksDrawn=t.drawMetronomeMarks),void 0!==t.drawPartNames&&(this.drawingParameters.DrawPartNames=t.drawPartNames,t.drawPartAbbreviations||(this.rules.RenderPartAbbreviations=t.drawPartNames)),void 0!==t.drawPartAbbreviations&&(this.rules.RenderPartAbbreviations=t.drawPartAbbreviations),!1===t.drawFingerings&&(this.rules.RenderFingerings=!1),void 0!==t.drawMeasureNumbers&&(this.rules.RenderMeasureNumbers=t.drawMeasureNumbers),void 0!==t.drawLyrics&&(this.rules.RenderLyrics=t.drawLyrics),void 0!==t.drawSlurs&&(this.rules.RenderSlurs=t.drawSlurs),void 0!==t.measureNumberInterval&&(this.rules.MeasureNumberLabelOffset=t.measureNumberInterval),void 0!==t.fingeringPosition&&(this.rules.FingeringPosition=b.AbstractExpression.PlacementEnumFromString(t.fingeringPosition)),void 0!==t.fingeringInsideStafflines&&(this.rules.FingeringInsideStafflines=t.fingeringInsideStafflines),void 0!==t.newSystemFromXML&&(this.rules.NewSystemAtXMLNewSystemAttribute=t.newSystemFromXML),void 0!==t.newPageFromXML&&(this.rules.NewPageAtXMLNewPageAttribute=t.newPageFromXML),void 0!==t.fillEmptyMeasuresWithWholeRest&&(this.rules.FillEmptyMeasuresWithWholeRest=t.fillEmptyMeasuresWithWholeRest),void 0!==t.followCursor&&(this.FollowCursor=t.followCursor),void 0!==t.setWantedStemDirectionByXml&&(this.rules.SetWantedStemDirectionByXml=t.setWantedStemDirectionByXml),t.defaultColorNotehead&&(this.rules.DefaultColorNotehead=t.defaultColorNotehead),t.defaultColorRest&&(this.rules.DefaultColorRest=t.defaultColorRest),t.defaultColorStem&&(this.rules.DefaultColorStem=t.defaultColorStem),t.defaultColorLabel&&(this.rules.DefaultColorLabel=t.defaultColorLabel),t.defaultColorTitle&&(this.rules.DefaultColorTitle=t.defaultColorTitle),t.defaultFontFamily&&(this.rules.DefaultFontFamily=t.defaultFontFamily),t.defaultFontStyle&&(this.rules.DefaultFontStyle=t.defaultFontStyle),t.drawUpToMeasureNumber&&(this.rules.MaxMeasureToDrawIndex=t.drawUpToMeasureNumber-1),t.drawFromMeasureNumber&&(this.rules.MinMeasureToDrawIndex=t.drawFromMeasureNumber-1),t.tupletsRatioed&&(this.rules.TupletsRatioed=!0),t.tupletsBracketed&&(this.rules.TupletsBracketed=!0),t.tripletsBracketed&&(this.rules.TripletsBracketed=!0),t.autoResize?(this.resizeHandlerAttached||this.autoResize(),this.autoResizeEnabled=!0):!1===t.autoResize&&(this.autoResizeEnabled=!1),void 0!==t.pageFormat&&this.setPageFormat(t.pageFormat),void 0!==t.pageBackgroundColor&&(this.rules.PageBackgroundColor=t.pageBackgroundColor),void 0!==t.renderSingleHorizontalStaffline&&(this.rules.RenderSingleHorizontalStaffline=t.renderSingleHorizontalStaffline)}setColoringMode(t){if(t.coloringMode===g.ColoringModes.XML)return void(this.rules.ColoringMode=g.ColoringModes.XML);const e=[S.NoteEnum.C,S.NoteEnum.D,S.NoteEnum.E,S.NoteEnum.F,S.NoteEnum.G,S.NoteEnum.A,S.NoteEnum.B,-1];let i;if(t.coloringMode===g.ColoringModes.CustomColorSet){if(!t.coloringSetCustom||8!==t.coloringSetCustom.length)throw new Error("Invalid amount of colors: With coloringModes.customColorSet, you have to provide a coloringSetCustom parameter with 8 strings (C to B, rest note).");for(const e of t.coloringSetCustom)if(!/^\#[0-9a-fA-F]{6}$/.test(e))throw new Error("One of the color strings in options.coloringSetCustom was not a valid HTML Hex color:\n"+e);i=t.coloringSetCustom}else if(t.coloringMode===g.ColoringModes.AutoColoring){i=[];const t=Object.keys(w.AutoColorSet);for(let e=0;e<t.length;e++)i.push(w.AutoColorSet[t[e]])}const n=new _.Dictionary;for(let r=0;r<e.length;r++)n.setValue(e[r],i[r]);n.setValue(-1,i[7]),this.rules.ColoringSetCurrent=n,this.rules.ColoringMode=t.coloringMode}setLogLevel(t){switch(t){case"trace":m.default.setLevel(m.default.levels.TRACE);break;case"debug":m.default.setLevel(m.default.levels.DEBUG);break;case"info":m.default.setLevel(m.default.levels.INFO);break;case"warn":m.default.setLevel(m.default.levels.WARN);break;case"error":m.default.setLevel(m.default.levels.ERROR);break;default:m.default.warn(`Could not set log level to ${t}. Using warn instead.`),m.default.setLevel(m.default.levels.WARN)}}getLogLevel(){return m.default.getLevel()}reset(){this.drawingParameters.drawCursors&&this.cursor&&this.cursor.hide(),this.sheet=void 0,this.graphic=void 0,this.zoom=1}autoResize(){const t=this;this.handleResize(()=>{},()=>{var e;(null===(e=this.graphic)||void 0===e?void 0:e.GetCalculator)instanceof s.VexFlowMusicSheetCalculator&&(this.graphic.GetCalculator.beamsNeedUpdate=!0),t.IsReadyToRender()&&t.render()})}handleResize(t,e){let i,n=void 0;const r=this;function s(){r.AutoResizeEnabled&&(i=(new Date).getTime(),n||(t(),i=(new Date).getTime(),n=window.setTimeout(o,200)))}function o(){n=void 0,window.clearTimeout(n),(new Date).getTime()-i<200?n=window.setTimeout(o,200):e()}window.attachEvent?window.attachEvent("onresize",s):window.addEventListener("resize",s),this.resizeHandlerAttached=!0,window.setTimeout(t,0),window.setTimeout(e,1)}enableOrDisableCursor(t){var e,i,n,r;if(this.drawingParameters.drawCursors=t,t){const t=null===(e=this.cursor)||void 0===e?void 0:e.Hidden,s=null===(i=this.cursor)||void 0===i?void 0:i.Iterator;(null===(r=null===(n=this.drawer)||void 0===n?void 0:n.Backends)||void 0===r?void 0:r.length)>=1&&this.drawer.Backends[0].getRenderElement()&&(this.cursor=new d.Cursor(this.drawer.Backends[0].getRenderElement(),this)),this.sheet&&this.graphic&&this.cursor&&this.cursor.init(this.sheet.MusicPartManager,this.graphic),this.rules.RestoreCursorAfterRerender&&(this.cursor.hidden=t,s&&(this.cursor.iterator=s))}else{if(!this.cursor)return;this.cursor.hide()}}createBackend(t,e){let i;return i=void 0===t||t===y.BackendType.SVG?new c.SvgVexFlowBackend(this.rules):new h.CanvasVexFlowBackend(this.rules),i.graphicalMusicPage=e,i.initialize(this.container),i}static StringToPageFormat(t){let e=v.PageFormat.UndefinedPageFormat;if(t.match("^[0-9]+x[0-9]+$")){const i=t.split("x"),n=Number.parseInt(i[0],10),r=Number.parseInt(i[1],10);n>0&&n<32768&&r>0&&r<32768&&(e=new v.PageFormat(n,r,"customPageFormat"+t))}return t=(t=(t=t.replace(" ","_")).replace("Landscape","L")).replace("Portrait","P"),T.PageFormatStandards.hasOwnProperty(t)?(e=T.PageFormatStandards[t],e):e}setPageFormat(t){const e=T.StringToPageFormat(t);this.needBackendUpdate=!e.Equals(this.rules.PageFormat),this.rules.PageFormat=e}setCustomPageFormat(t,e){if(t>0&&e>0){const i=new v.PageFormat(t,e);this.rules.PageFormat=i}}set DrawSkyLine(t){this.drawSkyLine=t,this.drawer&&(this.drawer.skyLineVisible=t)}get DrawSkyLine(){return this.drawer.skyLineVisible}set DrawBottomLine(t){this.drawBottomLine=t,this.drawer&&(this.drawer.bottomLineVisible=t)}get DrawBottomLine(){return this.drawer.bottomLineVisible}set DrawBoundingBox(t){this.drawBoundingBox=t,this.drawer.drawableBoundingBoxElement=t,this.render()}get DrawBoundingBox(){return this.drawBoundingBox}get AutoResizeEnabled(){return this.autoResizeEnabled}set AutoResizeEnabled(t){this.autoResizeEnabled=t}set Zoom(t){var e;this.zoom=t,this.zoomUpdated=!0,(null===(e=this.graphic)||void 0===e?void 0:e.GetCalculator)instanceof s.VexFlowMusicSheetCalculator&&(this.graphic.GetCalculator.beamsNeedUpdate=this.zoomUpdated)}set FollowCursor(t){this.followCursor=t}get FollowCursor(){return this.followCursor}set TransposeCalculator(t){l.MusicSheetCalculator.transposeCalculator=t}get TransposeCalculator(){return l.MusicSheetCalculator.transposeCalculator}get Sheet(){return this.sheet}get Drawer(){return this.drawer}get GraphicSheet(){return this.graphic}get DrawingParameters(){return this.drawingParameters}get EngravingRules(){return this.rules}get Version(){return this.version}}e.OpenSheetMusicDisplay=T,T.PageFormatStandards={A3_L:new v.PageFormat(420,297,"A3_L"),A3_P:new v.PageFormat(297,420,"A3_P"),A4_L:new v.PageFormat(297,210,"A4_L"),A4_P:new v.PageFormat(210,297,"A4_P"),A5_L:new v.PageFormat(210,148,"A5_L"),A5_P:new v.PageFormat(148,210,"A5_P"),A6_L:new v.PageFormat(148,105,"A6_L"),A6_P:new v.PageFormat(105,148,"A6_P"),Endless:v.PageFormat.UndefinedPageFormat,Letter_L:new v.PageFormat(279.4,215.9,"Letter_L"),Letter_P:new v.PageFormat(215.9,279.4,"Letter_P")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5);class r extends n.GraphicalObject{constructor(t){super(),this.parent=t}get Parent(){return this.parent}set Parent(t){this.parent=t}}e.AbstractGraphicalInstruction=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphicalComment=class{constructor(t,e){this.label=t,this.settings=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphicalMarkedArea=class{constructor(t,e,i,n){this.systemRectangle=t,this.labelRectangle=e,this.label=i,this.settings=n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3),r=i(5);class s extends r.GraphicalObject{constructor(t,e,i,r){super(),this.boundingBox=new n.BoundingBox(i),this.boundingBox.RelativePosition=t,this.boundingBox.BorderRight=e.x-t.x,this.boundingBox.BorderBottom=e.y-t.y,this.style=r}}e.GraphicalRectangle=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4);class r{constructor(){this.matrix=[];for(let t=0;t<2;t++){this.matrix[t]=[];for(let e=0;e<2;e++)this.matrix[t][e]=0}}static getRotationMatrix(t){const e=new r,i=Math.cos(t),n=Math.sin(t);return e.matrix[0][0]=i,e.matrix[0][1]=-n,e.matrix[1][0]=n,e.matrix[1][1]=i,e}scalarMultiplication(t){for(let e=0;e<2;e++)for(let i=0;i<2;i++)this.matrix[e][i]*=t}getTransposeMatrix(){const t=new r;for(let e=0;e<2;e++)for(let i=0;i<2;i++)t.matrix[e][i]=this.matrix[i][e];return t}vectorMultiplication(t){const e=new n.PointF2D;return e.x=t.x*this.matrix[0][0]+t.y*this.matrix[0][1],e.y=t.x*this.matrix[1][0]+t.y*this.matrix[1][1],e}}e.Matrix2D=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphicalStaffEntryLink=class{constructor(t){this.graphicalLinkedStaffEntries=[],this.staffEntryLink=t,this.initialize()}get GetStaffEntryLink(){return this.staffEntryLink}get GraphicalLinkedStaffEntries(){return this.graphicalLinkedStaffEntries}set GraphicalLinkedStaffEntries(t){this.graphicalLinkedStaffEntries=t}isFilled(){for(let t=0;t<this.graphicalLinkedStaffEntries.length;t++)if(!this.graphicalLinkedStaffEntries[t])return!1;return!0}getLinkedStaffEntriesGraphicalNotes(t){if(-1!==this.graphicalLinkedStaffEntries.indexOf(t)){const t=[];for(let e=0,i=this.graphicalLinkedStaffEntries.length;e<i;++e){const i=this.graphicalLinkedStaffEntries[e];for(const e of i.graphicalVoiceEntries)for(const i of e.notes)i.sourceNote.ParentStaffEntry.Link&&i.sourceNote.ParentVoiceEntry===this.staffEntryLink.GetVoiceEntry&&t.push(i)}return t}}initialize(){for(let t=0,e=this.staffEntryLink.LinkStaffEntries.length;t<e;++t)this.graphicalLinkedStaffEntries.push(void 0)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),r=i(21),s=i(4),o=i(3),a=i(20),l=i(24);class u extends n.GraphicalObject{constructor(t,e){super();const i=e,n=t.PositionAndShape.AbsolutePosition.y,u=l.CollectionUtil.last(t.StaffLines).PositionAndShape.RelativePosition.y+4;this.verticalLine=new a.GraphicalLine(new s.PointF2D(i,n),new s.PointF2D(i,n+u),.4,r.OutlineAndFillStyleEnum.SelectionSymbol);for(let r=0,o=t.StaffLines.length;r<o;++r){const e=t.StaffLines[r],o=new s.PointF2D(i,n+e.PositionAndShape.RelativePosition.y),a=new Array(3);o.y-=.2,a[0].x=o.x-3,a[0].y=o.y+1.2,a[1].x=o.x-2,a[1].y=o.y+.4,a[2].x=o.x-2,a[2].y=o.y+2,this.arrows.push(a);const l=new Array(8),u=.8;o.x-=.1,o.y+=.3;const c=.2;l[0].x=o.x-2,l[0].y=o.y+1.5-c,l[1].x=o.x-1,l[1].y=o.y+1.5-c,l[2].x=o.x-1,l[2].y=o.y+2.5,l[3].x=o.x-2,l[3].y=o.y+2.5,l[4].x=l[0].x,l[4].y=l[0].y-u,l[5].x=l[4].x+u+1,l[5].y=l[4].y,l[6].x=l[5].x,l[6].y=l[3].y+u,l[7].x=l[3].x,l[7].y=l[6].y,this.arrowlines.push(l)}this.boundingBox=new o.BoundingBox(this),this.boundingBox.AbsolutePosition=new s.PointF2D(i,n),this.boundingBox.BorderLeft=-.4,this.boundingBox.BorderRight=4,this.boundingBox.BorderBottom=u}}e.SelectionEndSymbol=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(4),r=i(21),s=i(20),o=i(5),a=i(3),l=i(24);class u extends o.GraphicalObject{constructor(t,e){super();const i=e,o=t.PositionAndShape.AbsolutePosition.y,u=l.CollectionUtil.last(t.StaffLines).PositionAndShape.RelativePosition.y+4;this.verticalLine=new s.GraphicalLine(new n.PointF2D(i,o),new n.PointF2D(i,o+u),.4,r.OutlineAndFillStyleEnum.SelectionSymbol);for(let r=0,s=t.StaffLines.length;r<s;++r){const e=t.StaffLines[r],s=new n.PointF2D(i,o+e.PositionAndShape.RelativePosition.y),a=new Array(7);a[0].x=s.x+4,a[0].y=s.y+2,a[1].x=s.x+2.5,a[1].y=s.y+.5,a[2].x=s.x+2.5,a[2].y=s.y+1.3,a[3].x=s.x+1,a[3].y=s.y+1.3,a[4].x=s.x+1,a[4].y=s.y+2.7,a[5].x=s.x+2.5,a[5].y=s.y+2.7,a[6].x=s.x+2.5,a[6].y=s.y+3.5,this.arrows.push(a)}this.boundingBox=new a.BoundingBox(this),this.boundingBox.AbsolutePosition=new n.PointF2D(i,o),this.boundingBox.BorderLeft=-.4,this.boundingBox.BorderRight=4,this.boundingBox.BorderBottom=u}}e.SelectionStartSymbol=u},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(68)),n(i(120)),n(i(69)),n(i(67)),n(i(18)),n(i(70)),n(i(96)),n(i(121)),n(i(122)),n(i(71)),n(i(72)),n(i(95)),n(i(19)),n(i(97)),n(i(123)),n(i(167)),n(i(124)),n(i(125)),n(i(64)),n(i(73))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.p=0]="p",t[t.f=1]="f",t[t.s=2]="s",t[t.z=3]="z",t[t.m=4]="m",t[t.r=5]="r"}(e.DynamicExpressionSymbolEnum||(e.DynamicExpressionSymbolEnum={}))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10));var s;!function(t){t[t.NEAR_HEAD=1]="NEAR_HEAD",t[t.NEAR_TOP=2]="NEAR_TOP"}(s=e.CurvePositionEnum||(e.CurvePositionEnum={}));class o{constructor(t){this.vfStartNote=void 0,this.vfEndNote=void 0,this.parentSlur=t}static createFromVexflowSlur(t){return new o(t.parentSlur)}get vfSlur(){return this.parentSlur}curve_Options(){return{cps:[{x:0,y:10},{x:0,y:10}],invert:!1,position:s.NEAR_TOP,position_end:s.NEAR_TOP,spacing:2,thickness:2,x_shift:0,y_shift:10}}createVexFlowCurve(){this.vfCurve=new r.default.Flow.Curve(this.vfStartNote,this.vfEndNote,void 0)}}e.VexFlowSlur=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(45)),n(i(8)),n(i(15)),n(i(26)),n(i(17)),n(i(74))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(i(10)),s=i(72),o=i(18),a=n(i(1));class l extends s.VexFlowMeasure{constructor(t,e,i){super(t,e,i)}resetLayout(){this.stave=new r.default.Flow.TabStave(0,0,0,{space_above_staff_ln:0,space_below_staff_ln:0}),this.updateInstructionWidth()}graphicalMeasureCreatedCalculations(){for(let e=0,i=this.staffEntries.length;e<i;++e){const t=this.staffEntries[e];for(const e of t.graphicalVoiceEntries)e.notes[0].sourceNote.isRest()?e.vfStaveNote=o.VexFlowConverter.GhostNote(e.notes[0].sourceNote.Length):e.vfStaveNote=o.VexFlowConverter.CreateTabNote(e)}this.finalizeTuplets();const t=this.getVoicesWithinMeasure();for(const e of t){if(!e)continue;this.vfVoices[e.VoiceId]=new r.default.Flow.Voice({beat_value:this.parentSourceMeasure.Duration.Denominator,num_beats:this.parentSourceMeasure.Duration.Numerator,resolution:r.default.Flow.RESOLUTION}).setMode(2);const t=this.getRestFilledVexFlowStaveNotesPerVoice(e);for(const i of t){if(i.parentVoiceEntry&&i.parentVoiceEntry.IsGrace&&!i.parentVoiceEntry.GraceAfterMainNote)continue;const t=i;if(0!==i.notes.length&&i.notes[0]&&i.notes[0].sourceNote.PrintObject){if(i.parentVoiceEntry&&this.rules.RenderFingerings&&this.createFingerings(i),i.parentVoiceEntry&&i.parentVoiceEntry.Arpeggio){const e=i.parentVoiceEntry.Arpeggio;if(i.notes&&i.notes.length>1){const i=o.VexFlowConverter.StrokeTypeFromArpeggioType(e.type),n=new r.default.Flow.Stroke(i,{all_voices:this.rules.ArpeggiosGoAcrossVoices});this.rules.RenderArpeggios&&t.vfStaveNote.addStroke(0,n)}else a.default.debug(`[OSMD] arpeggio in measure ${this.MeasureNumber} could not be drawn.\n                        voice entry had less than two notes, arpeggio is likely between voice entries, not currently supported in Vexflow.`)}this.vfVoices[e.VoiceId].addTickable(t.vfStaveNote)}else this.vfVoices[e.VoiceId].addTickable(t.vfStaveNote)}}}}e.VexFlowTabMeasure=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(39),r=i(128),s=i(70),o=i(43);e.VexflowStafflineNoteCalculator=class{constructor(t){this.instrumentVoiceMapping=new o.Dictionary,this.voiceIdx=0,this.rules=t}positionNote(t,e,i){if(!(t instanceof s.VexFlowGraphicalNote)||e.ClefType!==n.ClefEnum.percussion||t.sourceNote.isRest()||i>1||0===this.rules.PercussionOneLineCutoff)return t;const a=this.rules.PercussionForceVoicesOneLineCutoff,l=void 0!==a&&0!==a&&(-1===a||t.sourceNote.ParentStaff.ParentInstrument.SubInstruments.length<a),u=t.sourceNote.PlaybackInstrumentId,c=t.parentVoiceEntry.parentVoiceEntry.ParentVoice.VoiceId;let h=void 0;this.instrumentVoiceMapping.containsKey(u)?h=this.instrumentVoiceMapping.getValue(u):(h=new o.Dictionary,this.instrumentVoiceMapping.setValue(u,h));let d=r.NoteEnum.B,f=1;const p=t;if(!l)if(h.containsKey(c)){const t=h.getValue(c);d=t.note,f=t.octave}else{switch(this.voiceIdx%5){case 1:d=r.NoteEnum.A;break;case 2:d=r.NoteEnum.F;break;case 3:d=r.NoteEnum.D;break;case 4:d=r.NoteEnum.B,f=0;break;default:d=r.NoteEnum.C,f=2}this.voiceIdx++,h.setValue(c,{note:d,octave:f})}return p.setAccidental(new r.Pitch(d,f,r.AccidentalEnum.NONE)),t}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(129)),n(i(59))},function(t,e,i){(function(e,i,n){t.exports=function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};e[o][0].call(u.exports,(function(t){return r(e[o][1][t]||t)}),u,u.exports,t,e,i,n)}return i[o].exports}for(var s=!1,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"use strict";var n=t("./utils"),r=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,r,o,a,l,u,c=[],h=0,d=t.length,f=d,p="string"!==n.getTypeOf(t);h<t.length;)f=d-h,r=p?(e=t[h++],i=h<d?t[h++]:0,h<d?t[h++]:0):(e=t.charCodeAt(h++),i=h<d?t.charCodeAt(h++):0,h<d?t.charCodeAt(h++):0),o=e>>2,a=(3&e)<<4|i>>4,l=1<f?(15&i)<<2|r>>6:64,u=2<f?63&r:64,c.push(s.charAt(o)+s.charAt(a)+s.charAt(l)+s.charAt(u));return c.join("")},i.decode=function(t){var e,i,n,o,a,l,u=0,c=0,h="data:";if(t.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===s.charAt(64)&&f--,t.charAt(t.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<t.length;)e=s.indexOf(t.charAt(u++))<<2|(o=s.indexOf(t.charAt(u++)))>>4,i=(15&o)<<4|(a=s.indexOf(t.charAt(u++)))>>2,n=(3&a)<<6|(l=s.indexOf(t.charAt(u++))),d[c++]=e,64!==a&&(d[c++]=i),64!==l&&(d[c++]=n);return d}},{"./support":30,"./utils":32}],2:[function(t,e,i){"use strict";var n=t("./external"),r=t("./stream/DataWorker"),s=t("./stream/DataLengthProbe"),o=t("./stream/Crc32Probe");function a(t,e,i,n,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=n,this.compressedContent=r}s=t("./stream/DataLengthProbe"),a.prototype={getContentWorker:function(){var t=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,i){return t.pipe(new o).pipe(new s("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,i){"use strict";var n=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(t){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,i){"use strict";var n=t("./utils"),r=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==n.getTypeOf(t)?function(t,e,i,n){var s=r,o=0+i;t^=-1;for(var a=0;a<o;a++)t=t>>>8^s[255&(t^e[a])];return-1^t}(0|e,t,t.length):function(t,e,i,n){var s=r,o=0+i;t^=-1;for(var a=0;a<o;a++)t=t>>>8^s[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,e,i){"use strict";var n;n="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:n}},{lie:37}],7:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako"),s=t("./utils"),o=t("./stream/GenericWorker"),a=n?"uint8array":"array";function l(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}i.magic="\b\0",s.inherits(l,o),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(a,t.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},i.compressWorker=function(t){return new l("Deflate",t)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,i){"use strict";function n(t,e){var i,n="";for(i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n}function r(t,e,i,r,o,c){var h,d,f=t.file,p=t.compression,m=c!==a.utf8encode,g=s.transformTo("string",c(f.name)),y=s.transformTo("string",a.utf8encode(f.name)),v=f.comment,b=s.transformTo("string",c(v)),_=s.transformTo("string",a.utf8encode(v)),S=y.length!==f.name.length,w=_.length!==v.length,T="",x="",E="",C=f.dir,A=f.date,P={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(P.crc32=t.crc32,P.compressedSize=t.compressedSize,P.uncompressedSize=t.uncompressedSize);var M=0;e&&(M|=8),m||!S&&!w||(M|=2048);var k=0,L=0;C&&(k|=16),"UNIX"===o?(L=798,k|=function(t,e){var i=t;return t||(i=e?16893:33204),(65535&i)<<16}(f.unixPermissions,C)):(L=20,k|=function(t){return 63&(t||0)}(f.dosPermissions)),h=A.getUTCHours(),h<<=6,h|=A.getUTCMinutes(),h<<=5,h|=A.getUTCSeconds()/2,d=A.getUTCFullYear()-1980,d<<=4,d|=A.getUTCMonth()+1,d<<=5,d|=A.getUTCDate(),S&&(x=n(1,1)+n(l(g),4)+y,T+="up"+n(x.length,2)+x),w&&(E=n(1,1)+n(l(b),4)+_,T+="uc"+n(E.length,2)+E);var I="";return I+="\n\0",I+=n(M,2),I+=p.magic,I+=n(h,2),I+=n(d,2),I+=n(P.crc32,4),I+=n(P.compressedSize,4),I+=n(P.uncompressedSize,4),I+=n(g.length,2),I+=n(T.length,2),{fileRecord:u.LOCAL_FILE_HEADER+I+g+T,dirRecord:u.CENTRAL_FILE_HEADER+n(L,2)+I+n(b.length,2)+"\0\0\0\0"+n(k,4)+n(r,4)+g+T+b}}var s=t("../utils"),o=t("../stream/GenericWorker"),a=t("../utf8"),l=t("../crc32"),u=t("../signature");function c(t,e,i,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(c,o),c.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-n-1))/i:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=r(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=r(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:function(t){return u.DATA_DESCRIPTOR+n(t.crc32,4)+n(t.compressedSize,4)+n(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,r=function(t,e,i,r,o){var a=s.transformTo("string",o(r));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(t,2)+n(t,2)+n(e,4)+n(i,4)+n(a.length,2)+a}(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,i){"use strict";var n=t("../compressions"),r=t("./ZipFileWorker");i.generateWorker=function(t,e,i){var s=new r(e.streamFiles,i,e.platform,e.encodeFileName),o=0;try{t.forEach((function(t,i){o++;var r=function(t,e){var i=t||e,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r}(i.options.compression,e.compression),a=i.options.compressionOptions||e.compressionOptions||{},l=i.dir,u=i.date;i._compressWorker(r,a).withStreamInfo("file",{name:t,dir:l,date:u,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)})),s.entriesCount=o}catch(t){s.error(t)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,i){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.4.0",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=t("./external"),e.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,i){"use strict";var n=t("./utils"),r=t("./external"),s=t("./utf8"),o=(n=t("./utils"),t("./zipEntries")),a=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function u(t){return new r.Promise((function(e,i){var n=t.decompressed.getContentWorker().pipe(new a);n.on("error",(function(t){i(t)})).on("end",(function(){n.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var i=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var i=new o(e);return i.load(t),i})).then((function(t){var i=[r.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var s=0;s<n.length;s++)i.push(u(n[s]));return r.Promise.all(i)})).then((function(t){for(var n=t.shift(),r=n.files,s=0;s<r.length;s++){var o=r[s];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,i){"use strict";var n=t("../utils"),r=t("../stream/GenericWorker");function s(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}n.inherits(s,r),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},s.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,i){"use strict";var n=t("readable-stream").Readable;function r(t,e,i){n.call(this,e),this._helper=t;var r=this;t.on("data",(function(t,e){r.push(t)||r._helper.pause(),i&&i(e)})).on("error",(function(t){r.emit("error",t)})).on("end",(function(){r.push(null)}))}t("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,i,n){"use strict";i.exports={isNode:void 0!==e,newBufferFrom:function(t,i){if(e.from&&e.from!==Uint8Array.from)return e.from(t,i);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,i)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var i=new e(t);return i.fill(0),i},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,i){"use strict";function n(t,e,i){var n,r=s.getTypeOf(e),a=s.extend(i||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=m(t)),a.createFolders&&(n=p(t))&&g.call(this,n,!0);var h,y="string"===r&&!1===a.binary&&!1===a.base64;i&&void 0!==i.binary||(a.binary=!y),(e instanceof u&&0===e.uncompressedSize||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",r="string"),h=e instanceof u||e instanceof o?e:d.isNode&&d.isStream(e)?new f(t,e):s.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var v=new c(t,h,a);this.files[t]=v}var r=t("./utf8"),s=t("./utils"),o=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),l=t("./defaults"),u=t("./compressedObject"),c=t("./zipObject"),h=t("./generate"),d=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e=void 0!==e?e:l.createFolders,t=m(t),this.files[t]||n.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function y(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,n;for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,n))},filter:function(t){var e=[];return this.forEach((function(i,n){t(i,n)&&e.push(n)})),e},file:function(t,e,i){if(1!==arguments.length)return t=this.root+t,n.call(this,t,e,i),this;if(y(t)){var r=t;return this.filter((function(t,e){return!e.dir&&r.test(t)}))}var s=this.files[this.root+t];return s&&!s.dir?s:null},folder:function(t){if(!t)return this;if(y(t))return this.filter((function(e,i){return i.dir&&t.test(e)}));var e=this.root+t,i=g.call(this,e),n=this.clone();return n.root=i.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter((function(e,i){return i.name.slice(0,t.length)===t})),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if((i=s.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");s.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var n=i.comment||this.comment||"";e=h.generateWorker(this,i,n)}catch(t){(e=new o("error")).error(t)}return new a(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,i){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,i){"use strict";var n=t("./DataReader");function r(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(r,n),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===i&&this.data[s+2]===n&&this.data[s+3]===r)return s-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&i===s[1]&&n===s[2]&&r===s[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,e,i){"use strict";var n=t("../utils");function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":32}],19:[function(t,e,i){"use strict";var n=t("./Uint8ArrayReader");function r(t){n.call(this,t)}t("../utils").inherits(r,n),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,i){"use strict";var n=t("./DataReader");function r(t){n.call(this,t)}t("../utils").inherits(r,n),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,e,i){"use strict";var n=t("./ArrayReader");function r(t){n.call(this,t)}t("../utils").inherits(r,n),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,i){"use strict";var n=t("../utils"),r=t("../support"),s=t("./ArrayReader"),o=t("./StringReader"),a=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new l(n.transformTo("uint8array",t)):new s(n.transformTo("array",t)):new o(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,i){"use strict";var n=t("./GenericWorker"),r=t("../utils");function s(t){n.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(s,n),s.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,i){"use strict";var n=t("./GenericWorker"),r=t("../crc32");function s(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,n),s.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,i){"use strict";var n=t("../utils"),r=t("./GenericWorker");function s(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}n.inherits(s,r),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},e.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,i){"use strict";var n=t("../utils"),r=t("./GenericWorker");function s(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}n.inherits(s,r),s.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,i){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=n},{}],29:[function(t,i,n){"use strict";var r=t("../utils"),s=t("./ConvertWorker"),o=t("./GenericWorker"),a=t("../base64"),l=t("../support"),u=t("../external"),c=null;if(l.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function h(t,e,i){var n=e;switch(e){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=e,this._mimeType=i,r.checkSupport(n),this._worker=t.pipe(new s(n)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}h.prototype={accumulate:function(t){return function(t,i){return new u.Promise((function(n,s){var o=[],l=t._internalType,u=t._outputType,c=t._mimeType;t.on("data",(function(t,e){o.push(t),i&&i(e)})).on("error",(function(t){o=[],s(t)})).on("end",(function(){try{var t=function(t,e,i){switch(t){case"blob":return r.newBlob(r.transformTo("arraybuffer",e),i);case"base64":return a.encode(e);default:return r.transformTo(t,e)}}(u,function(t,i){var n,r=0,s=null,o=0;for(n=0;n<i.length;n++)o+=i[n].length;switch(t){case"string":return i.join("");case"array":return Array.prototype.concat.apply([],i);case"uint8array":for(s=new Uint8Array(o),n=0;n<i.length;n++)s.set(i[n],r),r+=i[n].length;return s;case"nodebuffer":return e.concat(i);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,o),c);n(t)}catch(t){s(t)}o=[]})).resume()}))}(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,(function(t){e.call(i,t.data,t.meta)})):this._worker.on(t,(function(){r.delay(e,arguments,i)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},t)}},i.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==e,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),n.blob=0===s.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,i){"use strict";for(var n=t("./utils"),r=t("./support"),s=t("./nodejsUtils"),o=t("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}a[254]=a[254]=1,i.utf8encode=function(t){return r.nodebuffer?s.newBufferFrom(t,"utf-8"):function(t){var e,i,n,s,o,a=t.length,l=0;for(s=0;s<a;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=r.uint8array?new Uint8Array(l):new Array(l),s=o=0;o<l;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?e[o++]=i:(i<2048?e[o++]=192|i>>>6:(i<65536?e[o++]=224|i>>>12:(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63),e[o++]=128|i>>>6&63),e[o++]=128|63&i);return e}(t)},i.utf8decode=function(t){return r.nodebuffer?n.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,i,r,s,o=t.length,l=new Array(2*o);for(e=i=0;e<o;)if((r=t[e++])<128)l[i++]=r;else if(4<(s=a[r]))l[i++]=65533,e+=s-1;else{for(r&=2===s?31:3===s?15:7;1<s&&e<o;)r=r<<6|63&t[e++],s--;1<s?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),n.applyFromCharCode(l)}(t=n.transformTo(r.uint8array?"uint8array":"array",t))},n.inherits(u,o),u.prototype.processChunk=function(t){var e=n.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var s=e;(e=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),e.set(s,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0||0===i?e:i+a[t[i]]>e?i:e}(e),l=e;o!==e.length&&(r.uint8array?(l=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(l=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:i.utf8decode(l),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=u,n.inherits(c,o),c.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,i){"use strict";var n=t("./support"),r=t("./base64"),s=t("./nodejsUtils"),o=t("set-immediate-shim"),a=t("./external");function l(t){return t}function u(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}i.newBlob=function(t,e){i.checkSupport("blob");try{return new Blob([t],{type:e})}catch(i){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(t,e,i){var n=[],r=0,s=t.length;if(s<=i)return String.fromCharCode.apply(null,t);for(;r<s;)"array"===e||"nodebuffer"===e?n.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+i,s)))):n.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+i,s)))),r+=i;return n.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var e=65536,n=i.getTypeOf(t),r=!0;if("uint8array"===n?r=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=c.applyCanBeUsed.nodebuffer),r)for(;1<e;)try{return c.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return c.stringifyByChar(t)}function d(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}i.applyFromCharCode=h;var f={};f.string={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,s.allocBuffer(t.length))}},f.array={string:h,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(t)}},f.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:h,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return s.newBufferFrom(t)}},f.nodebuffer={string:h,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:l},i.transformTo=function(t,e){if(e=e||"",!t)return e;i.checkSupport(t);var n=i.getTypeOf(e);return f[n][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":n.nodebuffer&&s.isBuffer(t)?"nodebuffer":n.uint8array&&t instanceof Uint8Array?"uint8array":n.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!n[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,n="";for(i=0;i<(t||"").length;i++)n+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return n},i.delay=function(t,e,i){o((function(){t.apply(i||null,e||[])}))},i.inherits=function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,s,o,l){return a.Promise.resolve(e).then((function(t){return n.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise((function(e,i){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){i(t.target.error)},n.readAsArrayBuffer(t)})):t})).then((function(e){var c=i.getTypeOf(e);return c?("arraybuffer"===c?e=i.transformTo("uint8array",e):"string"===c&&(l?e=r.decode(e):s&&!0!==o&&(e=function(t){return u(t,n.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,i){"use strict";var n=t("./reader/readerFor"),r=t("./utils"),s=t("./signature"),o=t("./zipEntry"),a=(t("./utf8"),t("./support"));function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?"uint8array":"array",i=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=e-i;if(0<n)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,i){"use strict";var n=t("./reader/readerFor"),r=t("./utils"),s=t("./compressedObject"),o=t("./crc32"),a=t("./utf8"),l=t("./compressions"),u=t("./support");function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,n,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),i=t.readInt(2),n=t.readData(i),this.extraFields[e]={id:e,length:i,value:n}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var s=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)||o(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)||o(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},e.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,i){"use strict";function n(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var r=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),o=t("./utf8"),a=t("./compressedObject"),l=t("./stream/GenericWorker");n.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");var n="string"===(i=t.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!n&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&n&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new r(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)n.prototype[u[h]]=c;e.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){(function(t){"use strict";var i,n,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var s=0,o=new r(c),a=t.document.createTextNode("");o.observe(a,{characterData:!0}),i=function(){a.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var l=new t.MessageChannel;l.port1.onmessage=c,i=function(){l.port2.postMessage(0)}}var u=[];function c(){var t,e;n=!0;for(var i=u.length;i;){for(e=u,u=[],t=-1;++t<i;)e[t]();i=u.length}n=!1}e.exports=function(t){1!==u.push(t)||n||i()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,i){"use strict";var n=t("immediate");function r(){}var s={},o=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==r&&f(this,t)}function c(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function h(t,e,i){n((function(){var n;try{n=e(i)}catch(n){return s.reject(t,n)}n===t?s.reject(t,new TypeError("Cannot resolve promise with itself")):s.resolve(t,n)}))}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var i=!1;function n(e){i||(i=!0,s.reject(t,e))}function r(e){i||(i=!0,s.resolve(t,e))}var o=p((function(){e(r,n)}));"error"===o.status&&n(o.value)}function p(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}(e.exports=u).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===o)return this;var i=new this.constructor(r);return this.state!==l?h(i,this.state===a?t:e,this.outcome):this.queue.push(new c(i,t,e)),i},c.prototype.callFulfilled=function(t){s.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){s.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},s.resolve=function(t,e){var i=p(d,e);if("error"===i.status)return s.reject(t,i.value);var n=i.value;if(n)f(t,n);else{t.state=a,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},s.reject=function(t,e){t.state=o,t.outcome=e;for(var i=-1,n=t.queue.length;++i<n;)t.queue[i].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:s.resolve(new this(r),t)},u.reject=function(t){var e=new this(r);return s.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,n=!1;if(!i)return this.resolve([]);for(var o=new Array(i),a=0,l=-1,u=new this(r);++l<i;)c(t[l],l);return u;function c(t,r){e.resolve(t).then((function(t){o[r]=t,++a!==i||n||(n=!0,s.resolve(u,o))}),(function(t){n||(n=!0,s.reject(u,t))}))}},u.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,i=!1;if(!e)return this.resolve([]);for(var n,o=-1,a=new this(r);++o<e;)n=t[o],this.resolve(n).then((function(t){i||(i=!0,s.resolve(a,t))}),(function(t){i||(i=!0,s.reject(a,t))}));return a}},{immediate:36}],38:[function(t,e,i){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,i){"use strict";var n=t("./zlib/deflate"),r=t("./utils/common"),s=t("./utils/strings"),o=t("./zlib/messages"),a=t("./zlib/zstream"),l=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==i)throw new Error(o[i]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(i=n.deflateSetDictionary(this.strm,c)))throw new Error(o[i]);this._dict_set=!0}}function c(t,e){var i=new u(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}u.prototype.push=function(t,e){var i,o,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=s.string2buf(t):"[object ArrayBuffer]"===l.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(u),a.next_out=0,a.avail_out=u),1!==(i=n.deflate(a,o))&&0!==i)return this.onEnd(i),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(r.shrinkBuf(a.output,a.next_out))):this.onData(r.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==i);return 4===o?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==o||(this.onEnd(0),!(a.avail_out=0))},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=u,i.deflate=c,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,i){"use strict";var n=t("./zlib/inflate"),r=t("./utils/common"),s=t("./utils/strings"),o=t("./zlib/constants"),a=t("./zlib/messages"),l=t("./zlib/zstream"),u=t("./zlib/gzheader"),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,e.windowBits);if(i!==o.Z_OK)throw new Error(a[i]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}function d(t,e){var i=new h(e);if(i.push(t,!0),i.err)throw i.msg||a[i.err];return i.result}h.prototype.push=function(t,e){var i,a,l,u,h,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(i=n.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(d="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,i=n.inflateSetDictionary(this.strm,d)),i===o.Z_BUF_ERROR&&!0===g&&(i=o.Z_OK,g=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&i!==o.Z_STREAM_END&&(0!==f.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(f.output,f.next_out),u=f.next_out-l,h=s.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&r.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=h,i.inflate=d,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},i.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var s=0;s<n;s++)t[r+s]=e[i+s]},flattenChunks:function(t){var e,i,n,r,s,o;for(e=n=0,i=t.length;e<i;e++)n+=t[e].length;for(o=new Uint8Array(n),e=r=0,i=t.length;e<i;e++)s=t[e],o.set(s,r),r+=s.length;return o}},s={arraySet:function(t,e,i,n,r){for(var s=0;s<n;s++)t[r+s]=e[i+s]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(n)},{}],42:[function(t,e,i){"use strict";var n=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var o=new n.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",o=0;o<e;o++)i+=String.fromCharCode(t[o]);return i}o[254]=o[254]=1,i.string2buf=function(t){var e,i,r,s,o,a=t.length,l=0;for(s=0;s<a;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(r-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=new n.Buf8(l),s=o=0;o<l;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(r-56320),s++),i<128?e[o++]=i:(i<2048?e[o++]=192|i>>>6:(i<65536?e[o++]=224|i>>>12:(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63),e[o++]=128|i>>>6&63),e[o++]=128|63&i);return e},i.buf2binstring=function(t){return l(t,t.length)},i.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,r=e.length;i<r;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,r,s,a=e||t.length,u=new Array(2*a);for(i=n=0;i<a;)if((r=t[i++])<128)u[n++]=r;else if(4<(s=o[r]))u[n++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;1<s&&i<a;)r=r<<6|63&t[i++],s--;1<s?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return l(u,n)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0||0===i?e:i+o[t[i]]>e?i:e}},{"./common":41}],43:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){for(var r=65535&t|0,s=t>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;s=s+(r=r+e[n++]|0)|0,--o;);r%=65521,s%=65521}return r|s<<16|0}},{}],44:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,i){"use strict";var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,r){var s=n,o=r+i;t^=-1;for(var a=r;a<o;a++)t=t>>>8^s[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,i){"use strict";var n,r=t("../utils/common"),s=t("./trees"),o=t("./adler32"),a=t("./crc32"),l=t("./messages"),u=-2,c=258,h=262,d=113;function f(t,e){return t.msg=l[e],e}function p(t){return(t<<1)-(4<t?9:0)}function m(t){for(var e=t.length;0<=--e;)t[e]=0}function g(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(r.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function y(t,e){s._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,g(t.strm)}function v(t,e){t.pending_buf[t.pending++]=e}function b(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _(t,e){var i,n,r=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-h?t.strstart-(t.w_size-h):0,u=t.window,d=t.w_mask,f=t.prev,p=t.strstart+c,m=u[s+o-1],g=u[s+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(i=e)+o]===g&&u[i+o-1]===m&&u[i]===u[s]&&u[++i]===u[s+1]){s+=2,i++;do{}while(u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&s<p);if(n=c-(p-s),s=p-c,o<n){if(t.match_start=e,a<=(o=n))break;m=u[s+o-1],g=u[s+o]}}}while((e=f[e&d])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead}function S(t){var e,i,n,s,l,u,c,d,f,p,m=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-h)){for(r.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=i=t.hash_size;n=t.head[--e],t.head[e]=m<=n?n-m:0,--i;);for(e=i=m;n=t.prev[--e],t.prev[e]=m<=n?n-m:0,--i;);s+=m}if(0===t.strm.avail_in)break;if(u=t.strm,c=t.window,d=t.strstart+t.lookahead,p=void 0,(f=s)<(p=u.avail_in)&&(p=f),i=0===p?0:(u.avail_in-=p,r.arraySet(c,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=o(u.adler,c,p,d):2===u.state.wrap&&(u.adler=a(u.adler,c,p,d)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=i,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<h&&0!==t.strm.avail_in)}function w(t,e){for(var i,n;;){if(t.lookahead<h){if(S(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-h&&(t.match_length=_(t,i)),t.match_length>=3)if(n=s._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}function T(t,e){for(var i,n,r;;){if(t.lookahead<h){if(S(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-h&&(t.match_length=_(t,i),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-3,n=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=s._tr_tally(t,0,t.window[t.strstart-1]))&&y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}function x(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,s._tr_init(e),0):f(t,u)}function A(t){var e=C(t);return 0===e&&function(t){t.window_size=2*t.w_size,m(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function P(t,e,i,n,s,o){if(!t)return u;var a=1;if(-1===e&&(e=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),s<1||9<s||8!==i||n<8||15<n||e<0||9<e||o<0||4<o)return f(t,u);8===n&&(n=9);var l=new E;return(t.state=l).strm=t,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=o,l.method=i,A(t)}n=[new x(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(S(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-h&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(y(t,!1),t.strm.avail_out),1)})),new x(4,4,8,4,w),new x(4,5,16,8,w),new x(4,6,32,32,w),new x(4,4,16,16,T),new x(8,16,32,32,T),new x(8,16,128,128,T),new x(8,32,128,256,T),new x(32,128,258,1024,T),new x(32,258,258,4096,T)],i.deflateInit=function(t,e){return P(t,e,8,15,8,0)},i.deflateInit2=P,i.deflateReset=A,i.deflateResetKeep=C,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},i.deflate=function(t,e){var i,r,o,l;if(!t||!t.state||5<e||e<0)return t?f(t,u):u;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return f(t,0===t.avail_out?-5:u);if(r.strm=t,i=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,v(r,31),v(r,139),v(r,8),r.gzhead?(v(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),v(r,255&r.gzhead.time),v(r,r.gzhead.time>>8&255),v(r,r.gzhead.time>>16&255),v(r,r.gzhead.time>>24&255),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(v(r,255&r.gzhead.extra.length),v(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=a(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(v(r,0),v(r,0),v(r,0),v(r,0),v(r,0),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,3),r.status=d);else{var h=8+(r.w_bits-8<<4)<<8;h|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=d,b(r,h),0!==r.strstart&&(b(r,t.adler>>>16),b(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(t.adler=a(t.adler,r.pending_buf,r.pending-o,o)),g(t),o=r.pending,r.pending!==r.pending_buf_size));)v(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(t.adler=a(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=a(t.adler,r.pending_buf,r.pending-o,o)),g(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=a(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=a(t.adler,r.pending_buf,r.pending-o,o)),g(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=a(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&g(t),r.pending+2<=r.pending_buf_size&&(v(r,255&t.adler),v(r,t.adler>>8&255),t.adler=0,r.status=d)):r.status=d),0!==r.pending){if(g(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&p(e)<=p(i)&&4!==e)return f(t,-5);if(666===r.status&&0!==t.avail_in)return f(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var _=2===r.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(S(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var i,n,r,o,a=t.window;;){if(t.lookahead<=c){if(S(t),t.lookahead<=c&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(n=a[r=t.strstart-1])===a[++r]&&n===a[++r]&&n===a[++r]){o=t.strstart+c;do{}while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<o);t.match_length=c-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=s._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}(r,e):n[r.level].func(r,e);if(3!==_&&4!==_||(r.status=666),1===_||3===_)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===_&&(1===e?s._tr_align(r):5!==e&&(s._tr_stored_block(r,0,0,!1),3===e&&(m(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),g(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(v(r,255&t.adler),v(r,t.adler>>8&255),v(r,t.adler>>16&255),v(r,t.adler>>24&255),v(r,255&t.total_in),v(r,t.total_in>>8&255),v(r,t.total_in>>16&255),v(r,t.total_in>>24&255)):(b(r,t.adler>>>16),b(r,65535&t.adler)),g(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},i.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==d&&666!==e?f(t,u):(t.state=null,e===d?f(t,-3):0):u},i.deflateSetDictionary=function(t,e){var i,n,s,a,l,c,h,d,f=e.length;if(!t||!t.state)return u;if(2===(a=(i=t.state).wrap)||1===a&&42!==i.status||i.lookahead)return u;for(1===a&&(t.adler=o(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===a&&(m(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new r.Buf8(i.w_size),r.arraySet(d,e,f-i.w_size,i.w_size,0),e=d,f=i.w_size),l=t.avail_in,c=t.next_in,h=t.input,t.avail_in=f,t.next_in=0,t.input=e,S(i);i.lookahead>=3;){for(n=i.strstart,s=i.lookahead-2;i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++,--s;);i.strstart=n,i.lookahead=2,S(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=c,t.input=h,t.avail_in=l,i.wrap=a,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,i){"use strict";e.exports=function(t,e){var i,n,r,s,o,a,l,u,c,h,d,f,p,m,g,y,v,b,_,S,w,T,x,E,C;i=t.state,n=t.next_in,E=t.input,r=n+(t.avail_in-5),s=t.next_out,C=t.output,o=s-(e-t.avail_out),a=s+(t.avail_out-257),l=i.dmax,u=i.wsize,c=i.whave,h=i.wnext,d=i.window,f=i.hold,p=i.bits,m=i.lencode,g=i.distcode,y=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;t:do{p<15&&(f+=E[n++]<<p,p+=8,f+=E[n++]<<p,p+=8),b=m[f&y];e:for(;;){if(f>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))C[s++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(f&(1<<_)-1)];continue e}if(32&_){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}S=65535&b,(_&=15)&&(p<_&&(f+=E[n++]<<p,p+=8),S+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=E[n++]<<p,p+=8,f+=E[n++]<<p,p+=8),b=g[f&v];i:for(;;){if(f>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(w=65535&b,p<(_&=15)&&(f+=E[n++]<<p,(p+=8)<_&&(f+=E[n++]<<p,p+=8)),l<(w+=f&(1<<_)-1)){t.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=_,p-=_,(_=s-o)<w){if(c<(_=w-_)&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(x=d,(T=0)===h){if(T+=u-_,_<S){for(S-=_;C[s++]=d[T++],--_;);T=s-w,x=C}}else if(h<_){if(T+=u+h-_,(_-=h)<S){for(S-=_;C[s++]=d[T++],--_;);if(T=0,h<S){for(S-=_=h;C[s++]=d[T++],--_;);T=s-w,x=C}}}else if(T+=h-_,_<S){for(S-=_;C[s++]=d[T++],--_;);T=s-w,x=C}for(;2<S;)C[s++]=x[T++],C[s++]=x[T++],C[s++]=x[T++],S-=3;S&&(C[s++]=x[T++],1<S&&(C[s++]=x[T++]))}else{for(T=s-w;C[s++]=C[T++],C[s++]=C[T++],C[s++]=C[T++],2<(S-=3););S&&(C[s++]=C[T++],1<S&&(C[s++]=C[T++]))}break}}break}}while(n<r&&s<a);n-=S=p>>3,f&=(1<<(p-=S<<3))-1,t.next_in=n,t.next_out=s,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=s<a?a-s+257:257-(s-a),i.hold=f,i.bits=p}},{}],49:[function(t,e,i){"use strict";var n=t("../utils/common"),r=t("./adler32"),s=t("./crc32"),o=t("./inffast"),a=t("./inftrees"),l=-2;function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):l}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,h(t)):l}function f(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,d(t))):l}function p(t,e){var i,n;return t?(n=new c,(t.state=n).window=null,0!==(i=f(t,e))&&(t.state=null),i):l}var m,g,y=!0;function v(t){if(y){var e;for(m=new n.Buf32(512),g=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,g,0,t.work,{bits:5}),y=!1}t.lencode=m,t.lenbits=9,t.distcode=g,t.distbits=5}function b(t,e,i,r){var s,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),r>=o.wsize?(n.arraySet(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(s=o.wsize-o.wnext)&&(s=r),n.arraySet(o.window,e,i-r,s,o.wnext),(r-=s)?(n.arraySet(o.window,e,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}i.inflateReset=d,i.inflateReset2=f,i.inflateResetKeep=h,i.inflateInit=function(t){return p(t,15)},i.inflateInit2=p,i.inflate=function(t,e){var i,c,h,d,f,p,m,g,y,_,S,w,T,x,E,C,A,P,M,k,L,I,O,R,N=0,D=new n.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(i=t.state).mode&&(i.mode=13),f=t.next_out,h=t.output,m=t.avail_out,d=t.next_in,c=t.input,p=t.avail_in,g=i.hold,y=i.bits,_=p,S=m,I=0;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;y<16;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(2&i.wrap&&35615===g){D[i.check=0]=255&g,D[1]=g>>>8&255,i.check=s(i.check,D,2,0),y=g=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&g)){t.msg="unknown compression method",i.mode=30;break}if(y-=4,L=8+(15&(g>>>=4)),0===i.wbits)i.wbits=L;else if(L>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<L,t.adler=i.check=1,i.mode=512&g?10:12,y=g=0;break;case 2:for(;y<16;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(i.flags=g,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=g>>8&1),512&i.flags&&(D[0]=255&g,D[1]=g>>>8&255,i.check=s(i.check,D,2,0)),y=g=0,i.mode=3;case 3:for(;y<32;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}i.head&&(i.head.time=g),512&i.flags&&(D[0]=255&g,D[1]=g>>>8&255,D[2]=g>>>16&255,D[3]=g>>>24&255,i.check=s(i.check,D,4,0)),y=g=0,i.mode=4;case 4:for(;y<16;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}i.head&&(i.head.xflags=255&g,i.head.os=g>>8),512&i.flags&&(D[0]=255&g,D[1]=g>>>8&255,i.check=s(i.check,D,2,0)),y=g=0,i.mode=5;case 5:if(1024&i.flags){for(;y<16;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}i.length=g,i.head&&(i.head.extra_len=g),512&i.flags&&(D[0]=255&g,D[1]=g>>>8&255,i.check=s(i.check,D,2,0)),y=g=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(p<(w=i.length)&&(w=p),w&&(i.head&&(L=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,c,d,w,L)),512&i.flags&&(i.check=s(i.check,c,w,d)),p-=w,d+=w,i.length-=w),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===p)break t;for(w=0;L=c[d+w++],i.head&&L&&i.length<65536&&(i.head.name+=String.fromCharCode(L)),L&&w<p;);if(512&i.flags&&(i.check=s(i.check,c,w,d)),p-=w,d+=w,L)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===p)break t;for(w=0;L=c[d+w++],i.head&&L&&i.length<65536&&(i.head.comment+=String.fromCharCode(L)),L&&w<p;);if(512&i.flags&&(i.check=s(i.check,c,w,d)),p-=w,d+=w,L)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;y<16;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(g!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}y=g=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=12;break;case 10:for(;y<32;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}t.adler=i.check=u(g),y=g=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=f,t.avail_out=m,t.next_in=d,t.avail_in=p,i.hold=g,i.bits=y,2;t.adler=i.check=1,i.mode=12;case 12:if(5===e||6===e)break t;case 13:if(i.last){g>>>=7&y,y-=7&y,i.mode=27;break}for(;y<3;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}switch(i.last=1&g,y-=1,3&(g>>>=1)){case 0:i.mode=14;break;case 1:if(v(i),i.mode=20,6!==e)break;g>>>=2,y-=2;break t;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if((65535&g)!=(g>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&g,y=g=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(w=i.length){if(p<w&&(w=p),m<w&&(w=m),0===w)break t;n.arraySet(h,c,d,w,f),p-=w,d+=w,m-=w,f+=w,i.length-=w;break}i.mode=12;break;case 17:for(;y<14;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(i.nlen=257+(31&g),g>>>=5,y-=5,i.ndist=1+(31&g),g>>>=5,y-=5,i.ncode=4+(15&g),g>>>=4,y-=4,286<i.nlen||30<i.ndist){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;y<3;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}i.lens[B[i.have++]]=7&g,g>>>=3,y-=3}for(;i.have<19;)i.lens[B[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,O={bits:i.lenbits},I=a(0,i.lens,0,19,i.lencode,0,i.work,O),i.lenbits=O.bits,I){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;C=(N=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,A=65535&N,!((E=N>>>24)<=y);){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(A<16)g>>>=E,y-=E,i.lens[i.have++]=A;else{if(16===A){for(R=E+2;y<R;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(g>>>=E,y-=E,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}L=i.lens[i.have-1],w=3+(3&g),g>>>=2,y-=2}else if(17===A){for(R=E+3;y<R;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}y-=E,L=0,w=3+(7&(g>>>=E)),g>>>=3,y-=3}else{for(R=E+7;y<R;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}y-=E,L=0,w=11+(127&(g>>>=E)),g>>>=7,y-=7}if(i.have+w>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;w--;)i.lens[i.have++]=L}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,O={bits:i.lenbits},I=a(1,i.lens,0,i.nlen,i.lencode,0,i.work,O),i.lenbits=O.bits,I){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,O={bits:i.distbits},I=a(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,O),i.distbits=O.bits,I){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(6<=p&&258<=m){t.next_out=f,t.avail_out=m,t.next_in=d,t.avail_in=p,i.hold=g,i.bits=y,o(t,S),f=t.next_out,h=t.output,m=t.avail_out,d=t.next_in,c=t.input,p=t.avail_in,g=i.hold,y=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;C=(N=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,A=65535&N,!((E=N>>>24)<=y);){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(C&&0==(240&C)){for(P=E,M=C,k=A;C=(N=i.lencode[k+((g&(1<<P+M)-1)>>P)])>>>16&255,A=65535&N,!(P+(E=N>>>24)<=y);){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}g>>>=P,y-=P,i.back+=P}if(g>>>=E,y-=E,i.back+=E,i.length=A,0===C){i.mode=26;break}if(32&C){i.back=-1,i.mode=12;break}if(64&C){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&C,i.mode=22;case 22:if(i.extra){for(R=i.extra;y<R;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}i.length+=g&(1<<i.extra)-1,g>>>=i.extra,y-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;C=(N=i.distcode[g&(1<<i.distbits)-1])>>>16&255,A=65535&N,!((E=N>>>24)<=y);){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(0==(240&C)){for(P=E,M=C,k=A;C=(N=i.distcode[k+((g&(1<<P+M)-1)>>P)])>>>16&255,A=65535&N,!(P+(E=N>>>24)<=y);){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}g>>>=P,y-=P,i.back+=P}if(g>>>=E,y-=E,i.back+=E,64&C){t.msg="invalid distance code",i.mode=30;break}i.offset=A,i.extra=15&C,i.mode=24;case 24:if(i.extra){for(R=i.extra;y<R;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}i.offset+=g&(1<<i.extra)-1,g>>>=i.extra,y-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===m)break t;if(w=S-m,i.offset>w){if((w=i.offset-w)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}T=w>i.wnext?(w-=i.wnext,i.wsize-w):i.wnext-w,w>i.length&&(w=i.length),x=i.window}else x=h,T=f-i.offset,w=i.length;for(m<w&&(w=m),m-=w,i.length-=w;h[f++]=x[T++],--w;);0===i.length&&(i.mode=21);break;case 26:if(0===m)break t;h[f++]=i.length,m--,i.mode=21;break;case 27:if(i.wrap){for(;y<32;){if(0===p)break t;p--,g|=c[d++]<<y,y+=8}if(S-=m,t.total_out+=S,i.total+=S,S&&(t.adler=i.check=i.flags?s(i.check,h,S,f-S):r(i.check,h,S,f-S)),S=m,(i.flags?g:u(g))!==i.check){t.msg="incorrect data check",i.mode=30;break}y=g=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;y<32;){if(0===p)break t;p--,g+=c[d++]<<y,y+=8}if(g!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}y=g=0}i.mode=29;case 29:I=1;break t;case 30:I=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=f,t.avail_out=m,t.next_in=d,t.avail_in=p,i.hold=g,i.bits=y,(i.wsize||S!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&b(t,t.output,t.next_out,S-t.avail_out)?(i.mode=31,-4):(_-=t.avail_in,S-=t.avail_out,t.total_in+=_,t.total_out+=S,i.total+=S,i.wrap&&S&&(t.adler=i.check=i.flags?s(i.check,h,S,t.next_out-S):r(i.check,h,S,t.next_out-S)),t.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==_&&0===S||4===e)&&0===I&&(I=-5),I)},i.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?l:((i.head=e).done=!1,0):l},i.inflateSetDictionary=function(t,e){var i,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?l:11===i.mode&&r(1,e,n,0)!==i.check?-3:b(t,e,n,n)?(i.mode=31,-4):(i.havedict=1,0):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,i){"use strict";var n=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,l,u,c,h,d){var f,p,m,g,y,v,b,_,S,w=d.bits,T=0,x=0,E=0,C=0,A=0,P=0,M=0,k=0,L=0,I=0,O=null,R=0,N=new n.Buf16(16),D=new n.Buf16(16),B=null,F=0;for(T=0;T<=15;T++)N[T]=0;for(x=0;x<l;x++)N[e[i+x]]++;for(A=w,C=15;1<=C&&0===N[C];C--);if(C<A&&(A=C),0===C)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(E=1;E<C&&0===N[E];E++);for(A<E&&(A=E),T=k=1;T<=15;T++)if(k<<=1,(k-=N[T])<0)return-1;if(0<k&&(0===t||1!==C))return-1;for(D[1]=0,T=1;T<15;T++)D[T+1]=D[T]+N[T];for(x=0;x<l;x++)0!==e[i+x]&&(h[D[e[i+x]]++]=x);if(v=0===t?(O=B=h,19):1===t?(O=r,R-=257,B=s,F-=257,256):(O=o,B=a,-1),T=E,y=c,M=x=I=0,m=-1,g=(L=1<<(P=A))-1,1===t&&852<L||2===t&&592<L)return 1;for(;;){for(b=T-M,S=h[x]<v?(_=0,h[x]):h[x]>v?(_=B[F+h[x]],O[R+h[x]]):(_=96,0),f=1<<T-M,E=p=1<<P;u[y+(I>>M)+(p-=f)]=b<<24|_<<16|S|0,0!==p;);for(f=1<<T-1;I&f;)f>>=1;if(0!==f?(I&=f-1,I+=f):I=0,x++,0==--N[T]){if(T===C)break;T=e[i+h[x]]}if(A<T&&(I&g)!==m){for(0===M&&(M=A),y+=E,k=1<<(P=T-M);P+M<C&&!((k-=N[P+M])<=0);)P++,k<<=1;if(L+=1<<P,1===t&&852<L||2===t&&592<L)return 1;u[m=I&g]=A<<24|P<<16|y-c|0}}return 0!==I&&(u[y+I]=T-M<<24|64<<16|0),d.bits=A,0}},{"../utils/common":41}],51:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,i){"use strict";var n=t("../utils/common");function r(t){for(var e=t.length;0<=--e;)t[e]=0}var s=256,o=286,a=30,l=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);r(f);var p=new Array(60);r(p);var m=new Array(512);r(m);var g=new Array(256);r(g);var y=new Array(29);r(y);var v,b,_,S=new Array(a);function w(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function T(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function x(t){return t<256?m[t]:m[256+(t>>>7)]}function E(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function C(t,e,i){t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,E(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function A(t,e,i){C(t,i[2*e],i[2*e+1])}function P(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}function M(t,e,i){var n,r,s=new Array(16),o=0;for(n=1;n<=l;n++)s[n]=o=o+i[n-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=P(s[a]++,a))}}function k(t){var e;for(e=0;e<o;e++)t.dyn_ltree[2*e]=0;for(e=0;e<a;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function L(t){8<t.bi_valid?E(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function I(t,e,i,n){var r=2*e,s=2*i;return t[r]<t[s]||t[r]===t[s]&&n[e]<=n[i]}function O(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&I(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!I(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function R(t,e,i){var n,r,o,a,l=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===n?A(t,r,e):(A(t,(o=g[r])+s+1,e),0!==(a=u[o])&&C(t,r-=y[o],a),A(t,o=x(--n),i),0!==(a=c[o])&&C(t,n-=S[o],a)),l<t.last_lit;);A(t,256,e)}function N(t,e){var i,n,r,s=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<u;i++)0!==s[2*i]?(t.heap[++t.heap_len]=c=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=o[2*r+1]);for(e.max_code=c,i=t.heap_len>>1;1<=i;i--)O(t,s,i);for(r=u;i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,s[2*r]=s[2*i]+s[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,s[2*i+1]=s[2*n+1]=r,t.heap[1]=r++,O(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,r,s,o,a,u=e.dyn_tree,c=e.max_code,h=e.stat_desc.static_tree,d=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,m=e.stat_desc.max_length,g=0;for(s=0;s<=l;s++)t.bl_count[s]=0;for(u[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)m<(s=u[2*u[2*(n=t.heap[i])+1]+1]+1)&&(s=m,g++),u[2*n+1]=s,c<n||(t.bl_count[s]++,o=0,p<=n&&(o=f[n-p]),a=u[2*n],t.opt_len+=a*(s+o),d&&(t.static_len+=a*(h[2*n+1]+o)));if(0!==g){do{for(s=m-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[m]--,g-=2}while(0<g);for(s=m;0!==s;s--)for(n=t.bl_count[s];0!==n;)c<(r=t.heap[--i])||(u[2*r+1]!==s&&(t.opt_len+=(s-u[2*r+1])*u[2*r],u[2*r+1]=s),n--)}}(t,e),M(s,c,t.bl_count)}function D(t,e,i){var n,r,s=-1,o=e[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=e[2*(n+1)+1],++a<l&&r===o||(a<u?t.bl_tree[2*r]+=a:0!==r?(r!==s&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=r,u=(a=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4))}function B(t,e,i){var n,r,s=-1,o=e[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=i;n++)if(r=o,o=e[2*(n+1)+1],!(++a<l&&r===o)){if(a<u)for(;A(t,r,t.bl_tree),0!=--a;);else 0!==r?(r!==s&&(A(t,r,t.bl_tree),a--),A(t,16,t.bl_tree),C(t,a-3,2)):a<=10?(A(t,17,t.bl_tree),C(t,a-3,3)):(A(t,18,t.bl_tree),C(t,a-11,7));s=r,u=(a=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4)}}r(S);var F=!1;function V(t,e,i,r){C(t,0+(r?1:0),3),function(t,e,i,r){L(t),E(t,i),E(t,~i),n.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i)}i._tr_init=function(t){F||(function(){var t,e,i,n,r,s=new Array(16);for(n=i=0;n<28;n++)for(y[n]=i,t=0;t<1<<u[n];t++)g[i++]=n;for(g[i-1]=n,n=r=0;n<16;n++)for(S[n]=r,t=0;t<1<<c[n];t++)m[r++]=n;for(r>>=7;n<a;n++)for(S[n]=r<<7,t=0;t<1<<c[n]-7;t++)m[256+r++]=n;for(e=0;e<=l;e++)s[e]=0;for(t=0;t<=143;)f[2*t+1]=8,t++,s[8]++;for(;t<=255;)f[2*t+1]=9,t++,s[9]++;for(;t<=279;)f[2*t+1]=7,t++,s[7]++;for(;t<=287;)f[2*t+1]=8,t++,s[8]++;for(M(f,287,s),t=0;t<a;t++)p[2*t+1]=5,p[2*t]=P(t,5);v=new w(f,u,257,o,l),b=new w(p,c,0,a,l),_=new w(new Array(0),h,0,19,7)}(),F=!0),t.l_desc=new T(t.dyn_ltree,v),t.d_desc=new T(t.dyn_dtree,b),t.bl_desc=new T(t.bl_tree,_),t.bi_buf=0,t.bi_valid=0,k(t)},i._tr_stored_block=V,i._tr_flush_block=function(t,e,i,n){var r,o,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<s;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),N(t,t.l_desc),N(t,t.d_desc),a=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),N(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==e?V(t,e,i,n):4===t.strategy||o===r?(C(t,2+(n?1:0),3),R(t,f,p)):(C(t,4+(n?1:0),3),function(t,e,i,n){var r;for(C(t,e-257,5),C(t,i-1,5),C(t,n-4,4),r=0;r<n;r++)C(t,t.bl_tree[2*d[r]+1],3);B(t,t.dyn_ltree,e-1),B(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),R(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&L(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(g[i]+s+1)]++,t.dyn_dtree[2*x(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){C(t,2,3),A(t,256,f),function(t){16===t.bi_valid?(E(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,i){"use strict";e.exports="function"==typeof n?n:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)}).call(this,i(173).Buffer,i(40),i(177).setImmediate)},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i(174),r=i(175),s=i(176);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,i)}function u(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e),t}(t,e,i,n):"string"==typeof e?function(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,i),r=(t=a(t,n)).write(e,i);return r!==n&&(t=t.slice(0,r)),t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|f(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):d(t,e);if("Buffer"===e.type&&s(e.data))return d(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|f(e.length);t=a(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(t).length;default:if(n)return j(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,i);case"utf8":case"utf-8":return C(this,e,i);case"ascii":return A(this,e,i);case"latin1":case"binary":return P(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function y(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:v(t,e,i,n,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):v(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,n,r){var s,o=1,a=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var c=-1;for(s=i;s<a;s++)if(u(t,s)===u(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(t,s+d)!==u(e,d)){h=!1;break}if(h)return s}return-1}function b(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function _(t,e,i,n){return G(j(e,t.length-i),t,i,n)}function S(t,e,i,n){return G(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function w(t,e,i,n){return S(t,e,i,n)}function T(t,e,i,n){return G(U(e),t,i,n)}function x(t,e,i,n){return G(function(t,e){for(var i,n,r,s=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),n=i>>8,r=i%256,s.push(r),s.push(n);return s}(e,t.length-i),t,i,n)}function E(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function C(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s,o,a,l,u=t[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=i)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(s=t[r+1]))&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=t[r+1],o=t[r+2],128==(192&s)&&128==(192&o)&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return i}(n)}function A(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function P(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function M(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=V(t[s]);return r}function k(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function L(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,i,n,r,s){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function O(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function R(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function N(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function D(t,e,i,n,s){return s||N(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function B(t,e,i,n,s){return s||N(t,0,i,8),r.write(t,e,i,n,52,8),i+8}e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return u(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return c(e),e<=0?a(t,e):void 0!==i?"string"==typeof n?a(t,e).fill(i,n):a(t,e).fill(i):a(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(e>>>=0),a=Math.min(s,o),u=this.slice(n,r),c=t.slice(e,i),h=0;h<a;++h)if(u[h]!==c[h]){s=u[h],o=c[h];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return y(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return y(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return _(this,t,e,i);case"ascii":return S(this,t,e,i);case"latin1":case"binary":return w(this,t,e,i);case"base64":return T(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;i=new l(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},l.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||L(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},l.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||I(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[e]=255&t;++s<i&&(r*=256);)this[e+s]=t/r&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||I(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);I(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);I(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return D(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return D(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return B(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return B(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,s=n-i;if(this===t&&i<e&&e<n)for(r=s-1;r>=0;--r)t[r+e]=this[r+i];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},l.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=l.isBuffer(t)?t:j(new l(t,n).toString()),a=o.length;for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],o=0;o<n;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function U(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(this,i(40))},function(t,e,i){"use strict";e.byteLength=function(t){var e=u(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,n=u(t),o=n[0],a=n[1],l=new s(function(t,e,i){return 3*(e+i)/4-i}(0,o,a)),c=0,h=a>0?o-4:o;for(i=0;i<h;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;return 2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[c++]=255&e),1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e),l},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,s=[],o=0,a=i-r;o<a;o+=16383)s.push(c(t,o,o+16383>a?a:o+16383));return 1===r?(e=t[i-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),s.join("")};for(var n=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t,e,i){for(var r,s,o=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(n[(s=r)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=i?r-1:0,d=i?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+t[e+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+t[e+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,i,n,r,s){var o,a,l,u=8*s-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,r),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*m}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(r.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new s(r.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(178),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(40))},function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var n,r,s,o,a,l=1,u={},c=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((s=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){s.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,n=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):n=function(t){setTimeout(p,0,t)},d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var r={callback:t,args:e};return u[l]=r,n(l),l++},d.clearImmediate=f}function f(t){delete u[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(40),i(148))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),r=i(180);e.MusicPartManager=class{constructor(t){this.musicSheet=t}reInit(){this.init()}init(){this.parts=this.musicSheet.Repetitions.slice(),this.sheetStart=this.musicSheet.SelectionStart=new n.Fraction(0,1),this.sheetEnd=this.musicSheet.SelectionEnd=this.musicSheet.SheetEndTimestamp,this.calcMapping()}getCurrentRepetitionTimestampTransform(t){let e=void 0;for(let i=this.timestamps.length-1;i>=0;i--)if(e=this.timestamps[i],t.gte(e.$from))return e;return this.timestamps[0]}absoluteEnrolledToSheetTimestamp(t){if(0===this.timestamps.length)return t;const e=this.getCurrentRepetitionTimestampTransform(t);return n.Fraction.plus(t,n.Fraction.minus(e.to,e.$from))}get Parts(){return this.parts}get MusicSheet(){return this.musicSheet}getIterator(t){return t?new r.MusicPartManagerIterator(this,t,void 0):new r.MusicPartManagerIterator(this,this.musicSheet.SelectionStart,this.musicSheet.SelectionEnd)}setSelectionStart(t){this.musicSheet.SelectionStart=t,this.musicSheet.SelectionEnd=void 0}setSelectionRange(t,e){this.musicSheet.SelectionStart=null!=t?t:this.sheetStart,this.musicSheet.SelectionEnd=null!=e?e:this.sheetEnd}calcMapping(){const t=[],e=this.getIterator();let i=e.CurrentRepetition,n=new s(e.CurrentEnrolledTimestamp.clone(),e.CurrentSourceTimestamp.clone(),void 0,0);for(t.push(n);!e.EndReached;){if(e.JumpOccurred||i!==e.CurrentRepetition){if(i=e.CurrentRepetition,e.backJumpOccurred){const i=e.JumpResponsibleRepetition;n.nextBackJump=e.CurrentEnrolledTimestamp,n.curRepetition=i,n.curRepetitionIteration=e.CurrentJumpResponsibleRepetitionIterationBeforeJump;for(let e=this.timestamps.length-2;e>=0&&!t[e].to.lt(i.AbsoluteTimestamp)&&!t[e].curRepetition;e--)t[e].nextBackJump=n.nextBackJump,t[e].curRepetition=i,t[e].curRepetitionIteration=n.curRepetitionIteration}n=new s(e.CurrentEnrolledTimestamp.clone(),e.CurrentSourceTimestamp.clone(),void 0,0),t.push(n)}e.moveToNext()}this.timestamps=t}};class s{constructor(t,e,i,n){this.$from=t,this.to=e,this.curRepetition=i,this.curRepetitionIteration=n,this.nextBackJump=void 0,this.nextForwardJump=void 0}}e.TimestampTransform=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(181),o=i(17),a=i(33),l=n(i(1));class u{constructor(t,e,i){this.currentMeasureIndex=0,this.currentPartIndex=0,this.currentVoiceEntryIndex=-1,this.currentDynamicEntryIndex=0,this.currentTempoEntryIndex=0,this.currentDynamicChangingExpressions=[],this.currentRepetition=void 0,this.endReached=!1,this.frontReached=!1,this.currentTimeStamp=new r.Fraction(0,1),this.currentEnrolledMeasureTimestamp=new r.Fraction(0,1),this.currentVerticalContainerInMeasureTimestamp=new r.Fraction(0,1),this.jumpResponsibleRepetition=void 0,this.activeDynamicExpressions=[];try{this.frontReached=!0,this.manager=t,this.currentVoiceEntries=void 0,this.frontReached=!1;for(const e of t.MusicSheet.Repetitions)this.setRepetitionIterationCount(e,1);if(this.activeDynamicExpressions=new Array(t.MusicSheet.getCompleteNumberOfStaves()),this.currentMeasure=this.manager.MusicSheet.SourceMeasures[0],!e)return;do{this.moveToNext()}while((!this.currentVoiceEntries||this.currentTimeStamp.lt(e))&&!this.endReached);for(let t=0;t<this.activeDynamicExpressions.length;t++)if(this.activeDynamicExpressions[t])if(this.activeDynamicExpressions[t]instanceof a.ContinuousDynamicExpression){const e=this.activeDynamicExpressions[t];this.currentDynamicChangingExpressions.push(new s.DynamicsContainer(e,t))}else{const e=this.activeDynamicExpressions[t];this.currentDynamicChangingExpressions.push(new s.DynamicsContainer(e,t))}this.currentTempoChangingExpression=this.activeTempoExpression}catch(t){l.default.info("MusicPartManagerIterator: "+t)}}get EndReached(){return this.endReached}get FrontReached(){return this.frontReached}get CurrentMeasure(){return this.currentMeasure}get CurrentRepetition(){return this.currentRepetition}get CurrentRepetitionIteration(){return this.CurrentRepetition?this.getRepetitionIterationCount(this.CurrentRepetition):0}get CurrentJumpResponsibleRepetitionIterationBeforeJump(){return this.jumpResponsibleRepetition?this.getRepetitionIterationCount(this.jumpResponsibleRepetition)-1:0}get CurrentVoiceEntries(){return this.currentVoiceEntries}get CurrentMeasureIndex(){return this.currentMeasureIndex}get CurrentEnrolledTimestamp(){return r.Fraction.plus(this.currentEnrolledMeasureTimestamp,this.currentVerticalContainerInMeasureTimestamp)}get CurrentSourceTimestamp(){return this.currentTimeStamp}get JumpOccurred(){return this.backJumpOccurred||this.forwardJumpOccurred}get ActiveTempoExpression(){return this.activeTempoExpression}get ActiveDynamicExpressions(){return this.activeDynamicExpressions}get CurrentTempoChangingExpression(){return this.currentTempoChangingExpression}get JumpResponsibleRepetition(){return this.jumpResponsibleRepetition}clone(t){const e=new u(this.manager,t);return e.currentVoiceEntryIndex=this.currentVoiceEntryIndex,e.currentMappingPart=this.currentMappingPart,e.currentPartIndex=this.currentPartIndex,e.currentVoiceEntries=this.currentVoiceEntries,e.endReached=this.endReached,e.frontReached=this.frontReached,e}CurrentVisibleVoiceEntries(t){const e=[];if(!this.currentVoiceEntries)return e;if(t){for(const i of this.currentVoiceEntries)if(i.ParentVoice.Parent.IdString===t.IdString)return this.getVisibleEntries(i,e),e}else for(const i of this.currentVoiceEntries)this.getVisibleEntries(i,e);return e}CurrentAudibleVoiceEntries(t){const e=[];if(!this.currentVoiceEntries)return e;if(t){for(const i of this.currentVoiceEntries)if(i.ParentVoice.Parent.IdString===t.IdString)return this.getAudibleEntries(i,e),e}else for(const i of this.currentVoiceEntries)this.getAudibleEntries(i,e);return e}getCurrentDynamicChangingExpressions(){return this.currentDynamicChangingExpressions}CurrentScoreFollowingVoiceEntries(t){const e=[];if(!this.currentVoiceEntries)return e;if(t){for(const i of this.currentVoiceEntries)if(i.ParentVoice.Parent.IdString===t.IdString)return this.getScoreFollowingEntries(i,e),e}else for(const i of this.currentVoiceEntries)this.getScoreFollowingEntries(i,e);return e}moveToNext(){this.forwardJumpOccurred=this.backJumpOccurred=!1,this.endReached||(this.currentVoiceEntries&&(this.currentVoiceEntries=[]),this.recursiveMove(),this.currentMeasure||(this.currentTimeStamp=new r.Fraction(99999,1)))}moveToNextVisibleVoiceEntry(t){for(;!this.endReached;)if(this.moveToNext(),this.checkEntries(t))return}resetRepetitionIterationCount(t){return this.setRepetitionIterationCount(t,1),1}incrementRepetitionIterationCount(t){return-1===this.repetitionIterationCountDictKeys.indexOf(t)?this.setRepetitionIterationCount(t,1):this.setRepetitionIterationCount(t,this.getRepetitionIterationCount(t)+1)}setRepetitionIterationCount(t,e){const i=this.repetitionIterationCountDictKeys.indexOf(t);return-1===i?(this.repetitionIterationCountDictKeys.push(t),this.repetitionIterationCountDictValues.push(e)):this.repetitionIterationCountDictValues[i]=e,e}getRepetitionIterationCount(t){const e=this.repetitionIterationCountDictKeys.indexOf(t);if(-1!==e)return this.repetitionIterationCountDictValues[e]}handleRepetitionsAtMeasureBegin(){for(let t=0,e=this.currentMeasure.FirstRepetitionInstructions.length;t<e;++t){const e=this.currentMeasure.FirstRepetitionInstructions[t];if(!e.parentRepetition)continue;const i=e.parentRepetition;this.currentRepetition=i,i.StartIndex===this.currentMeasureIndex&&void 0!==this.JumpResponsibleRepetition&&i!==this.JumpResponsibleRepetition&&i.StartIndex>=this.JumpResponsibleRepetition.StartIndex&&i.EndIndex<=this.JumpResponsibleRepetition.EndIndex&&this.resetRepetitionIterationCount(i)}}handleRepetitionsAtMeasureEnd(){for(let t=0,e=this.currentMeasure.LastRepetitionInstructions.length;t<e;++t){const e=this.currentMeasure.LastRepetitionInstructions[t],i=e.parentRepetition;if(i){if(i.BackwardJumpInstructions.indexOf(e)>-1&&this.getRepetitionIterationCount(i)<i.UserNumberOfRepetitions)return this.doBackJump(i),void(this.backJumpOccurred=!0);if(e===i.forwardJumpInstruction){void 0!==this.JumpResponsibleRepetition&&i!==this.JumpResponsibleRepetition&&i.StartIndex>=this.JumpResponsibleRepetition.StartIndex&&i.EndIndex<=this.JumpResponsibleRepetition.EndIndex&&this.resetRepetitionIterationCount(i);const t=i.getForwardJumpTargetForIteration(this.getRepetitionIterationCount(i));if(t>=0)return this.currentMeasureIndex=t,this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentVoiceEntryIndex=-1,this.jumpResponsibleRepetition=i,void(this.forwardJumpOccurred=!0);-2===t&&(this.endReached=!0)}}}this.currentMeasureIndex++,void 0!==this.JumpResponsibleRepetition&&this.currentMeasureIndex>this.JumpResponsibleRepetition.EndIndex&&(this.jumpResponsibleRepetition=void 0)}doBackJump(t){this.currentMeasureIndex=t.getBackwardJumpTarget(),this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentVoiceEntryIndex=-1,this.incrementRepetitionIterationCount(t),this.jumpResponsibleRepetition=t}activateCurrentRhythmInstructions(){if(void 0!==this.currentMeasure&&this.currentMeasure.FirstInstructionsStaffEntries.length>0&&void 0!==this.currentMeasure.FirstInstructionsStaffEntries[0]){const t=this.currentMeasure.FirstInstructionsStaffEntries[0].Instructions;for(let e=0,i=t.length;e<i;++e){const i=t[e];i instanceof o.RhythmInstruction&&(this.manager.MusicSheet.SheetPlaybackSetting.rhythm=i.Rhythm)}}}activateCurrentDynamicOrTempoInstructions(){const t=this.manager.MusicSheet.TimestampSortedDynamicExpressionsList;for(;this.currentDynamicEntryIndex>0&&(this.currentDynamicEntryIndex>=t.length||this.CurrentSourceTimestamp.lte(t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp));)this.currentDynamicEntryIndex--;for(;this.currentDynamicEntryIndex<t.length&&t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp.lt(this.CurrentSourceTimestamp);)this.currentDynamicEntryIndex++;for(;this.currentDynamicEntryIndex<t.length&&t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp.Equals(this.CurrentSourceTimestamp);){const e=t[this.currentDynamicEntryIndex],i=e.staffNumber;this.CurrentSourceTimestamp.Equals(e.parMultiExpression().AbsoluteTimestamp)&&(e.continuousDynamicExpression?this.activeDynamicExpressions[i]=e.continuousDynamicExpression:e.instantaneousDynamicExpression&&(this.activeDynamicExpressions[i]=e.instantaneousDynamicExpression)),this.currentDynamicEntryIndex++}this.currentDynamicChangingExpressions=[];for(let i=0;i<this.activeDynamicExpressions.length;i++)if(this.activeDynamicExpressions[i]){let t,e;if(this.activeDynamicExpressions[i]instanceof a.ContinuousDynamicExpression){const n=this.activeDynamicExpressions[i];t=n.StartMultiExpression.AbsoluteTimestamp,e=n.EndMultiExpression.AbsoluteTimestamp,t.lte(this.CurrentSourceTimestamp)&&this.CurrentSourceTimestamp.lte(e)&&this.currentDynamicChangingExpressions.push(new s.DynamicsContainer(n,i))}else{const t=this.activeDynamicExpressions[i];this.CurrentSourceTimestamp.Equals(t.ParentMultiExpression.AbsoluteTimestamp)&&this.currentDynamicChangingExpressions.push(new s.DynamicsContainer(t,i))}}const e=this.manager.MusicSheet.TimestampSortedTempoExpressionsList;for(;this.currentTempoEntryIndex>0&&(this.currentTempoEntryIndex>=e.length||this.CurrentSourceTimestamp.lte(e[this.currentTempoEntryIndex].AbsoluteTimestamp));)this.currentTempoEntryIndex--;for(;this.currentTempoEntryIndex<e.length&&e[this.currentTempoEntryIndex].AbsoluteTimestamp.lt(this.CurrentSourceTimestamp);)this.currentTempoEntryIndex++;for(;this.currentTempoEntryIndex<e.length&&e[this.currentTempoEntryIndex].AbsoluteTimestamp.Equals(this.CurrentSourceTimestamp);)this.activeTempoExpression=e[this.currentTempoEntryIndex],this.currentTempoEntryIndex++;if(this.currentTempoChangingExpression=void 0,this.activeTempoExpression){let t=this.activeTempoExpression.AbsoluteTimestamp;this.activeTempoExpression.ContinuousTempo&&(t=this.activeTempoExpression.ContinuousTempo.AbsoluteEndTimestamp),(this.activeTempoExpression.AbsoluteTimestamp.lte(this.CurrentSourceTimestamp)||this.CurrentSourceTimestamp.lte(t))&&(this.currentTempoChangingExpression=this.activeTempoExpression)}}recursiveMove(){if(this.currentVoiceEntryIndex++,0===this.currentVoiceEntryIndex&&(this.handleRepetitionsAtMeasureBegin(),this.activateCurrentRhythmInstructions()),this.currentVoiceEntryIndex>=0&&this.currentVoiceEntryIndex<this.currentMeasure.VerticalSourceStaffEntryContainers.length){const t=this.currentMeasure.VerticalSourceStaffEntryContainers[this.currentVoiceEntryIndex];this.currentVoiceEntries=this.getVoiceEntries(t),this.currentVerticalContainerInMeasureTimestamp=t.Timestamp,this.currentTimeStamp=r.Fraction.plus(this.currentMeasure.AbsoluteTimestamp,this.currentVerticalContainerInMeasureTimestamp);const e=this.manager.MusicSheet.SelectionEnd;return e&&this.currentTimeStamp.gte(e)&&(this.endReached=!0),void this.activateCurrentDynamicOrTempoInstructions()}if(this.currentEnrolledMeasureTimestamp.Add(this.currentMeasure.Duration),this.handleRepetitionsAtMeasureEnd(),this.currentMeasureIndex>=0&&this.currentMeasureIndex<this.manager.MusicSheet.SourceMeasures.length)return this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentTimeStamp=r.Fraction.plus(this.currentMeasure.AbsoluteTimestamp,this.currentVerticalContainerInMeasureTimestamp),this.currentVoiceEntryIndex=-1,void this.recursiveMove();this.currentVerticalContainerInMeasureTimestamp=new r.Fraction,this.currentMeasure=void 0,this.currentVoiceEntries=void 0,this.endReached=!0}checkEntries(t){const e=this.CurrentVisibleVoiceEntries();if(e.length>0){if(!t)return!0;for(let t=0,i=e.length;t<i;++t)if(e[t].Notes[0].Pitch)return!0}return!1}getVisibleEntries(t,e){t.ParentVoice.Visible&&e.push(t)}getAudibleEntries(t,e){t.ParentVoice.Audible&&e.push(t)}getScoreFollowingEntries(t,e){t.ParentVoice.Following&&t.ParentVoice.Parent.Following&&e.push(t)}getVoiceEntries(t){const e=[];for(const i of t.StaffEntries)if(i)for(const t of i.VoiceEntries)e.push(t);return e}}e.MusicPartManagerIterator=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(33),r=i(51);e.DynamicsContainer=class{constructor(t,e){t instanceof n.ContinuousDynamicExpression?this.continuousDynamicExpression=t:t instanceof r.InstantaneousDynamicExpression&&(this.instantaneousDynamicExpression=t),this.staffNumber=e}parMultiExpression(){return this.continuousDynamicExpression?this.continuousDynamicExpression.StartMultiExpression:this.instantaneousDynamicExpression?this.instantaneousDynamicExpression.ParentMultiExpression:void 0}CompareTo(t){return this.parMultiExpression().AbsoluteTimestamp.CompareTo(t.parMultiExpression().AbsoluteTimestamp)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MusicSheetErrors=class{constructor(){this.measureErrors={},this.errors=[],this.tempErrors=[]}finalizeMeasure(t){let e=this.measureErrors[t];e||(e=[]),this.measureErrors[t]=e.concat(this.tempErrors),this.tempErrors=[]}pushMeasureError(t){this.tempErrors.push(t)}push(t){this.errors.push(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LyricWord=class{constructor(){this.syllables=[]}get Syllables(){return this.syllables}containsVoiceEntry(t){for(let e=0,i=this.Syllables.length;e<i;++e)if(this.Syllables[e].Parent===t)return!0;return!1}findLyricEntryInVoiceEntry(t){for(let e=0,i=this.Syllables.length;e<i;++e){const i=this.Syllables[e];if(i.Parent===t)return i}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LyricsEntry=class{constructor(t,e,i,n,r=-1){this.text=t,this.word=i,this.parent=n,this.verseNumber=e,r>=0&&(this.syllableIndex=r)}get Text(){return this.text}set Text(t){this.text=t}get Word(){return this.word}get Parent(){return this.parent}set Parent(t){this.parent=t}get VerseNumber(){return this.verseNumber}get SyllableIndex(){return this.syllableIndex}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(30);class r extends n.Note{constructor(t,e,i,n,r,s){super(t,e,i,n),this.stringNumber=r,this.fretNumber=s}get StringNumber(){return this.stringNumber}get FretNumber(){return this.fretNumber}}e.TabNote=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),r=i(57),s=i(6),o=i(23),a=i(58);e.MultiTempoExpression=class{constructor(t,e){this.expressions=[],this.sourceMeasure=t,this.timestamp=e}get Timestamp(){return this.timestamp}get AbsoluteTimestamp(){return n.Fraction.plus(this.sourceMeasure.AbsoluteTimestamp,this.timestamp)}get SourceMeasureParent(){return this.sourceMeasure}set SourceMeasureParent(t){this.sourceMeasure=t}get InstantaneousTempo(){return this.instantaneousTempo}get ContinuousTempo(){return this.continuousTempo}get EntriesList(){return this.expressions}get CombinedExpressionsText(){return this.combinedExpressionsText}set CombinedExpressionsText(t){this.combinedExpressionsText=t}getPlacementOfFirstEntry(){let t=s.PlacementEnum.Above;return this.expressions.length>0&&(this.expressions[0].Expression instanceof r.InstantaneousTempoExpression||this.expressions[0].Expression instanceof a.ContinuousTempoExpression)&&(t=this.expressions[0].Expression.Placement),t}getFontstyleOfFirstEntry(){let t=o.FontStyles.Regular;return this.expressions[0].Expression instanceof r.InstantaneousTempoExpression?t=o.FontStyles.Bold:this.expressions[0].Expression instanceof a.ContinuousTempoExpression&&(t=o.FontStyles.Italic),t}addExpression(t,e){if(this.checkIfAlreadyExists(t))return;t instanceof r.InstantaneousTempoExpression?this.instantaneousTempo=t:t instanceof a.ContinuousTempoExpression&&(this.continuousTempo=t);const i=new l;i.prefix=e,i.Expression=t,i.label=t.Label,this.expressions.push(i)}CompareTo(t){return this.Timestamp.RealValue>t.Timestamp.RealValue?1:this.Timestamp.RealValue<t.Timestamp.RealValue?-1:0}checkIfAlreadyExists(t){for(const e of this.expressions)if(e.label===t.Label)return!0;return!1}};class l{get Expression(){return this.expression}set Expression(t){this.expression=t}}e.TempoExpressionEntry=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),r=i(51),s=i(33),o=i(140),a=i(141),l=i(6),u=i(23);e.MultiExpression=class{constructor(t,e){this.unknownList=[],this.moodList=[],this.expressions=[],this.sourceMeasure=t,this.timestamp=e}get SourceMeasureParent(){return this.sourceMeasure}set SourceMeasureParent(t){this.sourceMeasure=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Timestamp(){return this.timestamp}set Timestamp(t){this.timestamp=t}get AbsoluteTimestamp(){return n.Fraction.plus(this.timestamp,this.sourceMeasure.AbsoluteTimestamp)}get InstantaneousDynamic(){return this.instantaneousDynamic}set InstantaneousDynamic(t){this.instantaneousDynamic=t}get EndingContinuousDynamic(){return this.endingContinuousDynamic}set EndingContinuousDynamic(t){this.endingContinuousDynamic=t}get StartingContinuousDynamic(){return this.startingContinuousDynamic}set StartingContinuousDynamic(t){this.startingContinuousDynamic=t}get MoodList(){return this.moodList}get UnknownList(){return this.unknownList}get EntriesList(){return this.expressions}get OctaveShiftStart(){return this.octaveShiftStart}set OctaveShiftStart(t){this.octaveShiftStart=t}get OctaveShiftEnd(){return this.octaveShiftEnd}set OctaveShiftEnd(t){this.octaveShiftEnd=t}get CombinedExpressionsText(){return this.combinedExpressionsText}set CombinedExpressionsText(t){this.combinedExpressionsText=t}getPlacementOfFirstEntry(){let t=l.PlacementEnum.Above;return this.expressions.length>0&&(this.expressions[0].expression instanceof r.InstantaneousDynamicExpression||this.expressions[0].expression instanceof s.ContinuousDynamicExpression||this.expressions[0].expression instanceof o.MoodExpression||this.expressions[0].expression instanceof a.UnknownExpression)&&(t=this.expressions[0].expression.Placement),t}getFontstyleOfFirstEntry(){let t=u.FontStyles.Regular;return this.expressions.length>0&&(this.expressions[0].expression instanceof s.ContinuousDynamicExpression||this.expressions[0].expression instanceof o.MoodExpression?t=u.FontStyles.Italic:this.expressions[0].expression instanceof a.UnknownExpression&&(t=u.FontStyles.Regular)),t}addExpression(t,e){t instanceof r.InstantaneousDynamicExpression?(this.instantaneousDynamic&&this.removeExpressionFromEntryList(this.InstantaneousDynamic),this.instantaneousDynamic=t,this.instantaneousDynamic.ParentMultiExpression=this):t instanceof s.ContinuousDynamicExpression?this.startingContinuousDynamic=t:t instanceof o.MoodExpression?this.moodList.push(t):t instanceof a.UnknownExpression&&this.unknownList.push(t),this.addExpressionToEntryList(t,e)}CompareTo(t){return this.Timestamp.RealValue>t.Timestamp.RealValue?1:this.Timestamp.RealValue<t.Timestamp.RealValue?-1:0}addExpressionToEntryList(t,e){const i=new c;i.prefix=e,i.expression=t,t instanceof s.ContinuousDynamicExpression||t instanceof o.MoodExpression||t instanceof a.UnknownExpression?i.label=t.Label:i.label="",this.expressions.push(i)}removeExpressionFromEntryList(t){for(let e=0,i=this.expressions.length;e<i;++e)if(this.expressions[e].expression===t){this.expressions.splice(e,1);break}}};class c{}e.MultiExpressionEntry=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.Slur=class{constructor(){}get StartNote(){return this.startNote}set StartNote(t){this.startNote=t}get EndNote(){return this.endNote}set EndNote(t){this.endNote=t}startNoteHasMoreStartingSlurs(){if(!this.startNote)return!1;for(let t=0,e=this.startNote.NoteSlurs.length;t<e;++t){const e=this.startNote.NoteSlurs[t];if(e!==this&&e.StartNote===this.startNote)return!0}return!1}endNoteHasMoreEndingSlurs(){if(!this.endNote)return!1;for(let t=0,e=this.endNote.NoteSlurs.length;t<e;++t){const e=this.endNote.NoteSlurs[t];if(e!==this&&e.EndNote===this.endNote)return!0}return!1}isCrossed(){return this.startNote.ParentStaffEntry.ParentStaff!==this.endNote.ParentStaffEntry.ParentStaff}isSlurLonger(){if(!this.endNote||!this.startNote)return!1;const t=n.Fraction.minus(this.endNote.getAbsoluteTimestamp(),this.startNote.getAbsoluteTimestamp());for(let e=0,i=this.startNote.NoteSlurs.length;e<i;++e){const i=this.startNote.NoteSlurs[e];if(i!==this&&void 0!==i.EndNote&&void 0!==i.StartNote&&-1===n.Fraction.minus(i.EndNote.getAbsoluteTimestamp(),i.StartNote.getAbsoluteTimestamp()).CompareTo(t))return!0}for(let e=0,i=this.endNote.NoteSlurs.length;e<i;++e){const i=this.endNote.NoteSlurs[e];if(i!==this&&void 0!==i.EndNote&&void 0!==i.StartNote&&n.Fraction.minus(i.EndNote.getAbsoluteTimestamp(),i.StartNote.getAbsoluteTimestamp()).CompareTo(t))return!0}return!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringUtil=class{static StringContainsSeparatedWord(t,e){return!!new RegExp("( |^)"+e+"([ .]|$)").test(t)}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(191)),n(i(76)),n(i(132)),n(i(133))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MappingSourceMusicPart=class{constructor(t,e,i,n=-1,r=!1){this.repetitionRun=-1,this.sourceMusicPart=t,this.parentPartListEntry=i,this.startTimestamp=e.clone(),this.repetitionRun=n,this.parentRepetition=i,this.isEnding=r}get IsRepetition(){return void 0!==this.parentRepetition}get IsEnding(){return this.isEnding}get IsLastRepetitionRun(){return this.IsRepetition&&this.repetitionRun+1===this.parentRepetition.UserNumberOfRepetitions}get RepetitionRun(){return this.repetitionRun}get ParentPartListEntry(){return this.parentPartListEntry}get SourceMusicPart(){return this.sourceMusicPart}get StartTimestamp(){return this.startTimestamp}CompareTo(t){return t?this.startTimestamp.CompareTo(t.startTimestamp):1}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(134)),n(i(130)),n(i(144)),n(i(135)),n(i(193))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(137)),n(i(138)),n(i(139)),n(i(136)),n(i(146)),n(i(145)),n(i(142))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(24)),n(i(195))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{static log(t,e){return Math.log(e)/Math.log(t)}static log10(t){return n.log(10,t)}static meanSimple(t){let e=0;for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}static meanWeighted(t,e){if(t.length!==e.length||0===t.length)return 0;let i=0,n=0;for(let r=0;r<t.length;r++){const s=e[r];i+=t[r]*s,n+=s}return i/n}}e.PSMath=n}])}))},"297c":function(t,e,i){"use strict";i("a9e3");var n=i("2b0e"),r=(i("c7cd"),i("5530")),s=i("ade3"),o=(i("6ece"),i("0789")),a=i("a9ad"),l=i("fe6c"),u=i("a452"),c=i("7560"),h=i("80d2"),d=i("58df"),f=Object(d["a"])(a["a"],Object(l["b"])(["absolute","fixed","top","bottom"]),u["a"],c["a"]),p=f.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(h["f"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(h["f"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var t,e=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return t={opacity:e},Object(s["a"])(t,this.isReversed?"right":"left",Object(h["f"])(this.normalizedValue,"%")),Object(s["a"])(t,"width",Object(h["f"])(this.normalizedBuffer-this.normalizedValue,"%")),t},classes:function(){return Object(r["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?o["d"]:o["f"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(h["f"])(this.normalizedBuffer,"%")),t}},methods:{genContent:function(){var t=Object(h["o"])(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners:function(){var t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar:function(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(s["a"])({},t,!0)}))},onClick:function(t){if(this.reactive){var e=this.$el.getBoundingClientRect(),i=e.width;this.internalValue=t.offsetX/i*100}},normalize:function(t){return t<0?0:t>100?100:parseFloat(t)}},render:function(t){var e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(h["f"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),m=p;e["a"]=n["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(m,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"29d8":function(t,e,i){function n(t){this.options=t||{locator:{}}}function r(t,e,i){if(!t){if(e instanceof s)return e;t=e}var n={},r=t instanceof Function;function o(e){var s=t[e];!s&&r&&(s=2==t.length?function(i){t(e,i)}:t),n[e]=s&&function(t){s("[xmldom "+e+"]\t"+t+a(i))}||function(){}}return i=i||{},o("warning"),o("error"),o("fatalError"),n}function s(){this.cdata=!1}function o(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function l(t,e,i){return"string"==typeof t?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var i=this.options,n=new c,o=i.domBuilder||new s,a=i.errorHandler,l=i.locator,u=i.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&o.setDocumentLocator(l),n.errorHandler=r(a,o,l),n.domBuilder=i.domBuilder||o,/\/x?html?$/.test(e)&&(h.nbsp=" ",h.copy="©",u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",t?n.parse(t,u,h):n.errorHandler.error("invalid doc source"),o.doc},s.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var r=this.doc,s=r.createElementNS(t,i||e),a=n.length;u(this,s),this.currentElement=s,this.locator&&o(this.locator,s);for(var l=0;l<a;l++){t=n.getURI(l);var c=n.getValue(l),h=(i=n.getQName(l),r.createAttributeNS(t,i));this.locator&&o(n.getLocator(l),h),h.value=h.nodeValue=c,s.setAttributeNode(h)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&o(this.locator,i),u(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=l.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=l.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&o(this.locator,n),u(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(t,e,i);this.locator&&o(this.locator,r),u(this,r)}},warning:function(t){console.warn("[xmldom warning]\t"+t,a(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,a(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,a(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){s.prototype[t]=function(){return null}}));var c=i("d61d").XMLReader,h=e.DOMImplementation=i("749c").DOMImplementation;e.XMLSerializer=i("749c").XMLSerializer,e.DOMParser=n},"2a7f":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s}));var n=i("71d9"),r=i("80d2"),s=Object(r["h"])("v-toolbar__title"),o=Object(r["h"])("v-toolbar__items");n["a"]},"2b0e":function(t,e,i){"use strict";(function(t){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function s(t){return!0===t}function o(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return null!==t&&"object"===typeof t}var u=Object.prototype.toString;function c(t){return"[object Object]"===u.call(t)}function h(t){return"[object RegExp]"===u.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var i=Object.create(null),n=t.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}g("slot,component",!0);var y=g("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var b=Object.prototype.hasOwnProperty;function _(t,e){return b.call(t,e)}function S(t){var e=Object.create(null);return function(i){var n=e[i];return n||(e[i]=t(i))}}var w=/-(\w)/g,T=S((function(t){return t.replace(w,(function(t,e){return e?e.toUpperCase():""}))})),x=S((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),E=/\B([A-Z])/g,C=S((function(t){return t.replace(E,"-$1").toLowerCase()}));function A(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function P(t,e){return t.bind(e)}var M=Function.prototype.bind?P:A;function k(t,e){e=e||0;var i=t.length-e,n=new Array(i);while(i--)n[i]=t[i+e];return n}function L(t,e){for(var i in e)t[i]=e[i];return t}function I(t){for(var e={},i=0;i<t.length;i++)t[i]&&L(e,t[i]);return e}function O(t,e,i){}var R=function(t,e,i){return!1},N=function(t){return t};function D(t,e){if(t===e)return!0;var i=l(t),n=l(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var r=Array.isArray(t),s=Array.isArray(e);if(r&&s)return t.length===e.length&&t.every((function(t,i){return D(t,e[i])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||s)return!1;var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every((function(i){return D(t[i],e[i])}))}catch(u){return!1}}function B(t,e){for(var i=0;i<t.length;i++)if(D(t[i],e))return i;return-1}function F(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var V="data-server-rendered",j=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],G={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:O,parsePlatformTagName:N,mustUseProp:R,async:!0,_lifecycleHooks:U},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function H(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var q=new RegExp("[^"+W.source+".$_\\d]");function $(t){if(!q.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}var Y,X="__proto__"in{},K="undefined"!==typeof window,Q="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=Q&&WXEnvironment.platform.toLowerCase(),J=K&&window.navigator.userAgent.toLowerCase(),tt=J&&/msie|trident/.test(J),et=J&&J.indexOf("msie 9.0")>0,it=J&&J.indexOf("edge/")>0,nt=(J&&J.indexOf("android"),J&&/iphone|ipad|ipod|ios/.test(J)||"ios"===Z),rt=(J&&/chrome\/\d+/.test(J),J&&/phantomjs/.test(J),J&&J.match(/firefox\/(\d+)/)),st={}.watch,ot=!1;if(K)try{var at={};Object.defineProperty(at,"passive",{get:function(){ot=!0}}),window.addEventListener("test-passive",null,at)}catch(To){}var lt=function(){return void 0===Y&&(Y=!K&&!Q&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),Y},ut=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ct(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,dt="undefined"!==typeof Symbol&&ct(Symbol)&&"undefined"!==typeof Reflect&&ct(Reflect.ownKeys);ht="undefined"!==typeof Set&&ct(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ft=O,pt=0,mt=function(){this.id=pt++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){v(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,i=t.length;e<i;e++)t[e].update()},mt.target=null;var gt=[];function yt(t){gt.push(t),mt.target=t}function vt(){gt.pop(),mt.target=gt[gt.length-1]}var bt=function(t,e,i,n,r,s,o,a){this.tag=t,this.data=e,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_t={child:{configurable:!0}};_t.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,_t);var St=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function wt(t){return new bt(void 0,void 0,void 0,String(t))}function Tt(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var xt=Array.prototype,Et=Object.create(xt),Ct=["push","pop","shift","unshift","splice","sort","reverse"];Ct.forEach((function(t){var e=xt[t];H(Et,t,(function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];var r,s=e.apply(this,i),o=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&o.observeArray(r),o.dep.notify(),s}))}));var At=Object.getOwnPropertyNames(Et),Pt=!0;function Mt(t){Pt=t}var kt=function(t){this.value=t,this.dep=new mt,this.vmCount=0,H(t,"__ob__",this),Array.isArray(t)?(X?Lt(t,Et):It(t,Et,At),this.observeArray(t)):this.walk(t)};function Lt(t,e){t.__proto__=e}function It(t,e,i){for(var n=0,r=i.length;n<r;n++){var s=i[n];H(t,s,e[s])}}function Ot(t,e){var i;if(l(t)&&!(t instanceof bt))return _(t,"__ob__")&&t.__ob__ instanceof kt?i=t.__ob__:Pt&&!lt()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new kt(t)),e&&i&&i.vmCount++,i}function Rt(t,e,i,n,r){var s=new mt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var a=o&&o.get,l=o&&o.set;a&&!l||2!==arguments.length||(i=t[e]);var u=!r&&Ot(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):i;return mt.target&&(s.depend(),u&&(u.dep.depend(),Array.isArray(e)&&Bt(e))),e},set:function(e){var n=a?a.call(t):i;e===n||e!==e&&n!==n||a&&!l||(l?l.call(t,e):i=e,u=!r&&Ot(e),s.notify())}})}}function Nt(t,e,i){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var n=t.__ob__;return t._isVue||n&&n.vmCount?i:n?(Rt(n.value,e,i),n.dep.notify(),i):(t[e]=i,i)}function Dt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||_(t,e)&&(delete t[e],i&&i.dep.notify())}}function Bt(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Bt(e)}kt.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)Rt(t,e[i])},kt.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)Ot(t[e])};var Ft=G.optionMergeStrategies;function Vt(t,e){if(!e)return t;for(var i,n,r,s=dt?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)i=s[o],"__ob__"!==i&&(n=t[i],r=e[i],_(t,i)?n!==r&&c(n)&&c(r)&&Vt(n,r):Nt(t,i,r));return t}function jt(t,e,i){return i?function(){var n="function"===typeof e?e.call(i,i):e,r="function"===typeof t?t.call(i,i):t;return n?Vt(n,r):r}:e?t?function(){return Vt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ut(t,e){var i=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return i?Gt(i):i}function Gt(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e}function Wt(t,e,i,n){var r=Object.create(t||null);return e?L(r,e):r}Ft.data=function(t,e,i){return i?jt(t,e,i):e&&"function"!==typeof e?t:jt(t,e)},U.forEach((function(t){Ft[t]=Ut})),j.forEach((function(t){Ft[t+"s"]=Wt})),Ft.watch=function(t,e,i,n){if(t===st&&(t=void 0),e===st&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var s in L(r,t),e){var o=r[s],a=e[s];o&&!Array.isArray(o)&&(o=[o]),r[s]=o?o.concat(a):Array.isArray(a)?a:[a]}return r},Ft.props=Ft.methods=Ft.inject=Ft.computed=function(t,e,i,n){if(!t)return e;var r=Object.create(null);return L(r,t),e&&L(r,e),r},Ft.provide=jt;var zt=function(t,e){return void 0===e?t:e};function Ht(t,e){var i=t.props;if(i){var n,r,s,o={};if(Array.isArray(i)){n=i.length;while(n--)r=i[n],"string"===typeof r&&(s=T(r),o[s]={type:null})}else if(c(i))for(var a in i)r=i[a],s=T(a),o[s]=c(r)?r:{type:r};else 0;t.props=o}}function qt(t,e){var i=t.inject;if(i){var n=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(c(i))for(var s in i){var o=i[s];n[s]=c(o)?L({from:s},o):{from:o}}else 0}}function $t(t){var e=t.directives;if(e)for(var i in e){var n=e[i];"function"===typeof n&&(e[i]={bind:n,update:n})}}function Yt(t,e,i){if("function"===typeof e&&(e=e.options),Ht(e,i),qt(e,i),$t(e),!e._base&&(e.extends&&(t=Yt(t,e.extends,i)),e.mixins))for(var n=0,r=e.mixins.length;n<r;n++)t=Yt(t,e.mixins[n],i);var s,o={};for(s in t)a(s);for(s in e)_(t,s)||a(s);function a(n){var r=Ft[n]||zt;o[n]=r(t[n],e[n],i,n)}return o}function Xt(t,e,i,n){if("string"===typeof i){var r=t[e];if(_(r,i))return r[i];var s=T(i);if(_(r,s))return r[s];var o=x(s);if(_(r,o))return r[o];var a=r[i]||r[s]||r[o];return a}}function Kt(t,e,i,n){var r=e[t],s=!_(i,t),o=i[t],a=te(Boolean,r.type);if(a>-1)if(s&&!_(r,"default"))o=!1;else if(""===o||o===C(t)){var l=te(String,r.type);(l<0||a<l)&&(o=!0)}if(void 0===o){o=Qt(n,r,t);var u=Pt;Mt(!0),Ot(o),Mt(u)}return o}function Qt(t,e,i){if(_(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"===typeof n&&"Function"!==Zt(e.type)?n.call(t):n}}function Zt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Jt(t,e){return Zt(t)===Zt(e)}function te(t,e){if(!Array.isArray(e))return Jt(e,t)?0:-1;for(var i=0,n=e.length;i<n;i++)if(Jt(e[i],t))return i;return-1}function ee(t,e,i){yt();try{if(e){var n=e;while(n=n.$parent){var r=n.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{var o=!1===r[s].call(n,t,e,i);if(o)return}catch(To){ne(To,n,"errorCaptured hook")}}}ne(t,e,i)}finally{vt()}}function ie(t,e,i,n,r){var s;try{s=i?t.apply(e,i):t.call(e),s&&!s._isVue&&f(s)&&!s._handled&&(s.catch((function(t){return ee(t,n,r+" (Promise/async)")})),s._handled=!0)}catch(To){ee(To,n,r)}return s}function ne(t,e,i){if(G.errorHandler)try{return G.errorHandler.call(null,t,e,i)}catch(To){To!==t&&re(To,null,"config.errorHandler")}re(t,e,i)}function re(t,e,i){if(!K&&!Q||"undefined"===typeof console)throw t;console.error(t)}var se,oe=!1,ae=[],le=!1;function ue(){le=!1;var t=ae.slice(0);ae.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ct(Promise)){var ce=Promise.resolve();se=function(){ce.then(ue),nt&&setTimeout(O)},oe=!0}else if(tt||"undefined"===typeof MutationObserver||!ct(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())se="undefined"!==typeof setImmediate&&ct(setImmediate)?function(){setImmediate(ue)}:function(){setTimeout(ue,0)};else{var he=1,de=new MutationObserver(ue),fe=document.createTextNode(String(he));de.observe(fe,{characterData:!0}),se=function(){he=(he+1)%2,fe.data=String(he)},oe=!0}function pe(t,e){var i;if(ae.push((function(){if(t)try{t.call(e)}catch(To){ee(To,e,"nextTick")}else i&&i(e)})),le||(le=!0,se()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){i=t}))}var me=new ht;function ge(t){ye(t,me),me.clear()}function ye(t,e){var i,n,r=Array.isArray(t);if(!(!r&&!l(t)||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(r){i=t.length;while(i--)ye(t[i],e)}else{n=Object.keys(t),i=n.length;while(i--)ye(t[n[i]],e)}}}var ve=S((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:i,capture:n,passive:e}}));function be(t,e){function i(){var t=arguments,n=i.fns;if(!Array.isArray(n))return ie(n,null,arguments,e,"v-on handler");for(var r=n.slice(),s=0;s<r.length;s++)ie(r[s],null,t,e,"v-on handler")}return i.fns=t,i}function _e(t,e,i,r,o,a){var l,u,c,h;for(l in t)u=t[l],c=e[l],h=ve(l),n(u)||(n(c)?(n(u.fns)&&(u=t[l]=be(u,a)),s(h.once)&&(u=t[l]=o(h.name,u,h.capture)),i(h.name,u,h.capture,h.passive,h.params)):u!==c&&(c.fns=u,t[l]=c));for(l in e)n(t[l])&&(h=ve(l),r(h.name,e[l],h.capture))}function Se(t,e,i){var o;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function l(){i.apply(this,arguments),v(o.fns,l)}n(a)?o=be([l]):r(a.fns)&&s(a.merged)?(o=a,o.fns.push(l)):o=be([a,l]),o.merged=!0,t[e]=o}function we(t,e,i){var s=e.options.props;if(!n(s)){var o={},a=t.attrs,l=t.props;if(r(a)||r(l))for(var u in s){var c=C(u);Te(o,l,u,c,!0)||Te(o,a,u,c,!1)}return o}}function Te(t,e,i,n,s){if(r(e)){if(_(e,i))return t[i]=e[i],s||delete e[i],!0;if(_(e,n))return t[i]=e[n],s||delete e[n],!0}return!1}function xe(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ee(t){return a(t)?[wt(t)]:Array.isArray(t)?Ae(t):void 0}function Ce(t){return r(t)&&r(t.text)&&o(t.isComment)}function Ae(t,e){var i,o,l,u,c=[];for(i=0;i<t.length;i++)o=t[i],n(o)||"boolean"===typeof o||(l=c.length-1,u=c[l],Array.isArray(o)?o.length>0&&(o=Ae(o,(e||"")+"_"+i),Ce(o[0])&&Ce(u)&&(c[l]=wt(u.text+o[0].text),o.shift()),c.push.apply(c,o)):a(o)?Ce(u)?c[l]=wt(u.text+o):""!==o&&c.push(wt(o)):Ce(o)&&Ce(u)?c[l]=wt(u.text+o.text):(s(t._isVList)&&r(o.tag)&&n(o.key)&&r(e)&&(o.key="__vlist"+e+"_"+i+"__"),c.push(o)));return c}function Pe(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Me(t){var e=ke(t.$options.inject,t);e&&(Mt(!1),Object.keys(e).forEach((function(i){Rt(t,i,e[i])})),Mt(!0))}function ke(t,e){if(t){for(var i=Object.create(null),n=dt?Reflect.ownKeys(t):Object.keys(t),r=0;r<n.length;r++){var s=n[r];if("__ob__"!==s){var o=t[s].from,a=e;while(a){if(a._provided&&_(a._provided,o)){i[s]=a._provided[o];break}a=a.$parent}if(!a)if("default"in t[s]){var l=t[s].default;i[s]="function"===typeof l?l.call(e):l}else 0}}return i}}function Le(t,e){if(!t||!t.length)return{};for(var i={},n=0,r=t.length;n<r;n++){var s=t[n],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,s.context!==e&&s.fnContext!==e||!o||null==o.slot)(i.default||(i.default=[])).push(s);else{var a=o.slot,l=i[a]||(i[a]=[]);"template"===s.tag?l.push.apply(l,s.children||[]):l.push(s)}}for(var u in i)i[u].every(Ie)&&delete i[u];return i}function Ie(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Oe(t,e,n){var r,s=Object.keys(e).length>0,o=t?!!t.$stable:!s,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==i&&a===n.$key&&!s&&!n.$hasNormal)return n;for(var l in r={},t)t[l]&&"$"!==l[0]&&(r[l]=Re(e,l,t[l]))}else r={};for(var u in e)u in r||(r[u]=Ne(e,u));return t&&Object.isExtensible(t)&&(t._normalized=r),H(r,"$stable",o),H(r,"$key",a),H(r,"$hasNormal",s),r}function Re(t,e,i){var n=function(){var t=arguments.length?i.apply(null,arguments):i({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ee(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return i.proxy&&Object.defineProperty(t,e,{get:n,enumerable:!0,configurable:!0}),n}function Ne(t,e){return function(){return t[e]}}function De(t,e){var i,n,s,o,a;if(Array.isArray(t)||"string"===typeof t)for(i=new Array(t.length),n=0,s=t.length;n<s;n++)i[n]=e(t[n],n);else if("number"===typeof t)for(i=new Array(t),n=0;n<t;n++)i[n]=e(n+1,n);else if(l(t))if(dt&&t[Symbol.iterator]){i=[];var u=t[Symbol.iterator](),c=u.next();while(!c.done)i.push(e(c.value,i.length)),c=u.next()}else for(o=Object.keys(t),i=new Array(o.length),n=0,s=o.length;n<s;n++)a=o[n],i[n]=e(t[a],a,n);return r(i)||(i=[]),i._isVList=!0,i}function Be(t,e,i,n){var r,s=this.$scopedSlots[t];s?(i=i||{},n&&(i=L(L({},n),i)),r=s(i)||e):r=this.$slots[t]||e;var o=i&&i.slot;return o?this.$createElement("template",{slot:o},r):r}function Fe(t){return Xt(this.$options,"filters",t,!0)||N}function Ve(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function je(t,e,i,n,r){var s=G.keyCodes[e]||i;return r&&n&&!G.keyCodes[e]?Ve(r,n):s?Ve(s,t):n?C(n)!==e:void 0}function Ue(t,e,i,n,r){if(i)if(l(i)){var s;Array.isArray(i)&&(i=I(i));var o=function(o){if("class"===o||"style"===o||y(o))s=t;else{var a=t.attrs&&t.attrs.type;s=n||G.mustUseProp(e,a,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=T(o),u=C(o);if(!(l in s)&&!(u in s)&&(s[o]=i[o],r)){var c=t.on||(t.on={});c["update:"+o]=function(t){i[o]=t}}};for(var a in i)o(a)}else;return t}function Ge(t,e){var i=this._staticTrees||(this._staticTrees=[]),n=i[t];return n&&!e||(n=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),ze(n,"__static__"+t,!1)),n}function We(t,e,i){return ze(t,"__once__"+e+(i?"_"+i:""),!0),t}function ze(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!==typeof t[n]&&He(t[n],e+"_"+n,i);else He(t,e,i)}function He(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function qe(t,e){if(e)if(c(e)){var i=t.on=t.on?L({},t.on):{};for(var n in e){var r=i[n],s=e[n];i[n]=r?[].concat(r,s):s}}else;return t}function $e(t,e,i,n){e=e||{$stable:!i};for(var r=0;r<t.length;r++){var s=t[r];Array.isArray(s)?$e(s,e,i):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return n&&(e.$key=n),e}function Ye(t,e){for(var i=0;i<e.length;i+=2){var n=e[i];"string"===typeof n&&n&&(t[e[i]]=e[i+1])}return t}function Xe(t,e){return"string"===typeof t?e+t:t}function Ke(t){t._o=We,t._n=m,t._s=p,t._l=De,t._t=Be,t._q=D,t._i=B,t._m=Ge,t._f=Fe,t._k=je,t._b=Ue,t._v=wt,t._e=St,t._u=$e,t._g=qe,t._d=Ye,t._p=Xe}function Qe(t,e,n,r,o){var a,l=this,u=o.options;_(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var c=s(u._compiled),h=!c;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=ke(u.inject,r),this.slots=function(){return l.$slots||Oe(t.scopedSlots,l.$slots=Le(n,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Oe(t.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Oe(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,i,n){var s=ci(a,t,e,i,n,h);return s&&!Array.isArray(s)&&(s.fnScopeId=u._scopeId,s.fnContext=r),s}:this._c=function(t,e,i,n){return ci(a,t,e,i,n,h)}}function Ze(t,e,n,s,o){var a=t.options,l={},u=a.props;if(r(u))for(var c in u)l[c]=Kt(c,u,e||i);else r(n.attrs)&&ti(l,n.attrs),r(n.props)&&ti(l,n.props);var h=new Qe(n,l,o,s,t),d=a.render.call(null,h._c,h);if(d instanceof bt)return Je(d,n,h.parent,a,h);if(Array.isArray(d)){for(var f=Ee(d)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=Je(f[m],n,h.parent,a,h);return p}}function Je(t,e,i,n,r){var s=Tt(t);return s.fnContext=i,s.fnOptions=n,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function ti(t,e){for(var i in e)t[T(i)]=e[i]}Ke(Qe.prototype);var ei={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;ei.prepatch(i,i)}else{var n=t.componentInstance=ri(t,Mi);n.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions,n=e.componentInstance=t.componentInstance;Ri(n,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Fi(i,"mounted")),t.data.keepAlive&&(e._isMounted?Qi(i):Di(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Bi(e,!0):e.$destroy())}},ii=Object.keys(ei);function ni(t,e,i,o,a){if(!n(t)){var u=i.$options._base;if(l(t)&&(t=u.extend(t)),"function"===typeof t){var c;if(n(t.cid)&&(c=t,t=_i(c,u),void 0===t))return bi(c,e,i,o,a);e=e||{},Sn(t),r(e.model)&&ai(t.options,e);var h=we(e,t,a);if(s(t.options.functional))return Ze(t,h,e,i,o);var d=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}si(e);var p=t.options.name||a,m=new bt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:h,listeners:d,tag:a,children:o},c);return m}}}function ri(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;return r(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new t.componentOptions.Ctor(i)}function si(t){for(var e=t.hook||(t.hook={}),i=0;i<ii.length;i++){var n=ii[i],r=e[n],s=ei[n];r===s||r&&r._merged||(e[n]=r?oi(s,r):s)}}function oi(t,e){var i=function(i,n){t(i,n),e(i,n)};return i._merged=!0,i}function ai(t,e){var i=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var s=e.on||(e.on={}),o=s[n],a=e.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(s[n]=[a].concat(o)):s[n]=a}var li=1,ui=2;function ci(t,e,i,n,r,o){return(Array.isArray(i)||a(i))&&(r=n,n=i,i=void 0),s(o)&&(r=ui),hi(t,e,i,n,r)}function hi(t,e,i,n,s){if(r(i)&&r(i.__ob__))return St();if(r(i)&&r(i.is)&&(e=i.is),!e)return St();var o,a,l;(Array.isArray(n)&&"function"===typeof n[0]&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),s===ui?n=Ee(n):s===li&&(n=xe(n)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||G.getTagNamespace(e),o=G.isReservedTag(e)?new bt(G.parsePlatformTagName(e),i,n,void 0,void 0,t):i&&i.pre||!r(l=Xt(t.$options,"components",e))?new bt(e,i,n,void 0,void 0,t):ni(l,i,t,n,e)):o=ni(e,i,t,n);return Array.isArray(o)?o:r(o)?(r(a)&&di(o,a),r(i)&&fi(i),o):St()}function di(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),r(t.children))for(var o=0,a=t.children.length;o<a;o++){var l=t.children[o];r(l.tag)&&(n(l.ns)||s(i)&&"svg"!==l.tag)&&di(l,e,i)}}function fi(t){l(t.style)&&ge(t.style),l(t.class)&&ge(t.class)}function pi(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Le(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,i,n,r){return ci(t,e,i,n,r,!1)},t.$createElement=function(e,i,n,r){return ci(t,e,i,n,r,!0)};var s=n&&n.data;Rt(t,"$attrs",s&&s.attrs||i,null,!0),Rt(t,"$listeners",e._parentListeners||i,null,!0)}var mi,gi=null;function yi(t){Ke(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,n=i.render,r=i._parentVnode;r&&(e.$scopedSlots=Oe(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{gi=e,t=n.call(e._renderProxy,e.$createElement)}catch(To){ee(To,e,"render"),t=e._vnode}finally{gi=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof bt||(t=St()),t.parent=r,t}}function vi(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function bi(t,e,i,n,r){var s=St();return s.asyncFactory=t,s.asyncMeta={data:e,context:i,children:n,tag:r},s}function _i(t,e){if(s(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var i=gi;if(i&&r(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i),s(t.loading)&&r(t.loadingComp))return t.loadingComp;if(i&&!r(t.owners)){var o=t.owners=[i],a=!0,u=null,c=null;i.$on("hook:destroyed",(function(){return v(o,i)}));var h=function(t){for(var e=0,i=o.length;e<i;e++)o[e].$forceUpdate();t&&(o.length=0,null!==u&&(clearTimeout(u),u=null),null!==c&&(clearTimeout(c),c=null))},d=F((function(i){t.resolved=vi(i,e),a?o.length=0:h(!0)})),p=F((function(e){r(t.errorComp)&&(t.error=!0,h(!0))})),m=t(d,p);return l(m)&&(f(m)?n(t.resolved)&&m.then(d,p):f(m.component)&&(m.component.then(d,p),r(m.error)&&(t.errorComp=vi(m.error,e)),r(m.loading)&&(t.loadingComp=vi(m.loading,e),0===m.delay?t.loading=!0:u=setTimeout((function(){u=null,n(t.resolved)&&n(t.error)&&(t.loading=!0,h(!1))}),m.delay||200)),r(m.timeout)&&(c=setTimeout((function(){c=null,n(t.resolved)&&p(null)}),m.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function Si(t){return t.isComment&&t.asyncFactory}function wi(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(r(i)&&(r(i.componentOptions)||Si(i)))return i}}function Ti(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ai(t,e)}function xi(t,e){mi.$on(t,e)}function Ei(t,e){mi.$off(t,e)}function Ci(t,e){var i=mi;return function n(){var r=e.apply(null,arguments);null!==r&&i.$off(t,n)}}function Ai(t,e,i){mi=t,_e(e,i||{},xi,Ei,Ci,t),mi=void 0}function Pi(t){var e=/^hook:/;t.prototype.$on=function(t,i){var n=this;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)n.$on(t[r],i);else(n._events[t]||(n._events[t]=[])).push(i),e.test(t)&&(n._hasHookEvent=!0);return n},t.prototype.$once=function(t,e){var i=this;function n(){i.$off(t,n),e.apply(i,arguments)}return n.fn=e,i.$on(t,n),i},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)i.$off(t[n],e);return i}var s,o=i._events[t];if(!o)return i;if(!e)return i._events[t]=null,i;var a=o.length;while(a--)if(s=o[a],s===e||s.fn===e){o.splice(a,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?k(i):i;for(var n=k(arguments,1),r='event handler for "'+t+'"',s=0,o=i.length;s<o;s++)ie(i[s],e,n,e,r)}return e}}var Mi=null;function ki(t){var e=Mi;return Mi=t,function(){Mi=e}}function Li(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ii(t){t.prototype._update=function(t,e){var i=this,n=i.$el,r=i._vnode,s=ki(i);i._vnode=t,i.$el=r?i.__patch__(r,t):i.__patch__(i.$el,t,e,!1),s(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Fi(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();var i=t._watchers.length;while(i--)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Fi(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Oi(t,e,i){var n;return t.$el=e,t.$options.render||(t.$options.render=St),Fi(t,"beforeMount"),n=function(){t._update(t._render(),i)},new en(t,n,O,{before:function(){t._isMounted&&!t._isDestroyed&&Fi(t,"beforeUpdate")}},!0),i=!1,null==t.$vnode&&(t._isMounted=!0,Fi(t,"mounted")),t}function Ri(t,e,n,r,s){var o=r.data.scopedSlots,a=t.$scopedSlots,l=!!(o&&!o.$stable||a!==i&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key),u=!!(s||t.$options._renderChildren||l);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=s,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){Mt(!1);for(var c=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var f=h[d],p=t.$options.props;c[f]=Kt(f,p,e,t)}Mt(!0),t.$options.propsData=e}n=n||i;var m=t.$options._parentListeners;t.$options._parentListeners=n,Ai(t,n,m),u&&(t.$slots=Le(s,r.context),t.$forceUpdate())}function Ni(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Di(t,e){if(e){if(t._directInactive=!1,Ni(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)Di(t.$children[i]);Fi(t,"activated")}}function Bi(t,e){if((!e||(t._directInactive=!0,!Ni(t)))&&!t._inactive){t._inactive=!0;for(var i=0;i<t.$children.length;i++)Bi(t.$children[i]);Fi(t,"deactivated")}}function Fi(t,e){yt();var i=t.$options[e],n=e+" hook";if(i)for(var r=0,s=i.length;r<s;r++)ie(i[r],t,null,t,n);t._hasHookEvent&&t.$emit("hook:"+e),vt()}var Vi=[],ji=[],Ui={},Gi=!1,Wi=!1,zi=0;function Hi(){zi=Vi.length=ji.length=0,Ui={},Gi=Wi=!1}var qi=0,$i=Date.now;if(K&&!tt){var Yi=window.performance;Yi&&"function"===typeof Yi.now&&$i()>document.createEvent("Event").timeStamp&&($i=function(){return Yi.now()})}function Xi(){var t,e;for(qi=$i(),Wi=!0,Vi.sort((function(t,e){return t.id-e.id})),zi=0;zi<Vi.length;zi++)t=Vi[zi],t.before&&t.before(),e=t.id,Ui[e]=null,t.run();var i=ji.slice(),n=Vi.slice();Hi(),Zi(i),Ki(n),ut&&G.devtools&&ut.emit("flush")}function Ki(t){var e=t.length;while(e--){var i=t[e],n=i.vm;n._watcher===i&&n._isMounted&&!n._isDestroyed&&Fi(n,"updated")}}function Qi(t){t._inactive=!1,ji.push(t)}function Zi(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Di(t[e],!0)}function Ji(t){var e=t.id;if(null==Ui[e]){if(Ui[e]=!0,Wi){var i=Vi.length-1;while(i>zi&&Vi[i].id>t.id)i--;Vi.splice(i+1,0,t)}else Vi.push(t);Gi||(Gi=!0,pe(Xi))}}var tn=0,en=function(t,e,i,n,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++tn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=$(e),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()};en.prototype.get=function(){var t;yt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(To){if(!this.user)throw To;ee(To,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ge(t),vt(),this.cleanupDeps()}return t},en.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},en.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},en.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ji(this)},en.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(To){ee(To,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},en.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},en.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},en.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var nn={enumerable:!0,configurable:!0,get:O,set:O};function rn(t,e,i){nn.get=function(){return this[e][i]},nn.set=function(t){this[e][i]=t},Object.defineProperty(t,i,nn)}function sn(t){t._watchers=[];var e=t.$options;e.props&&on(t,e.props),e.methods&&pn(t,e.methods),e.data?an(t):Ot(t._data={},!0),e.computed&&cn(t,e.computed),e.watch&&e.watch!==st&&mn(t,e.watch)}function on(t,e){var i=t.$options.propsData||{},n=t._props={},r=t.$options._propKeys=[],s=!t.$parent;s||Mt(!1);var o=function(s){r.push(s);var o=Kt(s,e,i,t);Rt(n,s,o),s in t||rn(t,"_props",s)};for(var a in e)o(a);Mt(!0)}function an(t){var e=t.$options.data;e=t._data="function"===typeof e?ln(e,t):e||{},c(e)||(e={});var i=Object.keys(e),n=t.$options.props,r=(t.$options.methods,i.length);while(r--){var s=i[r];0,n&&_(n,s)||z(s)||rn(t,"_data",s)}Ot(e,!0)}function ln(t,e){yt();try{return t.call(e,e)}catch(To){return ee(To,e,"data()"),{}}finally{vt()}}var un={lazy:!0};function cn(t,e){var i=t._computedWatchers=Object.create(null),n=lt();for(var r in e){var s=e[r],o="function"===typeof s?s:s.get;0,n||(i[r]=new en(t,o||O,O,un)),r in t||hn(t,r,s)}}function hn(t,e,i){var n=!lt();"function"===typeof i?(nn.get=n?dn(e):fn(i),nn.set=O):(nn.get=i.get?n&&!1!==i.cache?dn(e):fn(i.get):O,nn.set=i.set||O),Object.defineProperty(t,e,nn)}function dn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function fn(t){return function(){return t.call(this,this)}}function pn(t,e){t.$options.props;for(var i in e)t[i]="function"!==typeof e[i]?O:M(e[i],t)}function mn(t,e){for(var i in e){var n=e[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)gn(t,i,n[r]);else gn(t,i,n)}}function gn(t,e,i,n){return c(i)&&(n=i,i=i.handler),"string"===typeof i&&(i=t[i]),t.$watch(e,i,n)}function yn(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=Nt,t.prototype.$delete=Dt,t.prototype.$watch=function(t,e,i){var n=this;if(c(e))return gn(n,t,e,i);i=i||{},i.user=!0;var r=new en(n,t,e,i);if(i.immediate)try{e.call(n,r.value)}catch(s){ee(s,n,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var vn=0;function bn(t){t.prototype._init=function(t){var e=this;e._uid=vn++,e._isVue=!0,t&&t._isComponent?_n(e,t):e.$options=Yt(Sn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Li(e),Ti(e),pi(e),Fi(e,"beforeCreate"),Me(e),sn(e),Pe(e),Fi(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function _n(t,e){var i=t.$options=Object.create(t.constructor.options),n=e._parentVnode;i.parent=e.parent,i._parentVnode=n;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function Sn(t){var e=t.options;if(t.super){var i=Sn(t.super),n=t.superOptions;if(i!==n){t.superOptions=i;var r=wn(t);r&&L(t.extendOptions,r),e=t.options=Yt(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function wn(t){var e,i=t.options,n=t.sealedOptions;for(var r in i)i[r]!==n[r]&&(e||(e={}),e[r]=i[r]);return e}function Tn(t){this._init(t)}function xn(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=k(arguments,1);return i.unshift(this),"function"===typeof t.install?t.install.apply(t,i):"function"===typeof t&&t.apply(null,i),e.push(t),this}}function En(t){t.mixin=function(t){return this.options=Yt(this.options,t),this}}function Cn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,n=i.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var s=t.name||i.options.name;var o=function(t){this._init(t)};return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Yt(i.options,t),o["super"]=i,o.options.props&&An(o),o.options.computed&&Pn(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,j.forEach((function(t){o[t]=i[t]})),s&&(o.options.components[s]=o),o.superOptions=i.options,o.extendOptions=t,o.sealedOptions=L({},o.options),r[n]=o,o}}function An(t){var e=t.options.props;for(var i in e)rn(t.prototype,"_props",i)}function Pn(t){var e=t.options.computed;for(var i in e)hn(t.prototype,i,e[i])}function Mn(t){j.forEach((function(e){t[e]=function(t,i){return i?("component"===e&&c(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"===typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}}))}function kn(t){return t&&(t.Ctor.options.name||t.tag)}function Ln(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function In(t,e){var i=t.cache,n=t.keys,r=t._vnode;for(var s in i){var o=i[s];if(o){var a=kn(o.componentOptions);a&&!e(a)&&On(i,s,n,r)}}}function On(t,e,i,n){var r=t[e];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),t[e]=null,v(i,e)}bn(Tn),yn(Tn),Pi(Tn),Ii(Tn),yi(Tn);var Rn=[String,RegExp,Array],Nn={name:"keep-alive",abstract:!0,props:{include:Rn,exclude:Rn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)On(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){In(t,(function(t){return Ln(e,t)}))})),this.$watch("exclude",(function(e){In(t,(function(t){return!Ln(e,t)}))}))},render:function(){var t=this.$slots.default,e=wi(t),i=e&&e.componentOptions;if(i){var n=kn(i),r=this,s=r.include,o=r.exclude;if(s&&(!n||!Ln(s,n))||o&&n&&Ln(o,n))return e;var a=this,l=a.cache,u=a.keys,c=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;l[c]?(e.componentInstance=l[c].componentInstance,v(u,c),u.push(c)):(l[c]=e,u.push(c),this.max&&u.length>parseInt(this.max)&&On(l,u[0],u,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Dn={KeepAlive:Nn};function Bn(t){var e={get:function(){return G}};Object.defineProperty(t,"config",e),t.util={warn:ft,extend:L,mergeOptions:Yt,defineReactive:Rt},t.set=Nt,t.delete=Dt,t.nextTick=pe,t.observable=function(t){return Ot(t),t},t.options=Object.create(null),j.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,L(t.options.components,Dn),xn(t),En(t),Cn(t),Mn(t)}Bn(Tn),Object.defineProperty(Tn.prototype,"$isServer",{get:lt}),Object.defineProperty(Tn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Tn,"FunctionalRenderContext",{value:Qe}),Tn.version="2.6.11";var Fn=g("style,class"),Vn=g("input,textarea,option,select,progress"),jn=function(t,e,i){return"value"===i&&Vn(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},Un=g("contenteditable,draggable,spellcheck"),Gn=g("events,caret,typing,plaintext-only"),Wn=function(t,e){return Yn(e)||"false"===e?"false":"contenteditable"===t&&Gn(e)?e:"true"},zn=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Hn="http://www.w3.org/1999/xlink",qn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},$n=function(t){return qn(t)?t.slice(6,t.length):""},Yn=function(t){return null==t||!1===t};function Xn(t){var e=t.data,i=t,n=t;while(r(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(e=Kn(n.data,e));while(r(i=i.parent))i&&i.data&&(e=Kn(e,i.data));return Qn(e.staticClass,e.class)}function Kn(t,e){return{staticClass:Zn(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Qn(t,e){return r(t)||r(e)?Zn(t,Jn(e)):""}function Zn(t,e){return t?e?t+" "+e:t:e||""}function Jn(t){return Array.isArray(t)?tr(t):l(t)?er(t):"string"===typeof t?t:""}function tr(t){for(var e,i="",n=0,s=t.length;n<s;n++)r(e=Jn(t[n]))&&""!==e&&(i&&(i+=" "),i+=e);return i}function er(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}var ir={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},nr=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),sr=function(t){return nr(t)||rr(t)};function or(t){return rr(t)?"svg":"math"===t?"math":void 0}var ar=Object.create(null);function lr(t){if(!K)return!0;if(sr(t))return!1;if(t=t.toLowerCase(),null!=ar[t])return ar[t];var e=document.createElement(t);return t.indexOf("-")>-1?ar[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ar[t]=/HTMLUnknownElement/.test(e.toString())}var ur=g("text,number,password,search,email,tel,url");function cr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function hr(t,e){var i=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i}function dr(t,e){return document.createElementNS(ir[t],e)}function fr(t){return document.createTextNode(t)}function pr(t){return document.createComment(t)}function mr(t,e,i){t.insertBefore(e,i)}function gr(t,e){t.removeChild(e)}function yr(t,e){t.appendChild(e)}function vr(t){return t.parentNode}function br(t){return t.nextSibling}function _r(t){return t.tagName}function Sr(t,e){t.textContent=e}function wr(t,e){t.setAttribute(e,"")}var Tr=Object.freeze({createElement:hr,createElementNS:dr,createTextNode:fr,createComment:pr,insertBefore:mr,removeChild:gr,appendChild:yr,parentNode:vr,nextSibling:br,tagName:_r,setTextContent:Sr,setStyleScope:wr}),xr={create:function(t,e){Er(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Er(t,!0),Er(e))},destroy:function(t){Er(t,!0)}};function Er(t,e){var i=t.data.ref;if(r(i)){var n=t.context,s=t.componentInstance||t.elm,o=n.$refs;e?Array.isArray(o[i])?v(o[i],s):o[i]===s&&(o[i]=void 0):t.data.refInFor?Array.isArray(o[i])?o[i].indexOf(s)<0&&o[i].push(s):o[i]=[s]:o[i]=s}}var Cr=new bt("",{},[]),Ar=["create","activate","update","remove","destroy"];function Pr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&Mr(t,e)||s(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&n(e.asyncFactory.error))}function Mr(t,e){if("input"!==t.tag)return!0;var i,n=r(i=t.data)&&r(i=i.attrs)&&i.type,s=r(i=e.data)&&r(i=i.attrs)&&i.type;return n===s||ur(n)&&ur(s)}function kr(t,e,i){var n,s,o={};for(n=e;n<=i;++n)s=t[n].key,r(s)&&(o[s]=n);return o}function Lr(t){var e,i,o={},l=t.modules,u=t.nodeOps;for(e=0;e<Ar.length;++e)for(o[Ar[e]]=[],i=0;i<l.length;++i)r(l[i][Ar[e]])&&o[Ar[e]].push(l[i][Ar[e]]);function c(t){return new bt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function i(){0===--i.listeners&&d(t)}return i.listeners=e,i}function d(t){var e=u.parentNode(t);r(e)&&u.removeChild(e,t)}function f(t,e,i,n,o,a,l){if(r(t.elm)&&r(a)&&(t=a[l]=Tt(t)),t.isRootInsert=!o,!p(t,e,i,n)){var c=t.data,h=t.children,d=t.tag;r(d)?(t.elm=t.ns?u.createElementNS(t.ns,d):u.createElement(d,t),w(t),b(t,h,e),r(c)&&S(t,e),v(i,t.elm,n)):s(t.isComment)?(t.elm=u.createComment(t.text),v(i,t.elm,n)):(t.elm=u.createTextNode(t.text),v(i,t.elm,n))}}function p(t,e,i,n){var o=t.data;if(r(o)){var a=r(t.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(t,!1),r(t.componentInstance))return m(t,e),v(i,t.elm,n),s(a)&&y(t,e,i,n),!0}}function m(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,_(t)?(S(t,e),w(t)):(Er(t),e.push(t))}function y(t,e,i,n){var s,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,r(s=a.data)&&r(s=s.transition)){for(s=0;s<o.activate.length;++s)o.activate[s](Cr,a);e.push(a);break}v(i,t.elm,n)}function v(t,e,i){r(t)&&(r(i)?u.parentNode(i)===t&&u.insertBefore(t,e,i):u.appendChild(t,e))}function b(t,e,i){if(Array.isArray(e)){0;for(var n=0;n<e.length;++n)f(e[n],i,t.elm,null,!0,e,n)}else a(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function _(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function S(t,i){for(var n=0;n<o.create.length;++n)o.create[n](Cr,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(Cr,t),r(e.insert)&&i.push(t))}function w(t){var e;if(r(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var i=t;while(i)r(e=i.context)&&r(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),i=i.parent}r(e=Mi)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function T(t,e,i,n,r,s){for(;n<=r;++n)f(i[n],s,t,e,!1,i,n)}function x(t){var e,i,n=t.data;if(r(n))for(r(e=n.hook)&&r(e=e.destroy)&&e(t),e=0;e<o.destroy.length;++e)o.destroy[e](t);if(r(e=t.children))for(i=0;i<t.children.length;++i)x(t.children[i])}function E(t,e,i){for(;e<=i;++e){var n=t[e];r(n)&&(r(n.tag)?(C(n),x(n)):d(n.elm))}}function C(t,e){if(r(e)||r(t.data)){var i,n=o.remove.length+1;for(r(e)?e.listeners+=n:e=h(t.elm,n),r(i=t.componentInstance)&&r(i=i._vnode)&&r(i.data)&&C(i,e),i=0;i<o.remove.length;++i)o.remove[i](t,e);r(i=t.data.hook)&&r(i=i.remove)?i(t,e):e()}else d(t.elm)}function A(t,e,i,s,o){var a,l,c,h,d=0,p=0,m=e.length-1,g=e[0],y=e[m],v=i.length-1,b=i[0],_=i[v],S=!o;while(d<=m&&p<=v)n(g)?g=e[++d]:n(y)?y=e[--m]:Pr(g,b)?(M(g,b,s,i,p),g=e[++d],b=i[++p]):Pr(y,_)?(M(y,_,s,i,v),y=e[--m],_=i[--v]):Pr(g,_)?(M(g,_,s,i,v),S&&u.insertBefore(t,g.elm,u.nextSibling(y.elm)),g=e[++d],_=i[--v]):Pr(y,b)?(M(y,b,s,i,p),S&&u.insertBefore(t,y.elm,g.elm),y=e[--m],b=i[++p]):(n(a)&&(a=kr(e,d,m)),l=r(b.key)?a[b.key]:P(b,e,d,m),n(l)?f(b,s,t,g.elm,!1,i,p):(c=e[l],Pr(c,b)?(M(c,b,s,i,p),e[l]=void 0,S&&u.insertBefore(t,c.elm,g.elm)):f(b,s,t,g.elm,!1,i,p)),b=i[++p]);d>m?(h=n(i[v+1])?null:i[v+1].elm,T(t,h,i,p,v,s)):p>v&&E(e,d,m)}function P(t,e,i,n){for(var s=i;s<n;s++){var o=e[s];if(r(o)&&Pr(t,o))return s}}function M(t,e,i,a,l,c){if(t!==e){r(e.elm)&&r(a)&&(e=a[l]=Tt(e));var h=e.elm=t.elm;if(s(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?I(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,f=e.data;r(f)&&r(d=f.hook)&&r(d=d.prepatch)&&d(t,e);var p=t.children,m=e.children;if(r(f)&&_(e)){for(d=0;d<o.update.length;++d)o.update[d](t,e);r(d=f.hook)&&r(d=d.update)&&d(t,e)}n(e.text)?r(p)&&r(m)?p!==m&&A(h,p,m,i,c):r(m)?(r(t.text)&&u.setTextContent(h,""),T(h,null,m,0,m.length-1,i)):r(p)?E(p,0,p.length-1):r(t.text)&&u.setTextContent(h,""):t.text!==e.text&&u.setTextContent(h,e.text),r(f)&&r(d=f.hook)&&r(d=d.postpatch)&&d(t,e)}}}function k(t,e,i){if(s(i)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var L=g("attrs,class,staticClass,staticStyle,key");function I(t,e,i,n){var o,a=e.tag,l=e.data,u=e.children;if(n=n||l&&l.pre,e.elm=t,s(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(o=l.hook)&&r(o=o.init)&&o(e,!0),r(o=e.componentInstance)))return m(e,i),!0;if(r(a)){if(r(u))if(t.hasChildNodes())if(r(o=l)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,d=0;d<u.length;d++){if(!h||!I(h,u[d],i,n)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else b(e,u,i);if(r(l)){var f=!1;for(var p in l)if(!L(p)){f=!0,S(e,i);break}!f&&l["class"]&&ge(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,a){if(!n(e)){var l=!1,h=[];if(n(t))l=!0,f(e,h);else{var d=r(t.nodeType);if(!d&&Pr(t,e))M(t,e,h,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(V)&&(t.removeAttribute(V),i=!0),s(i)&&I(t,e,h))return k(e,h,!0),t;t=c(t)}var p=t.elm,m=u.parentNode(p);if(f(e,h,p._leaveCb?null:m,u.nextSibling(p)),r(e.parent)){var g=e.parent,y=_(e);while(g){for(var v=0;v<o.destroy.length;++v)o.destroy[v](g);if(g.elm=e.elm,y){for(var b=0;b<o.create.length;++b)o.create[b](Cr,g);var S=g.data.hook.insert;if(S.merged)for(var w=1;w<S.fns.length;w++)S.fns[w]()}else Er(g);g=g.parent}}r(m)?E([t],0,0):r(t.tag)&&x(t)}}return k(e,h,l),e.elm}r(t)&&x(t)}}var Ir={create:Or,update:Or,destroy:function(t){Or(t,Cr)}};function Or(t,e){(t.data.directives||e.data.directives)&&Rr(t,e)}function Rr(t,e){var i,n,r,s=t===Cr,o=e===Cr,a=Dr(t.data.directives,t.context),l=Dr(e.data.directives,e.context),u=[],c=[];for(i in l)n=a[i],r=l[i],n?(r.oldValue=n.value,r.oldArg=n.arg,Fr(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(Fr(r,"bind",e,t),r.def&&r.def.inserted&&u.push(r));if(u.length){var h=function(){for(var i=0;i<u.length;i++)Fr(u[i],"inserted",e,t)};s?Se(e,"insert",h):h()}if(c.length&&Se(e,"postpatch",(function(){for(var i=0;i<c.length;i++)Fr(c[i],"componentUpdated",e,t)})),!s)for(i in a)l[i]||Fr(a[i],"unbind",t,t,o)}var Nr=Object.create(null);function Dr(t,e){var i,n,r=Object.create(null);if(!t)return r;for(i=0;i<t.length;i++)n=t[i],n.modifiers||(n.modifiers=Nr),r[Br(n)]=n,n.def=Xt(e.$options,"directives",n.name,!0);return r}function Br(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Fr(t,e,i,n,r){var s=t.def&&t.def[e];if(s)try{s(i.elm,t,i,n,r)}catch(To){ee(To,i.context,"directive "+t.name+" "+e+" hook")}}var Vr=[xr,Ir];function jr(t,e){var i=e.componentOptions;if((!r(i)||!1!==i.Ctor.options.inheritAttrs)&&(!n(t.data.attrs)||!n(e.data.attrs))){var s,o,a,l=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};for(s in r(c.__ob__)&&(c=e.data.attrs=L({},c)),c)o=c[s],a=u[s],a!==o&&Ur(l,s,o);for(s in(tt||it)&&c.value!==u.value&&Ur(l,"value",c.value),u)n(c[s])&&(qn(s)?l.removeAttributeNS(Hn,$n(s)):Un(s)||l.removeAttribute(s))}}function Ur(t,e,i){t.tagName.indexOf("-")>-1?Gr(t,e,i):zn(e)?Yn(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):Un(e)?t.setAttribute(e,Wn(e,i)):qn(e)?Yn(i)?t.removeAttributeNS(Hn,$n(e)):t.setAttributeNS(Hn,e,i):Gr(t,e,i)}function Gr(t,e,i){if(Yn(i))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==i&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,i)}}var Wr={create:jr,update:jr};function zr(t,e){var i=e.elm,s=e.data,o=t.data;if(!(n(s.staticClass)&&n(s.class)&&(n(o)||n(o.staticClass)&&n(o.class)))){var a=Xn(e),l=i._transitionClasses;r(l)&&(a=Zn(a,Jn(l))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var Hr,qr={create:zr,update:zr},$r="__r",Yr="__c";function Xr(t){if(r(t[$r])){var e=tt?"change":"input";t[e]=[].concat(t[$r],t[e]||[]),delete t[$r]}r(t[Yr])&&(t.change=[].concat(t[Yr],t.change||[]),delete t[Yr])}function Kr(t,e,i){var n=Hr;return function r(){var s=e.apply(null,arguments);null!==s&&Jr(t,r,i,n)}}var Qr=oe&&!(rt&&Number(rt[1])<=53);function Zr(t,e,i,n){if(Qr){var r=qi,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return s.apply(this,arguments)}}Hr.addEventListener(t,e,ot?{capture:i,passive:n}:i)}function Jr(t,e,i,n){(n||Hr).removeEventListener(t,e._wrapper||e,i)}function ts(t,e){if(!n(t.data.on)||!n(e.data.on)){var i=e.data.on||{},r=t.data.on||{};Hr=e.elm,Xr(i),_e(i,r,Zr,Jr,Kr,e.context),Hr=void 0}}var es,is={create:ts,update:ts};function ns(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,s,o=e.elm,a=t.data.domProps||{},l=e.data.domProps||{};for(i in r(l.__ob__)&&(l=e.data.domProps=L({},l)),a)i in l||(o[i]="");for(i in l){if(s=l[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),s===a[i])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===i&&"PROGRESS"!==o.tagName){o._value=s;var u=n(s)?"":String(s);rs(o,u)&&(o.value=u)}else if("innerHTML"===i&&rr(o.tagName)&&n(o.innerHTML)){es=es||document.createElement("div"),es.innerHTML="<svg>"+s+"</svg>";var c=es.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(c.firstChild)o.appendChild(c.firstChild)}else if(s!==a[i])try{o[i]=s}catch(To){}}}}function rs(t,e){return!t.composing&&("OPTION"===t.tagName||ss(t,e)||os(t,e))}function ss(t,e){var i=!0;try{i=document.activeElement!==t}catch(To){}return i&&t.value!==e}function os(t,e){var i=t.value,n=t._vModifiers;if(r(n)){if(n.number)return m(i)!==m(e);if(n.trim)return i.trim()!==e.trim()}return i!==e}var as={create:ns,update:ns},ls=S((function(t){var e={},i=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(i).forEach((function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}));function us(t){var e=cs(t.style);return t.staticStyle?L(t.staticStyle,e):e}function cs(t){return Array.isArray(t)?I(t):"string"===typeof t?ls(t):t}function hs(t,e){var i,n={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(i=us(r.data))&&L(n,i)}(i=us(t.data))&&L(n,i);var s=t;while(s=s.parent)s.data&&(i=us(s.data))&&L(n,i);return n}var ds,fs=/^--/,ps=/\s*!important$/,ms=function(t,e,i){if(fs.test(e))t.style.setProperty(e,i);else if(ps.test(i))t.style.setProperty(C(e),i.replace(ps,""),"important");else{var n=ys(e);if(Array.isArray(i))for(var r=0,s=i.length;r<s;r++)t.style[n]=i[r];else t.style[n]=i}},gs=["Webkit","Moz","ms"],ys=S((function(t){if(ds=ds||document.createElement("div").style,t=T(t),"filter"!==t&&t in ds)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<gs.length;i++){var n=gs[i]+e;if(n in ds)return n}}));function vs(t,e){var i=e.data,s=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(s.staticStyle)&&n(s.style))){var o,a,l=e.elm,u=s.staticStyle,c=s.normalizedStyle||s.style||{},h=u||c,d=cs(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?L({},d):d;var f=hs(e,!0);for(a in h)n(f[a])&&ms(l,a,"");for(a in f)o=f[a],o!==h[a]&&ms(l,a,null==o?"":o)}}var bs={create:vs,update:vs},_s=/\s+/;function Ss(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(_s).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function ws(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(_s).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";while(i.indexOf(n)>=0)i=i.replace(n," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function Ts(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&L(e,xs(t.name||"v")),L(e,t),e}return"string"===typeof t?xs(t):void 0}}var xs=S((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Es=K&&!et,Cs="transition",As="animation",Ps="transition",Ms="transitionend",ks="animation",Ls="animationend";Es&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ps="WebkitTransition",Ms="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ks="WebkitAnimation",Ls="webkitAnimationEnd"));var Is=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Os(t){Is((function(){Is(t)}))}function Rs(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),Ss(t,e))}function Ns(t,e){t._transitionClasses&&v(t._transitionClasses,e),ws(t,e)}function Ds(t,e,i){var n=Fs(t,e),r=n.type,s=n.timeout,o=n.propCount;if(!r)return i();var a=r===Cs?Ms:Ls,l=0,u=function(){t.removeEventListener(a,c),i()},c=function(e){e.target===t&&++l>=o&&u()};setTimeout((function(){l<o&&u()}),s+1),t.addEventListener(a,c)}var Bs=/\b(transform|all)(,|$)/;function Fs(t,e){var i,n=window.getComputedStyle(t),r=(n[Ps+"Delay"]||"").split(", "),s=(n[Ps+"Duration"]||"").split(", "),o=Vs(r,s),a=(n[ks+"Delay"]||"").split(", "),l=(n[ks+"Duration"]||"").split(", "),u=Vs(a,l),c=0,h=0;e===Cs?o>0&&(i=Cs,c=o,h=s.length):e===As?u>0&&(i=As,c=u,h=l.length):(c=Math.max(o,u),i=c>0?o>u?Cs:As:null,h=i?i===Cs?s.length:l.length:0);var d=i===Cs&&Bs.test(n[Ps+"Property"]);return{type:i,timeout:c,propCount:h,hasTransform:d}}function Vs(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,i){return js(e)+js(t[i])})))}function js(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Us(t,e){var i=t.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var s=Ts(t.data.transition);if(!n(s)&&!r(i._enterCb)&&1===i.nodeType){var o=s.css,a=s.type,u=s.enterClass,c=s.enterToClass,h=s.enterActiveClass,d=s.appearClass,f=s.appearToClass,p=s.appearActiveClass,g=s.beforeEnter,y=s.enter,v=s.afterEnter,b=s.enterCancelled,_=s.beforeAppear,S=s.appear,w=s.afterAppear,T=s.appearCancelled,x=s.duration,E=Mi,C=Mi.$vnode;while(C&&C.parent)E=C.context,C=C.parent;var A=!E._isMounted||!t.isRootInsert;if(!A||S||""===S){var P=A&&d?d:u,M=A&&p?p:h,k=A&&f?f:c,L=A&&_||g,I=A&&"function"===typeof S?S:y,O=A&&w||v,R=A&&T||b,N=m(l(x)?x.enter:x);0;var D=!1!==o&&!et,B=zs(I),V=i._enterCb=F((function(){D&&(Ns(i,k),Ns(i,M)),V.cancelled?(D&&Ns(i,P),R&&R(i)):O&&O(i),i._enterCb=null}));t.data.show||Se(t,"insert",(function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),I&&I(i,V)})),L&&L(i),D&&(Rs(i,P),Rs(i,M),Os((function(){Ns(i,P),V.cancelled||(Rs(i,k),B||(Ws(N)?setTimeout(V,N):Ds(i,a,V)))}))),t.data.show&&(e&&e(),I&&I(i,V)),D||B||V()}}}function Gs(t,e){var i=t.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var s=Ts(t.data.transition);if(n(s)||1!==i.nodeType)return e();if(!r(i._leaveCb)){var o=s.css,a=s.type,u=s.leaveClass,c=s.leaveToClass,h=s.leaveActiveClass,d=s.beforeLeave,f=s.leave,p=s.afterLeave,g=s.leaveCancelled,y=s.delayLeave,v=s.duration,b=!1!==o&&!et,_=zs(f),S=m(l(v)?v.leave:v);0;var w=i._leaveCb=F((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),b&&(Ns(i,c),Ns(i,h)),w.cancelled?(b&&Ns(i,u),g&&g(i)):(e(),p&&p(i)),i._leaveCb=null}));y?y(T):T()}function T(){w.cancelled||(!t.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),d&&d(i),b&&(Rs(i,u),Rs(i,h),Os((function(){Ns(i,u),w.cancelled||(Rs(i,c),_||(Ws(S)?setTimeout(w,S):Ds(i,a,w)))}))),f&&f(i,w),b||_||w())}}function Ws(t){return"number"===typeof t&&!isNaN(t)}function zs(t){if(n(t))return!1;var e=t.fns;return r(e)?zs(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Hs(t,e){!0!==e.data.show&&Us(e)}var qs=K?{create:Hs,activate:Hs,remove:function(t,e){!0!==t.data.show?Gs(t,e):e()}}:{},$s=[Wr,qr,is,as,bs,qs],Ys=$s.concat(Vr),Xs=Lr({nodeOps:Tr,modules:Ys});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&no(t,"input")}));var Ks={inserted:function(t,e,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?Se(i,"postpatch",(function(){Ks.componentUpdated(t,e,i)})):Qs(t,e,i.context),t._vOptions=[].map.call(t.options,to)):("textarea"===i.tag||ur(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",eo),t.addEventListener("compositionend",io),t.addEventListener("change",io),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){Qs(t,e,i.context);var n=t._vOptions,r=t._vOptions=[].map.call(t.options,to);if(r.some((function(t,e){return!D(t,n[e])}))){var s=t.multiple?e.value.some((function(t){return Js(t,r)})):e.value!==e.oldValue&&Js(e.value,r);s&&no(t,"change")}}}};function Qs(t,e,i){Zs(t,e,i),(tt||it)&&setTimeout((function(){Zs(t,e,i)}),0)}function Zs(t,e,i){var n=e.value,r=t.multiple;if(!r||Array.isArray(n)){for(var s,o,a=0,l=t.options.length;a<l;a++)if(o=t.options[a],r)s=B(n,to(o))>-1,o.selected!==s&&(o.selected=s);else if(D(to(o),n))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function Js(t,e){return e.every((function(e){return!D(e,t)}))}function to(t){return"_value"in t?t._value:t.value}function eo(t){t.target.composing=!0}function io(t){t.target.composing&&(t.target.composing=!1,no(t.target,"input"))}function no(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function ro(t){return!t.componentInstance||t.data&&t.data.transition?t:ro(t.componentInstance._vnode)}var so={bind:function(t,e,i){var n=e.value;i=ro(i);var r=i.data&&i.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&r?(i.data.show=!0,Us(i,(function(){t.style.display=s}))):t.style.display=n?s:"none"},update:function(t,e,i){var n=e.value,r=e.oldValue;if(!n!==!r){i=ro(i);var s=i.data&&i.data.transition;s?(i.data.show=!0,n?Us(i,(function(){t.style.display=t.__vOriginalDisplay})):Gs(i,(function(){t.style.display="none"}))):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,i,n,r){r||(t.style.display=t.__vOriginalDisplay)}},oo={model:Ks,show:so},ao={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function lo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?lo(wi(e.children)):t}function uo(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var r=i._parentListeners;for(var s in r)e[T(s)]=r[s];return e}function co(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ho(t){while(t=t.parent)if(t.data.transition)return!0}function fo(t,e){return e.key===t.key&&e.tag===t.tag}var po=function(t){return t.tag||Si(t)},mo=function(t){return"show"===t.name},go={name:"transition",props:ao,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(po),i.length)){0;var n=this.mode;0;var r=i[0];if(ho(this.$vnode))return r;var s=lo(r);if(!s)return r;if(this._leaving)return co(t,r);var o="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?o+"comment":o+s.tag:a(s.key)?0===String(s.key).indexOf(o)?s.key:o+s.key:s.key;var l=(s.data||(s.data={})).transition=uo(this),u=this._vnode,c=lo(u);if(s.data.directives&&s.data.directives.some(mo)&&(s.data.show=!0),c&&c.data&&!fo(s,c)&&!Si(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=L({},l);if("out-in"===n)return this._leaving=!0,Se(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),co(t,r);if("in-out"===n){if(Si(s))return u;var d,f=function(){d()};Se(l,"afterEnter",f),Se(l,"enterCancelled",f),Se(h,"delayLeave",(function(t){d=t}))}}return r}}},yo=L({tag:String,moveClass:String},ao);delete yo.mode;var vo={props:yo,beforeMount:function(){var t=this,e=this._update;this._update=function(i,n){var r=ki(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,i,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],s=this.children=[],o=uo(this),a=0;a<r.length;a++){var l=r[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))s.push(l),i[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(n){for(var u=[],c=[],h=0;h<n.length;h++){var d=n[h];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?u.push(d):c.push(d)}this.kept=t(e,null,u),this.removed=c}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(bo),t.forEach(_o),t.forEach(So),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var i=t.elm,n=i.style;Rs(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Ms,i._moveCb=function t(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Ms,t),i._moveCb=null,Ns(i,e))})}})))},methods:{hasMove:function(t,e){if(!Es)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){ws(i,t)})),Ss(i,e),i.style.display="none",this.$el.appendChild(i);var n=Fs(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}};function bo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function _o(t){t.data.newPos=t.elm.getBoundingClientRect()}function So(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,r=e.top-i.top;if(n||r){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate("+n+"px,"+r+"px)",s.transitionDuration="0s"}}var wo={Transition:go,TransitionGroup:vo};Tn.config.mustUseProp=jn,Tn.config.isReservedTag=sr,Tn.config.isReservedAttr=Fn,Tn.config.getTagNamespace=or,Tn.config.isUnknownElement=lr,L(Tn.options.directives,oo),L(Tn.options.components,wo),Tn.prototype.__patch__=K?Xs:O,Tn.prototype.$mount=function(t,e){return t=t&&K?cr(t):void 0,Oi(this,t,e)},K&&setTimeout((function(){G.devtools&&ut&&ut.emit("init",Tn)}),0),e["a"]=Tn}).call(this,i("c8ba"))},"2b19":function(t,e,i){var n=i("23e7"),r=i("129f");n({target:"Object",stat:!0},{is:r})},"2b3d":function(t,e,i){"use strict";i("3ca3");var n,r=i("23e7"),s=i("83ab"),o=i("0d3b"),a=i("da84"),l=i("37e8"),u=i("6eeb"),c=i("19aa"),h=i("5135"),d=i("60da"),f=i("4df4"),p=i("6547").codeAt,m=i("5fb2"),g=i("d44e"),y=i("9861"),v=i("69f3"),b=a.URL,_=y.URLSearchParams,S=y.getState,w=v.set,T=v.getterFor("URL"),x=Math.floor,E=Math.pow,C="Invalid authority",A="Invalid scheme",P="Invalid host",M="Invalid port",k=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,I=/\d/,O=/^(0x|0X)/,R=/^[0-7]+$/,N=/^\d+$/,D=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,V=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,j=/[\u0009\u000A\u000D]/g,U=function(t,e){var i,n,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return P;if(i=W(e.slice(1,-1)),!i)return P;t.host=i}else if(Z(t)){if(e=m(e),B.test(e))return P;if(i=G(e),null===i)return P;t.host=i}else{if(F.test(e))return P;for(i="",n=f(e),r=0;r<n.length;r++)i+=K(n[r],q);t.host=i}},G=function(t){var e,i,n,r,s,o,a,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),e=l.length,e>4)return t;for(i=[],n=0;n<e;n++){if(r=l[n],""==r)return t;if(s=10,r.length>1&&"0"==r.charAt(0)&&(s=O.test(r)?16:8,r=r.slice(8==s?1:2)),""===r)o=0;else{if(!(10==s?N:8==s?R:D).test(r))return t;o=parseInt(r,s)}i.push(o)}for(n=0;n<e;n++)if(o=i[n],n==e-1){if(o>=E(256,5-e))return null}else if(o>255)return null;for(a=i.pop(),n=0;n<i.length;n++)a+=i[n]*E(256,3-n);return a},W=function(t){var e,i,n,r,s,o,a,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return t.charAt(h)};if(":"==d()){if(":"!=t.charAt(1))return;h+=2,u++,c=u}while(d()){if(8==u)return;if(":"!=d()){e=i=0;while(i<4&&D.test(d()))e=16*e+parseInt(d(),16),h++,i++;if("."==d()){if(0==i)return;if(h-=i,u>6)return;n=0;while(d()){if(r=null,n>0){if(!("."==d()&&n<4))return;h++}if(!I.test(d()))return;while(I.test(d())){if(s=parseInt(d(),10),null===r)r=s;else{if(0==r)return;r=10*r+s}if(r>255)return;h++}l[u]=256*l[u]+r,n++,2!=n&&4!=n||u++}if(4!=n)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=e}else{if(null!==c)return;h++,u++,c=u}}if(null!==c){o=u-c,u=7;while(0!=u&&o>0)a=l[u],l[u--]=l[c+o-1],l[c+--o]=a}else if(8!=u)return;return l},z=function(t){for(var e=null,i=1,n=null,r=0,s=0;s<8;s++)0!==t[s]?(r>i&&(e=n,i=r),n=null,r=0):(null===n&&(n=s),++r);return r>i&&(e=n,i=r),e},H=function(t){var e,i,n,r;if("number"==typeof t){for(e=[],i=0;i<4;i++)e.unshift(t%256),t=x(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=z(t),i=0;i<8;i++)r&&0===t[i]||(r&&(r=!1),n===i?(e+=i?":":"::",r=!0):(e+=t[i].toString(16),i<7&&(e+=":")));return"["+e+"]"}return t},q={},$=d({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=d({},$,{"#":1,"?":1,"{":1,"}":1}),X=d({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),K=function(t,e){var i=p(t,0);return i>32&&i<127&&!h(e,t)?t:encodeURIComponent(t)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(t){return h(Q,t.scheme)},J=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var i;return 2==t.length&&k.test(t.charAt(0))&&(":"==(i=t.charAt(1))||!e&&"|"==i)},it=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},nt=function(t){var e=t.path,i=e.length;!i||"file"==t.scheme&&1==i&&et(e[0],!0)||e.pop()},rt=function(t){return"."===t||"%2e"===t.toLowerCase()},st=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},ot={},at={},lt={},ut={},ct={},ht={},dt={},ft={},pt={},mt={},gt={},yt={},vt={},bt={},_t={},St={},wt={},Tt={},xt={},Et={},Ct={},At=function(t,e,i,r){var s,o,a,l,u=i||ot,c=0,d="",p=!1,m=!1,g=!1;i||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(V,"")),e=e.replace(j,""),s=f(e);while(c<=s.length){switch(o=s[c],u){case ot:if(!o||!k.test(o)){if(i)return A;u=lt;continue}d+=o.toLowerCase(),u=at;break;case at:if(o&&(L.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(i)return A;d="",u=lt,c=0;continue}if(i&&(Z(t)!=h(Q,d)||"file"==d&&(J(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,i)return void(Z(t)&&Q[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?u=bt:Z(t)&&r&&r.scheme==t.scheme?u=ut:Z(t)?u=ft:"/"==s[c+1]?(u=ct,c++):(t.cannotBeABaseURL=!0,t.path.push(""),u=xt)}break;case lt:if(!r||r.cannotBeABaseURL&&"#"!=o)return A;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=Ct;break}u="file"==r.scheme?bt:ht;continue;case ut:if("/"!=o||"/"!=s[c+1]){u=ht;continue}u=pt,c++;break;case ct:if("/"==o){u=mt;break}u=Tt;continue;case ht:if(t.scheme=r.scheme,o==n)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&Z(t))u=dt;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",u=Et;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),u=Tt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Ct}break;case dt:if(!Z(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=Tt;continue}u=mt}else u=pt;break;case ft:if(u=pt,"/"!=o||"/"!=d.charAt(c+1))continue;c++;break;case pt:if("/"!=o&&"\\"!=o){u=mt;continue}break;case mt:if("@"==o){p&&(d="%40"+d),p=!0,a=f(d);for(var y=0;y<a.length;y++){var v=a[y];if(":"!=v||g){var b=K(v,X);g?t.password+=b:t.username+=b}else g=!0}d=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(t)){if(p&&""==d)return C;c-=f(d).length+1,d="",u=gt}else d+=o;break;case gt:case yt:if(i&&"file"==t.scheme){u=St;continue}if(":"!=o||m){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(t)){if(Z(t)&&""==d)return P;if(i&&""==d&&(J(t)||null!==t.port))return;if(l=U(t,d),l)return l;if(d="",u=wt,i)return;continue}"["==o?m=!0:"]"==o&&(m=!1),d+=o}else{if(""==d)return P;if(l=U(t,d),l)return l;if(d="",u=vt,i==yt)return}break;case vt:if(!I.test(o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(t)||i){if(""!=d){var _=parseInt(d,10);if(_>65535)return M;t.port=Z(t)&&_===Q[t.scheme]?null:_,d=""}if(i)return;u=wt;continue}return M}d+=o;break;case bt:if(t.scheme="file","/"==o||"\\"==o)u=_t;else{if(!r||"file"!=r.scheme){u=Tt;continue}if(o==n)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",u=Et;else{if("#"!=o){it(s.slice(c).join(""))||(t.host=r.host,t.path=r.path.slice(),nt(t)),u=Tt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Ct}}break;case _t:if("/"==o||"\\"==o){u=St;break}r&&"file"==r.scheme&&!it(s.slice(c).join(""))&&(et(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),u=Tt;continue;case St:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!i&&et(d))u=Tt;else if(""==d){if(t.host="",i)return;u=wt}else{if(l=U(t,d),l)return l;if("localhost"==t.host&&(t.host=""),i)return;d="",u=wt}continue}d+=o;break;case wt:if(Z(t)){if(u=Tt,"/"!=o&&"\\"!=o)continue}else if(i||"?"!=o)if(i||"#"!=o){if(o!=n&&(u=Tt,"/"!=o))continue}else t.fragment="",u=Ct;else t.query="",u=Et;break;case Tt:if(o==n||"/"==o||"\\"==o&&Z(t)||!i&&("?"==o||"#"==o)){if(st(d)?(nt(t),"/"==o||"\\"==o&&Z(t)||t.path.push("")):rt(d)?"/"==o||"\\"==o&&Z(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(o==n||"?"==o||"#"==o))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==o?(t.query="",u=Et):"#"==o&&(t.fragment="",u=Ct)}else d+=K(o,Y);break;case xt:"?"==o?(t.query="",u=Et):"#"==o?(t.fragment="",u=Ct):o!=n&&(t.path[0]+=K(o,q));break;case Et:i||"#"!=o?o!=n&&("'"==o&&Z(t)?t.query+="%27":t.query+="#"==o?"%23":K(o,q)):(t.fragment="",u=Ct);break;case Ct:o!=n&&(t.fragment+=K(o,$));break}c++}},Pt=function(t){var e,i,n=c(this,Pt,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(t),a=w(n,{type:"URL"});if(void 0!==r)if(r instanceof Pt)e=T(r);else if(i=At(e={},String(r)),i)throw TypeError(i);if(i=At(a,o,null,e),i)throw TypeError(i);var l=a.searchParams=new _,u=S(l);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(l)||null},s||(n.href=kt.call(n),n.origin=Lt.call(n),n.protocol=It.call(n),n.username=Ot.call(n),n.password=Rt.call(n),n.host=Nt.call(n),n.hostname=Dt.call(n),n.port=Bt.call(n),n.pathname=Ft.call(n),n.search=Vt.call(n),n.searchParams=jt.call(n),n.hash=Ut.call(n))},Mt=Pt.prototype,kt=function(){var t=T(this),e=t.scheme,i=t.username,n=t.password,r=t.host,s=t.port,o=t.path,a=t.query,l=t.fragment,u=e+":";return null!==r?(u+="//",J(t)&&(u+=i+(n?":"+n:"")+"@"),u+=H(r),null!==s&&(u+=":"+s)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==a&&(u+="?"+a),null!==l&&(u+="#"+l),u},Lt=function(){var t=T(this),e=t.scheme,i=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&Z(t)?e+"://"+H(t.host)+(null!==i?":"+i:""):"null"},It=function(){return T(this).scheme+":"},Ot=function(){return T(this).username},Rt=function(){return T(this).password},Nt=function(){var t=T(this),e=t.host,i=t.port;return null===e?"":null===i?H(e):H(e)+":"+i},Dt=function(){var t=T(this).host;return null===t?"":H(t)},Bt=function(){var t=T(this).port;return null===t?"":String(t)},Ft=function(){var t=T(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Vt=function(){var t=T(this).query;return t?"?"+t:""},jt=function(){return T(this).searchParams},Ut=function(){var t=T(this).fragment;return t?"#"+t:""},Gt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(s&&l(Mt,{href:Gt(kt,(function(t){var e=T(this),i=String(t),n=At(e,i);if(n)throw TypeError(n);S(e.searchParams).updateSearchParams(e.query)})),origin:Gt(Lt),protocol:Gt(It,(function(t){var e=T(this);At(e,String(t)+":",ot)})),username:Gt(Ot,(function(t){var e=T(this),i=f(String(t));if(!tt(e)){e.username="";for(var n=0;n<i.length;n++)e.username+=K(i[n],X)}})),password:Gt(Rt,(function(t){var e=T(this),i=f(String(t));if(!tt(e)){e.password="";for(var n=0;n<i.length;n++)e.password+=K(i[n],X)}})),host:Gt(Nt,(function(t){var e=T(this);e.cannotBeABaseURL||At(e,String(t),gt)})),hostname:Gt(Dt,(function(t){var e=T(this);e.cannotBeABaseURL||At(e,String(t),yt)})),port:Gt(Bt,(function(t){var e=T(this);tt(e)||(t=String(t),""==t?e.port=null:At(e,t,vt))})),pathname:Gt(Ft,(function(t){var e=T(this);e.cannotBeABaseURL||(e.path=[],At(e,t+"",wt))})),search:Gt(Vt,(function(t){var e=T(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",At(e,t,Et)),S(e.searchParams).updateSearchParams(e.query)})),searchParams:Gt(jt),hash:Gt(Ut,(function(t){var e=T(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",At(e,t,Ct)):e.fragment=null}))}),u(Mt,"toJSON",(function(){return kt.call(this)}),{enumerable:!0}),u(Mt,"toString",(function(){return kt.call(this)}),{enumerable:!0}),b){var Wt=b.createObjectURL,zt=b.revokeObjectURL;Wt&&u(Pt,"createObjectURL",(function(t){return Wt.apply(b,arguments)})),zt&&u(Pt,"revokeObjectURL",(function(t){return zt.apply(b,arguments)}))}g(Pt,"URL"),r({global:!0,forced:!o,sham:!s},{URL:Pt})},"2b8c":function(t,e,i){var n=i("be09"),r=t.exports={WebVTT:i("d02c"),VTTCue:i("b03c"),VTTRegion:i("f97d")};n.vttjs=r,n.WebVTT=r.WebVTT;var s=r.VTTCue,o=r.VTTRegion,a=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=s,n.VTTRegion=o},r.restore=function(){n.VTTCue=a,n.VTTRegion=l},n.VTTCue||r.shim()},"2bfd":function(t,e,i){},"2c64":function(t,e,i){},"2ca0":function(t,e,i){"use strict";var n=i("23e7"),r=i("06cf").f,s=i("50c4"),o=i("5a34"),a=i("1d80"),l=i("ab13"),u=i("c430"),c="".startsWith,h=Math.min,d=l("startsWith"),f=!u&&!d&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!f&&!d},{startsWith:function(t){var e=String(a(this));o(t);var i=s(h(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return c?c.call(e,n,i):e.slice(i,i+n.length)===n}})},"2cf4":function(t,e,i){var n,r,s,o=i("da84"),a=i("d039"),l=i("c6b6"),u=i("0366"),c=i("1be4"),h=i("cc12"),d=i("1cdc"),f=o.location,p=o.setImmediate,m=o.clearImmediate,g=o.process,y=o.MessageChannel,v=o.Dispatch,b=0,_={},S="onreadystatechange",w=function(t){if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},T=function(t){return function(){w(t)}},x=function(t){w(t.data)},E=function(t){o.postMessage(t+"",f.protocol+"//"+f.host)};p&&m||(p=function(t){var e=[],i=1;while(arguments.length>i)e.push(arguments[i++]);return _[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(b),b},m=function(t){delete _[t]},"process"==l(g)?n=function(t){g.nextTick(T(t))}:v&&v.now?n=function(t){v.now(T(t))}:y&&!d?(r=new y,s=r.port2,r.port1.onmessage=x,n=u(s.postMessage,s,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||a(E)||"file:"===f.protocol?n=S in h("script")?function(t){c.appendChild(h("script"))[S]=function(){c.removeChild(this),w(t)}}:function(t){setTimeout(T(t),0)}:(n=E,o.addEventListener("message",x,!1))),t.exports={set:p,clear:m}},"2d00":function(t,e,i){var n,r,s=i("da84"),o=i("342f"),a=s.process,l=a&&a.versions,u=l&&l.v8;u?(n=u.split("."),r=n[0]+n[1]):o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(r=n[1]))),t.exports=r&&+r},"2d83":function(t,e,i){"use strict";var n=i("387f");t.exports=function(t,e,i,r,s){var o=new Error(t);return n(o,e,i,r,s)}},"2e67":function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2ef0":function(t,e,i){(function(t,n){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var s,o="4.17.19",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",f=1,p=2,m=4,g=1,y=2,v=1,b=2,_=4,S=8,w=16,T=32,x=64,E=128,C=256,A=512,P=30,M="...",k=800,L=16,I=1,O=2,R=3,N=1/0,D=9007199254740991,B=17976931348623157e292,F=NaN,V=4294967295,j=V-1,U=V>>>1,G=[["ary",E],["bind",v],["bindKey",b],["curry",S],["curryRight",w],["flip",A],["partial",T],["partialRight",x],["rearg",C]],W="[object Arguments]",z="[object Array]",H="[object AsyncFunction]",q="[object Boolean]",$="[object Date]",Y="[object DOMException]",X="[object Error]",K="[object Function]",Q="[object GeneratorFunction]",Z="[object Map]",J="[object Number]",tt="[object Null]",et="[object Object]",it="[object Promise]",nt="[object Proxy]",rt="[object RegExp]",st="[object Set]",ot="[object String]",at="[object Symbol]",lt="[object Undefined]",ut="[object WeakMap]",ct="[object WeakSet]",ht="[object ArrayBuffer]",dt="[object DataView]",ft="[object Float32Array]",pt="[object Float64Array]",mt="[object Int8Array]",gt="[object Int16Array]",yt="[object Int32Array]",vt="[object Uint8Array]",bt="[object Uint8ClampedArray]",_t="[object Uint16Array]",St="[object Uint32Array]",wt=/\b__p \+= '';/g,Tt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,Ct=/[&<>"']/g,At=RegExp(Et.source),Pt=RegExp(Ct.source),Mt=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nt=/[\\^$.*+?()[\]{}|]/g,Dt=RegExp(Nt.source),Bt=/^\s+|\s+$/g,Ft=/^\s+/,Vt=/\s+$/,jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,Gt=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zt=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,$t=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,Xt=/^\[object .+?Constructor\]$/,Kt=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,te=/['\n\r\u2028\u2029\\]/g,ee="\\ud800-\\udfff",ie="\\u0300-\\u036f",ne="\\ufe20-\\ufe2f",re="\\u20d0-\\u20ff",se=ie+ne+re,oe="\\u2700-\\u27bf",ae="a-z\\xdf-\\xf6\\xf8-\\xff",le="\\xac\\xb1\\xd7\\xf7",ue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ce="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="A-Z\\xc0-\\xd6\\xd8-\\xde",fe="\\ufe0e\\ufe0f",pe=le+ue+ce+he,me="['’]",ge="["+ee+"]",ye="["+pe+"]",ve="["+se+"]",be="\\d+",_e="["+oe+"]",Se="["+ae+"]",we="[^"+ee+pe+be+oe+ae+de+"]",Te="\\ud83c[\\udffb-\\udfff]",xe="(?:"+ve+"|"+Te+")",Ee="[^"+ee+"]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+de+"]",Me="\\u200d",ke="(?:"+Se+"|"+we+")",Le="(?:"+Pe+"|"+we+")",Ie="(?:"+me+"(?:d|ll|m|re|s|t|ve))?",Oe="(?:"+me+"(?:D|LL|M|RE|S|T|VE))?",Re=xe+"?",Ne="["+fe+"]?",De="(?:"+Me+"(?:"+[Ee,Ce,Ae].join("|")+")"+Ne+Re+")*",Be="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ve=Ne+Re+De,je="(?:"+[_e,Ce,Ae].join("|")+")"+Ve,Ue="(?:"+[Ee+ve+"?",ve,Ce,Ae,ge].join("|")+")",Ge=RegExp(me,"g"),We=RegExp(ve,"g"),ze=RegExp(Te+"(?="+Te+")|"+Ue+Ve,"g"),He=RegExp([Pe+"?"+Se+"+"+Ie+"(?="+[ye,Pe,"$"].join("|")+")",Le+"+"+Oe+"(?="+[ye,Pe+ke,"$"].join("|")+")",Pe+"?"+ke+"+"+Ie,Pe+"+"+Oe,Fe,Be,be,je].join("|"),"g"),qe=RegExp("["+Me+ee+se+fe+"]"),$e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xe=-1,Ke={};Ke[ft]=Ke[pt]=Ke[mt]=Ke[gt]=Ke[yt]=Ke[vt]=Ke[bt]=Ke[_t]=Ke[St]=!0,Ke[W]=Ke[z]=Ke[ht]=Ke[q]=Ke[dt]=Ke[$]=Ke[X]=Ke[K]=Ke[Z]=Ke[J]=Ke[et]=Ke[rt]=Ke[st]=Ke[ot]=Ke[ut]=!1;var Qe={};Qe[W]=Qe[z]=Qe[ht]=Qe[dt]=Qe[q]=Qe[$]=Qe[ft]=Qe[pt]=Qe[mt]=Qe[gt]=Qe[yt]=Qe[Z]=Qe[J]=Qe[et]=Qe[rt]=Qe[st]=Qe[ot]=Qe[at]=Qe[vt]=Qe[bt]=Qe[_t]=Qe[St]=!0,Qe[X]=Qe[K]=Qe[ut]=!1;var Ze={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ti={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ei={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ii=parseFloat,ni=parseInt,ri="object"==typeof t&&t&&t.Object===Object&&t,si="object"==typeof self&&self&&self.Object===Object&&self,oi=ri||si||Function("return this")(),ai=e&&!e.nodeType&&e,li=ai&&"object"==typeof n&&n&&!n.nodeType&&n,ui=li&&li.exports===ai,ci=ui&&ri.process,hi=function(){try{var t=li&&li.require&&li.require("util").types;return t||ci&&ci.binding&&ci.binding("util")}catch(e){}}(),di=hi&&hi.isArrayBuffer,fi=hi&&hi.isDate,pi=hi&&hi.isMap,mi=hi&&hi.isRegExp,gi=hi&&hi.isSet,yi=hi&&hi.isTypedArray;function vi(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function bi(t,e,i,n){var r=-1,s=null==t?0:t.length;while(++r<s){var o=t[r];e(n,o,i(o),t)}return n}function _i(t,e){var i=-1,n=null==t?0:t.length;while(++i<n)if(!1===e(t[i],i,t))break;return t}function Si(t,e){var i=null==t?0:t.length;while(i--)if(!1===e(t[i],i,t))break;return t}function wi(t,e){var i=-1,n=null==t?0:t.length;while(++i<n)if(!e(t[i],i,t))return!1;return!0}function Ti(t,e){var i=-1,n=null==t?0:t.length,r=0,s=[];while(++i<n){var o=t[i];e(o,i,t)&&(s[r++]=o)}return s}function xi(t,e){var i=null==t?0:t.length;return!!i&&Di(t,e,0)>-1}function Ei(t,e,i){var n=-1,r=null==t?0:t.length;while(++n<r)if(i(e,t[n]))return!0;return!1}function Ci(t,e){var i=-1,n=null==t?0:t.length,r=Array(n);while(++i<n)r[i]=e(t[i],i,t);return r}function Ai(t,e){var i=-1,n=e.length,r=t.length;while(++i<n)t[r+i]=e[i];return t}function Pi(t,e,i,n){var r=-1,s=null==t?0:t.length;n&&s&&(i=t[++r]);while(++r<s)i=e(i,t[r],r,t);return i}function Mi(t,e,i,n){var r=null==t?0:t.length;n&&r&&(i=t[--r]);while(r--)i=e(i,t[r],r,t);return i}function ki(t,e){var i=-1,n=null==t?0:t.length;while(++i<n)if(e(t[i],i,t))return!0;return!1}var Li=ji("length");function Ii(t){return t.split("")}function Oi(t){return t.match(Wt)||[]}function Ri(t,e,i){var n;return i(t,(function(t,i,r){if(e(t,i,r))return n=i,!1})),n}function Ni(t,e,i,n){var r=t.length,s=i+(n?1:-1);while(n?s--:++s<r)if(e(t[s],s,t))return s;return-1}function Di(t,e,i){return e===e?dn(t,e,i):Ni(t,Fi,i)}function Bi(t,e,i,n){var r=i-1,s=t.length;while(++r<s)if(n(t[r],e))return r;return-1}function Fi(t){return t!==t}function Vi(t,e){var i=null==t?0:t.length;return i?zi(t,e)/i:F}function ji(t){return function(e){return null==e?s:e[t]}}function Ui(t){return function(e){return null==t?s:t[e]}}function Gi(t,e,i,n,r){return r(t,(function(t,r,s){i=n?(n=!1,t):e(i,t,r,s)})),i}function Wi(t,e){var i=t.length;t.sort(e);while(i--)t[i]=t[i].value;return t}function zi(t,e){var i,n=-1,r=t.length;while(++n<r){var o=e(t[n]);o!==s&&(i=i===s?o:i+o)}return i}function Hi(t,e){var i=-1,n=Array(t);while(++i<t)n[i]=e(i);return n}function qi(t,e){return Ci(e,(function(e){return[e,t[e]]}))}function $i(t){return function(e){return t(e)}}function Yi(t,e){return Ci(e,(function(e){return t[e]}))}function Xi(t,e){return t.has(e)}function Ki(t,e){var i=-1,n=t.length;while(++i<n&&Di(e,t[i],0)>-1);return i}function Qi(t,e){var i=t.length;while(i--&&Di(e,t[i],0)>-1);return i}function Zi(t,e){var i=t.length,n=0;while(i--)t[i]===e&&++n;return n}var Ji=Ui(Ze),tn=Ui(Je);function en(t){return"\\"+ei[t]}function nn(t,e){return null==t?s:t[e]}function rn(t){return qe.test(t)}function sn(t){return $e.test(t)}function on(t){var e,i=[];while(!(e=t.next()).done)i.push(e.value);return i}function an(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function ln(t,e){return function(i){return t(e(i))}}function un(t,e){var i=-1,n=t.length,r=0,s=[];while(++i<n){var o=t[i];o!==e&&o!==d||(t[i]=d,s[r++]=i)}return s}function cn(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function hn(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function dn(t,e,i){var n=i-1,r=t.length;while(++n<r)if(t[n]===e)return n;return-1}function fn(t,e,i){var n=i+1;while(n--)if(t[n]===e)return n;return n}function pn(t){return rn(t)?yn(t):Li(t)}function mn(t){return rn(t)?vn(t):Ii(t)}var gn=Ui(ti);function yn(t){var e=ze.lastIndex=0;while(ze.test(t))++e;return e}function vn(t){return t.match(ze)||[]}function bn(t){return t.match(He)||[]}var _n=function t(e){e=null==e?oi:Sn.defaults(oi.Object(),e,Sn.pick(oi,Ye));var i=e.Array,n=e.Date,r=e.Error,Wt=e.Function,ee=e.Math,ie=e.Object,ne=e.RegExp,re=e.String,se=e.TypeError,oe=i.prototype,ae=Wt.prototype,le=ie.prototype,ue=e["__core-js_shared__"],ce=ae.toString,he=le.hasOwnProperty,de=0,fe=function(){var t=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=le.toString,me=ce.call(ie),ge=oi._,ye=ne("^"+ce.call(he).replace(Nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=ui?e.Buffer:s,be=e.Symbol,_e=e.Uint8Array,Se=ve?ve.allocUnsafe:s,we=ln(ie.getPrototypeOf,ie),Te=ie.create,xe=le.propertyIsEnumerable,Ee=oe.splice,Ce=be?be.isConcatSpreadable:s,Ae=be?be.iterator:s,Pe=be?be.toStringTag:s,Me=function(){try{var t=Ho(ie,"defineProperty");return t({},"",{}),t}catch(e){}}(),ke=e.clearTimeout!==oi.clearTimeout&&e.clearTimeout,Le=n&&n.now!==oi.Date.now&&n.now,Ie=e.setTimeout!==oi.setTimeout&&e.setTimeout,Oe=ee.ceil,Re=ee.floor,Ne=ie.getOwnPropertySymbols,De=ve?ve.isBuffer:s,Be=e.isFinite,Fe=oe.join,Ve=ln(ie.keys,ie),je=ee.max,Ue=ee.min,ze=n.now,He=e.parseInt,qe=ee.random,$e=oe.reverse,Ze=Ho(e,"DataView"),Je=Ho(e,"Map"),ti=Ho(e,"Promise"),ei=Ho(e,"Set"),ri=Ho(e,"WeakMap"),si=Ho(ie,"create"),ai=ri&&new ri,li={},ci=ka(Ze),hi=ka(Je),Li=ka(ti),Ii=ka(ei),Ui=ka(ri),dn=be?be.prototype:s,yn=dn?dn.valueOf:s,vn=dn?dn.toString:s;function _n(t){if(Tc(t)&&!oc(t)&&!(t instanceof En)){if(t instanceof xn)return t;if(he.call(t,"__wrapped__"))return Ia(t)}return new xn(t)}var wn=function(){function t(){}return function(e){if(!wc(e))return{};if(Te)return Te(e);t.prototype=e;var i=new t;return t.prototype=s,i}}();function Tn(){}function xn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}function En(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function Cn(){var t=new En(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t}function An(){if(this.__filtered__){var t=new En(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Pn(){var t=this.__wrapped__.value(),e=this.__dir__,i=oc(t),n=e<0,r=i?t.length:0,s=Ko(0,r,this.__views__),o=s.start,a=s.end,l=a-o,u=n?a:o-1,c=this.__iteratees__,h=c.length,d=0,f=Ue(l,this.__takeCount__);if(!i||!n&&r==l&&f==l)return Ds(t,this.__actions__);var p=[];t:while(l--&&d<f){u+=e;var m=-1,g=t[u];while(++m<h){var y=c[m],v=y.iteratee,b=y.type,_=v(g);if(b==O)g=_;else if(!_){if(b==I)continue t;break t}}p[d++]=g}return p}function Mn(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function kn(){this.__data__=si?si(null):{},this.size=0}function Ln(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function In(t){var e=this.__data__;if(si){var i=e[t];return i===c?s:i}return he.call(e,t)?e[t]:s}function On(t){var e=this.__data__;return si?e[t]!==s:he.call(e,t)}function Rn(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=si&&e===s?c:e,this}function Nn(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Dn(){this.__data__=[],this.size=0}function Bn(t){var e=this.__data__,i=lr(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():Ee.call(e,i,1),--this.size,!0}function Fn(t){var e=this.__data__,i=lr(e,t);return i<0?s:e[i][1]}function Vn(t){return lr(this.__data__,t)>-1}function jn(t,e){var i=this.__data__,n=lr(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function Un(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Gn(){this.size=0,this.__data__={hash:new Mn,map:new(Je||Nn),string:new Mn}}function Wn(t){var e=Wo(this,t)["delete"](t);return this.size-=e?1:0,e}function zn(t){return Wo(this,t).get(t)}function Hn(t){return Wo(this,t).has(t)}function qn(t,e){var i=Wo(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function $n(t){var e=-1,i=null==t?0:t.length;this.__data__=new Un;while(++e<i)this.add(t[e])}function Yn(t){return this.__data__.set(t,c),this}function Xn(t){return this.__data__.has(t)}function Kn(t){var e=this.__data__=new Nn(t);this.size=e.size}function Qn(){this.__data__=new Nn,this.size=0}function Zn(t){var e=this.__data__,i=e["delete"](t);return this.size=e.size,i}function Jn(t){return this.__data__.get(t)}function tr(t){return this.__data__.has(t)}function er(t,e){var i=this.__data__;if(i instanceof Nn){var n=i.__data__;if(!Je||n.length<a-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Un(n)}return i.set(t,e),this.size=i.size,this}function ir(t,e){var i=oc(t),n=!i&&sc(t),r=!i&&!n&&hc(t),s=!i&&!n&&!r&&Fc(t),o=i||n||r||s,a=o?Hi(t.length,re):[],l=a.length;for(var u in t)!e&&!he.call(t,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ra(u,l))||a.push(u);return a}function nr(t){var e=t.length;return e?t[ms(0,e-1)]:s}function rr(t,e){return Aa(eo(t),pr(e,0,t.length))}function sr(t){return Aa(eo(t))}function or(t,e,i){(i!==s&&!ic(t[e],i)||i===s&&!(e in t))&&dr(t,e,i)}function ar(t,e,i){var n=t[e];he.call(t,e)&&ic(n,i)&&(i!==s||e in t)||dr(t,e,i)}function lr(t,e){var i=t.length;while(i--)if(ic(t[i][0],e))return i;return-1}function ur(t,e,i,n){return _r(t,(function(t,r,s){e(n,t,i(t),s)})),n}function cr(t,e){return t&&io(e,_h(e),t)}function hr(t,e){return t&&io(e,Sh(e),t)}function dr(t,e,i){"__proto__"==e&&Me?Me(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function fr(t,e){var n=-1,r=e.length,o=i(r),a=null==t;while(++n<r)o[n]=a?s:ph(t,e[n]);return o}function pr(t,e,i){return t===t&&(i!==s&&(t=t<=i?t:i),e!==s&&(t=t>=e?t:e)),t}function mr(t,e,i,n,r,o){var a,l=e&f,u=e&p,c=e&m;if(i&&(a=r?i(t,n,r,o):i(t)),a!==s)return a;if(!wc(t))return t;var h=oc(t);if(h){if(a=Jo(t),!l)return eo(t,a)}else{var d=Xo(t),g=d==K||d==Q;if(hc(t))return Hs(t,l);if(d==et||d==W||g&&!r){if(a=u||g?{}:ta(t),!l)return u?ro(t,hr(a,t)):no(t,cr(a,t))}else{if(!Qe[d])return r?t:{};a=ea(t,d,l)}}o||(o=new Kn);var y=o.get(t);if(y)return y;o.set(t,a),Nc(t)?t.forEach((function(n){a.add(mr(n,e,i,n,t,o))})):xc(t)&&t.forEach((function(n,r){a.set(r,mr(n,e,i,r,t,o))}));var v=c?u?Fo:Bo:u?Sh:_h,b=h?s:v(t);return _i(b||t,(function(n,r){b&&(r=n,n=t[r]),ar(a,r,mr(n,e,i,r,t,o))})),a}function gr(t){var e=_h(t);return function(i){return yr(i,t,e)}}function yr(t,e,i){var n=i.length;if(null==t)return!n;t=ie(t);while(n--){var r=i[n],o=e[r],a=t[r];if(a===s&&!(r in t)||!o(a))return!1}return!0}function vr(t,e,i){if("function"!=typeof t)throw new se(u);return Ta((function(){t.apply(s,i)}),e)}function br(t,e,i,n){var r=-1,s=xi,o=!0,l=t.length,u=[],c=e.length;if(!l)return u;i&&(e=Ci(e,$i(i))),n?(s=Ei,o=!1):e.length>=a&&(s=Xi,o=!1,e=new $n(e));t:while(++r<l){var h=t[r],d=null==i?h:i(h);if(h=n||0!==h?h:0,o&&d===d){var f=c;while(f--)if(e[f]===d)continue t;u.push(h)}else s(e,d,n)||u.push(h)}return u}_n.templateSettings={escape:Mt,evaluate:kt,interpolate:Lt,variable:"",imports:{_:_n}},_n.prototype=Tn.prototype,_n.prototype.constructor=_n,xn.prototype=wn(Tn.prototype),xn.prototype.constructor=xn,En.prototype=wn(Tn.prototype),En.prototype.constructor=En,Mn.prototype.clear=kn,Mn.prototype["delete"]=Ln,Mn.prototype.get=In,Mn.prototype.has=On,Mn.prototype.set=Rn,Nn.prototype.clear=Dn,Nn.prototype["delete"]=Bn,Nn.prototype.get=Fn,Nn.prototype.has=Vn,Nn.prototype.set=jn,Un.prototype.clear=Gn,Un.prototype["delete"]=Wn,Un.prototype.get=zn,Un.prototype.has=Hn,Un.prototype.set=qn,$n.prototype.add=$n.prototype.push=Yn,$n.prototype.has=Xn,Kn.prototype.clear=Qn,Kn.prototype["delete"]=Zn,Kn.prototype.get=Jn,Kn.prototype.has=tr,Kn.prototype.set=er;var _r=ao(Mr),Sr=ao(kr,!0);function wr(t,e){var i=!0;return _r(t,(function(t,n,r){return i=!!e(t,n,r),i})),i}function Tr(t,e,i){var n=-1,r=t.length;while(++n<r){var o=t[n],a=e(o);if(null!=a&&(l===s?a===a&&!Bc(a):i(a,l)))var l=a,u=o}return u}function xr(t,e,i,n){var r=t.length;i=qc(i),i<0&&(i=-i>r?0:r+i),n=n===s||n>r?r:qc(n),n<0&&(n+=r),n=i>n?0:$c(n);while(i<n)t[i++]=e;return t}function Er(t,e){var i=[];return _r(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function Cr(t,e,i,n,r){var s=-1,o=t.length;i||(i=na),r||(r=[]);while(++s<o){var a=t[s];e>0&&i(a)?e>1?Cr(a,e-1,i,n,r):Ai(r,a):n||(r[r.length]=a)}return r}var Ar=lo(),Pr=lo(!0);function Mr(t,e){return t&&Ar(t,e,_h)}function kr(t,e){return t&&Pr(t,e,_h)}function Lr(t,e){return Ti(e,(function(e){return bc(t[e])}))}function Ir(t,e){e=Us(e,t);var i=0,n=e.length;while(null!=t&&i<n)t=t[Ma(e[i++])];return i&&i==n?t:s}function Or(t,e,i){var n=e(t);return oc(t)?n:Ai(n,i(t))}function Rr(t){return null==t?t===s?lt:tt:Pe&&Pe in ie(t)?qo(t):ya(t)}function Nr(t,e){return t>e}function Dr(t,e){return null!=t&&he.call(t,e)}function Br(t,e){return null!=t&&e in ie(t)}function Fr(t,e,i){return t>=Ue(e,i)&&t<je(e,i)}function Vr(t,e,n){var r=n?Ei:xi,o=t[0].length,a=t.length,l=a,u=i(a),c=1/0,h=[];while(l--){var d=t[l];l&&e&&(d=Ci(d,$i(e))),c=Ue(d.length,c),u[l]=!n&&(e||o>=120&&d.length>=120)?new $n(l&&d):s}d=t[0];var f=-1,p=u[0];t:while(++f<o&&h.length<c){var m=d[f],g=e?e(m):m;if(m=n||0!==m?m:0,!(p?Xi(p,g):r(h,g,n))){l=a;while(--l){var y=u[l];if(!(y?Xi(y,g):r(t[l],g,n)))continue t}p&&p.push(g),h.push(m)}}return h}function jr(t,e,i,n){return Mr(t,(function(t,r,s){e(n,i(t),r,s)})),n}function Ur(t,e,i){e=Us(e,t),t=ba(t,e);var n=null==t?t:t[Ma(nl(e))];return null==n?s:vi(n,t,i)}function Gr(t){return Tc(t)&&Rr(t)==W}function Wr(t){return Tc(t)&&Rr(t)==ht}function zr(t){return Tc(t)&&Rr(t)==$}function Hr(t,e,i,n,r){return t===e||(null==t||null==e||!Tc(t)&&!Tc(e)?t!==t&&e!==e:qr(t,e,i,n,Hr,r))}function qr(t,e,i,n,r,s){var o=oc(t),a=oc(e),l=o?z:Xo(t),u=a?z:Xo(e);l=l==W?et:l,u=u==W?et:u;var c=l==et,h=u==et,d=l==u;if(d&&hc(t)){if(!hc(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Kn),o||Fc(t)?Oo(t,e,i,n,r,s):Ro(t,e,l,i,n,r,s);if(!(i&g)){var f=c&&he.call(t,"__wrapped__"),p=h&&he.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,y=p?e.value():e;return s||(s=new Kn),r(m,y,i,n,s)}}return!!d&&(s||(s=new Kn),No(t,e,i,n,r,s))}function $r(t){return Tc(t)&&Xo(t)==Z}function Yr(t,e,i,n){var r=i.length,o=r,a=!n;if(null==t)return!o;t=ie(t);while(r--){var l=i[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++r<o){l=i[r];var u=l[0],c=t[u],h=l[1];if(a&&l[2]){if(c===s&&!(u in t))return!1}else{var d=new Kn;if(n)var f=n(c,h,u,t,e,d);if(!(f===s?Hr(h,c,g|y,n,d):f))return!1}}return!0}function Xr(t){if(!wc(t)||ua(t))return!1;var e=bc(t)?ye:Xt;return e.test(ka(t))}function Kr(t){return Tc(t)&&Rr(t)==rt}function Qr(t){return Tc(t)&&Xo(t)==st}function Zr(t){return Tc(t)&&Sc(t.length)&&!!Ke[Rr(t)]}function Jr(t){return"function"==typeof t?t:null==t?Pd:"object"==typeof t?oc(t)?ss(t[0],t[1]):rs(t):Ud(t)}function ts(t){if(!ha(t))return Ve(t);var e=[];for(var i in ie(t))he.call(t,i)&&"constructor"!=i&&e.push(i);return e}function es(t){if(!wc(t))return ga(t);var e=ha(t),i=[];for(var n in t)("constructor"!=n||!e&&he.call(t,n))&&i.push(n);return i}function is(t,e){return t<e}function ns(t,e){var n=-1,r=lc(t)?i(t.length):[];return _r(t,(function(t,i,s){r[++n]=e(t,i,s)})),r}function rs(t){var e=zo(t);return 1==e.length&&e[0][2]?fa(e[0][0],e[0][1]):function(i){return i===t||Yr(i,t,e)}}function ss(t,e){return oa(t)&&da(e)?fa(Ma(t),e):function(i){var n=ph(i,t);return n===s&&n===e?gh(i,t):Hr(e,n,g|y)}}function os(t,e,i,n,r){t!==e&&Ar(e,(function(o,a){if(r||(r=new Kn),wc(o))as(t,e,a,i,os,n,r);else{var l=n?n(Sa(t,a),o,a+"",t,e,r):s;l===s&&(l=o),or(t,a,l)}}),Sh)}function as(t,e,i,n,r,o,a){var l=Sa(t,i),u=Sa(e,i),c=a.get(u);if(c)or(t,i,c);else{var h=o?o(l,u,i+"",t,e,a):s,d=h===s;if(d){var f=oc(u),p=!f&&hc(u),m=!f&&!p&&Fc(u);h=u,f||p||m?oc(l)?h=l:uc(l)?h=eo(l):p?(d=!1,h=Hs(u,!0)):m?(d=!1,h=Ks(u,!0)):h=[]:Ic(u)||sc(u)?(h=l,sc(l)?h=Xc(l):wc(l)&&!bc(l)||(h=ta(u))):d=!1}d&&(a.set(u,h),r(h,u,n,o,a),a["delete"](u)),or(t,i,h)}}function ls(t,e){var i=t.length;if(i)return e+=e<0?i:0,ra(e,i)?t[e]:s}function us(t,e,i){e=e.length?Ci(e,(function(t){return oc(t)?function(e){return Ir(e,1===t.length?t[0]:t)}:t})):[Pd];var n=-1;e=Ci(e,$i(Go()));var r=ns(t,(function(t,i,r){var s=Ci(e,(function(e){return e(t)}));return{criteria:s,index:++n,value:t}}));return Wi(r,(function(t,e){return Zs(t,e,i)}))}function cs(t,e){return hs(t,e,(function(e,i){return gh(t,i)}))}function hs(t,e,i){var n=-1,r=e.length,s={};while(++n<r){var o=e[n],a=Ir(t,o);i(a,o)&&Ss(s,Us(o,t),a)}return s}function ds(t){return function(e){return Ir(e,t)}}function fs(t,e,i,n){var r=n?Bi:Di,s=-1,o=e.length,a=t;t===e&&(e=eo(e)),i&&(a=Ci(t,$i(i)));while(++s<o){var l=0,u=e[s],c=i?i(u):u;while((l=r(a,c,l,n))>-1)a!==t&&Ee.call(a,l,1),Ee.call(t,l,1)}return t}function ps(t,e){var i=t?e.length:0,n=i-1;while(i--){var r=e[i];if(i==n||r!==s){var s=r;ra(r)?Ee.call(t,r,1):Os(t,r)}}return t}function ms(t,e){return t+Re(qe()*(e-t+1))}function gs(t,e,n,r){var s=-1,o=je(Oe((e-t)/(n||1)),0),a=i(o);while(o--)a[r?o:++s]=t,t+=n;return a}function ys(t,e){var i="";if(!t||e<1||e>D)return i;do{e%2&&(i+=t),e=Re(e/2),e&&(t+=t)}while(e);return i}function vs(t,e){return xa(va(t,e,Pd),t+"")}function bs(t){return nr(Vh(t))}function _s(t,e){var i=Vh(t);return Aa(i,pr(e,0,i.length))}function Ss(t,e,i,n){if(!wc(t))return t;e=Us(e,t);var r=-1,o=e.length,a=o-1,l=t;while(null!=l&&++r<o){var u=Ma(e[r]),c=i;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=a){var h=l[u];c=n?n(h,u,l):s,c===s&&(c=wc(h)?h:ra(e[r+1])?[]:{})}ar(l,u,c),l=l[u]}return t}var ws=ai?function(t,e){return ai.set(t,e),t}:Pd,Ts=Me?function(t,e){return Me(t,"toString",{configurable:!0,enumerable:!1,value:xd(e),writable:!0})}:Pd;function xs(t){return Aa(Vh(t))}function Es(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;var o=i(s);while(++r<s)o[r]=t[r+e];return o}function Cs(t,e){var i;return _r(t,(function(t,n,r){return i=e(t,n,r),!i})),!!i}function As(t,e,i){var n=0,r=null==t?n:t.length;if("number"==typeof e&&e===e&&r<=U){while(n<r){var s=n+r>>>1,o=t[s];null!==o&&!Bc(o)&&(i?o<=e:o<e)?n=s+1:r=s}return r}return Ps(t,e,Pd,i)}function Ps(t,e,i,n){var r=0,o=null==t?0:t.length;if(0===o)return 0;e=i(e);var a=e!==e,l=null===e,u=Bc(e),c=e===s;while(r<o){var h=Re((r+o)/2),d=i(t[h]),f=d!==s,p=null===d,m=d===d,g=Bc(d);if(a)var y=n||m;else y=c?m&&(n||f):l?m&&f&&(n||!p):u?m&&f&&!p&&(n||!g):!p&&!g&&(n?d<=e:d<e);y?r=h+1:o=h}return Ue(o,j)}function Ms(t,e){var i=-1,n=t.length,r=0,s=[];while(++i<n){var o=t[i],a=e?e(o):o;if(!i||!ic(a,l)){var l=a;s[r++]=0===o?0:o}}return s}function ks(t){return"number"==typeof t?t:Bc(t)?F:+t}function Ls(t){if("string"==typeof t)return t;if(oc(t))return Ci(t,Ls)+"";if(Bc(t))return vn?vn.call(t):"";var e=t+"";return"0"==e&&1/t==-N?"-0":e}function Is(t,e,i){var n=-1,r=xi,s=t.length,o=!0,l=[],u=l;if(i)o=!1,r=Ei;else if(s>=a){var c=e?null:Ao(t);if(c)return cn(c);o=!1,r=Xi,u=new $n}else u=e?[]:l;t:while(++n<s){var h=t[n],d=e?e(h):h;if(h=i||0!==h?h:0,o&&d===d){var f=u.length;while(f--)if(u[f]===d)continue t;e&&u.push(d),l.push(h)}else r(u,d,i)||(u!==l&&u.push(d),l.push(h))}return l}function Os(t,e){return e=Us(e,t),t=ba(t,e),null==t||delete t[Ma(nl(e))]}function Rs(t,e,i,n){return Ss(t,e,i(Ir(t,e)),n)}function Ns(t,e,i,n){var r=t.length,s=n?r:-1;while((n?s--:++s<r)&&e(t[s],s,t));return i?Es(t,n?0:s,n?s+1:r):Es(t,n?s+1:0,n?r:s)}function Ds(t,e){var i=t;return i instanceof En&&(i=i.value()),Pi(e,(function(t,e){return e.func.apply(e.thisArg,Ai([t],e.args))}),i)}function Bs(t,e,n){var r=t.length;if(r<2)return r?Is(t[0]):[];var s=-1,o=i(r);while(++s<r){var a=t[s],l=-1;while(++l<r)l!=s&&(o[s]=br(o[s]||a,t[l],e,n))}return Is(Cr(o,1),e,n)}function Fs(t,e,i){var n=-1,r=t.length,o=e.length,a={};while(++n<r){var l=n<o?e[n]:s;i(a,t[n],l)}return a}function Vs(t){return uc(t)?t:[]}function js(t){return"function"==typeof t?t:Pd}function Us(t,e){return oc(t)?t:oa(t,e)?[t]:Pa(Qc(t))}var Gs=vs;function Ws(t,e,i){var n=t.length;return i=i===s?n:i,!e&&i>=n?t:Es(t,e,i)}var zs=ke||function(t){return oi.clearTimeout(t)};function Hs(t,e){if(e)return t.slice();var i=t.length,n=Se?Se(i):new t.constructor(i);return t.copy(n),n}function qs(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function $s(t,e){var i=e?qs(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function Ys(t){var e=new t.constructor(t.source,qt.exec(t));return e.lastIndex=t.lastIndex,e}function Xs(t){return yn?ie(yn.call(t)):{}}function Ks(t,e){var i=e?qs(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Qs(t,e){if(t!==e){var i=t!==s,n=null===t,r=t===t,o=Bc(t),a=e!==s,l=null===e,u=e===e,c=Bc(e);if(!l&&!c&&!o&&t>e||o&&a&&u&&!l&&!c||n&&a&&u||!i&&u||!r)return 1;if(!n&&!o&&!c&&t<e||c&&i&&r&&!n&&!o||l&&i&&r||!a&&r||!u)return-1}return 0}function Zs(t,e,i){var n=-1,r=t.criteria,s=e.criteria,o=r.length,a=i.length;while(++n<o){var l=Qs(r[n],s[n]);if(l){if(n>=a)return l;var u=i[n];return l*("desc"==u?-1:1)}}return t.index-e.index}function Js(t,e,n,r){var s=-1,o=t.length,a=n.length,l=-1,u=e.length,c=je(o-a,0),h=i(u+c),d=!r;while(++l<u)h[l]=e[l];while(++s<a)(d||s<o)&&(h[n[s]]=t[s]);while(c--)h[l++]=t[s++];return h}function to(t,e,n,r){var s=-1,o=t.length,a=-1,l=n.length,u=-1,c=e.length,h=je(o-l,0),d=i(h+c),f=!r;while(++s<h)d[s]=t[s];var p=s;while(++u<c)d[p+u]=e[u];while(++a<l)(f||s<o)&&(d[p+n[a]]=t[s++]);return d}function eo(t,e){var n=-1,r=t.length;e||(e=i(r));while(++n<r)e[n]=t[n];return e}function io(t,e,i,n){var r=!i;i||(i={});var o=-1,a=e.length;while(++o<a){var l=e[o],u=n?n(i[l],t[l],l,i,t):s;u===s&&(u=t[l]),r?dr(i,l,u):ar(i,l,u)}return i}function no(t,e){return io(t,$o(t),e)}function ro(t,e){return io(t,Yo(t),e)}function so(t,e){return function(i,n){var r=oc(i)?bi:ur,s=e?e():{};return r(i,t,Go(n,2),s)}}function oo(t){return vs((function(e,i){var n=-1,r=i.length,o=r>1?i[r-1]:s,a=r>2?i[2]:s;o=t.length>3&&"function"==typeof o?(r--,o):s,a&&sa(i[0],i[1],a)&&(o=r<3?s:o,r=1),e=ie(e);while(++n<r){var l=i[n];l&&t(e,l,n,o)}return e}))}function ao(t,e){return function(i,n){if(null==i)return i;if(!lc(i))return t(i,n);var r=i.length,s=e?r:-1,o=ie(i);while(e?s--:++s<r)if(!1===n(o[s],s,o))break;return i}}function lo(t){return function(e,i,n){var r=-1,s=ie(e),o=n(e),a=o.length;while(a--){var l=o[t?a:++r];if(!1===i(s[l],l,s))break}return e}}function uo(t,e,i){var n=e&v,r=fo(t);function s(){var e=this&&this!==oi&&this instanceof s?r:t;return e.apply(n?i:this,arguments)}return s}function co(t){return function(e){e=Qc(e);var i=rn(e)?mn(e):s,n=i?i[0]:e.charAt(0),r=i?Ws(i,1).join(""):e.slice(1);return n[t]()+r}}function ho(t){return function(e){return Pi(bd(qh(e).replace(Ge,"")),t,"")}}function fo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=wn(t.prototype),n=t.apply(i,e);return wc(n)?n:i}}function po(t,e,n){var r=fo(t);function o(){var a=arguments.length,l=i(a),u=a,c=Uo(o);while(u--)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:un(l,c);if(a-=h.length,a<n)return Eo(t,e,yo,o.placeholder,s,l,h,s,s,n-a);var d=this&&this!==oi&&this instanceof o?r:t;return vi(d,this,l)}return o}function mo(t){return function(e,i,n){var r=ie(e);if(!lc(e)){var o=Go(i,3);e=_h(e),i=function(t){return o(r[t],t,r)}}var a=t(e,i,n);return a>-1?r[o?e[a]:a]:s}}function go(t){return Do((function(e){var i=e.length,n=i,r=xn.prototype.thru;t&&e.reverse();while(n--){var o=e[n];if("function"!=typeof o)throw new se(u);if(r&&!a&&"wrapper"==jo(o))var a=new xn([],!0)}n=a?n:i;while(++n<i){o=e[n];var l=jo(o),c="wrapper"==l?Vo(o):s;a=c&&la(c[0])&&c[1]==(E|S|T|C)&&!c[4].length&&1==c[9]?a[jo(c[0])].apply(a,c[3]):1==o.length&&la(o)?a[l]():a.thru(o)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&oc(n))return a.plant(n).value();var r=0,s=i?e[r].apply(this,t):n;while(++r<i)s=e[r].call(this,s);return s}}))}function yo(t,e,n,r,o,a,l,u,c,h){var d=e&E,f=e&v,p=e&b,m=e&(S|w),g=e&A,y=p?s:fo(t);function _(){var s=arguments.length,v=i(s),b=s;while(b--)v[b]=arguments[b];if(m)var S=Uo(_),w=Zi(v,S);if(r&&(v=Js(v,r,o,m)),a&&(v=to(v,a,l,m)),s-=w,m&&s<h){var T=un(v,S);return Eo(t,e,yo,_.placeholder,n,v,T,u,c,h-s)}var x=f?n:this,E=p?x[t]:t;return s=v.length,u?v=_a(v,u):g&&s>1&&v.reverse(),d&&c<s&&(v.length=c),this&&this!==oi&&this instanceof _&&(E=y||fo(E)),E.apply(x,v)}return _}function vo(t,e){return function(i,n){return jr(i,t,e(n),{})}}function bo(t,e){return function(i,n){var r;if(i===s&&n===s)return e;if(i!==s&&(r=i),n!==s){if(r===s)return n;"string"==typeof i||"string"==typeof n?(i=Ls(i),n=Ls(n)):(i=ks(i),n=ks(n)),r=t(i,n)}return r}}function _o(t){return Do((function(e){return e=Ci(e,$i(Go())),vs((function(i){var n=this;return t(e,(function(t){return vi(t,n,i)}))}))}))}function So(t,e){e=e===s?" ":Ls(e);var i=e.length;if(i<2)return i?ys(e,t):e;var n=ys(e,Oe(t/pn(e)));return rn(e)?Ws(mn(n),0,t).join(""):n.slice(0,t)}function wo(t,e,n,r){var s=e&v,o=fo(t);function a(){var e=-1,l=arguments.length,u=-1,c=r.length,h=i(c+l),d=this&&this!==oi&&this instanceof a?o:t;while(++u<c)h[u]=r[u];while(l--)h[u++]=arguments[++e];return vi(d,s?n:this,h)}return a}function To(t){return function(e,i,n){return n&&"number"!=typeof n&&sa(e,i,n)&&(i=n=s),e=Hc(e),i===s?(i=e,e=0):i=Hc(i),n=n===s?e<i?1:-1:Hc(n),gs(e,i,n,t)}}function xo(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=Yc(e),i=Yc(i)),t(e,i)}}function Eo(t,e,i,n,r,o,a,l,u,c){var h=e&S,d=h?a:s,f=h?s:a,p=h?o:s,m=h?s:o;e|=h?T:x,e&=~(h?x:T),e&_||(e&=~(v|b));var g=[t,e,r,p,d,m,f,l,u,c],y=i.apply(s,g);return la(t)&&wa(y,g),y.placeholder=n,Ea(y,t,e)}function Co(t){var e=ee[t];return function(t,i){if(t=Yc(t),i=null==i?0:Ue(qc(i),292),i&&Be(t)){var n=(Qc(t)+"e").split("e"),r=e(n[0]+"e"+(+n[1]+i));return n=(Qc(r)+"e").split("e"),+(n[0]+"e"+(+n[1]-i))}return e(t)}}var Ao=ei&&1/cn(new ei([,-0]))[1]==N?function(t){return new ei(t)}:Dd;function Po(t){return function(e){var i=Xo(e);return i==Z?an(e):i==st?hn(e):qi(e,t(e))}}function Mo(t,e,i,n,r,o,a,l){var c=e&b;if(!c&&"function"!=typeof t)throw new se(u);var h=n?n.length:0;if(h||(e&=~(T|x),n=r=s),a=a===s?a:je(qc(a),0),l=l===s?l:qc(l),h-=r?r.length:0,e&x){var d=n,f=r;n=r=s}var p=c?s:Vo(t),m=[t,e,i,n,r,d,f,o,a,l];if(p&&ma(m,p),t=m[0],e=m[1],i=m[2],n=m[3],r=m[4],l=m[9]=m[9]===s?c?0:t.length:je(m[9]-h,0),!l&&e&(S|w)&&(e&=~(S|w)),e&&e!=v)g=e==S||e==w?po(t,e,l):e!=T&&e!=(v|T)||r.length?yo.apply(s,m):wo(t,e,i,n);else var g=uo(t,e,i);var y=p?ws:wa;return Ea(y(g,m),t,e)}function ko(t,e,i,n){return t===s||ic(t,le[i])&&!he.call(n,i)?e:t}function Lo(t,e,i,n,r,o){return wc(t)&&wc(e)&&(o.set(e,t),os(t,e,s,Lo,o),o["delete"](e)),t}function Io(t){return Ic(t)?s:t}function Oo(t,e,i,n,r,o){var a=i&g,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,p=i&y?new $n:s;o.set(t,e),o.set(e,t);while(++d<l){var m=t[d],v=e[d];if(n)var b=a?n(v,m,d,e,t,o):n(m,v,d,t,e,o);if(b!==s){if(b)continue;f=!1;break}if(p){if(!ki(e,(function(t,e){if(!Xi(p,e)&&(m===t||r(m,t,i,n,o)))return p.push(e)}))){f=!1;break}}else if(m!==v&&!r(m,v,i,n,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function Ro(t,e,i,n,r,s,o){switch(i){case dt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ht:return!(t.byteLength!=e.byteLength||!s(new _e(t),new _e(e)));case q:case $:case J:return ic(+t,+e);case X:return t.name==e.name&&t.message==e.message;case rt:case ot:return t==e+"";case Z:var a=an;case st:var l=n&g;if(a||(a=cn),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=y,o.set(t,e);var c=Oo(a(t),a(e),n,r,s,o);return o["delete"](t),c;case at:if(yn)return yn.call(t)==yn.call(e)}return!1}function No(t,e,i,n,r,o){var a=i&g,l=Bo(t),u=l.length,c=Bo(e),h=c.length;if(u!=h&&!a)return!1;var d=u;while(d--){var f=l[d];if(!(a?f in e:he.call(e,f)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);var v=a;while(++d<u){f=l[d];var b=t[f],_=e[f];if(n)var S=a?n(_,b,f,e,t,o):n(b,_,f,t,e,o);if(!(S===s?b===_||r(b,_,i,n,o):S)){y=!1;break}v||(v="constructor"==f)}if(y&&!v){var w=t.constructor,T=e.constructor;w==T||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof T&&T instanceof T||(y=!1)}return o["delete"](t),o["delete"](e),y}function Do(t){return xa(va(t,s,qa),t+"")}function Bo(t){return Or(t,_h,$o)}function Fo(t){return Or(t,Sh,Yo)}var Vo=ai?function(t){return ai.get(t)}:Dd;function jo(t){var e=t.name+"",i=li[e],n=he.call(li,e)?i.length:0;while(n--){var r=i[n],s=r.func;if(null==s||s==t)return r.name}return e}function Uo(t){var e=he.call(_n,"placeholder")?_n:t;return e.placeholder}function Go(){var t=_n.iteratee||Md;return t=t===Md?Jr:t,arguments.length?t(arguments[0],arguments[1]):t}function Wo(t,e){var i=t.__data__;return aa(e)?i["string"==typeof e?"string":"hash"]:i.map}function zo(t){var e=_h(t),i=e.length;while(i--){var n=e[i],r=t[n];e[i]=[n,r,da(r)]}return e}function Ho(t,e){var i=nn(t,e);return Xr(i)?i:s}function qo(t){var e=he.call(t,Pe),i=t[Pe];try{t[Pe]=s;var n=!0}catch(o){}var r=pe.call(t);return n&&(e?t[Pe]=i:delete t[Pe]),r}var $o=Ne?function(t){return null==t?[]:(t=ie(t),Ti(Ne(t),(function(e){return xe.call(t,e)})))}:Hd,Yo=Ne?function(t){var e=[];while(t)Ai(e,$o(t)),t=we(t);return e}:Hd,Xo=Rr;function Ko(t,e,i){var n=-1,r=i.length;while(++n<r){var s=i[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Ue(e,t+o);break;case"takeRight":t=je(t,e-o);break}}return{start:t,end:e}}function Qo(t){var e=t.match(Ut);return e?e[1].split(Gt):[]}function Zo(t,e,i){e=Us(e,t);var n=-1,r=e.length,s=!1;while(++n<r){var o=Ma(e[n]);if(!(s=null!=t&&i(t,o)))break;t=t[o]}return s||++n!=r?s:(r=null==t?0:t.length,!!r&&Sc(r)&&ra(o,r)&&(oc(t)||sc(t)))}function Jo(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function ta(t){return"function"!=typeof t.constructor||ha(t)?{}:wn(we(t))}function ea(t,e,i){var n=t.constructor;switch(e){case ht:return qs(t);case q:case $:return new n(+t);case dt:return $s(t,i);case ft:case pt:case mt:case gt:case yt:case vt:case bt:case _t:case St:return Ks(t,i);case Z:return new n;case J:case ot:return new n(t);case rt:return Ys(t);case st:return new n;case at:return Xs(t)}}function ia(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(jt,"{\n/* [wrapped with "+e+"] */\n")}function na(t){return oc(t)||sc(t)||!!(Ce&&t&&t[Ce])}function ra(t,e){var i=typeof t;return e=null==e?D:e,!!e&&("number"==i||"symbol"!=i&&Qt.test(t))&&t>-1&&t%1==0&&t<e}function sa(t,e,i){if(!wc(i))return!1;var n=typeof e;return!!("number"==n?lc(i)&&ra(e,i.length):"string"==n&&e in i)&&ic(i[e],t)}function oa(t,e){if(oc(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Bc(t))||(Ot.test(t)||!It.test(t)||null!=e&&t in ie(e))}function aa(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function la(t){var e=jo(t),i=_n[e];if("function"!=typeof i||!(e in En.prototype))return!1;if(t===i)return!0;var n=Vo(i);return!!n&&t===n[0]}function ua(t){return!!fe&&fe in t}(Ze&&Xo(new Ze(new ArrayBuffer(1)))!=dt||Je&&Xo(new Je)!=Z||ti&&Xo(ti.resolve())!=it||ei&&Xo(new ei)!=st||ri&&Xo(new ri)!=ut)&&(Xo=function(t){var e=Rr(t),i=e==et?t.constructor:s,n=i?ka(i):"";if(n)switch(n){case ci:return dt;case hi:return Z;case Li:return it;case Ii:return st;case Ui:return ut}return e});var ca=ue?bc:qd;function ha(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||le;return t===i}function da(t){return t===t&&!wc(t)}function fa(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==s||t in ie(i)))}}function pa(t){var e=Fu(t,(function(t){return i.size===h&&i.clear(),t})),i=e.cache;return e}function ma(t,e){var i=t[1],n=e[1],r=i|n,s=r<(v|b|E),o=n==E&&i==S||n==E&&i==C&&t[7].length<=e[8]||n==(E|C)&&e[7].length<=e[8]&&i==S;if(!s&&!o)return t;n&v&&(t[2]=e[2],r|=i&v?0:_);var a=e[3];if(a){var l=t[3];t[3]=l?Js(l,a,e[4]):a,t[4]=l?un(t[3],d):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?to(l,a,e[6]):a,t[6]=l?un(t[5],d):e[6]),a=e[7],a&&(t[7]=a),n&E&&(t[8]=null==t[8]?e[8]:Ue(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function ga(t){var e=[];if(null!=t)for(var i in ie(t))e.push(i);return e}function ya(t){return pe.call(t)}function va(t,e,n){return e=je(e===s?t.length-1:e,0),function(){var r=arguments,s=-1,o=je(r.length-e,0),a=i(o);while(++s<o)a[s]=r[e+s];s=-1;var l=i(e+1);while(++s<e)l[s]=r[s];return l[e]=n(a),vi(t,this,l)}}function ba(t,e){return e.length<2?t:Ir(t,Es(e,0,-1))}function _a(t,e){var i=t.length,n=Ue(e.length,i),r=eo(t);while(n--){var o=e[n];t[n]=ra(o,i)?r[o]:s}return t}function Sa(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var wa=Ca(ws),Ta=Ie||function(t,e){return oi.setTimeout(t,e)},xa=Ca(Ts);function Ea(t,e,i){var n=e+"";return xa(t,ia(n,La(Qo(n),i)))}function Ca(t){var e=0,i=0;return function(){var n=ze(),r=L-(n-i);if(i=n,r>0){if(++e>=k)return arguments[0]}else e=0;return t.apply(s,arguments)}}function Aa(t,e){var i=-1,n=t.length,r=n-1;e=e===s?n:e;while(++i<e){var o=ms(i,r),a=t[o];t[o]=t[i],t[i]=a}return t.length=e,t}var Pa=pa((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Rt,(function(t,i,n,r){e.push(n?r.replace(zt,"$1"):i||t)})),e}));function Ma(t){if("string"==typeof t||Bc(t))return t;var e=t+"";return"0"==e&&1/t==-N?"-0":e}function ka(t){if(null!=t){try{return ce.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function La(t,e){return _i(G,(function(i){var n="_."+i[0];e&i[1]&&!xi(t,n)&&t.push(n)})),t.sort()}function Ia(t){if(t instanceof En)return t.clone();var e=new xn(t.__wrapped__,t.__chain__);return e.__actions__=eo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Oa(t,e,n){e=(n?sa(t,e,n):e===s)?1:je(qc(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];var o=0,a=0,l=i(Oe(r/e));while(o<r)l[a++]=Es(t,o,o+=e);return l}function Ra(t){var e=-1,i=null==t?0:t.length,n=0,r=[];while(++e<i){var s=t[e];s&&(r[n++]=s)}return r}function Na(){var t=arguments.length;if(!t)return[];var e=i(t-1),n=arguments[0],r=t;while(r--)e[r-1]=arguments[r];return Ai(oc(n)?eo(n):[n],Cr(e,1))}var Da=vs((function(t,e){return uc(t)?br(t,Cr(e,1,uc,!0)):[]})),Ba=vs((function(t,e){var i=nl(e);return uc(i)&&(i=s),uc(t)?br(t,Cr(e,1,uc,!0),Go(i,2)):[]})),Fa=vs((function(t,e){var i=nl(e);return uc(i)&&(i=s),uc(t)?br(t,Cr(e,1,uc,!0),s,i):[]}));function Va(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===s?1:qc(e),Es(t,e<0?0:e,n)):[]}function ja(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===s?1:qc(e),e=n-e,Es(t,0,e<0?0:e)):[]}function Ua(t,e){return t&&t.length?Ns(t,Go(e,3),!0,!0):[]}function Ga(t,e){return t&&t.length?Ns(t,Go(e,3),!0):[]}function Wa(t,e,i,n){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&sa(t,e,i)&&(i=0,n=r),xr(t,e,i,n)):[]}function za(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:qc(i);return r<0&&(r=je(n+r,0)),Ni(t,Go(e,3),r)}function Ha(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n-1;return i!==s&&(r=qc(i),r=i<0?je(n+r,0):Ue(r,n-1)),Ni(t,Go(e,3),r,!0)}function qa(t){var e=null==t?0:t.length;return e?Cr(t,1):[]}function $a(t){var e=null==t?0:t.length;return e?Cr(t,N):[]}function Ya(t,e){var i=null==t?0:t.length;return i?(e=e===s?1:qc(e),Cr(t,e)):[]}function Xa(t){var e=-1,i=null==t?0:t.length,n={};while(++e<i){var r=t[e];n[r[0]]=r[1]}return n}function Ka(t){return t&&t.length?t[0]:s}function Qa(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:qc(i);return r<0&&(r=je(n+r,0)),Di(t,e,r)}function Za(t){var e=null==t?0:t.length;return e?Es(t,0,-1):[]}var Ja=vs((function(t){var e=Ci(t,Vs);return e.length&&e[0]===t[0]?Vr(e):[]})),tl=vs((function(t){var e=nl(t),i=Ci(t,Vs);return e===nl(i)?e=s:i.pop(),i.length&&i[0]===t[0]?Vr(i,Go(e,2)):[]})),el=vs((function(t){var e=nl(t),i=Ci(t,Vs);return e="function"==typeof e?e:s,e&&i.pop(),i.length&&i[0]===t[0]?Vr(i,s,e):[]}));function il(t,e){return null==t?"":Fe.call(t,e)}function nl(t){var e=null==t?0:t.length;return e?t[e-1]:s}function rl(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n;return i!==s&&(r=qc(i),r=r<0?je(n+r,0):Ue(r,n-1)),e===e?fn(t,e,r):Ni(t,Fi,r,!0)}function sl(t,e){return t&&t.length?ls(t,qc(e)):s}var ol=vs(al);function al(t,e){return t&&t.length&&e&&e.length?fs(t,e):t}function ll(t,e,i){return t&&t.length&&e&&e.length?fs(t,e,Go(i,2)):t}function ul(t,e,i){return t&&t.length&&e&&e.length?fs(t,e,s,i):t}var cl=Do((function(t,e){var i=null==t?0:t.length,n=fr(t,e);return ps(t,Ci(e,(function(t){return ra(t,i)?+t:t})).sort(Qs)),n}));function hl(t,e){var i=[];if(!t||!t.length)return i;var n=-1,r=[],s=t.length;e=Go(e,3);while(++n<s){var o=t[n];e(o,n,t)&&(i.push(o),r.push(n))}return ps(t,r),i}function dl(t){return null==t?t:$e.call(t)}function fl(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&sa(t,e,i)?(e=0,i=n):(e=null==e?0:qc(e),i=i===s?n:qc(i)),Es(t,e,i)):[]}function pl(t,e){return As(t,e)}function ml(t,e,i){return Ps(t,e,Go(i,2))}function gl(t,e){var i=null==t?0:t.length;if(i){var n=As(t,e);if(n<i&&ic(t[n],e))return n}return-1}function yl(t,e){return As(t,e,!0)}function vl(t,e,i){return Ps(t,e,Go(i,2),!0)}function bl(t,e){var i=null==t?0:t.length;if(i){var n=As(t,e,!0)-1;if(ic(t[n],e))return n}return-1}function _l(t){return t&&t.length?Ms(t):[]}function Sl(t,e){return t&&t.length?Ms(t,Go(e,2)):[]}function wl(t){var e=null==t?0:t.length;return e?Es(t,1,e):[]}function Tl(t,e,i){return t&&t.length?(e=i||e===s?1:qc(e),Es(t,0,e<0?0:e)):[]}function xl(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===s?1:qc(e),e=n-e,Es(t,e<0?0:e,n)):[]}function El(t,e){return t&&t.length?Ns(t,Go(e,3),!1,!0):[]}function Cl(t,e){return t&&t.length?Ns(t,Go(e,3)):[]}var Al=vs((function(t){return Is(Cr(t,1,uc,!0))})),Pl=vs((function(t){var e=nl(t);return uc(e)&&(e=s),Is(Cr(t,1,uc,!0),Go(e,2))})),Ml=vs((function(t){var e=nl(t);return e="function"==typeof e?e:s,Is(Cr(t,1,uc,!0),s,e)}));function kl(t){return t&&t.length?Is(t):[]}function Ll(t,e){return t&&t.length?Is(t,Go(e,2)):[]}function Il(t,e){return e="function"==typeof e?e:s,t&&t.length?Is(t,s,e):[]}function Ol(t){if(!t||!t.length)return[];var e=0;return t=Ti(t,(function(t){if(uc(t))return e=je(t.length,e),!0})),Hi(e,(function(e){return Ci(t,ji(e))}))}function Rl(t,e){if(!t||!t.length)return[];var i=Ol(t);return null==e?i:Ci(i,(function(t){return vi(e,s,t)}))}var Nl=vs((function(t,e){return uc(t)?br(t,e):[]})),Dl=vs((function(t){return Bs(Ti(t,uc))})),Bl=vs((function(t){var e=nl(t);return uc(e)&&(e=s),Bs(Ti(t,uc),Go(e,2))})),Fl=vs((function(t){var e=nl(t);return e="function"==typeof e?e:s,Bs(Ti(t,uc),s,e)})),Vl=vs(Ol);function jl(t,e){return Fs(t||[],e||[],ar)}function Ul(t,e){return Fs(t||[],e||[],Ss)}var Gl=vs((function(t){var e=t.length,i=e>1?t[e-1]:s;return i="function"==typeof i?(t.pop(),i):s,Rl(t,i)}));function Wl(t){var e=_n(t);return e.__chain__=!0,e}function zl(t,e){return e(t),t}function Hl(t,e){return e(t)}var ql=Do((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,r=function(e){return fr(e,t)};return!(e>1||this.__actions__.length)&&n instanceof En&&ra(i)?(n=n.slice(i,+i+(e?1:0)),n.__actions__.push({func:Hl,args:[r],thisArg:s}),new xn(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(s),t}))):this.thru(r)}));function $l(){return Wl(this)}function Yl(){return new xn(this.value(),this.__chain__)}function Xl(){this.__values__===s&&(this.__values__=zc(this.value()));var t=this.__index__>=this.__values__.length,e=t?s:this.__values__[this.__index__++];return{done:t,value:e}}function Kl(){return this}function Ql(t){var e,i=this;while(i instanceof Tn){var n=Ia(i);n.__index__=0,n.__values__=s,e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e}function Zl(){var t=this.__wrapped__;if(t instanceof En){var e=t;return this.__actions__.length&&(e=new En(this)),e=e.reverse(),e.__actions__.push({func:Hl,args:[dl],thisArg:s}),new xn(e,this.__chain__)}return this.thru(dl)}function Jl(){return Ds(this.__wrapped__,this.__actions__)}var tu=so((function(t,e,i){he.call(t,i)?++t[i]:dr(t,i,1)}));function eu(t,e,i){var n=oc(t)?wi:wr;return i&&sa(t,e,i)&&(e=s),n(t,Go(e,3))}function iu(t,e){var i=oc(t)?Ti:Er;return i(t,Go(e,3))}var nu=mo(za),ru=mo(Ha);function su(t,e){return Cr(pu(t,e),1)}function ou(t,e){return Cr(pu(t,e),N)}function au(t,e,i){return i=i===s?1:qc(i),Cr(pu(t,e),i)}function lu(t,e){var i=oc(t)?_i:_r;return i(t,Go(e,3))}function uu(t,e){var i=oc(t)?Si:Sr;return i(t,Go(e,3))}var cu=so((function(t,e,i){he.call(t,i)?t[i].push(e):dr(t,i,[e])}));function hu(t,e,i,n){t=lc(t)?t:Vh(t),i=i&&!n?qc(i):0;var r=t.length;return i<0&&(i=je(r+i,0)),Dc(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&Di(t,e,i)>-1}var du=vs((function(t,e,n){var r=-1,s="function"==typeof e,o=lc(t)?i(t.length):[];return _r(t,(function(t){o[++r]=s?vi(e,t,n):Ur(t,e,n)})),o})),fu=so((function(t,e,i){dr(t,i,e)}));function pu(t,e){var i=oc(t)?Ci:ns;return i(t,Go(e,3))}function mu(t,e,i,n){return null==t?[]:(oc(e)||(e=null==e?[]:[e]),i=n?s:i,oc(i)||(i=null==i?[]:[i]),us(t,e,i))}var gu=so((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));function yu(t,e,i){var n=oc(t)?Pi:Gi,r=arguments.length<3;return n(t,Go(e,4),i,r,_r)}function vu(t,e,i){var n=oc(t)?Mi:Gi,r=arguments.length<3;return n(t,Go(e,4),i,r,Sr)}function bu(t,e){var i=oc(t)?Ti:Er;return i(t,Vu(Go(e,3)))}function _u(t){var e=oc(t)?nr:bs;return e(t)}function Su(t,e,i){e=(i?sa(t,e,i):e===s)?1:qc(e);var n=oc(t)?rr:_s;return n(t,e)}function wu(t){var e=oc(t)?sr:xs;return e(t)}function Tu(t){if(null==t)return 0;if(lc(t))return Dc(t)?pn(t):t.length;var e=Xo(t);return e==Z||e==st?t.size:ts(t).length}function xu(t,e,i){var n=oc(t)?ki:Cs;return i&&sa(t,e,i)&&(e=s),n(t,Go(e,3))}var Eu=vs((function(t,e){if(null==t)return[];var i=e.length;return i>1&&sa(t,e[0],e[1])?e=[]:i>2&&sa(e[0],e[1],e[2])&&(e=[e[0]]),us(t,Cr(e,1),[])})),Cu=Le||function(){return oi.Date.now()};function Au(t,e){if("function"!=typeof e)throw new se(u);return t=qc(t),function(){if(--t<1)return e.apply(this,arguments)}}function Pu(t,e,i){return e=i?s:e,e=t&&null==e?t.length:e,Mo(t,E,s,s,s,s,e)}function Mu(t,e){var i;if("function"!=typeof e)throw new se(u);return t=qc(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=s),i}}var ku=vs((function(t,e,i){var n=v;if(i.length){var r=un(i,Uo(ku));n|=T}return Mo(t,n,e,i,r)})),Lu=vs((function(t,e,i){var n=v|b;if(i.length){var r=un(i,Uo(Lu));n|=T}return Mo(e,n,t,i,r)}));function Iu(t,e,i){e=i?s:e;var n=Mo(t,S,s,s,s,s,s,e);return n.placeholder=Iu.placeholder,n}function Ou(t,e,i){e=i?s:e;var n=Mo(t,w,s,s,s,s,s,e);return n.placeholder=Ou.placeholder,n}function Ru(t,e,i){var n,r,o,a,l,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new se(u);function m(e){var i=n,o=r;return n=r=s,h=e,a=t.apply(o,i),a}function g(t){return h=t,l=Ta(b,e),d?m(t):a}function y(t){var i=t-c,n=t-h,r=e-i;return f?Ue(r,o-n):r}function v(t){var i=t-c,n=t-h;return c===s||i>=e||i<0||f&&n>=o}function b(){var t=Cu();if(v(t))return _(t);l=Ta(b,y(t))}function _(t){return l=s,p&&n?m(t):(n=r=s,a)}function S(){l!==s&&zs(l),h=0,n=c=r=l=s}function w(){return l===s?a:_(Cu())}function T(){var t=Cu(),i=v(t);if(n=arguments,r=this,c=t,i){if(l===s)return g(c);if(f)return zs(l),l=Ta(b,e),m(c)}return l===s&&(l=Ta(b,e)),a}return e=Yc(e)||0,wc(i)&&(d=!!i.leading,f="maxWait"in i,o=f?je(Yc(i.maxWait)||0,e):o,p="trailing"in i?!!i.trailing:p),T.cancel=S,T.flush=w,T}var Nu=vs((function(t,e){return vr(t,1,e)})),Du=vs((function(t,e,i){return vr(t,Yc(e)||0,i)}));function Bu(t){return Mo(t,A)}function Fu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new se(u);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=i.cache;if(s.has(r))return s.get(r);var o=t.apply(this,n);return i.cache=s.set(r,o)||s,o};return i.cache=new(Fu.Cache||Un),i}function Vu(t){if("function"!=typeof t)throw new se(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ju(t){return Mu(2,t)}Fu.Cache=Un;var Uu=Gs((function(t,e){e=1==e.length&&oc(e[0])?Ci(e[0],$i(Go())):Ci(Cr(e,1),$i(Go()));var i=e.length;return vs((function(n){var r=-1,s=Ue(n.length,i);while(++r<s)n[r]=e[r].call(this,n[r]);return vi(t,this,n)}))})),Gu=vs((function(t,e){var i=un(e,Uo(Gu));return Mo(t,T,s,e,i)})),Wu=vs((function(t,e){var i=un(e,Uo(Wu));return Mo(t,x,s,e,i)})),zu=Do((function(t,e){return Mo(t,C,s,s,s,e)}));function Hu(t,e){if("function"!=typeof t)throw new se(u);return e=e===s?e:qc(e),vs(t,e)}function qu(t,e){if("function"!=typeof t)throw new se(u);return e=null==e?0:je(qc(e),0),vs((function(i){var n=i[e],r=Ws(i,0,e);return n&&Ai(r,n),vi(t,this,r)}))}function $u(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw new se(u);return wc(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),Ru(t,e,{leading:n,maxWait:e,trailing:r})}function Yu(t){return Pu(t,1)}function Xu(t,e){return Gu(js(e),t)}function Ku(){if(!arguments.length)return[];var t=arguments[0];return oc(t)?t:[t]}function Qu(t){return mr(t,m)}function Zu(t,e){return e="function"==typeof e?e:s,mr(t,m,e)}function Ju(t){return mr(t,f|m)}function tc(t,e){return e="function"==typeof e?e:s,mr(t,f|m,e)}function ec(t,e){return null==e||yr(t,e,_h(e))}function ic(t,e){return t===e||t!==t&&e!==e}var nc=xo(Nr),rc=xo((function(t,e){return t>=e})),sc=Gr(function(){return arguments}())?Gr:function(t){return Tc(t)&&he.call(t,"callee")&&!xe.call(t,"callee")},oc=i.isArray,ac=di?$i(di):Wr;function lc(t){return null!=t&&Sc(t.length)&&!bc(t)}function uc(t){return Tc(t)&&lc(t)}function cc(t){return!0===t||!1===t||Tc(t)&&Rr(t)==q}var hc=De||qd,dc=fi?$i(fi):zr;function fc(t){return Tc(t)&&1===t.nodeType&&!Ic(t)}function pc(t){if(null==t)return!0;if(lc(t)&&(oc(t)||"string"==typeof t||"function"==typeof t.splice||hc(t)||Fc(t)||sc(t)))return!t.length;var e=Xo(t);if(e==Z||e==st)return!t.size;if(ha(t))return!ts(t).length;for(var i in t)if(he.call(t,i))return!1;return!0}function mc(t,e){return Hr(t,e)}function gc(t,e,i){i="function"==typeof i?i:s;var n=i?i(t,e):s;return n===s?Hr(t,e,s,i):!!n}function yc(t){if(!Tc(t))return!1;var e=Rr(t);return e==X||e==Y||"string"==typeof t.message&&"string"==typeof t.name&&!Ic(t)}function vc(t){return"number"==typeof t&&Be(t)}function bc(t){if(!wc(t))return!1;var e=Rr(t);return e==K||e==Q||e==H||e==nt}function _c(t){return"number"==typeof t&&t==qc(t)}function Sc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=D}function wc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Tc(t){return null!=t&&"object"==typeof t}var xc=pi?$i(pi):$r;function Ec(t,e){return t===e||Yr(t,e,zo(e))}function Cc(t,e,i){return i="function"==typeof i?i:s,Yr(t,e,zo(e),i)}function Ac(t){return Lc(t)&&t!=+t}function Pc(t){if(ca(t))throw new r(l);return Xr(t)}function Mc(t){return null===t}function kc(t){return null==t}function Lc(t){return"number"==typeof t||Tc(t)&&Rr(t)==J}function Ic(t){if(!Tc(t)||Rr(t)!=et)return!1;var e=we(t);if(null===e)return!0;var i=he.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&ce.call(i)==me}var Oc=mi?$i(mi):Kr;function Rc(t){return _c(t)&&t>=-D&&t<=D}var Nc=gi?$i(gi):Qr;function Dc(t){return"string"==typeof t||!oc(t)&&Tc(t)&&Rr(t)==ot}function Bc(t){return"symbol"==typeof t||Tc(t)&&Rr(t)==at}var Fc=yi?$i(yi):Zr;function Vc(t){return t===s}function jc(t){return Tc(t)&&Xo(t)==ut}function Uc(t){return Tc(t)&&Rr(t)==ct}var Gc=xo(is),Wc=xo((function(t,e){return t<=e}));function zc(t){if(!t)return[];if(lc(t))return Dc(t)?mn(t):eo(t);if(Ae&&t[Ae])return on(t[Ae]());var e=Xo(t),i=e==Z?an:e==st?cn:Vh;return i(t)}function Hc(t){if(!t)return 0===t?t:0;if(t=Yc(t),t===N||t===-N){var e=t<0?-1:1;return e*B}return t===t?t:0}function qc(t){var e=Hc(t),i=e%1;return e===e?i?e-i:e:0}function $c(t){return t?pr(qc(t),0,V):0}function Yc(t){if("number"==typeof t)return t;if(Bc(t))return F;if(wc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=wc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Bt,"");var i=Yt.test(t);return i||Kt.test(t)?ni(t.slice(2),i?2:8):$t.test(t)?F:+t}function Xc(t){return io(t,Sh(t))}function Kc(t){return t?pr(qc(t),-D,D):0===t?t:0}function Qc(t){return null==t?"":Ls(t)}var Zc=oo((function(t,e){if(ha(e)||lc(e))io(e,_h(e),t);else for(var i in e)he.call(e,i)&&ar(t,i,e[i])})),Jc=oo((function(t,e){io(e,Sh(e),t)})),th=oo((function(t,e,i,n){io(e,Sh(e),t,n)})),eh=oo((function(t,e,i,n){io(e,_h(e),t,n)})),ih=Do(fr);function nh(t,e){var i=wn(t);return null==e?i:cr(i,e)}var rh=vs((function(t,e){t=ie(t);var i=-1,n=e.length,r=n>2?e[2]:s;r&&sa(e[0],e[1],r)&&(n=1);while(++i<n){var o=e[i],a=Sh(o),l=-1,u=a.length;while(++l<u){var c=a[l],h=t[c];(h===s||ic(h,le[c])&&!he.call(t,c))&&(t[c]=o[c])}}return t})),sh=vs((function(t){return t.push(s,Lo),vi(Eh,s,t)}));function oh(t,e){return Ri(t,Go(e,3),Mr)}function ah(t,e){return Ri(t,Go(e,3),kr)}function lh(t,e){return null==t?t:Ar(t,Go(e,3),Sh)}function uh(t,e){return null==t?t:Pr(t,Go(e,3),Sh)}function ch(t,e){return t&&Mr(t,Go(e,3))}function hh(t,e){return t&&kr(t,Go(e,3))}function dh(t){return null==t?[]:Lr(t,_h(t))}function fh(t){return null==t?[]:Lr(t,Sh(t))}function ph(t,e,i){var n=null==t?s:Ir(t,e);return n===s?i:n}function mh(t,e){return null!=t&&Zo(t,e,Dr)}function gh(t,e){return null!=t&&Zo(t,e,Br)}var yh=vo((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=i}),xd(Pd)),vh=vo((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),he.call(t,e)?t[e].push(i):t[e]=[i]}),Go),bh=vs(Ur);function _h(t){return lc(t)?ir(t):ts(t)}function Sh(t){return lc(t)?ir(t,!0):es(t)}function wh(t,e){var i={};return e=Go(e,3),Mr(t,(function(t,n,r){dr(i,e(t,n,r),t)})),i}function Th(t,e){var i={};return e=Go(e,3),Mr(t,(function(t,n,r){dr(i,n,e(t,n,r))})),i}var xh=oo((function(t,e,i){os(t,e,i)})),Eh=oo((function(t,e,i,n){os(t,e,i,n)})),Ch=Do((function(t,e){var i={};if(null==t)return i;var n=!1;e=Ci(e,(function(e){return e=Us(e,t),n||(n=e.length>1),e})),io(t,Fo(t),i),n&&(i=mr(i,f|p|m,Io));var r=e.length;while(r--)Os(i,e[r]);return i}));function Ah(t,e){return Mh(t,Vu(Go(e)))}var Ph=Do((function(t,e){return null==t?{}:cs(t,e)}));function Mh(t,e){if(null==t)return{};var i=Ci(Fo(t),(function(t){return[t]}));return e=Go(e),hs(t,i,(function(t,i){return e(t,i[0])}))}function kh(t,e,i){e=Us(e,t);var n=-1,r=e.length;r||(r=1,t=s);while(++n<r){var o=null==t?s:t[Ma(e[n])];o===s&&(n=r,o=i),t=bc(o)?o.call(t):o}return t}function Lh(t,e,i){return null==t?t:Ss(t,e,i)}function Ih(t,e,i,n){return n="function"==typeof n?n:s,null==t?t:Ss(t,e,i,n)}var Oh=Po(_h),Rh=Po(Sh);function Nh(t,e,i){var n=oc(t),r=n||hc(t)||Fc(t);if(e=Go(e,4),null==i){var s=t&&t.constructor;i=r?n?new s:[]:wc(t)&&bc(s)?wn(we(t)):{}}return(r?_i:Mr)(t,(function(t,n,r){return e(i,t,n,r)})),i}function Dh(t,e){return null==t||Os(t,e)}function Bh(t,e,i){return null==t?t:Rs(t,e,js(i))}function Fh(t,e,i,n){return n="function"==typeof n?n:s,null==t?t:Rs(t,e,js(i),n)}function Vh(t){return null==t?[]:Yi(t,_h(t))}function jh(t){return null==t?[]:Yi(t,Sh(t))}function Uh(t,e,i){return i===s&&(i=e,e=s),i!==s&&(i=Yc(i),i=i===i?i:0),e!==s&&(e=Yc(e),e=e===e?e:0),pr(Yc(t),e,i)}function Gh(t,e,i){return e=Hc(e),i===s?(i=e,e=0):i=Hc(i),t=Yc(t),Fr(t,e,i)}function Wh(t,e,i){if(i&&"boolean"!=typeof i&&sa(t,e,i)&&(e=i=s),i===s&&("boolean"==typeof e?(i=e,e=s):"boolean"==typeof t&&(i=t,t=s)),t===s&&e===s?(t=0,e=1):(t=Hc(t),e===s?(e=t,t=0):e=Hc(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var r=qe();return Ue(t+r*(e-t+ii("1e-"+((r+"").length-1))),e)}return ms(t,e)}var zh=ho((function(t,e,i){return e=e.toLowerCase(),t+(i?Hh(e):e)}));function Hh(t){return vd(Qc(t).toLowerCase())}function qh(t){return t=Qc(t),t&&t.replace(Zt,Ji).replace(We,"")}function $h(t,e,i){t=Qc(t),e=Ls(e);var n=t.length;i=i===s?n:pr(qc(i),0,n);var r=i;return i-=e.length,i>=0&&t.slice(i,r)==e}function Yh(t){return t=Qc(t),t&&Pt.test(t)?t.replace(Ct,tn):t}function Xh(t){return t=Qc(t),t&&Dt.test(t)?t.replace(Nt,"\\$&"):t}var Kh=ho((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Qh=ho((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),Zh=co("toLowerCase");function Jh(t,e,i){t=Qc(t),e=qc(e);var n=e?pn(t):0;if(!e||n>=e)return t;var r=(e-n)/2;return So(Re(r),i)+t+So(Oe(r),i)}function td(t,e,i){t=Qc(t),e=qc(e);var n=e?pn(t):0;return e&&n<e?t+So(e-n,i):t}function ed(t,e,i){t=Qc(t),e=qc(e);var n=e?pn(t):0;return e&&n<e?So(e-n,i)+t:t}function id(t,e,i){return i||null==e?e=0:e&&(e=+e),He(Qc(t).replace(Ft,""),e||0)}function nd(t,e,i){return e=(i?sa(t,e,i):e===s)?1:qc(e),ys(Qc(t),e)}function rd(){var t=arguments,e=Qc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var sd=ho((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));function od(t,e,i){return i&&"number"!=typeof i&&sa(t,e,i)&&(e=i=s),i=i===s?V:i>>>0,i?(t=Qc(t),t&&("string"==typeof e||null!=e&&!Oc(e))&&(e=Ls(e),!e&&rn(t))?Ws(mn(t),0,i):t.split(e,i)):[]}var ad=ho((function(t,e,i){return t+(i?" ":"")+vd(e)}));function ld(t,e,i){return t=Qc(t),i=null==i?0:pr(qc(i),0,t.length),e=Ls(e),t.slice(i,i+e.length)==e}function ud(t,e,i){var n=_n.templateSettings;i&&sa(t,e,i)&&(e=s),t=Qc(t),e=th({},e,n,ko);var r,o,a=th({},e.imports,n.imports,ko),l=_h(a),u=Yi(a,l),c=0,h=e.interpolate||Jt,d="__p += '",f=ne((e.escape||Jt).source+"|"+h.source+"|"+(h===Lt?Ht:Jt).source+"|"+(e.evaluate||Jt).source+"|$","g"),p="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xe+"]")+"\n";t.replace(f,(function(e,i,n,s,a,l){return n||(n=s),d+=t.slice(c,l).replace(te,en),i&&(r=!0,d+="' +\n__e("+i+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),d+="';\n";var m=he.call(e,"variable")&&e.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(wt,""):d).replace(Tt,"$1").replace(xt,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=_d((function(){return Wt(l,p+"return "+d).apply(s,u)}));if(g.source=d,yc(g))throw g;return g}function cd(t){return Qc(t).toLowerCase()}function hd(t){return Qc(t).toUpperCase()}function dd(t,e,i){if(t=Qc(t),t&&(i||e===s))return t.replace(Bt,"");if(!t||!(e=Ls(e)))return t;var n=mn(t),r=mn(e),o=Ki(n,r),a=Qi(n,r)+1;return Ws(n,o,a).join("")}function fd(t,e,i){if(t=Qc(t),t&&(i||e===s))return t.replace(Vt,"");if(!t||!(e=Ls(e)))return t;var n=mn(t),r=Qi(n,mn(e))+1;return Ws(n,0,r).join("")}function pd(t,e,i){if(t=Qc(t),t&&(i||e===s))return t.replace(Ft,"");if(!t||!(e=Ls(e)))return t;var n=mn(t),r=Ki(n,mn(e));return Ws(n,r).join("")}function md(t,e){var i=P,n=M;if(wc(e)){var r="separator"in e?e.separator:r;i="length"in e?qc(e.length):i,n="omission"in e?Ls(e.omission):n}t=Qc(t);var o=t.length;if(rn(t)){var a=mn(t);o=a.length}if(i>=o)return t;var l=i-pn(n);if(l<1)return n;var u=a?Ws(a,0,l).join(""):t.slice(0,l);if(r===s)return u+n;if(a&&(l+=u.length-l),Oc(r)){if(t.slice(l).search(r)){var c,h=u;r.global||(r=ne(r.source,Qc(qt.exec(r))+"g")),r.lastIndex=0;while(c=r.exec(h))var d=c.index;u=u.slice(0,d===s?l:d)}}else if(t.indexOf(Ls(r),l)!=l){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+n}function gd(t){return t=Qc(t),t&&At.test(t)?t.replace(Et,gn):t}var yd=ho((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),vd=co("toUpperCase");function bd(t,e,i){return t=Qc(t),e=i?s:e,e===s?sn(t)?bn(t):Oi(t):t.match(e)||[]}var _d=vs((function(t,e){try{return vi(t,s,e)}catch(i){return yc(i)?i:new r(i)}})),Sd=Do((function(t,e){return _i(e,(function(e){e=Ma(e),dr(t,e,ku(t[e],t))})),t}));function wd(t){var e=null==t?0:t.length,i=Go();return t=e?Ci(t,(function(t){if("function"!=typeof t[1])throw new se(u);return[i(t[0]),t[1]]})):[],vs((function(i){var n=-1;while(++n<e){var r=t[n];if(vi(r[0],this,i))return vi(r[1],this,i)}}))}function Td(t){return gr(mr(t,f))}function xd(t){return function(){return t}}function Ed(t,e){return null==t||t!==t?e:t}var Cd=go(),Ad=go(!0);function Pd(t){return t}function Md(t){return Jr("function"==typeof t?t:mr(t,f))}function kd(t){return rs(mr(t,f))}function Ld(t,e){return ss(t,mr(e,f))}var Id=vs((function(t,e){return function(i){return Ur(i,t,e)}})),Od=vs((function(t,e){return function(i){return Ur(t,i,e)}}));function Rd(t,e,i){var n=_h(e),r=Lr(e,n);null!=i||wc(e)&&(r.length||!n.length)||(i=e,e=t,t=this,r=Lr(e,_h(e)));var s=!(wc(i)&&"chain"in i)||!!i.chain,o=bc(t);return _i(r,(function(i){var n=e[i];t[i]=n,o&&(t.prototype[i]=function(){var e=this.__chain__;if(s||e){var i=t(this.__wrapped__),r=i.__actions__=eo(this.__actions__);return r.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,Ai([this.value()],arguments))})})),t}function Nd(){return oi._===this&&(oi._=ge),this}function Dd(){}function Bd(t){return t=qc(t),vs((function(e){return ls(e,t)}))}var Fd=_o(Ci),Vd=_o(wi),jd=_o(ki);function Ud(t){return oa(t)?ji(Ma(t)):ds(t)}function Gd(t){return function(e){return null==t?s:Ir(t,e)}}var Wd=To(),zd=To(!0);function Hd(){return[]}function qd(){return!1}function $d(){return{}}function Yd(){return""}function Xd(){return!0}function Kd(t,e){if(t=qc(t),t<1||t>D)return[];var i=V,n=Ue(t,V);e=Go(e),t-=V;var r=Hi(n,e);while(++i<t)e(i);return r}function Qd(t){return oc(t)?Ci(t,Ma):Bc(t)?[t]:eo(Pa(Qc(t)))}function Zd(t){var e=++de;return Qc(t)+e}var Jd=bo((function(t,e){return t+e}),0),tf=Co("ceil"),ef=bo((function(t,e){return t/e}),1),nf=Co("floor");function rf(t){return t&&t.length?Tr(t,Pd,Nr):s}function sf(t,e){return t&&t.length?Tr(t,Go(e,2),Nr):s}function of(t){return Vi(t,Pd)}function af(t,e){return Vi(t,Go(e,2))}function lf(t){return t&&t.length?Tr(t,Pd,is):s}function uf(t,e){return t&&t.length?Tr(t,Go(e,2),is):s}var cf=bo((function(t,e){return t*e}),1),hf=Co("round"),df=bo((function(t,e){return t-e}),0);function ff(t){return t&&t.length?zi(t,Pd):0}function pf(t,e){return t&&t.length?zi(t,Go(e,2)):0}return _n.after=Au,_n.ary=Pu,_n.assign=Zc,_n.assignIn=Jc,_n.assignInWith=th,_n.assignWith=eh,_n.at=ih,_n.before=Mu,_n.bind=ku,_n.bindAll=Sd,_n.bindKey=Lu,_n.castArray=Ku,_n.chain=Wl,_n.chunk=Oa,_n.compact=Ra,_n.concat=Na,_n.cond=wd,_n.conforms=Td,_n.constant=xd,_n.countBy=tu,_n.create=nh,_n.curry=Iu,_n.curryRight=Ou,_n.debounce=Ru,_n.defaults=rh,_n.defaultsDeep=sh,_n.defer=Nu,_n.delay=Du,_n.difference=Da,_n.differenceBy=Ba,_n.differenceWith=Fa,_n.drop=Va,_n.dropRight=ja,_n.dropRightWhile=Ua,_n.dropWhile=Ga,_n.fill=Wa,_n.filter=iu,_n.flatMap=su,_n.flatMapDeep=ou,_n.flatMapDepth=au,_n.flatten=qa,_n.flattenDeep=$a,_n.flattenDepth=Ya,_n.flip=Bu,_n.flow=Cd,_n.flowRight=Ad,_n.fromPairs=Xa,_n.functions=dh,_n.functionsIn=fh,_n.groupBy=cu,_n.initial=Za,_n.intersection=Ja,_n.intersectionBy=tl,_n.intersectionWith=el,_n.invert=yh,_n.invertBy=vh,_n.invokeMap=du,_n.iteratee=Md,_n.keyBy=fu,_n.keys=_h,_n.keysIn=Sh,_n.map=pu,_n.mapKeys=wh,_n.mapValues=Th,_n.matches=kd,_n.matchesProperty=Ld,_n.memoize=Fu,_n.merge=xh,_n.mergeWith=Eh,_n.method=Id,_n.methodOf=Od,_n.mixin=Rd,_n.negate=Vu,_n.nthArg=Bd,_n.omit=Ch,_n.omitBy=Ah,_n.once=ju,_n.orderBy=mu,_n.over=Fd,_n.overArgs=Uu,_n.overEvery=Vd,_n.overSome=jd,_n.partial=Gu,_n.partialRight=Wu,_n.partition=gu,_n.pick=Ph,_n.pickBy=Mh,_n.property=Ud,_n.propertyOf=Gd,_n.pull=ol,_n.pullAll=al,_n.pullAllBy=ll,_n.pullAllWith=ul,_n.pullAt=cl,_n.range=Wd,_n.rangeRight=zd,_n.rearg=zu,_n.reject=bu,_n.remove=hl,_n.rest=Hu,_n.reverse=dl,_n.sampleSize=Su,_n.set=Lh,_n.setWith=Ih,_n.shuffle=wu,_n.slice=fl,_n.sortBy=Eu,_n.sortedUniq=_l,_n.sortedUniqBy=Sl,_n.split=od,_n.spread=qu,_n.tail=wl,_n.take=Tl,_n.takeRight=xl,_n.takeRightWhile=El,_n.takeWhile=Cl,_n.tap=zl,_n.throttle=$u,_n.thru=Hl,_n.toArray=zc,_n.toPairs=Oh,_n.toPairsIn=Rh,_n.toPath=Qd,_n.toPlainObject=Xc,_n.transform=Nh,_n.unary=Yu,_n.union=Al,_n.unionBy=Pl,_n.unionWith=Ml,_n.uniq=kl,_n.uniqBy=Ll,_n.uniqWith=Il,_n.unset=Dh,_n.unzip=Ol,_n.unzipWith=Rl,_n.update=Bh,_n.updateWith=Fh,_n.values=Vh,_n.valuesIn=jh,_n.without=Nl,_n.words=bd,_n.wrap=Xu,_n.xor=Dl,_n.xorBy=Bl,_n.xorWith=Fl,_n.zip=Vl,_n.zipObject=jl,_n.zipObjectDeep=Ul,_n.zipWith=Gl,_n.entries=Oh,_n.entriesIn=Rh,_n.extend=Jc,_n.extendWith=th,Rd(_n,_n),_n.add=Jd,_n.attempt=_d,_n.camelCase=zh,_n.capitalize=Hh,_n.ceil=tf,_n.clamp=Uh,_n.clone=Qu,_n.cloneDeep=Ju,_n.cloneDeepWith=tc,_n.cloneWith=Zu,_n.conformsTo=ec,_n.deburr=qh,_n.defaultTo=Ed,_n.divide=ef,_n.endsWith=$h,_n.eq=ic,_n.escape=Yh,_n.escapeRegExp=Xh,_n.every=eu,_n.find=nu,_n.findIndex=za,_n.findKey=oh,_n.findLast=ru,_n.findLastIndex=Ha,_n.findLastKey=ah,_n.floor=nf,_n.forEach=lu,_n.forEachRight=uu,_n.forIn=lh,_n.forInRight=uh,_n.forOwn=ch,_n.forOwnRight=hh,_n.get=ph,_n.gt=nc,_n.gte=rc,_n.has=mh,_n.hasIn=gh,_n.head=Ka,_n.identity=Pd,_n.includes=hu,_n.indexOf=Qa,_n.inRange=Gh,_n.invoke=bh,_n.isArguments=sc,_n.isArray=oc,_n.isArrayBuffer=ac,_n.isArrayLike=lc,_n.isArrayLikeObject=uc,_n.isBoolean=cc,_n.isBuffer=hc,_n.isDate=dc,_n.isElement=fc,_n.isEmpty=pc,_n.isEqual=mc,_n.isEqualWith=gc,_n.isError=yc,_n.isFinite=vc,_n.isFunction=bc,_n.isInteger=_c,_n.isLength=Sc,_n.isMap=xc,_n.isMatch=Ec,_n.isMatchWith=Cc,_n.isNaN=Ac,_n.isNative=Pc,_n.isNil=kc,_n.isNull=Mc,_n.isNumber=Lc,_n.isObject=wc,_n.isObjectLike=Tc,_n.isPlainObject=Ic,_n.isRegExp=Oc,_n.isSafeInteger=Rc,_n.isSet=Nc,_n.isString=Dc,_n.isSymbol=Bc,_n.isTypedArray=Fc,_n.isUndefined=Vc,_n.isWeakMap=jc,_n.isWeakSet=Uc,_n.join=il,_n.kebabCase=Kh,_n.last=nl,_n.lastIndexOf=rl,_n.lowerCase=Qh,_n.lowerFirst=Zh,_n.lt=Gc,_n.lte=Wc,_n.max=rf,_n.maxBy=sf,_n.mean=of,_n.meanBy=af,_n.min=lf,_n.minBy=uf,_n.stubArray=Hd,_n.stubFalse=qd,_n.stubObject=$d,_n.stubString=Yd,_n.stubTrue=Xd,_n.multiply=cf,_n.nth=sl,_n.noConflict=Nd,_n.noop=Dd,_n.now=Cu,_n.pad=Jh,_n.padEnd=td,_n.padStart=ed,_n.parseInt=id,_n.random=Wh,_n.reduce=yu,_n.reduceRight=vu,_n.repeat=nd,_n.replace=rd,_n.result=kh,_n.round=hf,_n.runInContext=t,_n.sample=_u,_n.size=Tu,_n.snakeCase=sd,_n.some=xu,_n.sortedIndex=pl,_n.sortedIndexBy=ml,_n.sortedIndexOf=gl,_n.sortedLastIndex=yl,_n.sortedLastIndexBy=vl,_n.sortedLastIndexOf=bl,_n.startCase=ad,_n.startsWith=ld,_n.subtract=df,_n.sum=ff,_n.sumBy=pf,_n.template=ud,_n.times=Kd,_n.toFinite=Hc,_n.toInteger=qc,_n.toLength=$c,_n.toLower=cd,_n.toNumber=Yc,_n.toSafeInteger=Kc,_n.toString=Qc,_n.toUpper=hd,_n.trim=dd,_n.trimEnd=fd,_n.trimStart=pd,_n.truncate=md,_n.unescape=gd,_n.uniqueId=Zd,_n.upperCase=yd,_n.upperFirst=vd,_n.each=lu,_n.eachRight=uu,_n.first=Ka,Rd(_n,function(){var t={};return Mr(_n,(function(e,i){he.call(_n.prototype,i)||(t[i]=e)})),t}(),{chain:!1}),_n.VERSION=o,_i(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){_n[t].placeholder=_n})),_i(["drop","take"],(function(t,e){En.prototype[t]=function(i){i=i===s?1:je(qc(i),0);var n=this.__filtered__&&!e?new En(this):this.clone();return n.__filtered__?n.__takeCount__=Ue(i,n.__takeCount__):n.__views__.push({size:Ue(i,V),type:t+(n.__dir__<0?"Right":"")}),n},En.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_i(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=i==I||i==R;En.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Go(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),_i(["head","last"],(function(t,e){var i="take"+(e?"Right":"");En.prototype[t]=function(){return this[i](1).value()[0]}})),_i(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");En.prototype[t]=function(){return this.__filtered__?new En(this):this[i](1)}})),En.prototype.compact=function(){return this.filter(Pd)},En.prototype.find=function(t){return this.filter(t).head()},En.prototype.findLast=function(t){return this.reverse().find(t)},En.prototype.invokeMap=vs((function(t,e){return"function"==typeof t?new En(this):this.map((function(i){return Ur(i,t,e)}))})),En.prototype.reject=function(t){return this.filter(Vu(Go(t)))},En.prototype.slice=function(t,e){t=qc(t);var i=this;return i.__filtered__&&(t>0||e<0)?new En(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==s&&(e=qc(e),i=e<0?i.dropRight(-e):i.take(e-t)),i)},En.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},En.prototype.toArray=function(){return this.take(V)},Mr(En.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),r=_n[n?"take"+("last"==e?"Right":""):e],o=n||/^find/.test(e);r&&(_n.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,l=e instanceof En,u=a[0],c=l||oc(e),h=function(t){var e=r.apply(_n,Ai([t],a));return n&&d?e[0]:e};c&&i&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=l&&!f;if(!o&&c){e=m?e:new En(this);var g=t.apply(e,a);return g.__actions__.push({func:Hl,args:[h],thisArg:s}),new xn(g,d)}return p&&m?t.apply(this,a):(g=this.thru(h),p?n?g.value()[0]:g.value():g)})})),_i(["pop","push","shift","sort","splice","unshift"],(function(t){var e=oe[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);_n.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var r=this.value();return e.apply(oc(r)?r:[],t)}return this[i]((function(i){return e.apply(oc(i)?i:[],t)}))}})),Mr(En.prototype,(function(t,e){var i=_n[e];if(i){var n=i.name+"";he.call(li,n)||(li[n]=[]),li[n].push({name:e,func:i})}})),li[yo(s,b).name]=[{name:"wrapper",func:s}],En.prototype.clone=Cn,En.prototype.reverse=An,En.prototype.value=Pn,_n.prototype.at=ql,_n.prototype.chain=$l,_n.prototype.commit=Yl,_n.prototype.next=Xl,_n.prototype.plant=Ql,_n.prototype.reverse=Zl,_n.prototype.toJSON=_n.prototype.valueOf=_n.prototype.value=Jl,_n.prototype.first=_n.prototype.head,Ae&&(_n.prototype[Ae]=Kl),_n},Sn=_n();oi._=Sn,r=function(){return Sn}.call(e,i,e,n),r===s||(n.exports=r)}).call(this)}).call(this,i("c8ba"),i("62e4")(t))},"2f62":function(t,e,i){"use strict";(function(t){
/*!
 * vuex v3.4.0
 * (c) 2020 Evan You
 * @license MIT
 */
function n(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:n});else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,i.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}i.d(e,"b",(function(){return L}));var r="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},s=r.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t){s&&(t._devtoolHook=s,s.emit("vuex:init",t),s.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){s.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){s.emit("vuex:action",t,e)}),{prepend:!0}))}function a(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function l(t){return null!==t&&"object"===typeof t}function u(t){return t&&"function"===typeof t.then}function c(t,e){return function(){return t(e)}}var h=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},d={namespaced:{configurable:!0}};d.namespaced.get=function(){return!!this._rawModule.namespaced},h.prototype.addChild=function(t,e){this._children[t]=e},h.prototype.removeChild=function(t){delete this._children[t]},h.prototype.getChild=function(t){return this._children[t]},h.prototype.hasChild=function(t){return t in this._children},h.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},h.prototype.forEachChild=function(t){a(this._children,t)},h.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},h.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},h.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(h.prototype,d);var f=function(t){this.register([],t,!1)};function p(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return void 0;p(t.concat(n),e.getChild(n),i.modules[n])}}f.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},f.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},f.prototype.update=function(t){p([],this.root,t)},f.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var r=new h(e,i);if(0===t.length)this.root=r;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],r)}e.modules&&a(e.modules,(function(e,r){n.register(t.concat(r),e,i)}))},f.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];e.getChild(i).runtime&&e.removeChild(i)},f.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return e.hasChild(i)};var m;var g=function(t){var e=this;void 0===t&&(t={}),!m&&"undefined"!==typeof window&&window.Vue&&k(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new f(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new m,this._makeLocalGettersCache=Object.create(null);var r=this,s=this,a=s.dispatch,l=s.commit;this.dispatch=function(t,e){return a.call(r,t,e)},this.commit=function(t,e,i){return l.call(r,t,e,i)},this.strict=n;var u=this._modules.root.state;S(this,u,[],this._modules.root),_(this,u),i.forEach((function(t){return t(e)}));var c=void 0!==t.devtools?t.devtools:m.config.devtools;c&&o(this)},y={state:{configurable:!0}};function v(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function b(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;S(t,i,[],t._modules.root,!0),_(t,i,e)}function _(t,e,i){var n=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,s={};a(r,(function(e,i){s[i]=c(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var o=m.config.silent;m.config.silent=!0,t._vm=new m({data:{$$state:e},computed:s}),m.config.silent=o,t.strict&&A(t),n&&(i&&t._withCommit((function(){n._data.$$state=null})),m.nextTick((function(){return n.$destroy()})))}function S(t,e,i,n,r){var s=!i.length,o=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=n),!s&&!r){var a=P(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit((function(){m.set(a,l,n.state)}))}var u=n.context=w(t,o,i);n.forEachMutation((function(e,i){var n=o+i;x(t,n,e,u)})),n.forEachAction((function(e,i){var n=e.root?i:o+i,r=e.handler||e;E(t,n,r,u)})),n.forEachGetter((function(e,i){var n=o+i;C(t,n,e,u)})),n.forEachChild((function(n,s){S(t,e,i.concat(s),n,r)}))}function w(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var s=M(i,n,r),o=s.payload,a=s.options,l=s.type;return a&&a.root||(l=e+l),t.dispatch(l,o)},commit:n?t.commit:function(i,n,r){var s=M(i,n,r),o=s.payload,a=s.options,l=s.type;a&&a.root||(l=e+l),t.commit(l,o,a)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return T(t,e)}},state:{get:function(){return P(t.state,i)}}}),r}function T(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,n)===e){var s=r.slice(n);Object.defineProperty(i,s,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function x(t,e,i,n){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){i.call(t,n.state,e)}))}function E(t,e,i,n){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return u(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function C(t,e,i,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}function A(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function P(t,e){return e.reduce((function(t,e){return t[e]}),t)}function M(t,e,i){return l(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function k(t){m&&t===m||(m=t,n(m))}y.state.get=function(){return this._vm._data.$$state},y.state.set=function(t){0},g.prototype.commit=function(t,e,i){var n=this,r=M(t,e,i),s=r.type,o=r.payload,a=(r.options,{type:s,payload:o}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(a,n.state)})))},g.prototype.dispatch=function(t,e){var i=this,n=M(t,e),r=n.type,s=n.payload,o={type:r,payload:s},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,i.state)}))}catch(u){0}var l=a.length>1?Promise.all(a.map((function(t){return t(s)}))):a[0](s);return new Promise((function(t,e){l.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,i.state)}))}catch(u){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,i.state,t)}))}catch(u){0}e(t)}))}))}},g.prototype.subscribe=function(t,e){return v(t,this._subscribers,e)},g.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return v(i,this._actionSubscribers,e)},g.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch((function(){return t(n.state,n.getters)}),e,i)},g.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},g.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),S(this,this.state,t,this._modules.get(t),i.preserveState),_(this,this.state)},g.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=P(e.state,t.slice(0,-1));m.delete(i,t[t.length-1])})),b(this)},g.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},g.prototype.hotUpdate=function(t){this._modules.update(t),b(this,!0)},g.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(g.prototype,y);var L=F((function(t,e){var i={};return D(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=V(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0})),i})),I=F((function(t,e){var i={};return D(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var s=V(this.$store,"mapMutations",t);if(!s)return;n=s.context.commit}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),O=F((function(t,e){var i={};return D(e).forEach((function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||V(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0})),i})),R=F((function(t,e){var i={};return D(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var s=V(this.$store,"mapActions",t);if(!s)return;n=s.context.dispatch}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),N=function(t){return{mapState:L.bind(null,t),mapGetters:O.bind(null,t),mapMutations:I.bind(null,t),mapActions:R.bind(null,t)}};function D(t){return B(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function B(t){return Array.isArray(t)||l(t)}function F(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function V(t,e,i){var n=t._modulesNamespaceMap[i];return n}var j={Store:g,install:k,version:"3.4.0",mapState:L,mapMutations:I,mapGetters:O,mapActions:R,createNamespacedHelpers:N};e["a"]=j}).call(this,i("c8ba"))},"2fa4":function(t,e,i){"use strict";i("20f6");var n=i("80d2");e["a"]=Object(n["h"])("spacer","div","v-spacer")},"30b5":function(t,e,i){"use strict";var n=i("c532");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var s;if(i)s=i(e);else if(n.isURLSearchParams(e))s=e.toString();else{var o=[];n.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},3206:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return l}));i("99af");var n=i("ade3"),r=i("2b0e"),s=i("d9bd");function o(t,e){return function(){return Object(s["c"])("The ".concat(t," component must be used inside a ").concat(e))}}function a(t,e,i){var s=e&&i?{register:o(e,i),unregister:o(e,i)}:null;return r["a"].extend({name:"registrable-inject",inject:Object(n["a"])({},t,{default:s})})}function l(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].extend({name:"registrable-provide",methods:e?{}:{register:null,unregister:null},provide:function(){return Object(n["a"])({},t,e?this:{register:this.register,unregister:this.unregister})}})}},3408:function(t,e,i){},3410:function(t,e,i){var n=i("23e7"),r=i("d039"),s=i("7b0b"),o=i("e163"),a=i("e177"),l=r((function(){o(1)}));n({target:"Object",stat:!0,forced:l,sham:!a},{getPrototypeOf:function(t){return o(s(t))}})},"342f":function(t,e,i){var n=i("d066");t.exports=n("navigator","userAgent")||""},"34c3":function(t,e,i){"use strict";i("498a");var n=i("2b0e");e["a"]=n["a"].extend({name:"v-list-item-icon",functional:!0,render:function(t,e){var i=e.data,n=e.children;return i.staticClass="v-list-item__icon ".concat(i.staticClass||"").trim(),t("div",i,n)}})},"34ef":function(t,e,i){"use strict";var n=i("cc20");e["a"]=n["a"]},"35a1":function(t,e,i){var n=i("f5df"),r=i("3f8c"),s=i("b622"),o=s("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},"36a7":function(t,e,i){},"36c6":function(t,e,i){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}i("3410"),t.exports=n},"36c64":function(t,e){var i,n,r,s,o,a,l,u=9e4;i=function(t){return t*u},n=function(t,e){return t*e},r=function(t){return t/u},s=function(t,e){return t/e},o=function(t,e){return i(s(t,e))},a=function(t,e){return n(r(t),e)},l=function(t,e,i){return r(i?t:t-e)},t.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:i,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:s,audioTsToVideoTs:o,videoTsToAudioTs:a,metadataTsToSeconds:l}},"37e8":function(t,e,i){var n=i("83ab"),r=i("9bf2"),s=i("825a"),o=i("df75");t.exports=n?Object.defineProperties:function(t,e){s(t);var i,n=o(e),a=n.length,l=0;while(a>l)r.f(t,i=n[l++],e[i]);return t}},3835:function(t,e,i){"use strict";function n(t){if(Array.isArray(t))return t}i.d(e,"a",(function(){return a}));i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0");function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)if(i.push(o.value),e&&i.length===e)break}catch(l){r=!0,s=l}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw s}}return i}}var s=i("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){return n(t)||r(t,e)||Object(s["a"])(t,e)||o()}},"387f":function(t,e,i){"use strict";t.exports=function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},"38cb":function(t,e,i){"use strict";i("fb6a"),i("a9e3");var n=i("53ca"),r=i("a9ad"),s=i("7560"),o=i("3206"),a=i("80d2"),l=i("d9bd"),u=i("58df"),c=Object(u["a"])(r["a"],Object(o["a"])("form"),s["a"]);e["a"]=c.extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:function(){return[]}},messages:{type:[String,Array],default:function(){return[]}},readonly:Boolean,rules:{type:Array,default:function(){return[]}},success:Boolean,successMessages:{type:[String,Array],default:function(){return[]}},validateOnBlur:Boolean,value:{required:!1}},data:function(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor:function(){if(!this.isDisabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError:function(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess:function(){return this.internalSuccessMessages.length>0||this.success},externalError:function(){return this.internalErrorMessages.length>0||this.error},hasMessages:function(){return this.validationTarget.length>0},hasState:function(){return!this.isDisabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages:function(){return this.genInternalMessages(this.errorMessages)},internalMessages:function(){return this.genInternalMessages(this.messages)},internalSuccessMessages:function(){return this.genInternalMessages(this.successMessages)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("input",t)}},isDisabled:function(){return this.disabled||!!this.form&&this.form.disabled},isInteractive:function(){return!this.isDisabled&&!this.isReadonly},isReadonly:function(){return this.readonly||!!this.form&&this.form.readonly},shouldValidate:function(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations:function(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState:function(){if(!this.isDisabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget:function(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages.length>0?this.internalSuccessMessages:this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler:function(t,e){Object(a["i"])(t,e)||this.validate()},deep:!0},internalValue:function(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused:function(t){t||this.isDisabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting:function(){var t=this;setTimeout((function(){t.hasInput=!1,t.hasFocused=!1,t.isResetting=!1,t.validate()}),0)},hasError:function(t){this.shouldValidate&&this.$emit("update:error",t)},value:function(t){this.lazyValue=t}},beforeMount:function(){this.validate()},created:function(){this.form&&this.form.register(this)},beforeDestroy:function(){this.form&&this.form.unregister(this)},methods:{genInternalMessages:function(t){return t?Array.isArray(t)?t:[t]:[]},reset:function(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:void 0},resetValidation:function(){this.isResetting=!0},validate:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,i=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(var r=0;r<this.rules.length;r++){var s=this.rules[r],o="function"===typeof s?s(e):s;!1===o||"string"===typeof o?i.push(o||""):"boolean"!==typeof o&&Object(l["b"])("Rules should return a string or boolean, received '".concat(Object(n["a"])(o),"' instead"),this)}return this.errorBucket=i,this.valid=0===i.length,this.valid}}})},"38cf":function(t,e,i){var n=i("23e7"),r=i("1148");n({target:"String",proto:!0},{repeat:r})},3934:function(t,e,i){"use strict";var n=i("c532");t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=r(window.location.href),function(e){var i=n.isString(e)?r(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},"3a66":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("fe6c"),r=i("58df");function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(r["a"])(Object(n["b"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty:function(){return t}},watch:{app:function(t,e){e?this.removeApplication(!0):this.callUpdate()},applicationProperty:function(t,e){this.$vuetify.application.unregister(this._uid,e)}},activated:function(){this.callUpdate()},created:function(){for(var t=0,i=e.length;t<i;t++)this.$watch(e[t],this.callUpdate);this.callUpdate()},mounted:function(){this.callUpdate()},deactivated:function(){this.removeApplication()},destroyed:function(){this.removeApplication()},methods:{callUpdate:function(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(t||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:function(){return 0}}})}},"3ad0":function(t,e,i){},"3bbe":function(t,e,i){var n=i("861d");t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3c93":function(t,e,i){},"3c96":function(t,e){function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=i},"3ca3":function(t,e,i){"use strict";var n=i("6547").charAt,r=i("69f3"),s=i("7dd0"),o="String Iterator",a=r.set,l=r.getterFor(o);s(String,"String",(function(t){a(this,{type:o,string:String(t),index:0})}),(function(){var t,e=l(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},"3d86":function(t,e,i){},"3ea3":function(t,e,i){var n=i("23e7"),r=i("f748"),s=Math.abs,o=Math.pow;n({target:"Math",stat:!0},{cbrt:function(t){return r(t=+t)*o(s(t),1/3)}})},"3f8c":function(t,e){t.exports={}},4069:function(t,e,i){var n=i("44d2");n("flat")},"408a":function(t,e,i){var n=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"40dc":function(t,e,i){"use strict";i("a9e3"),i("b680"),i("c7cd");var n=i("5530"),r=(i("8b0d"),i("71d9")),s=i("53ca");function o(t,e){var i=e.modifiers||{},n=i.self,r=void 0!==n&&n,o=e.value,a="object"===Object(s["a"])(o)&&o.options||{passive:!0},l="function"===typeof o||"handleEvent"in o?o:o.handler,u=r?t:e.arg?document.querySelector(e.arg):window;u&&(u.addEventListener("scroll",l,a),t._onScroll={handler:l,options:a,target:r?void 0:u})}function a(t){if(t._onScroll){var e=t._onScroll,i=e.handler,n=e.options,r=e.target,s=void 0===r?t:r;s.removeEventListener("scroll",i,n),delete t._onScroll}}var l={inserted:o,unbind:a},u=l,c=i("3a66"),h=i("d9bd"),d=i("2b0e"),f=d["a"].extend({name:"scrollable",directives:{Scroll:l},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:function(){return{currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}},computed:{canScroll:function(){return"undefined"!==typeof window},computedScrollThreshold:function(){return this.scrollThreshold?Number(this.scrollThreshold):300}},watch:{isScrollingUp:function(){this.savedScroll=this.savedScroll||this.currentScroll},isActive:function(){this.savedScroll=0}},mounted:function(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),this.target||Object(h["c"])("Unable to locate element with identifier ".concat(this.scrollTarget),this))},methods:{onScroll:function(){var t=this;this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick((function(){Math.abs(t.currentScroll-t.savedScroll)>t.computedScrollThreshold&&t.thresholdMet()})))},thresholdMet:function(){}}}),p=i("d10f"),m=i("f2e7"),g=i("80d2"),y=i("58df"),v=Object(y["a"])(r["a"],f,p["a"],m["a"],Object(c["a"])("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));e["a"]=v.extend({name:"v-app-bar",directives:{Scroll:u},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data:function(){return{isActive:this.value}},computed:{applicationProperty:function(){return this.bottom?"bottom":"top"},canScroll:function(){return f.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":this.currentScroll>0,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll})},computedContentHeight:function(){if(!this.shrinkOnScroll)return r["a"].options.computed.computedContentHeight.call(this);var t=this.computedOriginalHeight,e=this.dense?48:56,i=t,n=i-e,s=n/this.computedScrollThreshold,o=this.currentScroll*s;return Math.max(e,i-o)},computedFontSize:function(){if(this.isProminent){var t=this.dense?96:128,e=t-this.computedContentHeight,i=.00347;return Number((1.5-e*i).toFixed(2))}},computedLeft:function(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop:function(){return this.app?this.$vuetify.application.bar:0},computedOpacity:function(){if(this.fadeImgOnScroll){var t=Math.max((this.computedScrollThreshold-this.currentScroll)/this.computedScrollThreshold,0);return Number(parseFloat(t).toFixed(2))}},computedOriginalHeight:function(){var t=r["a"].options.computed.computedContentHeight.call(this);return this.isExtended&&(t+=parseInt(this.extensionHeight)),t},computedRight:function(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold:function(){return this.scrollThreshold?Number(this.scrollThreshold):this.computedOriginalHeight-(this.dense?48:56)},computedTransform:function(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;var t=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?t:-t},hideShadow:function(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||this.computedTransform<0:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed:function(){return this.collapseOnScroll?this.currentScroll>0:r["a"].options.computed.isCollapsed.call(this)},isProminent:function(){return r["a"].options.computed.isProminent.call(this)||this.shrinkOnScroll},styles:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.styles.call(this)),{},{fontSize:Object(g["f"])(this.computedFontSize,"rem"),marginTop:Object(g["f"])(this.computedMarginTop),transform:"translateY(".concat(Object(g["f"])(this.computedTransform),")"),left:Object(g["f"])(this.computedLeft),right:Object(g["f"])(this.computedRight)})}},watch:{canScroll:"onScroll",computedTransform:function(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll:function(t){this.isActive=!t||0!==this.currentScroll}},created:function(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground:function(){var t=r["a"].options.methods.genBackground.call(this);return t.data=this._b(t.data||{},t.tag,{style:{opacity:this.computedOpacity}}),t},updateApplication:function(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet:function(){this.invertedScroll?this.isActive=this.currentScroll>this.computedScrollThreshold:(this.hideOnScroll&&(this.isActive=this.isScrollingUp||this.currentScroll<this.computedScrollThreshold),this.currentThreshold<this.computedScrollThreshold||(this.savedScroll=this.currentScroll))}},render:function(t){var e=r["a"].options.render.call(this,t);return e.data=e.data||{},this.canScroll&&(e.data.directives=e.data.directives||[],e.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),e}})},4160:function(t,e,i){"use strict";var n=i("23e7"),r=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"423e":function(t,e,i){"use strict";var n=i("ae75"),r=function(t){var e=31&t[1];return e<<=8,e|=t[2],e},s=function(t){return!!(64&t[1])},o=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},a=function(t,e){var i=r(t);return 0===i?"pat":i===e?"pmt":e?"pes":null},l=function(t){var e=s(t),i=4+o(t);return e&&(i+=t[i]+1),(31&t[i+10])<<8|t[i+11]},u=function(t){var e={},i=s(t),n=4+o(t);if(i&&(n+=t[n]+1),1&t[n+5]){var r,a,l;r=(15&t[n+1])<<8|t[n+2],a=3+r-4,l=(15&t[n+10])<<8|t[n+11];var u=12+l;while(u<a){var c=n+u;e[(31&t[c+1])<<8|t[c+2]]=t[c],u+=5+((15&t[c+3])<<8|t[c+4])}return e}},c=function(t,e){var i=r(t),s=e[i];switch(s){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},h=function(t){var e=s(t);if(!e)return null;var i=4+o(t);if(i>=t.byteLength)return null;var n,r=null;return n=t[i+7],192&n&&(r={},r.pts=(14&t[i+9])<<27|(255&t[i+10])<<20|(254&t[i+11])<<12|(255&t[i+12])<<5|(254&t[i+13])>>>3,r.pts*=4,r.pts+=(6&t[i+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&t[i+14])<<27|(255&t[i+15])<<20|(254&t[i+16])<<12|(255&t[i+17])<<5|(254&t[i+18])>>>3,r.dts*=4,r.dts+=(6&t[i+18])>>>1)),r},d=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},f=function(t){for(var e,i=4+o(t),n=t.subarray(i),r=0,s=0,a=!1;s<n.byteLength-3;s++)if(1===n[s+2]){r=s+5;break}while(r<n.byteLength)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}s+3!==r-2&&(e=d(31&n[s+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(a=!0));do{r++}while(1!==n[r]&&r<n.length);s=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}e=d(31&n[s+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(a=!0),s=r-2,r+=3;break;default:r+=3;break}return n=n.subarray(s),r-=s,s=0,n&&n.byteLength>3&&(e=d(31&n[s+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(a=!0)),a};t.exports={parseType:a,parsePat:l,parsePmt:u,parsePayloadUnitStartIndicator:s,parsePesType:c,parsePesTime:h,videoPacketContainsKeyFrame:f}},"428f":function(t,e,i){var n=i("da84");t.exports=n},4329:function(t,e,i){"use strict";var n=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,r,s;if(i=t[e],i)if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(s=[],n=arguments.length,n=1;n<arguments.length;++n)s.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,s)}},this.dispose=function(){t={}}}};n.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},n.prototype.push=function(t){this.trigger("data",t)},n.prototype.flush=function(t){this.trigger("done",t)},n.prototype.partialFlush=function(t){this.trigger("partialdone",t)},n.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},n.prototype.reset=function(t){this.trigger("reset",t)},t.exports=n},4362:function(t,e,i){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";e.cwd=function(){return n},e.chdir=function(e){t||(t=i("df7c")),n=t.resolve(e,n)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43a6":function(t,e,i){"use strict";i("a9e3");var n=i("5530"),r=(i("ec29"),i("3d86"),i("c37a")),s=i("604c"),o=i("8547"),a=i("58df"),l=Object(a["a"])(o["a"],s["a"],r["a"]);e["a"]=l.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},r["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=r["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=r["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:s["a"].options.methods.onClick}})},"44ad":function(t,e,i){var n=i("d039"),r=i("c6b6"),s="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?s.call(t,""):Object(t)}:Object},"44d2":function(t,e,i){var n=i("b622"),r=i("7c73"),s=i("9bf2"),o=n("unscopables"),a=Array.prototype;void 0==a[o]&&s.f(a,o,{configurable:!0,value:r(null)}),t.exports=function(t){a[o][t]=!0}},"44de":function(t,e,i){var n=i("da84");t.exports=function(t,e){var i=n.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}},"44e7":function(t,e,i){var n=i("861d"),r=i("c6b6"),s=i("b622"),o=s("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"45fc":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").some,s=i("a640"),o=i("ae40"),a=s("some"),l=o("some");n({target:"Array",proto:!0,forced:!a||!l},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"466d":function(t,e,i){"use strict";var n=i("d784"),r=i("825a"),s=i("50c4"),o=i("1d80"),a=i("8aa5"),l=i("14c3");n("match",1,(function(t,e,i){return[function(e){var i=o(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var o=r(t),u=String(this);if(!o.global)return l(o,u);var c=o.unicode;o.lastIndex=0;var h,d=[],f=0;while(null!==(h=l(o,u))){var p=String(h[0]);d[f]=p,""===p&&(o.lastIndex=a(u,s(o.lastIndex),c)),f++}return 0===f?null:d}]}))},"467f":function(t,e,i){"use strict";var n=i("2d83");t.exports=function(t,e,i){var r=i.config.validateStatus;!r||r(i.status)?t(i):e(n("Request failed with status code "+i.status,i.config,null,i.request,i))}},4804:function(t,e,i){},4840:function(t,e,i){var n=i("825a"),r=i("1c0b"),s=i("b622"),o=s("species");t.exports=function(t,e){var i,s=n(t).constructor;return void 0===s||void 0==(i=n(s)[o])?e:r(i)}},"490a":function(t,e,i){"use strict";i("99af"),i("a9e3"),i("8d4f");var n=i("a9ad"),r=i("80d2");e["a"]=n["a"].extend({name:"v-progress-circular",props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:function(){return{radius:20}},computed:{calculatedSize:function(){return Number(this.size)+(this.button?8:0)},circumference:function(){return 2*Math.PI*this.radius},classes:function(){return{"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue:function(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray:function(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset:function(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth:function(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles:function(){return{height:Object(r["f"])(this.calculatedSize),width:Object(r["f"])(this.calculatedSize)}},svgStyles:function(){return{transform:"rotate(".concat(Number(this.rotate),"deg)")}},viewBoxSize:function(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle:function(t,e){return this.$createElement("circle",{class:"v-progress-circular__".concat(t),attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":e}})},genSvg:function(){var t=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"".concat(this.viewBoxSize," ").concat(this.viewBoxSize," ").concat(2*this.viewBoxSize," ").concat(2*this.viewBoxSize)}},t)},genInfo:function(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)}},render:function(t){return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}})},4930:function(t,e,i){var n=i("d039");t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"498a":function(t,e,i){"use strict";var n=i("23e7"),r=i("58a8").trim,s=i("c8d2");n({target:"String",proto:!0,forced:s("trim")},{trim:function(){return r(this)}})},"49e2":function(t,e,i){"use strict";var n=i("0789"),r=i("9d65"),s=i("a9ad"),o=i("3206"),a=i("80d2"),l=i("58df"),u=Object(l["a"])(r["a"],s["a"],Object(o["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));e["a"]=u.extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){var e=this;return t(n["a"],this.showLazyContent((function(){return[t("div",e.setBackgroundColor(e.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:e.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(a["o"])(e))])]})))}})},"4a4b":function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},"4a7b":function(t,e,i){"use strict";var n=i("c532");t.exports=function(t,e){e=e||{};var i={},r=["url","method","params","data"],s=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(r,(function(t){"undefined"!==typeof e[t]&&(i[t]=e[t])})),n.forEach(s,(function(r){n.isObject(e[r])?i[r]=n.deepMerge(t[r],e[r]):"undefined"!==typeof e[r]?i[r]=e[r]:n.isObject(t[r])?i[r]=n.deepMerge(t[r]):"undefined"!==typeof t[r]&&(i[r]=t[r])})),n.forEach(o,(function(n){"undefined"!==typeof e[n]?i[n]=e[n]:"undefined"!==typeof t[n]&&(i[n]=t[n])}));var a=r.concat(s).concat(o),l=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return n.forEach(l,(function(n){"undefined"!==typeof e[n]?i[n]=e[n]:"undefined"!==typeof t[n]&&(i[n]=t[n])})),i}},"4ae1":function(t,e,i){var n=i("23e7"),r=i("d066"),s=i("1c0b"),o=i("825a"),a=i("861d"),l=i("7c73"),u=i("0538"),c=i("d039"),h=r("Reflect","construct"),d=c((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),f=!c((function(){h((function(){}))})),p=d||f;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){s(t),o(e);var i=arguments.length<3?t:s(arguments[2]);if(f&&!d)return h(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(u.apply(t,n))}var r=i.prototype,c=l(a(r)?r:Object.prototype),p=Function.apply.call(t,c,e);return a(p)?p:c}})},"4b85":function(t,e,i){},"4bd4":function(t,e,i){"use strict";i("4de4"),i("7db0"),i("4160"),i("caad"),i("07ac"),i("2532"),i("159b");var n=i("5530"),r=i("58df"),s=i("7e2b"),o=i("3206");e["a"]=Object(r["a"])(s["a"],Object(o["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",(function(i){e.$set(e.errorBag,t._uid,i)}),{immediate:!0})},n={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",(function(r){r&&(e.errorBag.hasOwnProperty(t._uid)||(n.valid=i(t)))})):n.valid=i(t),n},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var i=this.watchers.find((function(t){return t._uid===e._uid}));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(n["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},"4d63":function(t,e,i){var n=i("83ab"),r=i("da84"),s=i("94ca"),o=i("7156"),a=i("9bf2").f,l=i("241c").f,u=i("44e7"),c=i("ad6d"),h=i("9f7f"),d=i("6eeb"),f=i("d039"),p=i("69f3").set,m=i("2626"),g=i("b622"),y=g("match"),v=r.RegExp,b=v.prototype,_=/a/g,S=/a/g,w=new v(_)!==_,T=h.UNSUPPORTED_Y,x=n&&s("RegExp",!w||T||f((function(){return S[y]=!1,v(_)!=_||v(S)==S||"/a/i"!=v(_,"i")})));if(x){var E=function(t,e){var i,n=this instanceof E,r=u(t),s=void 0===e;if(!n&&r&&t.constructor===E&&s)return t;w?r&&!s&&(t=t.source):t instanceof E&&(s&&(e=c.call(t)),t=t.source),T&&(i=!!e&&e.indexOf("y")>-1,i&&(e=e.replace(/y/g,"")));var a=o(w?new v(t,e):v(t,e),n?this:b,E);return T&&i&&p(a,{sticky:i}),a},C=function(t){t in E||a(E,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},A=l(v),P=0;while(A.length>P)C(A[P++]);b.constructor=E,E.prototype=b,d(r,"RegExp",E)}m("RegExp")},"4d64":function(t,e,i){var n=i("fc6a"),r=i("50c4"),s=i("23cb"),o=function(t){return function(e,i,o){var a,l=n(e),u=r(l.length),c=s(o,u);if(t&&i!=i){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"4de4":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").filter,s=i("1dde"),o=i("ae40"),a=s("filter"),l=o("filter");n({target:"Array",proto:!0,forced:!a||!l},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,i){"use strict";var n=i("0366"),r=i("7b0b"),s=i("9bdd"),o=i("e95a"),a=i("50c4"),l=i("8418"),u=i("35a1");t.exports=function(t){var e,i,c,h,d,f,p=r(t),m="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,v=void 0!==y,b=u(p),_=0;if(v&&(y=n(y,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&o(b))for(e=a(p.length),i=new m(e);e>_;_++)f=v?y(p[_],_):p[_],l(i,_,f);else for(h=b.call(p),d=h.next,i=new m;!(c=d.call(h)).done;_++)f=v?s(h,y,[c.value,_],!0):c.value,l(i,_,f);return i.length=_,i}},"4e69":function(t,e,i){"use strict";var n=i("4329"),r=i("dc6d"),s=function(){s.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new h(0,0),new h(0,1),new h(1,0),new h(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};s.prototype=new n,s.prototype.push=function(t){var e,i,n;if("sei_rbsp"===t.nalUnitType&&(e=r.parseSei(t.escapedRBSP),e.payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(i=r.parseUserData(e),i)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=r.parseCaptionPackets(t.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},s.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},s.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},s.prototype.flush=function(){return this.flushStream("flush")},s.prototype.partialFlush=function(){return this.flushStream("partialFlush")},s.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},s.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},s.prototype.setsChannel1Active=function(t){return 4096===(30720&t.ccData)},s.prototype.setsChannel2Active=function(t){return 6144===(30720&t.ccData)},s.prototype.setsTextOrXDSActive=function(t){return 256===(28928&t.ccData)||4138===(30974&t.ccData)||6186===(30974&t.ccData)};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},a=function(t){return null===t?"":(t=o[t]||t,String.fromCharCode(t))},l=14,u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){var t=[],e=l+1;while(e--)t.push("");return t},h=function(t,e){h.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,r,s;if(e=32639&t.ccData,e!==this.lastControlCode_){if(4096===(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=c();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(n,r))n=(3&n)<<8,s=a(n|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),n=(3&n)<<8,s=a(n|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14===(14&r)&&this.addFormatting(t.pts,["i"]),1===(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var o=u.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16===(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=a(n),s+=a(r),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};h.prototype=new n,h.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(e){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},h.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=l,this.rollUpRows_=2,this.formatting_=[]},h.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},h.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},h.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},h.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},h.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},h.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},h.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},h.prototype.isNormalChar=function(t){return t>=32&&t<=127},h.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=l,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},h.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,i)},h.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},h.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},h.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},h.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<l+1;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},h.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},t.exports={CaptionStream:s,Cea608Stream:h}},"4e82":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("ade3"),r=i("3206");function s(t,e,i){var s=Object(r["a"])(t,e,i).extend({name:"groupable",props:{activeClass:{type:String,default:function(){if(this[t])return this[t].activeClass}},disabled:Boolean},data:function(){return{isActive:!1}},computed:{groupClasses:function(){return this.activeClass?Object(n["a"])({},this.activeClass,this.isActive):{}}},created:function(){this[t]&&this[t].register(this)},beforeDestroy:function(){this[t]&&this[t].unregister(this)},methods:{toggle:function(){this.$emit("change")}}});return s}s("itemGroup")},"4ec9":function(t,e,i){"use strict";var n=i("6d61"),r=i("6566");t.exports=n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},"4ff9":function(t,e,i){},"50c4":function(t,e,i){var n=i("a691"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},5135:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},5270:function(t,e,i){"use strict";var n=i("c532"),r=i("c401"),s=i("2e67"),o=i("2444");function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){a(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||o.adapter;return e(t).then((function(e){return a(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(a(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5311:function(t,e,i){"use strict";var n=i("5607"),r=i("2b0e");e["a"]=r["a"].extend({name:"rippleable",directives:{ripple:n["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),t.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",t)):null},onChange:function(){}}})},5319:function(t,e,i){"use strict";var n=i("d784"),r=i("825a"),s=i("7b0b"),o=i("50c4"),a=i("a691"),l=i("1d80"),u=i("8aa5"),c=i("14c3"),h=Math.max,d=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,i,n){var y=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,b=y?"$":"$0";return[function(i,n){var r=l(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,r,n):e.call(String(r),i,n)},function(t,n){if(!y&&v||"string"===typeof n&&-1===n.indexOf(b)){var s=i(e,t,this,n);if(s.done)return s.value}var l=r(t),f=String(this),p="function"===typeof n;p||(n=String(n));var m=l.global;if(m){var S=l.unicode;l.lastIndex=0}var w=[];while(1){var T=c(l,f);if(null===T)break;if(w.push(T),!m)break;var x=String(T[0]);""===x&&(l.lastIndex=u(f,o(l.lastIndex),S))}for(var E="",C=0,A=0;A<w.length;A++){T=w[A];for(var P=String(T[0]),M=h(d(a(T.index),f.length),0),k=[],L=1;L<T.length;L++)k.push(g(T[L]));var I=T.groups;if(p){var O=[P].concat(k,M,f);void 0!==I&&O.push(I);var R=String(n.apply(void 0,O))}else R=_(P,f,M,k,I,n);M>=C&&(E+=f.slice(C,M)+R,C=M+P.length)}return E+f.slice(C)}];function _(t,i,n,r,o,a){var l=n+t.length,u=r.length,c=m;return void 0!==o&&(o=s(o),c=p),e.call(a,c,(function(e,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,n);case"'":return i.slice(l);case"<":a=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return e;if(c>u){var h=f(c/10);return 0===h?e:h<=u?void 0===r[h-1]?s.charAt(1):r[h-1]+s.charAt(1):e}a=r[c-1]}return void 0===a?"":a}))}}))},"53ca":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0");function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}},5530:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b");var n=i("ade3");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){Object(n["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}},"55b5":function(t,e){function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}t.exports=i},5607:function(t,e,i){"use strict";i("99af"),i("b0c0"),i("a9e3"),i("d3b7"),i("25f0"),i("7435");var n=i("80d2"),r=80;function s(t,e){t.style["transform"]=e,t.style["webkitTransform"]=e}function o(t,e){t.style["opacity"]=e.toString()}function a(t){return"TouchEvent"===t.constructor.name}function l(t){return"KeyboardEvent"===t.constructor.name}var u=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=0,r=0;if(!l(t)){var s=e.getBoundingClientRect(),o=a(t)?t.touches[t.touches.length-1]:t;n=o.clientX-s.left,r=o.clientY-s.top}var u=0,c=.3;e._ripple&&e._ripple.circle?(c=.15,u=e.clientWidth/2,u=i.center?u:u+Math.sqrt(Math.pow(n-u,2)+Math.pow(r-u,2))/4):u=Math.sqrt(Math.pow(e.clientWidth,2)+Math.pow(e.clientHeight,2))/2;var h="".concat((e.clientWidth-2*u)/2,"px"),d="".concat((e.clientHeight-2*u)/2,"px"),f=i.center?h:"".concat(n-u,"px"),p=i.center?d:"".concat(r-u,"px");return{radius:u,scale:c,x:f,y:p,centerX:h,centerY:d}},c={show:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e._ripple&&e._ripple.enabled){var n=document.createElement("span"),r=document.createElement("span");n.appendChild(r),n.className="v-ripple__container",i.class&&(n.className+=" ".concat(i.class));var a=u(t,e,i),l=a.radius,c=a.scale,h=a.x,d=a.y,f=a.centerX,p=a.centerY,m="".concat(2*l,"px");r.className="v-ripple__animation",r.style.width=m,r.style.height=m,e.appendChild(n);var g=window.getComputedStyle(e);g&&"static"===g.position&&(e.style.position="relative",e.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),s(r,"translate(".concat(h,", ").concat(d,") scale3d(").concat(c,",").concat(c,",").concat(c,")")),o(r,0),r.dataset.activated=String(performance.now()),setTimeout((function(){r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),s(r,"translate(".concat(f,", ").concat(p,") scale3d(1,1,1)")),o(r,.25)}),0)}},hide:function(t){if(t&&t._ripple&&t._ripple.enabled){var e=t.getElementsByClassName("v-ripple__animation");if(0!==e.length){var i=e[e.length-1];if(!i.dataset.isHiding){i.dataset.isHiding="true";var n=performance.now()-Number(i.dataset.activated),r=Math.max(250-n,0);setTimeout((function(){i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),o(i,0),setTimeout((function(){var e=t.getElementsByClassName("v-ripple__animation");1===e.length&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),i.parentNode&&t.removeChild(i.parentNode)}),300)}),r)}}}}};function h(t){return"undefined"===typeof t||!!t}function d(t){var e={},i=t.currentTarget;if(i&&i._ripple&&!i._ripple.touched){if(a(t))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(e.center=i._ripple.centered||l(t),i._ripple.class&&(e.class=i._ripple.class),a(t)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=function(){c.show(t,i,e)},i._ripple.showTimer=window.setTimeout((function(){i&&i._ripple&&i._ripple.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)}),r)}else c.show(t,i,e)}}function f(t){var e=t.currentTarget;if(e&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),"touchend"===t.type&&e._ripple.showTimerCommit)return e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,void(e._ripple.showTimer=setTimeout((function(){f(t)})));window.setTimeout((function(){e._ripple&&(e._ripple.touched=!1)})),c.hide(e)}}function p(t){var e=t.currentTarget;e&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}var m=!1;function g(t){m||t.keyCode!==n["t"].enter&&t.keyCode!==n["t"].space||(m=!0,d(t))}function y(t){m=!1,f(t)}function v(t,e,i){var n=h(e.value);n||c.hide(t),t._ripple=t._ripple||{},t._ripple.enabled=n;var r=e.value||{};r.center&&(t._ripple.centered=!0),r.class&&(t._ripple.class=e.value.class),r.circle&&(t._ripple.circle=r.circle),n&&!i?(t.addEventListener("touchstart",d,{passive:!0}),t.addEventListener("touchend",f,{passive:!0}),t.addEventListener("touchmove",p,{passive:!0}),t.addEventListener("touchcancel",f),t.addEventListener("mousedown",d),t.addEventListener("mouseup",f),t.addEventListener("mouseleave",f),t.addEventListener("keydown",g),t.addEventListener("keyup",y),t.addEventListener("dragstart",f,{passive:!0})):!n&&i&&b(t)}function b(t){t.removeEventListener("mousedown",d),t.removeEventListener("touchstart",d),t.removeEventListener("touchend",f),t.removeEventListener("touchmove",p),t.removeEventListener("touchcancel",f),t.removeEventListener("mouseup",f),t.removeEventListener("mouseleave",f),t.removeEventListener("keydown",g),t.removeEventListener("keyup",y),t.removeEventListener("dragstart",f)}function _(t,e,i){v(t,e,!1)}function S(t){delete t._ripple,b(t)}function w(t,e){if(e.value!==e.oldValue){var i=h(e.oldValue);v(t,e,i)}}var T={bind:_,unbind:S,update:w};e["a"]=T},5692:function(t,e,i){var n=i("c430"),r=i("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56a4":function(t,e,i){"use strict";i("45fc"),i("a9e3"),i("d3b7"),i("25f0");var n=i("9d26"),r=i("a9ad"),s=i("3206"),o=i("5607"),a=i("58df"),l=Object(a["a"])(r["a"],Object(s["a"])("stepper","v-stepper-step","v-stepper"));e["a"]=l.extend().extend({name:"v-stepper-step",directives:{ripple:o["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(t){return!0!==t()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(t){t.stopPropagation(),this.$emit("click",t),this.editable&&this.stepClick(this.step)},genIcon:function(t){return this.$createElement(n["a"],t)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var t=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(t,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var t=[];return this.hasError?t.push(this.genIcon(this.errorIcon)):this.complete?this.editable?t.push(this.genIcon(this.editIcon)):t.push(this.genIcon(this.completeIcon)):t.push(String(this.step)),t},toggle:function(t){this.isActive=t.toString()===this.step.toString(),this.isInactive=Number(t)<Number(this.step)}},render:function(t){return t("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}})},"56ef":function(t,e,i){var n=i("d066"),r=i("241c"),s=i("7418"),o=i("825a");t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(o(t)),i=s.f;return i?e.concat(i(t)):e}},5803:function(t,e,i){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("1d80"),r=i("5899"),s="["+r+"]",o=RegExp("^"+s+s+"*"),a=RegExp(s+s+"*$"),l=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(a,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},"58df":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("2b0e");function r(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n["a"].extend({mixins:e})}},"5a34":function(t,e,i){var n=i("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5bc1":function(t,e,i){"use strict";i("498a");var n=i("5530"),r=i("9d26"),s=i("8336"),o=i("2b0e");e["a"]=o["a"].extend({name:"v-app-bar-nav-icon",functional:!0,render:function(t,e){var i=e.slots,o=e.listeners,a=e.props,l=e.data,u=Object.assign(l,{staticClass:"v-app-bar__nav-icon ".concat(l.staticClass||"").trim(),props:Object(n["a"])(Object(n["a"])({},a),{},{icon:!0}),on:o}),c=i().default;return t(s["a"],u,c||[t(r["a"],"$menu")])}})},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5d23":function(t,e,i){"use strict";i.d(e,"a",(function(){return x})),i.d(e,"b",(function(){return E}));var n=i("80d2"),r=i("8860"),s=(i("ac1f"),i("466d"),i("5530")),o=i("ade3"),a=(i("db42"),i("9d26")),l=i("da13"),u=i("34c3"),c=i("7e2b"),h=i("9d65"),d=i("a9ad"),f=i("f2e7"),p=i("3206"),m=i("5607"),g=i("0789"),y=i("58df"),v=Object(y["a"])(c["a"],h["a"],d["a"],Object(p["a"])("list"),f["a"]),b=v.extend().extend({name:"v-list-group",directives:{ripple:m["a"]},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:String,noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes:function(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive:function(t){!this.subGroup&&t&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created:function(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy:function(){this.list&&this.list.unregister(this)},methods:{click:function(t){var e=this;this.disabled||(this.isBooted=!0,this.$emit("click",t),this.$nextTick((function(){return e.isActive=!e.isActive})))},genIcon:function(t){return this.$createElement(a["a"],t)},genAppendIcon:function(){var t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement(u["a"],{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genHeader:function(){return this.$createElement(l["a"],{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:Object(o["a"])({},this.activeClass,this.isActive),props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(s["a"])(Object(s["a"])({},this.listeners$),{},{click:this.click})},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:t.isActive}]},Object(n["o"])(t))]}))},genPrependIcon:function(){var t=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return t||this.$slots.prependIcon?this.$createElement(u["a"],{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(t)]):null},onRouteChange:function(t){if(this.group){var e=this.matchRoute(t.path);e&&this.isActive!==e&&this.list&&this.list.listClick(this._uid),this.isActive=e}},toggle:function(t){var e=this,i=this._uid===t;i&&(this.isBooted=!0),this.$nextTick((function(){return e.isActive=i}))},matchRoute:function(t){return null!==t.match(this.group)}},render:function(t){return t("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),t(g["a"],this.genItems())])}}),_=i("1baa"),S=i("1800"),w=i("8270"),T=Object(n["h"])("v-list-item__action-text","span"),x=Object(n["h"])("v-list-item__content","div"),E=Object(n["h"])("v-list-item__title","div"),C=Object(n["h"])("v-list-item__subtitle","div");r["a"],l["a"],S["a"],w["a"],_["a"],u["a"]},"5e23":function(t,e,i){},"5fb2":function(t,e,i){"use strict";var n=2147483647,r=36,s=1,o=26,a=38,l=700,u=72,c=128,h="-",d=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=r-s,g=Math.floor,y=String.fromCharCode,v=function(t){var e=[],i=0,n=t.length;while(i<n){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){var s=t.charCodeAt(i++);56320==(64512&s)?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),i--)}else e.push(r)}return e},b=function(t){return t+22+75*(t<26)},_=function(t,e,i){var n=0;for(t=i?g(t/l):t>>1,t+=g(t/e);t>m*o>>1;n+=r)t=g(t/m);return g(n+(m+1)*t/(t+a))},S=function(t){var e=[];t=v(t);var i,a,l=t.length,d=c,f=0,m=u;for(i=0;i<t.length;i++)a=t[i],a<128&&e.push(y(a));var S=e.length,w=S;S&&e.push(h);while(w<l){var T=n;for(i=0;i<t.length;i++)a=t[i],a>=d&&a<T&&(T=a);var x=w+1;if(T-d>g((n-f)/x))throw RangeError(p);for(f+=(T-d)*x,d=T,i=0;i<t.length;i++){if(a=t[i],a<d&&++f>n)throw RangeError(p);if(a==d){for(var E=f,C=r;;C+=r){var A=C<=m?s:C>=m+o?o:C-m;if(E<A)break;var P=E-A,M=r-A;e.push(y(b(A+P%M))),E=g(P/M)}e.push(y(b(E))),m=_(f,x,w==S),f=0,++w}}++f,++d}return e.join("")};t.exports=function(t){var e,i,n=[],r=t.toLowerCase().replace(f,".").split(".");for(e=0;e<r.length;e++)i=r[e],n.push(d.test(i)?"xn--"+S(i):i);return n.join(".")}},"5fcf":function(t,e,i){"use strict";
/*! @name @videojs/vhs-utils @version 1.3.0 @license MIT */function n(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var r=n(i("d136")),s=n(i("be09")),o=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=r.buildAbsoluteURL(s.location&&s.location.href||"",t)),r.buildAbsoluteURL(t,e))};t.exports=o},"604c":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));i("4de4"),i("7db0"),i("c740"),i("4160"),i("caad"),i("c975"),i("fb6a"),i("a434"),i("a9e3"),i("2532"),i("159b");var n=i("5530"),r=(i("166a"),i("a452")),s=i("7560"),o=i("58df"),a=i("d9bd"),l=Object(o["a"])(r["a"],s["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return Object(n["a"])({"v-item-group":!0},this.themeClasses)},selectedIndex:function(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem:function(){if(!this.multiple)return this.selectedItems[0]},selectedItems:function(){var t=this;return this.items.filter((function(e,i){return t.toggleMethod(t.getValue(e,i))}))},selectedValues:function(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var t=this;if(!this.multiple)return function(e){return t.internalValue===e};var e=this.internalValue;return Array.isArray(e)?function(t){return e.includes(t)}:function(){return!1}}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(a["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData:function(){return{class:this.classes}},getValue:function(t,e){return null==t.value||""===t.value?e:t.value},onClick:function(t){this.updateInternalValue(this.getValue(t,this.items.indexOf(t)))},register:function(t){var e=this,i=this.items.push(t)-1;t.$on("change",(function(){return e.onClick(t)})),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(t,i)},unregister:function(t){if(!this._isDestroyed){var e=this.items.indexOf(t),i=this.getValue(t,e);this.items.splice(e,1);var n=this.selectedValues.indexOf(i);if(!(n<0)){if(!this.mandatory)return this.updateInternalValue(i);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((function(t){return t!==i})):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(t,e){var i=this.getValue(t,e);t.isActive=this.toggleMethod(i)},updateItemsState:function(){var t=this;this.$nextTick((function(){if(t.mandatory&&!t.selectedItems.length)return t.updateMandatory();t.items.forEach(t.updateItem)}))},updateInternalValue:function(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory:function(t){if(this.items.length){var e=this.items.slice();t&&e.reverse();var i=e.find((function(t){return!t.disabled}));if(i){var n=this.items.indexOf(i);this.updateInternalValue(this.getValue(i,n))}}},updateMultiple:function(t){var e=Array.isArray(this.internalValue)?this.internalValue:[],i=e.slice(),n=i.findIndex((function(e){return e===t}));this.mandatory&&n>-1&&i.length-1<1||null!=this.max&&n<0&&i.length+1>this.max||(n>-1?i.splice(n,1):i.push(t),this.internalValue=i)},updateSingle:function(t){var e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render:function(t){return t("div",this.genData(),this.$slots.default)}});l.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}})},"60da":function(t,e,i){"use strict";var n=i("83ab"),r=i("d039"),s=i("df75"),o=i("7418"),a=i("d1e7"),l=i("7b0b"),u=i("44ad"),c=Object.assign,h=Object.defineProperty;t.exports=!c||r((function(){if(n&&1!==c({b:1},c(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[i]||s(c({},e)).join("")!=r}))?function(t,e){var i=l(t),r=arguments.length,c=1,h=o.f,d=a.f;while(r>c){var f,p=u(arguments[c++]),m=h?s(p).concat(h(p)):s(p),g=m.length,y=0;while(g>y)f=m[y++],n&&!d.call(p,f)||(i[f]=p[f])}return i}:c},"615b":function(t,e,i){},"61d2":function(t,e,i){},"62ad":function(t,e,i){"use strict";i("4160"),i("caad"),i("13d5"),i("45fc"),i("4ec9"),i("a9e3"),i("b64b"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("2ca0"),i("159b"),i("ddb0");var n=i("ade3"),r=i("5530"),s=(i("4b85"),i("2b0e")),o=i("d9f7"),a=i("80d2"),l=["sm","md","lg","xl"],u=function(){return l.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{})}(),c=function(){return l.reduce((function(t,e){return t["offset"+Object(a["z"])(e)]={type:[String,Number],default:null},t}),{})}(),h=function(){return l.reduce((function(t,e){return t["order"+Object(a["z"])(e)]={type:[String,Number],default:null},t}),{})}(),d={col:Object.keys(u),offset:Object.keys(c),order:Object.keys(h)};function f(t,e,i){var n=t;if(null!=i&&!1!==i){if(e){var r=e.replace(t,"");n+="-".concat(r)}return"col"!==t||""!==i&&!0!==i?(n+="-".concat(i),n.toLowerCase()):n.toLowerCase()}}var p=new Map;e["a"]=s["a"].extend({name:"v-col",functional:!0,props:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({cols:{type:[Boolean,String,Number],default:!1}},u),{},{offset:{type:[String,Number],default:null}},c),{},{order:{type:[String,Number],default:null}},h),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var i=e.props,r=e.data,s=e.children,a=(e.parent,"");for(var l in i)a+=String(i[l]);var u=p.get(a);return u||function(){var t,e;for(e in u=[],d)d[e].forEach((function(t){var n=i[t],r=f(e,t,n);r&&u.push(r)}));var r=u.some((function(t){return t.startsWith("col-")}));u.push((t={col:!r||!i.cols},Object(n["a"])(t,"col-".concat(i.cols),i.cols),Object(n["a"])(t,"offset-".concat(i.offset),i.offset),Object(n["a"])(t,"order-".concat(i.order),i.order),Object(n["a"])(t,"align-self-".concat(i.alignSelf),i.alignSelf),t)),p.set(a,u)}(),t(i.tag,Object(o["a"])(r,{class:u}),s)}})},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6544:function(t,e){t.exports=function(t,e){var i="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var n in"function"===typeof t.exports&&(i.components=t.exports.options.components),i.components=i.components||{},e)i.components[n]=i.components[n]||e[n]}},6547:function(t,e,i){var n=i("a691"),r=i("1d80"),s=function(t){return function(e,i){var s,o,a=String(r(e)),l=n(i),u=a.length;return l<0||l>=u?t?"":void 0:(s=a.charCodeAt(l),s<55296||s>56319||l+1===u||(o=a.charCodeAt(l+1))<56320||o>57343?t?a.charAt(l):s:t?a.slice(l,l+2):o-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},6566:function(t,e,i){"use strict";var n=i("9bf2").f,r=i("7c73"),s=i("e2cc"),o=i("0366"),a=i("19aa"),l=i("2266"),u=i("7dd0"),c=i("2626"),h=i("83ab"),d=i("f183").fastKey,f=i("69f3"),p=f.set,m=f.getterFor;t.exports={getConstructor:function(t,e,i,u){var c=t((function(t,n){a(t,c,e),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=n&&l(n,t[u],t,i)})),f=m(e),g=function(t,e,i){var n,r,s=f(t),o=y(t,e);return o?o.value=i:(s.last=o={index:r=d(e,!0),key:e,value:i,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=o),n&&(n.next=o),h?s.size++:t.size++,"F"!==r&&(s.index[r]=o)),t},y=function(t,e){var i,n=f(t),r=d(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return s(c.prototype,{clear:function(){var t=this,e=f(t),i=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete i[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:t.size=0},delete:function(t){var e=this,i=f(e),n=y(e,t);if(n){var r=n.next,s=n.previous;delete i.index[n.index],n.removed=!0,s&&(s.next=r),r&&(r.previous=s),i.first==n&&(i.first=r),i.last==n&&(i.last=s),h?i.size--:e.size--}return!!n},forEach:function(t){var e,i=f(this),n=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!y(this,t)}}),s(c.prototype,i?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),h&&n(c.prototype,"size",{get:function(){return f(this).size}}),c},setStrong:function(t,e,i){var n=e+" Iterator",r=m(e),s=m(n);u(t,e,(function(t,e){p(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=s(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),c(e)}}},"65f0":function(t,e,i){var n=i("861d"),r=i("e8b5"),s=i("b622"),o=s("species");t.exports=function(t,e){var i;return r(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[o],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"67b6":function(t,e,i){"use strict";i("b0c0");var n=i("5530"),r=(i("2c64"),i("ba87")),s=i("9d26"),o=i("c37a"),a=i("7e2b"),l=i("a9ad"),u=i("4e82"),c=i("5311"),h=i("7560"),d=i("fe09"),f=i("80d2"),p=i("58df"),m=Object(p["a"])(a["a"],l["a"],c["a"],Object(u["a"])("radioGroup"),h["a"]);e["a"]=m.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return d["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return o["a"].options.computed.computedId.call(this)},hasLabel:o["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return d["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return d["a"].options.methods.genInput.call(this,"radio",t)},genLabel:function(){var t=this;return this.hasLabel?this.$createElement(r["a"],{on:{click:function(e){e.preventDefault(),t.onChange()}},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(f["o"])(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(s["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(n["a"])({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var e={staticClass:"v-radio",class:this.classes};return t("div",e,[this.genRadio(),this.genLabel()])}})},"68dd":function(t,e,i){},6922:function(t,e,i){var n,r;!function(s,o){"undefined"!=typeof window&&window.videojs?o(window.videojs):(n=[i("f0e2")],r=function(t){return o(t.default||t)}.apply(e,n),void 0===r||(t.exports=r))}(0,(function(t){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.26"}),(t.registerPlugin||t.plugin)("hotkeys",(function(e){function i(t){return"function"==typeof c?c(t):c}function n(t){null!=t&&"function"==typeof t.then&&t.then(null,(function(t){}))}var r=this,s=r.el(),o=document,a={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(t){return 32===t.which||179===t.which},rewindKey:function(t){return 37===t.which||177===t.which},forwardKey:function(t){return 39===t.which||176===t.which},volumeUpKey:function(t){return 38===t.which},volumeDownKey:function(t){return 40===t.which},muteKey:function(t){return 77===t.which},fullscreenKey:function(t){return 70===t.which},customKeys:{}},l=t.mergeOptions||t.util.mergeOptions,u=(e=l(a,e||{})).volumeStep,c=e.seekStep,h=e.enableMute,d=e.enableVolumeScroll,f=e.enableHoverScroll,p=e.enableFullscreen,m=e.enableNumbers,g=e.enableJogStyle,y=e.alwaysCaptureHotkeys,v=e.captureDocumentHotkeys,b=e.documentHotkeysFocusElementFilter,_=e.enableModifiersForNumbers,S=e.enableInactiveFocus,w=e.skipInitialFocus,T=t.VERSION;s.hasAttribute("tabIndex")||s.setAttribute("tabIndex","-1"),s.style.outline="none",!y&&r.autoplay()||w||r.one("play",(function(){s.focus()})),S&&r.on("userinactive",(function(){var t=function(){clearTimeout(e)},e=setTimeout((function(){r.off("useractive",t);var e=o.activeElement,i=s.querySelector(".vjs-control-bar");e&&e.parentElement==i&&s.focus()}),10);r.one("useractive",t)})),r.on("play",(function(){var t=s.querySelector(".iframeblocker");t&&""===t.style.display&&(t.style.display="block",t.style.bottom="39px")}));var x=function(t){var a,l,c=t.which,d=t.preventDefault.bind(t),f=r.duration();if(r.controls()){var S=o.activeElement;if(y||v&&b(S)||S==s||S==s.querySelector(".vjs-tech")||S==s.querySelector(".vjs-control-bar")||S==s.querySelector(".iframeblocker"))switch(P(t,r)){case 1:d(),y&&t.stopPropagation(),r.paused()?n(r.play()):r.pause();break;case 2:a=!r.paused(),d(),a&&r.pause(),(l=r.currentTime()-i(t))<=0&&(l=0),r.currentTime(l),a&&n(r.play());break;case 3:a=!r.paused(),d(),a&&r.pause(),(l=r.currentTime()+i(t))>=f&&(l=a?f-.001:f),r.currentTime(l),a&&n(r.play());break;case 5:d(),g?(l=r.currentTime()-1,r.currentTime()<=1&&(l=0),r.currentTime(l)):r.volume(r.volume()-u);break;case 4:d(),g?((l=r.currentTime()+1)>=f&&(l=f),r.currentTime(l)):r.volume(r.volume()+u);break;case 6:h&&r.muted(!r.muted());break;case 7:p&&(r.isFullscreen()?r.exitFullscreen():r.requestFullscreen());break;default:if((c>47&&c<59||c>95&&c<106)&&(_||!(t.metaKey||t.ctrlKey||t.altKey))&&m){var w=48;c>95&&(w=96);var T=c-w;d(),r.currentTime(r.duration()*T*.1)}for(var x in e.customKeys){var E=e.customKeys[x];E&&E.key&&E.handler&&E.key(t)&&(d(),E.handler(r,e,t))}}}},E=!1,C=s.querySelector(".vjs-volume-menu-button")||s.querySelector(".vjs-volume-panel");null!=C&&(C.onmouseover=function(){E=!0},C.onmouseout=function(){E=!1});var A=function(t){if(f)e=0;else var e=o.activeElement;if(r.controls()&&(y||e==s||e==s.querySelector(".vjs-tech")||e==s.querySelector(".iframeblocker")||e==s.querySelector(".vjs-control-bar")||E)&&d){t=window.event||t;var i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));t.preventDefault(),1==i?r.volume(r.volume()+u):-1==i&&r.volume(r.volume()-u)}},P=function(t,i){return e.playPauseKey(t,i)?1:e.rewindKey(t,i)?2:e.forwardKey(t,i)?3:e.volumeUpKey(t,i)?4:e.volumeDownKey(t,i)?5:e.muteKey(t,i)?6:e.fullscreenKey(t,i)?7:void 0};return r.on("keydown",x),r.on("dblclick",(function(t){if(null!=T&&T<="7.1.0"&&r.controls()){var e=t.relatedTarget||t.toElement||o.activeElement;e!=s&&e!=s.querySelector(".vjs-tech")&&e!=s.querySelector(".iframeblocker")||p&&(r.isFullscreen()?r.exitFullscreen():r.requestFullscreen())}})),r.on("mousewheel",A),r.on("DOMMouseScroll",A),v&&document.addEventListener("keydown",(function(t){x(t)})),this}))}))},"69f3":function(t,e,i){var n,r,s,o=i("7f9a"),a=i("da84"),l=i("861d"),u=i("9112"),c=i("5135"),h=i("f772"),d=i("d012"),f=a.WeakMap,p=function(t){return s(t)?r(t):n(t,{})},m=function(t){return function(e){var i;if(!l(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}};if(o){var g=new f,y=g.get,v=g.has,b=g.set;n=function(t,e){return b.call(g,t,e),e},r=function(t){return y.call(g,t)||{}},s=function(t){return v.call(g,t)}}else{var _=h("state");d[_]=!0,n=function(t,e){return u(t,_,e),e},r=function(t){return c(t,_)?t[_]:{}},s=function(t){return c(t,_)}}t.exports={set:n,get:r,has:s,enforce:p,getterFor:m}},"6b58":function(t,e,i){var n=i("7037"),r=i("3c96");function s(t,e){return!e||"object"!==n(e)&&"function"!==typeof e?r(t):e}t.exports=s},"6b75":function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,"a",(function(){return n}))},"6d61":function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),s=i("94ca"),o=i("6eeb"),a=i("f183"),l=i("2266"),u=i("19aa"),c=i("861d"),h=i("d039"),d=i("1c7e"),f=i("d44e"),p=i("7156");t.exports=function(t,e,i){var m=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),y=m?"set":"add",v=r[t],b=v&&v.prototype,_=v,S={},w=function(t){var e=b[t];o(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(s(t,"function"!=typeof v||!(g||b.forEach&&!h((function(){(new v).entries().next()})))))_=i.getConstructor(e,t,m,y),a.REQUIRED=!0;else if(s(t,!0)){var T=new _,x=T[y](g?{}:-0,1)!=T,E=h((function(){T.has(1)})),C=d((function(t){new v(t)})),A=!g&&h((function(){var t=new v,e=5;while(e--)t[y](e,e);return!t.has(-0)}));C||(_=e((function(e,i){u(e,_,t);var n=p(new v,e,_);return void 0!=i&&l(i,n[y],n,m),n})),_.prototype=b,b.constructor=_),(E||A)&&(w("delete"),w("has"),m&&w("get")),(A||x)&&w(y),g&&b.clear&&delete b.clear}return S[t]=_,n({global:!0,forced:_!=v},S),f(_,t),g||i.setStrong(_,t,m),_}},"6ece":function(t,e,i){},"6eeb":function(t,e,i){var n=i("da84"),r=i("9112"),s=i("5135"),o=i("ce4e"),a=i("8925"),l=i("69f3"),u=l.get,c=l.enforce,h=String(String).split("String");(t.exports=function(t,e,i,a){var l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||s(i,"name")||r(i,"name",e),c(i).source=h.join("string"==typeof e?e:"")),t!==n?(l?!d&&t[e]&&(u=!0):delete t[e],u?t[e]=i:r(t,e,i)):u?t[e]=i:o(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},"6f53":function(t,e,i){var n=i("83ab"),r=i("df75"),s=i("fc6a"),o=i("d1e7").f,a=function(t){return function(e){var i,a=s(e),l=r(a),u=l.length,c=0,h=[];while(u>c)i=l[c++],n&&!o.call(a,i)||h.push(t?[i,a[i]]:a[i]);return h}};t.exports={entries:a(!0),values:a(!1)}},"6f8f":function(t,e,i){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}i("d3b7"),i("4ae1"),i("25f0"),t.exports=n},7037:function(t,e,i){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),t.exports=n},"713a":function(t,e,i){"use strict";var n=i("8212");e["a"]=n["a"]},7156:function(t,e,i){var n=i("861d"),r=i("d2bb");t.exports=function(t,e,i){var s,o;return r&&"function"==typeof(s=e.constructor)&&s!==i&&n(o=s.prototype)&&o!==i.prototype&&r(t,o),t}},"71d9":function(t,e,i){"use strict";i("0481"),i("4160"),i("4069"),i("a9e3");var n=i("3835"),r=i("5530"),s=(i("5e23"),i("8dd9")),o=i("adda"),a=i("80d2"),l=i("d9bd");e["a"]=s["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:function(){return{isExtended:!1}},computed:{computedHeight:function(){var t=this.computedContentHeight;if(!this.isExtended)return t;var e=parseInt(this.extensionHeight);return this.isCollapsed?t:t+(isNaN(e)?0:e)},computedContentHeight:function(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes:function(){return Object(r["a"])(Object(r["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent})},isCollapsed:function(){return this.collapse},isProminent:function(){return this.prominent},styles:function(){return Object(r["a"])(Object(r["a"])({},this.measurableStyles),{},{height:Object(a["f"])(this.computedHeight)})}},created:function(){var t=this,e=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];e.forEach((function(e){var i=Object(n["a"])(e,2),r=i[0],s=i[1];t.$attrs.hasOwnProperty(r)&&Object(l["a"])(r,s,t)}))},methods:{genBackground:function(){var t={height:Object(a["f"])(this.computedHeight),src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img({props:t}):this.$createElement(o["a"],{props:t});return this.$createElement("div",{staticClass:"v-toolbar__image"},[e])},genContent:function(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(a["f"])(this.computedContentHeight)}},Object(a["o"])(this))},genExtension:function(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(a["f"])(this.extensionHeight)}},Object(a["o"])(this,"extension"))}},render:function(t){this.isExtended=this.extended||!!this.$scopedSlots.extension;var e=[this.genContent()],i=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&e.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&e.unshift(this.genBackground()),t(this.tag,i,e)}})},7418:function(t,e){e.f=Object.getOwnPropertySymbols},7435:function(t,e,i){},"746f":function(t,e,i){var n=i("428f"),r=i("5135"),s=i("e538"),o=i("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||o(e,t,{value:s.f(t)})}},7496:function(t,e,i){"use strict";var n=i("5530"),r=(i("df86"),i("7560")),s=i("58df");e["a"]=Object(s["a"])(r["a"]).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark:function(){return this.$vuetify.theme.dark}},beforeCreate:function(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render:function(t){var e=t("div",{staticClass:"v-application--wrap"},this.$slots.default);return t("div",{staticClass:"v-application",class:Object(n["a"])({"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl},this.themeClasses),attrs:{"data-app":!0},domProps:{id:this.id}},[e])}})},"749c":function(t,e){function i(t,e){for(var i in t)e[i]=t[i]}function n(t,e){var n=t.prototype;if(Object.create){var r=Object.create(e.prototype);n.__proto__=r}if(!(n instanceof e)){function s(){}s.prototype=e.prototype,s=new s,i(n,s),t.prototype=n=s}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var r="http://www.w3.org/1999/xhtml",s={},o=s.ELEMENT_NODE=1,a=s.ATTRIBUTE_NODE=2,l=s.TEXT_NODE=3,u=s.CDATA_SECTION_NODE=4,c=s.ENTITY_REFERENCE_NODE=5,h=s.ENTITY_NODE=6,d=s.PROCESSING_INSTRUCTION_NODE=7,f=s.COMMENT_NODE=8,p=s.DOCUMENT_NODE=9,m=s.DOCUMENT_TYPE_NODE=10,g=s.DOCUMENT_FRAGMENT_NODE=11,y=s.NOTATION_NODE=12,v={},b={},_=(v.INDEX_SIZE_ERR=(b[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),S=(v.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),v.NOT_FOUND_ERR=(b[8]="Not found",8)),w=(v.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));v.INVALID_STATE_ERR=(b[11]="Invalid state",11),v.SYNTAX_ERR=(b[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),v.NAMESPACE_ERR=(b[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function T(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,b[t]),this.message=b[t],Error.captureStackTrace&&Error.captureStackTrace(this,T);return i.code=t,e&&(this.message=this.message+": "+e),i}function x(){}function E(t,e){this._node=t,this._refresh=e,C(this)}function C(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);ot(t,"length",n.length),i(n,t),t._inc=e}}function A(){}function P(t,e){var i=t.length;while(i--)if(t[i]===e)return i}function M(t,e,i,n){if(n?e[P(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var r=t.ownerDocument;r&&(n&&B(r,t,n),D(r,t,i))}}function k(t,e,i){var n=P(e,i);if(!(n>=0))throw T(S,new Error(t.tagName+"@"+i));var r=e.length-1;while(n<r)e[n]=e[++n];if(e.length=r,t){var s=t.ownerDocument;s&&(B(s,t,i),i.ownerElement=null)}}function L(t){if(this._features={},t)for(var e in t)this._features=t[e]}function I(){}function O(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function R(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(R(t,e))return!0}while(t=t.nextSibling)}function N(){}function D(t,e,i){t&&t._inc++;var n=i.namespaceURI;"http://www.w3.org/2000/xmlns/"==n&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function B(t,e,i,n){t&&t._inc++;var r=i.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&delete e._nsMap[i.prefix?i.localName:""]}function F(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{var r=e.firstChild,s=0;while(r)n[s++]=r,r=r.nextSibling;n.length=s}}}function V(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,F(t.ownerDocument,t),e}function j(t,e,i){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===g){var r=e.firstChild;if(null==r)return e;var s=e.lastChild}else r=s=e;var o=i?i.previousSibling:t.lastChild;r.previousSibling=o,s.nextSibling=i,o?o.nextSibling=r:t.firstChild=r,null==i?t.lastChild=s:i.previousSibling=s;do{r.parentNode=t}while(r!==s&&(r=r.nextSibling));return F(t.ownerDocument||t,t),e.nodeType==g&&(e.firstChild=e.lastChild=null),e}function U(t,e){var i=e.parentNode;if(i){var n=t.lastChild;i.removeChild(e);n=t.lastChild}n=t.lastChild;return e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,F(t.ownerDocument,t,e),e}function G(){this._nsMap={}}function W(){}function z(){}function H(){}function q(){}function $(){}function Y(){}function X(){}function K(){}function Q(){}function Z(){}function J(){}function tt(){}function et(t,e){var i=[],n=9==this.nodeType?this.documentElement:this,r=n.prefix,s=n.namespaceURI;if(s&&null==r){r=n.lookupPrefix(s);if(null==r)var o=[{namespace:s,prefix:null}]}return nt(this,i,t,e,o),i.join("")}function it(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(!n&&!r)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;var s=i.length;while(s--){var o=i[s];if(o.prefix==n)return o.namespace!=r}return!0}function nt(t,e,i,n,s){if(n){if(t=n(t),!t)return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case o:s||(s=[]);s.length;var h=t.attributes,y=h.length,v=t.firstChild,b=t.tagName;i=r===t.namespaceURI||i,e.push("<",b);for(var _=0;_<y;_++){var S=h.item(_);"xmlns"==S.prefix?s.push({prefix:S.localName,namespace:S.value}):"xmlns"==S.nodeName&&s.push({prefix:"",namespace:S.value})}for(_=0;_<y;_++){S=h.item(_);if(it(S,i,s)){var w=S.prefix||"",T=S.namespaceURI,x=w?" xmlns:"+w:" xmlns";e.push(x,'="',T,'"'),s.push({prefix:w,namespace:T})}nt(S,e,i,n,s)}if(it(t,i,s)){w=t.prefix||"",T=t.namespaceURI,x=w?" xmlns:"+w:" xmlns";e.push(x,'="',T,'"'),s.push({prefix:w,namespace:T})}if(v||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(e.push(">"),i&&/^script$/i.test(b))while(v)v.data?e.push(v.data):nt(v,e,i,n,s),v=v.nextSibling;else while(v)nt(v,e,i,n,s),v=v.nextSibling;e.push("</",b,">")}else e.push("/>");return;case p:case g:v=t.firstChild;while(v)nt(v,e,i,n,s),v=v.nextSibling;return;case a:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,O),'"');case l:return e.push(t.data.replace(/[<&]/g,O));case u:return e.push("<![CDATA[",t.data,"]]>");case f:return e.push("\x3c!--",t.data,"--\x3e");case m:var E=t.publicId,C=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(' PUBLIC "',E),C&&"."!=C&&e.push('" "',C),e.push('">');else if(C&&"."!=C)e.push(' SYSTEM "',C,'">');else{var A=t.internalSubset;A&&e.push(" [",A,"]"),e.push(">")}return;case d:return e.push("<?",t.target," ",t.data,"?>");case c:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function rt(t,e,i){var n;switch(e.nodeType){case o:n=e.cloneNode(!1),n.ownerDocument=t;case g:break;case a:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,i){var r=e.firstChild;while(r)n.appendChild(rt(t,r,i)),r=r.nextSibling}return n}function st(t,e,i){var n=new e.constructor;for(var r in e){var s=e[r];"object"!=typeof s&&s!=n[r]&&(n[r]=s)}switch(e.childNodes&&(n.childNodes=new x),n.ownerDocument=t,n.nodeType){case o:var l=e.attributes,u=n.attributes=new A,c=l.length;u._ownerElement=n;for(var h=0;h<c;h++)n.setAttributeNode(st(t,l.item(h),!0));break;case a:i=!0}if(i){var d=e.firstChild;while(d)n.appendChild(st(t,d,i)),d=d.nextSibling}return n}function ot(t,e,i){t[e]=i}T.prototype=Error.prototype,i(v,T),x.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)nt(this[n],i,t,e);return i.join("")}},E.prototype.item=function(t){return C(this),this[t]},n(E,x),A.prototype={length:0,item:x.prototype.item,getNamedItem:function(t){var e=this.length;while(e--){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new T(w);var i=this.getNamedItem(t.nodeName);return M(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e,i=t.ownerElement;if(i&&i!=this._ownerElement)throw new T(w);return e=this.getNamedItemNS(t.namespaceURI,t.localName),M(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return k(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return k(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){var i=this.length;while(i--){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}},L.prototype={hasFeature:function(t,e){var i=this._features[t.toLowerCase()];return!(!i||e&&!(e in i))},createDocument:function(t,e,i){var n=new N;if(n.implementation=this,n.childNodes=new x,n.doctype=i,i&&n.appendChild(i),e){var r=n.createElementNS(t,e);n.appendChild(r)}return n},createDocumentType:function(t,e,i){var n=new Y;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=i,n}},I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return j(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return V(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return st(this.ownerDocument||this,this,t)},normalize:function(){var t=this.firstChild;while(t){var e=t.nextSibling;e&&e.nodeType==l&&t.nodeType==l?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){var e=this;while(e){var i=e._nsMap;if(i)for(var n in i)if(i[n]==t)return n;e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){var e=this;while(e){var i=e._nsMap;if(i&&t in i)return i[t];e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return null==e}},i(s,I),i(s,I.prototype),N.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==g){var i=t.firstChild;while(i){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return null==this.documentElement&&t.nodeType==o&&(this.documentElement=t),j(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),V(this,t)},importNode:function(t,e){return rt(this,t,e)},getElementById:function(t){var e=null;return R(this.documentElement,(function(i){if(i.nodeType==o&&i.getAttribute("id")==t)return e=i,!0})),e},createElement:function(t){var e=new G;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new x;var i=e.attributes=new A;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new Z;return t.ownerDocument=this,t.childNodes=new x,t},createTextNode:function(t){var e=new H;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new $;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new J;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new W;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Q;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new G,n=e.split(":"),r=i.attributes=new A;return i.childNodes=new x,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i,i},createAttributeNS:function(t,e){var i=new W,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}},n(N,I),G.prototype={nodeType:o,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===g?this.insertBefore(t,null):U(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new E(this,(function(e){var i=[];return R(e,(function(n){n===e||n.nodeType!=o||"*"!==t&&n.tagName!=t||i.push(n)})),i}))},getElementsByTagNameNS:function(t,e){return new E(this,(function(i){var n=[];return R(i,(function(r){r===i||r.nodeType!==o||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||n.push(r)})),n}))}},N.prototype.getElementsByTagName=G.prototype.getElementsByTagName,N.prototype.getElementsByTagNameNS=G.prototype.getElementsByTagNameNS,n(G,I),W.prototype.nodeType=a,n(W,I),z.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(b[_])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),r=this.data.substring(t+e);i=n+i+r,this.nodeValue=this.data=i,this.length=i.length}},n(z,I),H.prototype={nodeName:"#text",nodeType:l,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n(H,z),q.prototype={nodeName:"#comment",nodeType:f},n(q,z),$.prototype={nodeName:"#cdata-section",nodeType:u},n($,z),Y.prototype.nodeType=m,n(Y,I),X.prototype.nodeType=y,n(X,I),K.prototype.nodeType=h,n(K,I),Q.prototype.nodeType=c,n(Q,I),Z.prototype.nodeName="#document-fragment",Z.prototype.nodeType=g,n(Z,I),J.prototype.nodeType=d,n(J,I),tt.prototype.serializeToString=function(t,e,i){return et.call(t,e,i)},I.prototype.toString=et;try{if(Object.defineProperty){function at(t){switch(t.nodeType){case o:case g:var e=[];t=t.firstChild;while(t)7!==t.nodeType&&8!==t.nodeType&&e.push(at(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(E.prototype,"length",{get:function(){return C(this),this.$$length}}),Object.defineProperty(I.prototype,"textContent",{get:function(){return at(this)},set:function(t){switch(this.nodeType){case o:case g:while(this.firstChild)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ot=function(t,e,i){t["$$"+e]=i}}}catch(lt){}e.DOMImplementation=L,e.XMLSerializer=tt},7560:function(t,e,i){"use strict";i.d(e,"b",(function(){return s}));var n=i("5530"),r=i("2b0e");function s(t){var e=Object(n["a"])(Object(n["a"])({},t.props),t.injections),i=o.options.computed.isDark.call(e);return o.options.computed.themeClasses.call({isDark:i})}var o=r["a"].extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark:function(){return this.$vuetify.theme.dark||!1},isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});e["a"]=o},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7958:function(t,e,i){},"7a77":function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},"7aac":function(t,e,i){"use strict";var n=i("c532");t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,i,r,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),n.isString(r)&&a.push("path="+r),n.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(t,e,i){var n=i("1d80");t.exports=function(t){return Object(n(t))}},"7bc6":function(t,e,i){"use strict";i.d(e,"d",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));i("99af"),i("a15b"),i("d81d"),i("fb6a"),i("b0c0"),i("d3b7"),i("07ac"),i("ac1f"),i("25f0"),i("466d"),i("38cf"),i("5319"),i("1276"),i("2ca0"),i("498a"),i("5530"),i("3835");var n=i("d9bd");i("80d2"),i("8da5");function r(t){return!!t&&!!t.match(/^(#|var\(--|(rgb|hsl)a?\()/)}function s(t){var e;if("number"===typeof t)e=t;else{if("string"!==typeof t)throw new TypeError("Colors can only be numbers or strings, recieved ".concat(null==t?t:t.constructor.name," instead"));var i="#"===t[0]?t.substring(1):t;3===i.length&&(i=i.split("").map((function(t){return t+t})).join("")),6!==i.length&&Object(n["c"])("'".concat(t,"' is not a valid rgb color")),e=parseInt(i,16)}return e<0?(Object(n["c"])("Colors cannot be negative: '".concat(t,"'")),e=0):(e>16777215||isNaN(e))&&(Object(n["c"])("'".concat(t,"' is not a valid rgb color")),e=16777215),e}function o(t){var e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function a(t){return o(s(t))}},"7c73":function(t,e,i){var n,r=i("825a"),s=i("37e8"),o=i("7839"),a=i("d012"),l=i("1be4"),u=i("cc12"),c=i("f772"),h=">",d="<",f="prototype",p="script",m=c("IE_PROTO"),g=function(){},y=function(t){return d+p+h+t+d+"/"+p+h},v=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=u("iframe"),i="java"+p+":";return e.style.display="none",l.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(y("document.F=Object")),t.close(),t.F},_=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}_=n?v(n):b();var t=o.length;while(t--)delete _[f][o[t]];return _()};a[m]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(g[f]=r(t),i=new g,g[f]=null,i[m]=t):i=_(),void 0===e?i:s(i,e)}},"7db0":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").find,s=i("44d2"),o=i("ae40"),a="find",l=!0,u=o(a);a in[]&&Array(1)[a]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!u},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(a)},"7dd0":function(t,e,i){"use strict";var n=i("23e7"),r=i("9ed3"),s=i("e163"),o=i("d2bb"),a=i("d44e"),l=i("9112"),u=i("6eeb"),c=i("b622"),h=i("c430"),d=i("3f8c"),f=i("ae93"),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),y="keys",v="values",b="entries",_=function(){return this};t.exports=function(t,e,i,c,f,S,w){r(i,e,c);var T,x,E,C=function(t){if(t===f&&L)return L;if(!m&&t in M)return M[t];switch(t){case y:return function(){return new i(this,t)};case v:return function(){return new i(this,t)};case b:return function(){return new i(this,t)}}return function(){return new i(this)}},A=e+" Iterator",P=!1,M=t.prototype,k=M[g]||M["@@iterator"]||f&&M[f],L=!m&&k||C(f),I="Array"==e&&M.entries||k;if(I&&(T=s(I.call(new t)),p!==Object.prototype&&T.next&&(h||s(T)===p||(o?o(T,p):"function"!=typeof T[g]&&l(T,g,_)),a(T,A,!0,!0),h&&(d[A]=_))),f==v&&k&&k.name!==v&&(P=!0,L=function(){return k.call(this)}),h&&!w||M[g]===L||l(M,g,L),d[e]=L,f)if(x={values:C(v),keys:S?L:C(y),entries:C(b)},w)for(E in x)(m||P||!(E in M))&&u(M,E,x[E]);else n({target:e,proto:!0,forced:m||P},x);return x}},"7e2b":function(t,e,i){"use strict";var n=i("2b0e");function r(t){return function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(e,n)||this.$delete(this.$data[t],n);for(var r in e)this.$set(this.$data[t],r,e[r])}}e["a"]=n["a"].extend({data:function(){return{attrs$:{},listeners$:{}}},created:function(){this.$watch("$attrs",r("attrs$"),{immediate:!0}),this.$watch("$listeners",r("listeners$"),{immediate:!0})}})},"7e85":function(t,e,i){"use strict";i("4de4"),i("b0c0"),i("a9e3");var n=i("5530"),r=(i("8836"),i("3206")),s=i("a452"),o=i("7560"),a=i("58df"),l=i("d9bd"),u=Object(a["a"])(Object(r["b"])("stepper"),s["a"],o["a"]);e["a"]=u.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,vertical:Boolean},data:function(){var t={isBooted:!1,steps:[],content:[],isReverse:!1};return t.internalLazyValue=null!=this.value?this.value:(t[0]||{}).step||1,t},computed:{classes:function(){return Object(n["a"])({"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},this.themeClasses)}},watch:{internalValue:function(t,e){this.isReverse=Number(t)<Number(e),e&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(l["a"])("@input","@change",this)},mounted:function(){this.updateView()},methods:{register:function(t){"v-stepper-step"===t.$options.name?this.steps.push(t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content.push(t))},unregister:function(t){"v-stepper-step"===t.$options.name?this.steps=this.steps.filter((function(e){return e!==t})):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content=this.content.filter((function(e){return e!==t})))},stepClick:function(t){var e=this;this.$nextTick((function(){return e.internalValue=t}))},updateView:function(){for(var t=this.steps.length;--t>=0;)this.steps[t].toggle(this.internalValue);for(var e=this.content.length;--e>=0;)this.content[e].toggle(this.internalValue,this.isReverse)}},render:function(t){return t("div",{staticClass:"v-stepper",class:this.classes},this.$slots.default)}})},"7f9a":function(t,e,i){var n=i("da84"),r=i("8925"),s=n.WeakMap;t.exports="function"===typeof s&&/native code/.test(r(s))},"7fe1":function(t,e){var i=function(t){return t>>>0},n=function(t){return("00"+t.toString(16)).slice(-2)};t.exports={toUnsigned:i,toHexString:n}},"80d2":function(t,e,i){"use strict";i.d(e,"h",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"x",(function(){return a})),i.d(e,"b",(function(){return u})),i.d(e,"l",(function(){return c})),i.d(e,"i",(function(){return h})),i.d(e,"m",(function(){return d})),i.d(e,"n",(function(){return f})),i.d(e,"g",(function(){return p})),i.d(e,"q",(function(){return m})),i.d(e,"j",(function(){return y})),i.d(e,"k",(function(){return v})),i.d(e,"f",(function(){return b})),i.d(e,"s",(function(){return _})),i.d(e,"t",(function(){return w})),i.d(e,"y",(function(){return T})),i.d(e,"u",(function(){return x})),i.d(e,"c",(function(){return C})),i.d(e,"z",(function(){return A})),i.d(e,"A",(function(){return P})),i.d(e,"p",(function(){return M})),i.d(e,"o",(function(){return k})),i.d(e,"e",(function(){return L})),i.d(e,"w",(function(){return I})),i.d(e,"d",(function(){return O})),i.d(e,"r",(function(){return R})),i.d(e,"v",(function(){return N}));i("99af"),i("a623"),i("cb29"),i("4de4"),i("a630"),i("c975"),i("d81d"),i("13d5"),i("fb6a"),i("45fc"),i("b0c0"),i("a9e3"),i("b680"),i("dca8"),i("b64b"),i("d3b7"),i("ac1f"),i("25f0"),i("3ca3"),i("38cf"),i("5319"),i("1276"),i("2ca0"),i("498a"),i("3835");var n=i("53ca"),r=(i("5530"),i("2b0e"));function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return r["a"].extend({name:i||t.replace(/__/g,"-"),functional:!0,render:function(i,n){var r=n.data,s=n.children;return r.staticClass="".concat(t," ").concat(r.staticClass||"").trim(),i(e,r,s)}})}function o(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=function r(s){i(s),t.removeEventListener(e,r,n)};t.addEventListener(e,r,n)}var a=!1;try{if("undefined"!==typeof window){var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testListener",l,l),window.removeEventListener("testListener",l,l)}}catch(D){console.warn(D)}function u(t,e,i,n){t.addEventListener(e,i,!!a&&n)}function c(t,e,i){var n=e.length-1;if(n<0)return void 0===t?i:t;for(var r=0;r<n;r++){if(null==t)return i;t=t[e[r]]}return null==t||void 0===t[e[n]]?i:t[e[n]]}function h(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime())return!1;if(t!==Object(t)||e!==Object(e))return!1;var i=Object.keys(t);return i.length===Object.keys(e).length&&i.every((function(i){return h(t[i],e[i])}))}function d(t,e,i){return null!=t&&e&&"string"===typeof e?void 0!==t[e]?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),c(t,e.split("."),i)):i}function f(t,e,i){if(null==e)return void 0===t?i:t;if(t!==Object(t))return void 0===i?t:i;if("string"===typeof e)return d(t,e,i);if(Array.isArray(e))return c(t,e,i);if("function"!==typeof e)return i;var n=e(t,i);return"undefined"===typeof n?i:n}function p(t){return Array.from({length:t},(function(t,e){return e}))}function m(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;var e=+window.getComputedStyle(t).getPropertyValue("z-index");return e||m(t.parentNode)}var g={"&":"&amp;","<":"&lt;",">":"&gt;"};function y(t){return t.replace(/[&<>]/g,(function(t){return g[t]||t}))}function v(t,e){for(var i={},n=0;n<e.length;n++){var r=e[n];"undefined"!==typeof t[r]&&(i[r]=t[r])}return i}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return null==t||""===t?void 0:isNaN(+t)?String(t):"".concat(Number(t)).concat(e)}function _(t){return(t||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function S(t){return null!==t&&"object"===Object(n["a"])(t)}var w=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34});function T(t,e){if(!e.startsWith("$"))return e;var i="$vuetify.icons.values.".concat(e.split("$").pop().split(".").pop());return d(t,i,e)}function x(t){return Object.keys(t)}var E=/-(\w)/g,C=function(t){return t.replace(E,(function(t,e){return e?e.toUpperCase():""}))};function A(t){return t.charAt(0).toUpperCase()+t.slice(1)}function P(t){return null!=t?Array.isArray(t)?t:[t]:[]}function M(t,e,i){return t.$slots[e]&&t.$scopedSlots[e]&&t.$scopedSlots[e].name?i?"v-slot":"scoped":t.$slots[e]?"normal":t.$scopedSlots[e]?"scoped":void 0}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.$scopedSlots[e]?t.$scopedSlots[e](i instanceof Function?i():i):!t.$slots[e]||i&&!n?void 0:t.$slots[e]}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e,Math.min(i,t))}function I(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return t+i.repeat(Math.max(0,e-t.length))}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[],n=0;while(n<t.length)i.push(t.substr(n,e)),n+=e;return i}function R(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?1024:1e3;if(t<i)return"".concat(t," B");var n=e?["Ki","Mi","Gi"]:["k","M","G"],r=-1;while(Math.abs(t)>=i&&r<n.length-1)t/=i,++r;return"".concat(t.toFixed(1)," ").concat(n[r],"B")}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in e){var n=t[i],r=e[i];S(n)&&S(r)?t[i]=N(n,r):t[i]=r}return t}},"81d5":function(t,e,i){"use strict";var n=i("7b0b"),r=i("23cb"),s=i("50c4");t.exports=function(t){var e=n(this),i=s(e.length),o=arguments.length,a=r(o>1?arguments[1]:void 0,i),l=o>2?arguments[2]:void 0,u=void 0===l?i:r(l,i);while(u>a)e[a++]=t;return e}},8212:function(t,e,i){"use strict";i("a9e3");var n=i("5530"),r=(i("3408"),i("a9ad")),s=i("24b2"),o=i("a236"),a=i("80d2"),l=i("58df");e["a"]=Object(l["a"])(r["a"],s["a"],o["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes:function(){return Object(n["a"])({"v-avatar--left":this.left,"v-avatar--right":this.right},this.roundedClasses)},styles:function(){return Object(n["a"])({height:Object(a["f"])(this.size),minWidth:Object(a["f"])(this.size),width:Object(a["f"])(this.size)},this.measurableStyles)}},render:function(t){var e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}})},"825a":function(t,e,i){var n=i("861d");t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},8270:function(t,e,i){"use strict";i("a9e3");var n=i("5530"),r=i("713a");e["a"]=r["a"].extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-list-item__avatar--horizontal":this.horizontal},r["a"].options.computed.classes.call(this)),{},{"v-avatar--tile":this.tile||this.horizontal})}},render:function(t){var e=r["a"].options.render.call(this,t);return e.data=e.data||{},e.data.staticClass+=" v-list-item__avatar",e}})},8336:function(t,e,i){"use strict";i("4160"),i("caad"),i("c7cd");var n=i("53ca"),r=i("3835"),s=i("5530"),o=(i("86cc"),i("10d2")),a=i("490a"),l=a["a"],u=i("4e82"),c=i("f2e7"),h=i("fe6c"),d=i("1c87"),f=i("af2b"),p=i("58df"),m=i("d9bd"),g=Object(p["a"])(o["a"],d["a"],h["a"],f["a"],Object(u["a"])("btnToggle"),Object(c["b"])("inputValue"));e["a"]=g.extend().extend({name:"v-btn",props:{activeClass:{type:String,default:function(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:function(){return{proxyClass:"v-btn--active"}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({"v-btn":!0},d["a"].options.computed.classes.call(this)),{},{"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--contained":this.contained,"v-btn--depressed":this.depressed||this.outlined,"v-btn--disabled":this.disabled,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--flat":this.isFlat,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top},this.themeClasses),this.groupClasses),this.elevationClasses),this.sizeableClasses)},contained:function(){return Boolean(!this.isFlat&&!this.depressed&&!this.elevation)},computedRipple:function(){var t=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=this.ripple?this.ripple:t)},isFlat:function(){return Boolean(this.icon||this.text||this.outlined)},isRound:function(){return Boolean(this.icon||this.fab)},styles:function(){return Object(s["a"])({},this.measurableStyles)}},created:function(){var t=this,e=[["flat","text"],["outline","outlined"],["round","rounded"]];e.forEach((function(e){var i=Object(r["a"])(e,2),n=i[0],s=i[1];t.$attrs.hasOwnProperty(n)&&Object(m["a"])(n,s,t)}))},methods:{click:function(t){!this.retainFocusOnClick&&!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent:function(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader:function(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(l,{props:{indeterminate:!0,size:23,width:2}})])}},render:function(t){var e=[this.genContent(),this.loading&&this.genLoader()],i=this.isFlat?this.setTextColor:this.setBackgroundColor,r=this.generateRouteLink(),s=r.tag,o=r.data;return"button"===s&&(o.attrs.type=this.type,o.attrs.disabled=this.disabled),o.attrs.value=["string","number"].includes(Object(n["a"])(this.value))?this.value:JSON.stringify(this.value),t(s,this.disabled?o:i(this.color,o),e)}})},8362:function(t,e){t.exports=n;var i=Object.prototype.toString;function n(t){if(!t)return!1;var e=i.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},"83ab":function(t,e,i){var n=i("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(t,e,i){"use strict";var n=i("d925"),r=i("e683");t.exports=function(t,e){return t&&!n(e)?r(t,e):e}},8418:function(t,e,i){"use strict";var n=i("c04e"),r=i("9bf2"),s=i("5c6c");t.exports=function(t,e,i){var o=n(e);o in t?r.f(t,o,s(0,i)):t[o]=i}},8507:function(t,e,i){"use strict";(function(e){/*! @name @videojs/vhs-utils @version 1.3.0 @license MIT */
function n(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var r=n(i("be09")),s=function(t){return r.atob?r.atob(t):e.from(t,"base64").toString("binary")};function o(t){for(var e=s(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}t.exports=o}).call(this,i("b639").Buffer)},8547:function(t,e,i){"use strict";var n=i("2b0e"),r=i("80d2");e["a"]=n["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:r["i"]}}})},"857a":function(t,e,i){var n=i("1d80"),r=/"/g;t.exports=function(t,e,i,s){var o=String(n(t)),a="<"+e;return""!==i&&(a+=" "+i+'="'+String(s).replace(r,"&quot;")+'"'),a+">"+o+"</"+e+">"}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8654:function(t,e,i){"use strict";i("0481"),i("caad"),i("4069"),i("a9e3"),i("2b19"),i("d3b7"),i("25f0");var n=i("5530"),r=(i("4ff9"),i("c37a")),s=(i("99af"),i("e9b1"),i("7560")),o=i("58df"),a=Object(o["a"])(s["a"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render:function(t,e){var i=e.props,r=parseInt(i.max,10),o=parseInt(i.value,10),a=r?"".concat(o," / ").concat(r):String(i.value),l=r&&o>r;return t("div",{staticClass:"v-counter",class:Object(n["a"])({"error--text":l},Object(s["b"])(e))},a)}}),l=a,u=i("ba87"),c=i("90a2"),h=i("d9bd"),d=i("2b0e");function f(t){return"undefined"!==typeof window&&"IntersectionObserver"in window?d["a"].extend({name:"intersectable",mounted:function(){c["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed:function(){c["a"].unbind(this.$el)},methods:{onObserve:function(e,i,n){if(n)for(var r=0,s=t.onVisible.length;r<s;r++){var o=this[t.onVisible[r]];"function"!==typeof o?Object(h["c"])(t.onVisible[r]+" method is not available on the instance but referenced in intersectable mixin options"):o()}}}}):d["a"].extend({name:"intersectable"})}var p=i("297c"),m=i("38cb"),g=i("5607"),y=i("80d2"),v=Object(o["a"])(r["a"],f({onVisible:["setLabelWidth","setPrefixWidth","setPrependWidth","tryAutofocus"]}),p["a"]),b=["color","file","time","date","datetime-local","week","month"];e["a"]=v.extend().extend({name:"v-text-field",directives:{ripple:g["a"]},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:function(){return{badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped})},computedColor:function(){var t=m["a"].options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":t},computedCounterValue:function(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):(this.internalValue||"").toString().length},hasCounter:function(){return!1!==this.counter&&null!=this.counter},hasDetails:function(){return r["a"].options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("input",this.lazyValue)}},isDirty:function(){return null!=this.lazyValue&&this.lazyValue.toString().length>0||this.badInput},isEnclosed:function(){return this.filled||this.isSolo||this.outlined},isLabelActive:function(){return this.isDirty||b.includes(this.type)},isSingle:function(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo:function(){return this.solo||this.soloInverted},labelPosition:function(){var t=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(t-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:t,right:"auto"}:{left:"auto",right:t}},showLabel:function(){return this.hasLabel&&(!this.isSingle||!this.isLabelActive&&!this.placeholder)},labelValue:function(){return!this.isSingle&&Boolean(this.isFocused||this.isLabelActive||this.placeholder)}},watch:{labelValue:"setLabelWidth",outlined:"setLabelWidth",label:function(){this.$nextTick(this.setLabelWidth)},prefix:function(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value:function(t){this.lazyValue=t}},created:function(){this.$attrs.hasOwnProperty("box")&&Object(h["a"])("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&Object(h["a"])("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(h["c"])("shaped should be used with either filled or outlined",this)},mounted:function(){var t=this;this.autofocus&&this.tryAutofocus(),this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth(),requestAnimationFrame((function(){return t.isBooted=!0}))},methods:{focus:function(){this.onFocus()},blur:function(t){var e=this;window.requestAnimationFrame((function(){e.$refs.input&&e.$refs.input.blur()}))},clearableCallback:function(){var t=this;this.$refs.input&&this.$refs.input.focus(),this.$nextTick((function(){return t.internalValue=null}))},genAppendSlot:function(){var t=[];return this.$slots["append-outer"]?t.push(this.$slots["append-outer"]):this.appendOuterIcon&&t.push(this.genIcon("appendOuter")),this.genSlot("append","outer",t)},genPrependInnerSlot:function(){var t=[];return this.$slots["prepend-inner"]?t.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&t.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",t)},genIconSlot:function(){var t=[];return this.$slots["append"]?t.push(this.$slots["append"]):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","inner",t)},genInputSlot:function(){var t=r["a"].options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&(t.children=t.children||[],t.children.unshift(e)),t},genClearIcon:function(){if(!this.clearable)return null;var t=this.isDirty?void 0:{attrs:{disabled:!0}};return this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback,t)])},genCounter:function(){if(!this.hasCounter)return null;var t=!0===this.counter?this.attrs$.maxlength:this.counter;return this.$createElement(l,{props:{dark:this.dark,light:this.light,max:t,value:this.computedCounterValue}})},genControl:function(){return r["a"].options.methods.genControl.call(this)},genDefaultSlot:function(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset:function(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel:function(){if(!this.showLabel)return null;var t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(u["a"],t,this.$slots.label||this.label)},genLegend:function(){var t=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,e=this.$createElement("span",{domProps:{innerHTML:"&#8203;"}});return this.$createElement("legend",{style:{width:this.isSingle?void 0:Object(y["f"])(t)}},[e])},genInput:function(){var t=Object.assign({},this.listeners$);return delete t["change"],this.$createElement("input",{style:{},domProps:{value:"number"===this.type&&Object.is(this.lazyValue,-0)?"-0":this.lazyValue},attrs:Object(n["a"])(Object(n["a"])({},this.attrs$),{},{autofocus:this.autofocus,disabled:this.isDisabled,id:this.computedId,placeholder:this.placeholder,readonly:this.isReadonly,type:this.type}),on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input"})},genMessages:function(){if(!this.showDetails)return null;var t=r["a"].options.methods.genMessages.call(this),e=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[t,e])},genTextFieldSlot:function(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix:function(t){return this.$createElement("div",{class:"v-text-field__".concat(t),ref:t},this[t])},onBlur:function(t){var e=this;this.isFocused=!1,t&&this.$nextTick((function(){return e.$emit("blur",t)}))},onClick:function(){this.isFocused||this.isDisabled||!this.$refs.input||this.$refs.input.focus()},onFocus:function(t){if(this.$refs.input)return document.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,t&&this.$emit("focus",t)))},onInput:function(t){var e=t.target;this.internalValue=e.value,this.badInput=e.validity&&e.validity.badInput},onKeyDown:function(t){t.keyCode===y["t"].enter&&this.$emit("change",this.internalValue),this.$emit("keydown",t)},onMouseDown:function(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),r["a"].options.methods.onMouseDown.call(this,t)},onMouseUp:function(t){this.hasMouseDown&&this.focus(),r["a"].options.methods.onMouseUp.call(this,t)},setLabelWidth:function(){this.outlined&&(this.labelWidth=this.$refs.label?Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24):0)},setPrefixWidth:function(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth:function(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus:function(){return!(!this.autofocus||"undefined"===typeof document||!this.$refs.input||document.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue:function(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)}}})},"86cc":function(t,e,i){},8836:function(t,e,i){},8860:function(t,e,i){"use strict";i("c740"),i("0481"),i("a434"),i("4069");var n=i("b85c"),r=i("5530"),s=(i("3ad0"),i("8dd9"));e["a"]=s["a"].extend().extend({name:"v-list",provide:function(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:function(){return{groups:[]}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine})}},methods:{register:function(t){this.groups.push(t)},unregister:function(t){var e=this.groups.findIndex((function(e){return e._uid===t._uid}));e>-1&&this.groups.splice(e,1)},listClick:function(t){if(!this.expand){var e,i=Object(n["a"])(this.groups);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.toggle(t)}}catch(s){i.e(s)}finally{i.f()}}}},render:function(t){var e={staticClass:"v-list",class:this.classes,style:this.styles,attrs:Object(r["a"])({role:this.isInNav||this.isInMenu?void 0:"list"},this.attrs$)};return t(this.tag,this.setBackgroundColor(this.color,e),[this.$slots.default])}})},8925:function(t,e,i){var n=i("c6cd"),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},"899c":function(t,e,i){},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"8adc":function(t,e,i){},"8b0d":function(t,e,i){},"8c10":function(t,e){function i(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}t.exports=i},"8c4f":function(t,e,i){"use strict";
/*!
  * vue-router v3.3.4
  * (c) 2020 Evan You
  * @license MIT
  */function n(t,e){0}function r(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function s(t,e){return r(t)&&t._isRouter&&(null==e||t.type===e)}function o(t,e){for(var i in e)t[i]=e[i];return t}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var i=e.props,n=e.children,r=e.parent,s=e.data;s.routerView=!0;var a=r.$createElement,u=i.name,c=r.$route,h=r._routerViewCache||(r._routerViewCache={}),d=0,f=!1;while(r&&r._routerRoot!==r){var p=r.$vnode?r.$vnode.data:{};p.routerView&&d++,p.keepAlive&&r._directInactive&&r._inactive&&(f=!0),r=r.$parent}if(s.routerViewDepth=d,f){var m=h[u],g=m&&m.component;return g?(m.configProps&&l(g,s,m.route,m.configProps),a(g,s,n)):a()}var y=c.matched[d],v=y&&y.components[u];if(!y||!v)return h[u]=null,a();h[u]={component:v},s.registerRouteInstance=function(t,e){var i=y.instances[u];(e&&i!==t||!e&&i===t)&&(y.instances[u]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){y.instances[u]=e.componentInstance},s.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==y.instances[u]&&(y.instances[u]=t.componentInstance)};var b=y.props&&y.props[u];return b&&(o(h[u],{route:c,configProps:b}),l(v,s,c,b)),a(v,s,n)}};function l(t,e,i,n){var r=e.props=u(i,n);if(r){r=e.props=o({},r);var s=e.attrs=e.attrs||{};for(var a in r)t.props&&a in t.props||(s[a]=r[a],delete r[a])}}function u(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}var c=/[!'()*]/g,h=function(t){return"%"+t.charCodeAt(0).toString(16)},d=/%2C/g,f=function(t){return encodeURIComponent(t).replace(c,h).replace(d,",")},p=decodeURIComponent;function m(t,e,i){void 0===e&&(e={});var n,r=i||g;try{n=r(t||"")}catch(o){n={}}for(var s in e)n[s]=e[s];return n}function g(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var i=t.replace(/\+/g," ").split("="),n=p(i.shift()),r=i.length>0?p(i.join("=")):null;void 0===e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]})),e):e}function y(t){var e=t?Object.keys(t).map((function(e){var i=t[e];if(void 0===i)return"";if(null===i)return f(e);if(Array.isArray(i)){var n=[];return i.forEach((function(t){void 0!==t&&(null===t?n.push(f(e)):n.push(f(e)+"="+f(t)))})),n.join("&")}return f(e)+"="+f(i)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var v=/\/?$/;function b(t,e,i,n){var r=n&&n.options.stringifyQuery,s=e.query||{};try{s=_(s)}catch(a){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:s,params:e.params||{},fullPath:T(e,r),matched:t?w(t):[]};return i&&(o.redirectedFrom=T(i,r)),Object.freeze(o)}function _(t){if(Array.isArray(t))return t.map(_);if(t&&"object"===typeof t){var e={};for(var i in t)e[i]=_(t[i]);return e}return t}var S=b(null,{path:"/"});function w(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function T(t,e){var i=t.path,n=t.query;void 0===n&&(n={});var r=t.hash;void 0===r&&(r="");var s=e||y;return(i||"/")+s(n)+r}function x(t,e){return e===S?t===e:!!e&&(t.path&&e.path?t.path.replace(v,"")===e.path.replace(v,"")&&t.hash===e.hash&&E(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&E(t.query,e.query)&&E(t.params,e.params)))}function E(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var i=Object.keys(t),n=Object.keys(e);return i.length===n.length&&i.every((function(i){var n=t[i],r=e[i];return"object"===typeof n&&"object"===typeof r?E(n,r):String(n)===String(r)}))}function C(t,e){return 0===t.path.replace(v,"/").indexOf(e.path.replace(v,"/"))&&(!e.hash||t.hash===e.hash)&&A(t.query,e.query)}function A(t,e){for(var i in e)if(!(i in t))return!1;return!0}function P(t,e,i){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var r=e.split("/");i&&r[r.length-1]||r.pop();for(var s=t.replace(/^\//,"").split("/"),o=0;o<s.length;o++){var a=s[o];".."===a?r.pop():"."!==a&&r.push(a)}return""!==r[0]&&r.unshift(""),r.join("/")}function M(t){var e="",i="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var r=t.indexOf("?");return r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),{path:t,query:i,hash:e}}function k(t){return t.replace(/\/\//g,"/")}var L=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},I=Q,O=F,R=V,N=G,D=K,B=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function F(t,e){var i,n=[],r=0,s=0,o="",a=e&&e.delimiter||"/";while(null!=(i=B.exec(t))){var l=i[0],u=i[1],c=i.index;if(o+=t.slice(s,c),s=c+l.length,u)o+=u[1];else{var h=t[s],d=i[2],f=i[3],p=i[4],m=i[5],g=i[6],y=i[7];o&&(n.push(o),o="");var v=null!=d&&null!=h&&h!==d,b="+"===g||"*"===g,_="?"===g||"*"===g,S=i[2]||a,w=p||m;n.push({name:f||r++,prefix:d||"",delimiter:S,optional:_,repeat:b,partial:v,asterisk:!!y,pattern:w?z(w):y?".*":"[^"+W(S)+"]+?"})}}return s<t.length&&(o+=t.substr(s)),o&&n.push(o),n}function V(t,e){return G(F(t,e),e)}function j(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function U(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function G(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(i[n]=new RegExp("^(?:"+t[n].pattern+")$",q(e)));return function(e,n){for(var r="",s=e||{},o=n||{},a=o.pretty?j:encodeURIComponent,l=0;l<t.length;l++){var u=t[l];if("string"!==typeof u){var c,h=s[u.name];if(null==h){if(u.optional){u.partial&&(r+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(L(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(c=a(h[d]),!i[l].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===d?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?U(h):a(h),!i[l].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');r+=u.prefix+c}}else r+=u}return r}}function W(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function z(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function H(t,e){return t.keys=e,t}function q(t){return t&&t.sensitive?"":"i"}function $(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return H(t,e)}function Y(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(Q(t[r],e,i).source);var s=new RegExp("(?:"+n.join("|")+")",q(i));return H(s,e)}function X(t,e,i){return K(F(t,i),e,i)}function K(t,e,i){L(e)||(i=e||i,e=[]),i=i||{};for(var n=i.strict,r=!1!==i.end,s="",o=0;o<t.length;o++){var a=t[o];if("string"===typeof a)s+=W(a);else{var l=W(a.prefix),u="(?:"+a.pattern+")";e.push(a),a.repeat&&(u+="(?:"+l+u+")*"),u=a.optional?a.partial?l+"("+u+")?":"(?:"+l+"("+u+"))?":l+"("+u+")",s+=u}}var c=W(i.delimiter||"/"),h=s.slice(-c.length)===c;return n||(s=(h?s.slice(0,-c.length):s)+"(?:"+c+"(?=$))?"),s+=r?"$":n&&h?"":"(?="+c+"|$)",H(new RegExp("^"+s,q(i)),e)}function Q(t,e,i){return L(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?$(t,e):L(t)?Y(t,e,i):X(t,e,i)}I.parse=O,I.compile=R,I.tokensToFunction=N,I.tokensToRegExp=D;var Z=Object.create(null);function J(t,e,i){e=e||{};try{var n=Z[t]||(Z[t]=I.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),n(e,{pretty:!0})}catch(r){return""}finally{delete e[0]}}function tt(t,e,i,n){var r="string"===typeof t?{path:t}:t;if(r._normalized)return r;if(r.name){r=o({},t);var s=r.params;return s&&"object"===typeof s&&(r.params=o({},s)),r}if(!r.path&&r.params&&e){r=o({},r),r._normalized=!0;var a=o(o({},e.params),r.params);if(e.name)r.name=e.name,r.params=a;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;r.path=J(l,a,"path "+e.path)}else 0;return r}var u=M(r.path||""),c=e&&e.path||"/",h=u.path?P(u.path,c,i||r.append):c,d=m(u.query,r.query,n&&n.options.parseQuery),f=r.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:h,query:d,hash:f}}var et,it=[String,Object],nt=[String,Array],rt=function(){},st={name:"RouterLink",props:{to:{type:it,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nt,default:"click"}},render:function(t){var e=this,i=this.$router,n=this.$route,r=i.resolve(this.to,n,this.append),s=r.location,a=r.route,l=r.href,u={},c=i.options.linkActiveClass,h=i.options.linkExactActiveClass,d=null==c?"router-link-active":c,f=null==h?"router-link-exact-active":h,p=null==this.activeClass?d:this.activeClass,m=null==this.exactActiveClass?f:this.exactActiveClass,g=a.redirectedFrom?b(null,tt(a.redirectedFrom),null,i):a;u[m]=x(n,g),u[p]=this.exact?u[m]:C(n,g);var y=u[m]?this.ariaCurrentValue:null,v=function(t){ot(t)&&(e.replace?i.replace(s,rt):i.push(s,rt))},_={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){_[t]=v})):_[this.event]=v;var S={class:u},w=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:a,navigate:v,isActive:u[p],isExactActive:u[m]});if(w){if(1===w.length)return w[0];if(w.length>1||!w.length)return 0===w.length?t():t("span",{},w)}if("a"===this.tag)S.on=_,S.attrs={href:l,"aria-current":y};else{var T=at(this.$slots.default);if(T){T.isStatic=!1;var E=T.data=o({},T.data);for(var A in E.on=E.on||{},E.on){var P=E.on[A];A in _&&(E.on[A]=Array.isArray(P)?P:[P])}for(var M in _)M in E.on?E.on[M].push(_[M]):E.on[M]=v;var k=T.data.attrs=o({},T.data.attrs);k.href=l,k["aria-current"]=y}else S.on=_}return t(this.tag,S,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function at(t){if(t)for(var e,i=0;i<t.length;i++){if(e=t[i],"a"===e.tag)return e;if(e.children&&(e=at(e.children)))return e}}function lt(t){if(!lt.installed||et!==t){lt.installed=!0,et=t;var e=function(t){return void 0!==t},i=function(t,i){var n=t.$options._parentVnode;e(n)&&e(n=n.data)&&e(n=n.registerRouteInstance)&&n(t,i)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",a),t.component("RouterLink",st);var n=t.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var ut="undefined"!==typeof window;function ct(t,e,i,n){var r=e||[],s=i||Object.create(null),o=n||Object.create(null);t.forEach((function(t){ht(r,s,o,t)}));for(var a=0,l=r.length;a<l;a++)"*"===r[a]&&(r.push(r.splice(a,1)[0]),l--,a--);return{pathList:r,pathMap:s,nameMap:o}}function ht(t,e,i,n,r,s){var o=n.path,a=n.name;var l=n.pathToRegexpOptions||{},u=ft(o,r,l.strict);"boolean"===typeof n.caseSensitive&&(l.sensitive=n.caseSensitive);var c={path:u,regex:dt(u,l),components:n.components||{default:n.component},instances:{},name:a,parent:r,matchAs:s,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach((function(n){var r=s?k(s+"/"+n.path):void 0;ht(t,e,i,n,c,r)})),e[c.path]||(t.push(c.path),e[c.path]=c),void 0!==n.alias)for(var h=Array.isArray(n.alias)?n.alias:[n.alias],d=0;d<h.length;++d){var f=h[d];0;var p={path:f,children:n.children};ht(t,e,i,p,r,c.path||"/")}a&&(i[a]||(i[a]=c))}function dt(t,e){var i=I(t,[],e);return i}function ft(t,e,i){return i||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:k(e.path+"/"+t)}function pt(t,e){var i=ct(t),n=i.pathList,r=i.pathMap,s=i.nameMap;function o(t){ct(t,n,r,s)}function a(t,i,o){var a=tt(t,i,!1,e),l=a.name;if(l){var u=s[l];if(!u)return c(null,a);var h=u.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof a.params&&(a.params={}),i&&"object"===typeof i.params)for(var d in i.params)!(d in a.params)&&h.indexOf(d)>-1&&(a.params[d]=i.params[d]);return a.path=J(u.path,a.params,'named route "'+l+'"'),c(u,a,o)}if(a.path){a.params={};for(var f=0;f<n.length;f++){var p=n[f],m=r[p];if(mt(m.regex,a.path,a.params))return c(m,a,o)}}return c(null,a)}function l(t,i){var n=t.redirect,r="function"===typeof n?n(b(t,i,null,e)):n;if("string"===typeof r&&(r={path:r}),!r||"object"!==typeof r)return c(null,i);var o=r,l=o.name,u=o.path,h=i.query,d=i.hash,f=i.params;if(h=o.hasOwnProperty("query")?o.query:h,d=o.hasOwnProperty("hash")?o.hash:d,f=o.hasOwnProperty("params")?o.params:f,l){s[l];return a({_normalized:!0,name:l,query:h,hash:d,params:f},void 0,i)}if(u){var p=gt(u,t),m=J(p,f,'redirect route with path "'+p+'"');return a({_normalized:!0,path:m,query:h,hash:d},void 0,i)}return c(null,i)}function u(t,e,i){var n=J(i,e.params,'aliased route with path "'+i+'"'),r=a({_normalized:!0,path:n});if(r){var s=r.matched,o=s[s.length-1];return e.params=r.params,c(o,e)}return c(null,e)}function c(t,i,n){return t&&t.redirect?l(t,n||i):t&&t.matchAs?u(t,i,t.matchAs):b(t,i,n,e)}return{match:a,addRoutes:o}}function mt(t,e,i){var n=e.match(t);if(!n)return!1;if(!i)return!0;for(var r=1,s=n.length;r<s;++r){var o=t.keys[r-1],a="string"===typeof n[r]?decodeURIComponent(n[r]):n[r];o&&(i[o.name||"pathMatch"]=a)}return!0}function gt(t,e){return P(t,e.parent?e.parent.path:"/",!0)}var yt=ut&&window.performance&&window.performance.now?window.performance:Date;function vt(){return yt.now().toFixed(3)}var bt=vt();function _t(){return bt}function St(t){return bt=t}var wt=Object.create(null);function Tt(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),i=o({},window.history.state);return i.key=_t(),window.history.replaceState(i,"",e),window.addEventListener("popstate",Ct),function(){window.removeEventListener("popstate",Ct)}}function xt(t,e,i,n){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick((function(){var s=At(),o=r.call(t,e,i,n?s:null);o&&("function"===typeof o.then?o.then((function(t){Rt(t,s)})).catch((function(t){0})):Rt(o,s))}))}}function Et(){var t=_t();t&&(wt[t]={x:window.pageXOffset,y:window.pageYOffset})}function Ct(t){Et(),t.state&&t.state.key&&St(t.state.key)}function At(){var t=_t();if(t)return wt[t]}function Pt(t,e){var i=document.documentElement,n=i.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}function Mt(t){return It(t.x)||It(t.y)}function kt(t){return{x:It(t.x)?t.x:window.pageXOffset,y:It(t.y)?t.y:window.pageYOffset}}function Lt(t){return{x:It(t.x)?t.x:0,y:It(t.y)?t.y:0}}function It(t){return"number"===typeof t}var Ot=/^#\d/;function Rt(t,e){var i="object"===typeof t;if(i&&"string"===typeof t.selector){var n=Ot.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(n){var r=t.offset&&"object"===typeof t.offset?t.offset:{};r=Lt(r),e=Pt(n,r)}else Mt(t)&&(e=kt(t))}else i&&Mt(t)&&(e=kt(t));e&&window.scrollTo(e.x,e.y)}var Nt=ut&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Dt(t,e){Et();var i=window.history;try{if(e){var n=o({},i.state);n.key=_t(),i.replaceState(n,"",t)}else i.pushState({key:St(vt())},"",t)}catch(r){window.location[e?"replace":"assign"](t)}}function Bt(t){Dt(t,!0)}function Ft(t,e,i){var n=function(r){r>=t.length?i():t[r]?e(t[r],(function(){n(r+1)})):n(r+1)};n(0)}function Vt(t){return function(e,i,n){var s=!1,o=0,a=null;jt(t,(function(t,e,i,l){if("function"===typeof t&&void 0===t.cid){s=!0,o++;var u,c=zt((function(e){Wt(e)&&(e=e.default),t.resolved="function"===typeof e?e:et.extend(e),i.components[l]=e,o--,o<=0&&n()})),h=zt((function(t){var e="Failed to resolve async component "+l+": "+t;a||(a=r(t)?t:new Error(e),n(a))}));try{u=t(c,h)}catch(f){h(f)}if(u)if("function"===typeof u.then)u.then(c,h);else{var d=u.component;d&&"function"===typeof d.then&&d.then(c,h)}}})),s||n()}}function jt(t,e){return Ut(t.map((function(t){return Object.keys(t.components).map((function(i){return e(t.components[i],t.instances[i],t,i)}))})))}function Ut(t){return Array.prototype.concat.apply([],t)}var Gt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Wt(t){return t.__esModule||Gt&&"Module"===t[Symbol.toStringTag]}function zt(t){var e=!1;return function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];if(!e)return e=!0,t.apply(this,i)}}var Ht={redirected:1,aborted:2,cancelled:3,duplicated:4};function qt(t,e){return Kt(t,e,Ht.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Zt(e)+'" via a navigation guard.')}function $t(t,e){return Kt(t,e,Ht.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".')}function Yt(t,e){return Kt(t,e,Ht.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Xt(t,e){return Kt(t,e,Ht.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Kt(t,e,i,n){var r=new Error(n);return r._isRouter=!0,r.from=t,r.to=e,r.type=i,r}var Qt=["params","query","hash"];function Zt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return Qt.forEach((function(i){i in t&&(e[i]=t[i])})),JSON.stringify(e,null,2)}var Jt=function(t,e){this.router=t,this.base=te(e),this.current=S,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function te(t){if(!t)if(ut){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ee(t,e){var i,n=Math.max(t.length,e.length);for(i=0;i<n;i++)if(t[i]!==e[i])break;return{updated:e.slice(0,i),activated:e.slice(i),deactivated:t.slice(i)}}function ie(t,e,i,n){var r=jt(t,(function(t,n,r,s){var o=ne(t,e);if(o)return Array.isArray(o)?o.map((function(t){return i(t,n,r,s)})):i(o,n,r,s)}));return Ut(n?r.reverse():r)}function ne(t,e){return"function"!==typeof t&&(t=et.extend(t)),t.options[e]}function re(t){return ie(t,"beforeRouteLeave",oe,!0)}function se(t){return ie(t,"beforeRouteUpdate",oe)}function oe(t,e){if(e)return function(){return t.apply(e,arguments)}}function ae(t,e,i){return ie(t,"beforeRouteEnter",(function(t,n,r,s){return le(t,r,s,e,i)}))}function le(t,e,i,n,r){return function(s,o,a){return t(s,o,(function(t){"function"===typeof t&&n.push((function(){ue(t,e.instances,i,r)})),a(t)}))}}function ue(t,e,i,n){e[i]&&!e[i]._isBeingDestroyed?t(e[i]):n()&&setTimeout((function(){ue(t,e,i,n)}),16)}Jt.prototype.listen=function(t){this.cb=t},Jt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Jt.prototype.onError=function(t){this.errorCbs.push(t)},Jt.prototype.transitionTo=function(t,e,i){var n=this,r=this.router.match(t,this.current);this.confirmTransition(r,(function(){var t=n.current;n.updateRoute(r),e&&e(r),n.ensureURL(),n.router.afterHooks.forEach((function(e){e&&e(r,t)})),n.ready||(n.ready=!0,n.readyCbs.forEach((function(t){t(r)})))}),(function(t){i&&i(t),t&&!n.ready&&(n.ready=!0,s(t,Ht.redirected)?n.readyCbs.forEach((function(t){t(r)})):n.readyErrorCbs.forEach((function(e){e(t)})))}))},Jt.prototype.confirmTransition=function(t,e,i){var o=this,a=this.current,l=function(t){!s(t)&&r(t)&&(o.errorCbs.length?o.errorCbs.forEach((function(e){e(t)})):(n(!1,"uncaught error during route navigation:"),console.error(t))),i&&i(t)},u=t.matched.length-1,c=a.matched.length-1;if(x(t,a)&&u===c&&t.matched[u]===a.matched[c])return this.ensureURL(),l($t(a,t));var h=ee(this.current.matched,t.matched),d=h.updated,f=h.deactivated,p=h.activated,m=[].concat(re(f),this.router.beforeHooks,se(d),p.map((function(t){return t.beforeEnter})),Vt(p));this.pending=t;var g=function(e,i){if(o.pending!==t)return l(Yt(a,t));try{e(t,a,(function(e){!1===e?(o.ensureURL(!0),l(Xt(a,t))):r(e)?(o.ensureURL(!0),l(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(l(qt(a,t)),"object"===typeof e&&e.replace?o.replace(e):o.push(e)):i(e)}))}catch(n){l(n)}};Ft(m,g,(function(){var i=[],n=function(){return o.current===t},r=ae(p,i,n),s=r.concat(o.router.resolveHooks);Ft(s,g,(function(){if(o.pending!==t)return l(Yt(a,t));o.pending=null,e(t),o.router.app&&o.router.app.$nextTick((function(){i.forEach((function(t){t()}))}))}))}))},Jt.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},Jt.prototype.setupListeners=function(){},Jt.prototype.teardownListeners=function(){this.listeners.forEach((function(t){t()})),this.listeners=[]};var ce=function(t){function e(e,i){t.call(this,e,i),this._startLocation=he(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,i=e.options.scrollBehavior,n=Nt&&i;n&&this.listeners.push(Tt());var r=function(){var i=t.current,r=he(t.base);t.current===S&&r===t._startLocation||t.transitionTo(r,(function(t){n&&xt(e,t,i,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,i){var n=this,r=this,s=r.current;this.transitionTo(t,(function(t){Dt(k(n.base+t.fullPath)),xt(n.router,t,s,!1),e&&e(t)}),i)},e.prototype.replace=function(t,e,i){var n=this,r=this,s=r.current;this.transitionTo(t,(function(t){Bt(k(n.base+t.fullPath)),xt(n.router,t,s,!1),e&&e(t)}),i)},e.prototype.ensureURL=function(t){if(he(this.base)!==this.current.fullPath){var e=k(this.base+this.current.fullPath);t?Dt(e):Bt(e)}},e.prototype.getCurrentLocation=function(){return he(this.base)},e}(Jt);function he(t){var e=decodeURI(window.location.pathname);return t&&0===e.toLowerCase().indexOf(t.toLowerCase())&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var de=function(t){function e(e,i,n){t.call(this,e,i),n&&fe(this.base)||pe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,i=e.options.scrollBehavior,n=Nt&&i;n&&this.listeners.push(Tt());var r=function(){var e=t.current;pe()&&t.transitionTo(me(),(function(i){n&&xt(t.router,i,e,!0),Nt||ve(i.fullPath)}))},s=Nt?"popstate":"hashchange";window.addEventListener(s,r),this.listeners.push((function(){window.removeEventListener(s,r)}))}},e.prototype.push=function(t,e,i){var n=this,r=this,s=r.current;this.transitionTo(t,(function(t){ye(t.fullPath),xt(n.router,t,s,!1),e&&e(t)}),i)},e.prototype.replace=function(t,e,i){var n=this,r=this,s=r.current;this.transitionTo(t,(function(t){ve(t.fullPath),xt(n.router,t,s,!1),e&&e(t)}),i)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;me()!==e&&(t?ye(e):ve(e))},e.prototype.getCurrentLocation=function(){return me()},e}(Jt);function fe(t){var e=he(t);if(!/^\/#/.test(e))return window.location.replace(k(t+"/#"+e)),!0}function pe(){var t=me();return"/"===t.charAt(0)||(ve("/"+t),!1)}function me(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";t=t.slice(e+1);var i=t.indexOf("?");if(i<0){var n=t.indexOf("#");t=n>-1?decodeURI(t.slice(0,n))+t.slice(n):decodeURI(t)}else t=decodeURI(t.slice(0,i))+t.slice(i);return t}function ge(t){var e=window.location.href,i=e.indexOf("#"),n=i>=0?e.slice(0,i):e;return n+"#"+t}function ye(t){Nt?Dt(ge(t)):window.location.hash=t}function ve(t){Nt?Bt(ge(t)):window.location.replace(ge(t))}var be=function(t){function e(e,i){t.call(this,e,i),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,i){var n=this;this.transitionTo(t,(function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)}),i)},e.prototype.replace=function(t,e,i){var n=this;this.transitionTo(t,(function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)}),i)},e.prototype.go=function(t){var e=this,i=this.index+t;if(!(i<0||i>=this.stack.length)){var n=this.stack[i];this.confirmTransition(n,(function(){e.index=i,e.updateRoute(n)}),(function(t){s(t,Ht.duplicated)&&(e.index=i)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Jt),_e=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Nt&&!1!==t.fallback,this.fallback&&(e="hash"),ut||(e="abstract"),this.mode=e,e){case"history":this.history=new ce(this,t.base);break;case"hash":this.history=new de(this,t.base,this.fallback);break;case"abstract":this.history=new be(this,t.base);break;default:0}},Se={currentRoute:{configurable:!0}};function we(t,e){return t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function Te(t,e,i){var n="hash"===i?"#"+e:e;return t?k(t+"/"+n):n}_e.prototype.match=function(t,e,i){return this.matcher.match(t,e,i)},Se.currentRoute.get=function(){return this.history&&this.history.current},_e.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var i=e.apps.indexOf(t);i>-1&&e.apps.splice(i,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardownListeners()})),!this.app){this.app=t;var i=this.history;if(i instanceof ce||i instanceof de){var n=function(){i.setupListeners()};i.transitionTo(i.getCurrentLocation(),n,n)}i.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},_e.prototype.beforeEach=function(t){return we(this.beforeHooks,t)},_e.prototype.beforeResolve=function(t){return we(this.resolveHooks,t)},_e.prototype.afterEach=function(t){return we(this.afterHooks,t)},_e.prototype.onReady=function(t,e){this.history.onReady(t,e)},_e.prototype.onError=function(t){this.history.onError(t)},_e.prototype.push=function(t,e,i){var n=this;if(!e&&!i&&"undefined"!==typeof Promise)return new Promise((function(e,i){n.history.push(t,e,i)}));this.history.push(t,e,i)},_e.prototype.replace=function(t,e,i){var n=this;if(!e&&!i&&"undefined"!==typeof Promise)return new Promise((function(e,i){n.history.replace(t,e,i)}));this.history.replace(t,e,i)},_e.prototype.go=function(t){this.history.go(t)},_e.prototype.back=function(){this.go(-1)},_e.prototype.forward=function(){this.go(1)},_e.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},_e.prototype.resolve=function(t,e,i){e=e||this.history.current;var n=tt(t,e,i,this),r=this.match(n,e),s=r.redirectedFrom||r.fullPath,o=this.history.base,a=Te(o,s,this.mode);return{location:n,route:r,href:a,normalizedTo:n,resolved:r}},_e.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==S&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(_e.prototype,Se),_e.install=lt,_e.version="3.3.4",ut&&window.Vue&&window.Vue.use(_e),e["a"]=_e},"8cc4":function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=148)}([function(t,e,i){"use strict";i.r(e),function(t){var n=i(93),r=function(){if(!(this instanceof r))throw new Error("constructor needs to be called with the 'new' keyword")};
/**
 *  Tone.js
 *  @author Yotam Mann
 *  @license http://opensource.org/licenses/MIT MIT License
 *  @copyright 2014-2019 Yotam Mann
 */r.prototype.toString=function(){for(var t in r){var e=t[0].match(/^[A-Z]$/),i=r[t]===this.constructor;if(r.isFunction(r[t])&&e&&i)return t}return"Tone"},r.prototype.dispose=function(){return this},r.prototype.set=function(t,e){if(r.isString(t)){var i={};i[t]=e,t=i}t:for(var n in t){e=t[n];var s=this;if(-1!==n.indexOf(".")){for(var o=n.split("."),a=0;a<o.length-1;a++)if((s=s[o[a]])instanceof r){o.splice(0,a+1);var l=o.join(".");s.set(l,e);continue t}n=o[o.length-1]}var u=s[n];r.isUndef(u)||(r.Signal&&u instanceof r.Signal||r.Param&&u instanceof r.Param||u instanceof AudioParam?u.value!==e&&(u.value=e):r.TimeBase&&u instanceof r.TimeBase?s[n]=e:u instanceof r?u.set(e):u!==e&&(s[n]=e))}return this},r.prototype.get=function(t){r.isUndef(t)?t=this._collectDefaults(this.constructor):r.isString(t)&&(t=[t]);for(var e={},i=0;i<t.length;i++){var n=t[i],s=this,o=e;if(-1!==n.indexOf(".")){for(var a=n.split("."),l=0;l<a.length-1;l++){var u=a[l];o[u]=o[u]||{},o=o[u],s=s[u]}n=a[a.length-1]}var c=s[n];r.isObject(t[n])?o[n]=c.get():r.Signal&&c instanceof r.Signal||r.Param&&c instanceof r.Param||c instanceof AudioParam?o[n]=c.value:c instanceof r?o[n]=c.get():!r.isFunction(c)&&r.isDefined(c)&&(o[n]=c)}return e},r.prototype._collectDefaults=function(t){var e=[];if(r.isDefined(t.defaults)&&(e=Object.keys(t.defaults)),r.isDefined(t._super))for(var i=this._collectDefaults(t._super),n=0;n<i.length;n++)-1===e.indexOf(i[n])&&e.push(i[n]);return e},r.defaults=function(t,e,i){var n={};if(1===t.length&&r.isObject(t[0]))n=t[0];else for(var s=0;s<e.length;s++)n[e[s]]=t[s];return r.isDefined(i.defaults)?r.defaultArg(n,i.defaults):r.isObject(i)?r.defaultArg(n,i):n},r.defaultArg=function(t,e){if(r.isObject(t)&&r.isObject(e)){var i={};for(var n in t)i[n]=r.defaultArg(e[n],t[n]);for(var s in e)i[s]=r.defaultArg(t[s],e[s]);return i}return r.isUndef(t)?e:t},r.prototype.log=function(){if(this.debug||this.toString()===r.global.TONE_DEBUG_CLASS){var t=Array.from(arguments);t.unshift(this.toString()+":"),console.log.apply(void 0,t)}},r.prototype.assert=function(t,e){if(!t)throw new Error(e)},r.connectSeries=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var i=arguments[e];r.connect(t,i),t=i}return r},r.connect=function(t,e,i,n){for(;r.isDefined(e.input);)r.isArray(e.input)?(n=r.defaultArg(n,0),e=e.input[n],n=0):e.input&&(e=e.input);return e instanceof AudioParam?t.connect(e,i):e instanceof AudioNode&&t.connect(e,i,n),r},r.disconnect=function(t,e,i,n){if(e){for(var s=!1;!s;)r.isArray(e.input)?(r.isDefined(n)?r.disconnect(t,e.input[n],i):e.input.forEach((function(e){try{r.disconnect(t,e,i)}catch(t){}})),s=!0):e.input?e=e.input:s=!0;e instanceof AudioParam?t.disconnect(e,i):e instanceof AudioNode&&t.disconnect(e,i,n)}else t.disconnect();return r},r.isUndef=function(t){return void 0===t},r.isDefined=function(t){return!r.isUndef(t)},r.isFunction=function(t){return"function"==typeof t},r.isNumber=function(t){return"number"==typeof t},r.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},r.isBoolean=function(t){return"boolean"==typeof t},r.isArray=function(t){return Array.isArray(t)},r.isString=function(t){return"string"==typeof t},r.isNote=function(t){return r.isString(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)},r.noOp=function(){},r.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},r.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},r.State={Started:"started",Stopped:"stopped",Paused:"paused"},r.global=r.isUndef(t)?window:t,r.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},r.dbToGain=function(t){return Math.pow(10,t/20)},r.gainToDb=function(t){return Math.log(t)/Math.LN10*20},r.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},r.prototype.now=function(){return r.context.now()},r.now=function(){return r.context.now()},r.prototype.immediate=function(){return r.context.currentTime},r.immediate=function(){return r.context.currentTime},r.extend=function(t,e){function i(){}r.isUndef(e)&&(e=r),i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t._super=e},r._audioContext=null,r.start=function(){return r.context.resume()},Object.defineProperty(r,"context",{get:function(){return r._audioContext},set:function(t){t.isContext?r._audioContext=t:r._audioContext=new r.Context(t),r.Context.emit("init",r._audioContext)}}),Object.defineProperty(r.prototype,"context",{get:function(){return r.context}}),r.setContext=function(t){r.context=t},Object.defineProperty(r.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(r.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(r,"supported",{get:function(){var t=r.global.hasOwnProperty("AudioContext")||r.global.hasOwnProperty("webkitAudioContext"),e=r.global.hasOwnProperty("Promise");return t&&e}}),Object.defineProperty(r,"initialized",{get:function(){return Boolean(r.context)}}),r.getContext=function(t){if(r.initialized)t(r.context);else{var e=function(){t(r.context),r.Context.off("init",e)};r.Context.on("init",e)}return r},r.version=n.a,e.default=r}.call(this,i(147))},function(t,e,i){"use strict";i.r(e);var n=i(0);if(i(20),n.default.supported){var r=new OfflineAudioContext(2,1,44100),s=r.createGain(),o=r.createGain();if(s.connect(o)!==o){var a=AudioNode.prototype.connect;AudioNode.prototype.connect=function(){return a.apply(this,arguments),arguments[0]}}}n.default.AudioNode=function(){n.default.call(this);var t=n.default.defaults(arguments,["context"],{context:n.default.context});this._context=t.context},n.default.extend(n.default.AudioNode),Object.defineProperty(n.default.AudioNode.prototype,"context",{get:function(){return this._context}}),n.default.AudioNode.prototype.createInsOuts=function(t,e){1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),1===e?this.output=this.context.createGain():e>1&&(this.output=new Array(e))},Object.defineProperty(n.default.AudioNode.prototype,"channelCount",{get:function(){return this.output.channelCount},set:function(t){return this.output.channelCount=t}}),Object.defineProperty(n.default.AudioNode.prototype,"channelCountMode",{get:function(){return this.output.channelCountMode},set:function(t){return this.output.channelCountMode=t}}),Object.defineProperty(n.default.AudioNode.prototype,"channelInterpretation",{get:function(){return this.output.channelInterpretation},set:function(t){return this.output.channelInterpretation=t}}),Object.defineProperty(n.default.AudioNode.prototype,"numberOfInputs",{get:function(){return this.input?n.default.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(n.default.AudioNode.prototype,"numberOfOutputs",{get:function(){return this.output?n.default.isArray(this.output)?this.output.length:1:0}}),n.default.AudioNode.prototype.connect=function(t,e,i){return n.default.isArray(this.output)?(e=n.default.defaultArg(e,0),this.output[e].connect(t,0,i)):n.default.connect(this.output,t,e,i),this},n.default.AudioNode.prototype.disconnect=function(t,e,i){return n.default.isArray(this.output)?(e=n.default.defaultArg(e,0),this.output[e].disconnect(t,0,i)):n.default.disconnect(this.output,t,e,i),this},n.default.AudioNode.prototype.chain=function(){var t=Array.from(arguments);return t.unshift(this),n.default.connectSeries.apply(void 0,t),this},n.default.AudioNode.prototype.fan=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},n.default.AudioNode.prototype.dispose=function(){return n.default.isDefined(this.input)&&(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),n.default.isDefined(this.output)&&(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this._context=null,this},e.default=n.default.AudioNode},function(t,e,i){"use strict";i.r(e);var n=i(0);if(i(4),i(14),i(30),i(44),i(20),i(3),n.default.supported&&!n.default.global.AudioContext.prototype.createConstantSource){var r=function(t){this.context=t;for(var e=t.createBuffer(1,128,t.sampleRate),i=e.getChannelData(0),n=0;n<i.length;n++)i[n]=1;this._bufferSource=t.createBufferSource(),this._bufferSource.channelCount=1,this._bufferSource.channelCountMode="explicit",this._bufferSource.buffer=e,this._bufferSource.loop=!0;var r=this._output=t.createGain();this.offset=r.gain,this._bufferSource.connect(r)};r.prototype.start=function(t){return this._bufferSource.start(t),this},r.prototype.stop=function(t){return this._bufferSource.stop(t),this},r.prototype.connect=function(){return this._output.connect.apply(this._output,arguments),this},r.prototype.disconnect=function(){return this._output.disconnect.apply(this._output,arguments),this},AudioContext.prototype.createConstantSource=function(){return new r(this)},n.default.Context.prototype.createConstantSource=function(){return new r(this)}}n.default.Signal=function(){var t=n.default.defaults(arguments,["value","units"],n.default.Signal);n.default.Param.call(this,t),this._constantSource=this.context.createConstantSource(),this._constantSource.start(0),this._param=this._constantSource.offset,this.value=t.value,this.output=this._constantSource,this.input=this._param=this.output.offset},n.default.extend(n.default.Signal,n.default.Param),n.default.Signal.defaults={value:0,units:n.default.Type.Default,convert:!0},n.default.Signal.prototype.connect=n.default.SignalBase.prototype.connect,n.default.Signal.prototype.disconnect=n.default.SignalBase.prototype.disconnect,n.default.Signal.prototype.getValueAtTime=function(t){return this._param.getValueAtTime?this._param.getValueAtTime(t):n.default.Param.prototype.getValueAtTime.call(this,t)},n.default.Signal.prototype.dispose=function(){return n.default.Param.prototype.dispose.call(this),this._constantSource.stop(),this._constantSource.disconnect(),this._constantSource=null,this},e.default=n.default.Signal},function(t,e,i){"use strict";i.r(e);var n=i(0);i(14),i(4),i(1),n.default.Gain=function(){var t=n.default.defaults(arguments,["gain","units"],n.default.Gain);n.default.AudioNode.call(this,t),this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new n.default.Param({param:this._gainNode.gain,units:t.units,value:t.gain,convert:t.convert}),this._readOnly("gain")},n.default.extend(n.default.Gain,n.default.AudioNode),n.default.Gain.defaults={gain:1,convert:!0},n.default.Gain.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},e.default=n.default.Gain},function(t,e,i){"use strict";i.r(e);var n=i(0);i(63),i(46),i(45),i(20),n.default.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},n.default.prototype.toSeconds=function(t){return n.default.isNumber(t)?t:n.default.isUndef(t)?this.now():n.default.isString(t)||n.default.isObject(t)?new n.default.Time(t).toSeconds():t instanceof n.default.TimeBase?t.toSeconds():void 0},n.default.prototype.toFrequency=function(t){return n.default.isNumber(t)?t:n.default.isString(t)||n.default.isUndef(t)||n.default.isObject(t)?new n.default.Frequency(t).valueOf():t instanceof n.default.TimeBase?t.toFrequency():void 0},n.default.prototype.toTicks=function(t){return n.default.isNumber(t)||n.default.isString(t)||n.default.isObject(t)?new n.default.TransportTime(t).toTicks():n.default.isUndef(t)?n.default.Transport.ticks:t instanceof n.default.TimeBase?t.toTicks():void 0},e.default=n.default},function(t,e,i){"use strict";i.r(e);var n=i(0);i(14),i(3),i(30),n.default.Multiply=function(t){n.default.Signal.call(this),this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new n.default.Gain,this._param=this.input[1]=this.output.gain,this.value=n.default.defaultArg(t,0)},n.default.extend(n.default.Multiply,n.default.Signal),n.default.Multiply.prototype.dispose=function(){return n.default.Signal.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},e.default=n.default.Multiply},function(t,e,i){"use strict";i.r(e);var n=i(0);i(16),i(27),i(40),i(4),i(34),i(2),i(1),n.default.Source=function(t){t=n.default.defaultArg(t,n.default.Source.defaults),n.default.AudioNode.call(this),this._volume=this.output=new n.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new n.default.TimelineState(n.default.State.Stopped),this._state.memory=100,this._synced=!1,this._scheduled=[],this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=t.mute},n.default.extend(n.default.Source,n.default.AudioNode),n.default.Source.defaults={volume:0,mute:!1},Object.defineProperty(n.default.Source.prototype,"state",{get:function(){return this._synced?n.default.Transport.state===n.default.State.Started?this._state.getValueAtTime(n.default.Transport.seconds):n.default.State.Stopped:this._state.getValueAtTime(this.now())}}),Object.defineProperty(n.default.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),n.default.Source.prototype._start=n.default.noOp,n.default.Source.prototype.restart=n.default.noOp,n.default.Source.prototype._stop=n.default.noOp,n.default.Source.prototype.start=function(t,e,i){if(n.default.isUndef(t)&&this._synced?t=n.default.Transport.seconds:(t=this.toSeconds(t),t=Math.max(t,this.context.currentTime)),this._state.getValueAtTime(t)===n.default.State.Started)this._state.cancel(t),this._state.setStateAtTime(n.default.State.Started,t),this.restart(t,e,i);else if(this._state.setStateAtTime(n.default.State.Started,t),this._synced){var r=this._state.get(t);r.offset=n.default.defaultArg(e,0),r.duration=i;var s=n.default.Transport.schedule(function(t){this._start(t,e,i)}.bind(this),t);this._scheduled.push(s),n.default.Transport.state===n.default.State.Started&&this._syncedStart(this.now(),n.default.Transport.seconds)}else this._start.apply(this,arguments);return this},n.default.Source.prototype.stop=function(t){if(n.default.isUndef(t)&&this._synced?t=n.default.Transport.seconds:(t=this.toSeconds(t),t=Math.max(t,this.context.currentTime)),this._synced){var e=n.default.Transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop.apply(this,arguments);return this._state.cancel(t),this._state.setStateAtTime(n.default.State.Stopped,t),this},n.default.Source.prototype.sync=function(){return this._synced=!0,this._syncedStart=function(t,e){if(e>0){var i=this._state.get(e);if(i&&i.state===n.default.State.Started&&i.time!==e){var r,s=e-this.toSeconds(i.time);i.duration&&(r=this.toSeconds(i.duration)-s),this._start(t,this.toSeconds(i.offset)+s,r)}}}.bind(this),this._syncedStop=function(t){var e=n.default.Transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)===n.default.State.Started&&this._stop(t)}.bind(this),n.default.Transport.on("start loopStart",this._syncedStart),n.default.Transport.on("stop pause loopEnd",this._syncedStop),this},n.default.Source.prototype.unsync=function(){this._synced&&(n.default.Transport.off("stop pause loopEnd",this._syncedStop),n.default.Transport.off("start loopStart",this._syncedStart)),this._synced=!1;for(var t=0;t<this._scheduled.length;t++){var e=this._scheduled[t];n.default.Transport.clear(e)}return this._scheduled=[],this._state.cancel(0),this},n.default.Source.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this.unsync(),this._scheduled=null,this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null},e.default=n.default.Source},function(t,e,i){"use strict";i.r(e);var n=i(0);if(i(30),i(44),n.default.supported&&!n.default.global.AudioContext.prototype._native_createWaveShaper){var r=navigator.userAgent.toLowerCase();if(r.includes("safari")&&!r.includes("chrome")){var s=function(t){for(var e in this._internalNode=this.input=this.output=t._native_createWaveShaper(),this._curve=null,this._internalNode)this._defineProperty(this._internalNode,e)};Object.defineProperty(s.prototype,"curve",{get:function(){return this._curve},set:function(t){this._curve=t;var e=new Float32Array(t.length+1);e.set(t,1),e[0]=t[0],this._internalNode.curve=e}}),s.prototype._defineProperty=function(t,e){n.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return"function"==typeof t[e]?t[e].bind(t):t[e]},set:function(i){t[e]=i}})},n.default.global.AudioContext.prototype._native_createWaveShaper=n.default.global.AudioContext.prototype.createWaveShaper,n.default.global.AudioContext.prototype.createWaveShaper=function(){return new s(this)}}}n.default.WaveShaper=function(t,e){n.default.SignalBase.call(this),this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||n.default.isUndef(t)?this._curve=new Float32Array(n.default.defaultArg(t,1024)):n.default.isFunction(t)&&(this._curve=new Float32Array(n.default.defaultArg(e,1024)),this.setMap(t))},n.default.extend(n.default.WaveShaper,n.default.SignalBase),n.default.WaveShaper.prototype.setMap=function(t){for(var e=new Array(this._curve.length),i=0,n=this._curve.length;i<n;i++){var r=i/(n-1)*2-1;e[i]=t(r,i)}return this.curve=e,this},Object.defineProperty(n.default.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(n.default.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(!["none","2x","4x"].includes(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),n.default.WaveShaper.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},e.default=n.default.WaveShaper},function(t,e,i){"use strict";i.r(e);var n=i(0);i(23),i(1),n.default.Effect=function(){var t=n.default.defaults(arguments,["wet"],n.default.Effect);n.default.AudioNode.call(this),this.createInsOuts(1,1),this._dryWet=new n.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this.effectSend=new n.default.Gain,this.effectReturn=new n.default.Gain,n.default.connect(this.input,this._dryWet.a),n.default.connect(this.input,this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},n.default.extend(n.default.Effect,n.default.AudioNode),n.default.Effect.defaults={wet:1},n.default.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},n.default.Effect.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},e.default=n.default.Effect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(1),n.default.Filter=function(){var t=n.default.defaults(arguments,["frequency","type","rolloff"],n.default.Filter);n.default.AudioNode.call(this),this.createInsOuts(1,1),this._filters=[],this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.detune=new n.default.Signal(0,n.default.Type.Cents),this.gain=new n.default.Signal({value:t.gain,convert:!0,type:n.default.Type.Decibels}),this.Q=new n.default.Signal(t.Q),this._type=t.type,this._rolloff=t.rolloff,this.rolloff=t.rolloff,this._readOnly(["detune","frequency","gain","Q"])},n.default.extend(n.default.Filter,n.default.AudioNode),n.default.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(n.default.Filter.prototype,"type",{get:function(){return this._type},set:function(t){if(-1===["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t))throw new TypeError("Tone.Filter: invalid type "+t);this._type=t;for(var e=0;e<this._filters.length;e++)this._filters[e].type=t}}),Object.defineProperty(n.default.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(t){t=parseInt(t,10);var e=[-12,-24,-48,-96].indexOf(t);if(-1===e)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");e+=1,this._rolloff=t,this.input.disconnect();for(var i=0;i<this._filters.length;i++)this._filters[i].disconnect(),this._filters[i]=null;this._filters=new Array(e);for(var r=0;r<e;r++){var s=this.context.createBiquadFilter();s.type=this._type,this.frequency.connect(s.frequency),this.detune.connect(s.detune),this.Q.connect(s.Q),this.gain.connect(s.gain),this._filters[r]=s}var o=[this.input].concat(this._filters).concat([this.output]);n.default.connectSeries.apply(n.default,o)}}),n.default.Filter.prototype.getFrequencyResponse=function(t){t=n.default.defaultArg(t,128);for(var e=new Float32Array(t).map((function(){return 1})),i=new Float32Array(t),r=0;r<t;r++){var s=19980*Math.pow(r/t,2)+20;i[r]=s}var o=new Float32Array(t),a=new Float32Array(t);return this._filters.forEach(function(){var t=this.context.createBiquadFilter();t.type=this._type,t.Q.value=this.Q.value,t.frequency.value=this.frequency.value,t.gain.value=this.gain.value,t.getFrequencyResponse(i,o,a),o.forEach((function(t,i){e[i]*=t}))}.bind(this)),e},n.default.Filter.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this);for(var t=0;t<this._filters.length;t++)this._filters[t].disconnect(),this._filters[t]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},e.default=n.default.Filter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(1),n.default.Merge=function(t){t=n.default.defaultArg(t,2),n.default.AudioNode.call(this),this.createInsOuts(t,0),this._merger=this.output=this.context.createChannelMerger(t);for(var e=0;e<t;e++)this.input[e]=new n.default.Gain,this.input[e].connect(this._merger,0,e),this.input[e].channelCount=1,this.input[e].channelCountMode="explicit";this.left=this.input[0],this.right=this.input[1]},n.default.extend(n.default.Merge,n.default.AudioNode),n.default.Merge.prototype.dispose=function(){return this.input.forEach((function(t){t.dispose()})),n.default.AudioNode.prototype.dispose.call(this),this.left=null,this.right=null,this._merger.disconnect(),this._merger=null,this},e.default=n.default.Merge},function(t,e,i){"use strict";i.r(e);var n=i(0);i(35),i(4),n.default.supported&&(AudioBuffer.prototype.copyToChannel||(AudioBuffer.prototype.copyToChannel=function(t,e,i){var n=this.getChannelData(e);i=i||0;for(var r=0;r<n.length;r++)n[r+i]=t[r]},AudioBuffer.prototype.copyFromChannel=function(t,e,i){var n=this.getChannelData(e);i=i||0;for(var r=0;r<t.length;r++)t[r]=n[r+i]})),n.default.Buffer=function(){var t=n.default.defaults(arguments,["url","onload","onerror"],n.default.Buffer);n.default.call(this),this._buffer=null,this._reversed=t.reverse,this._xhr=null,this.onload=n.default.noOp,t.url instanceof AudioBuffer||t.url instanceof n.default.Buffer?(this.set(t.url),this.loaded||(this.onload=t.onload)):n.default.isString(t.url)&&this.load(t.url).then(t.onload).catch(t.onerror)},n.default.extend(n.default.Buffer),n.default.Buffer.defaults={url:void 0,reverse:!1,onload:n.default.noOp,onerror:n.default.noOp},n.default.Buffer.prototype.set=function(t){return t instanceof n.default.Buffer?t.loaded?this._buffer=t.get():t.onload=function(){this.set(t),this.onload(this)}.bind(this):this._buffer=t,this._reversed&&this._reverse(),this},n.default.Buffer.prototype.get=function(){return this._buffer},n.default.Buffer.prototype.load=function(t,e,i){return new Promise(function(r,s){this._xhr=n.default.Buffer.load(t,function(t){this._xhr=null,this.set(t),r(this),this.onload(this),e&&e(this)}.bind(this),function(t){this._xhr=null,s(t),i&&i(t)}.bind(this))}.bind(this))},n.default.Buffer.prototype.dispose=function(){return n.default.prototype.dispose.call(this),this._buffer=null,this._xhr&&(n.default.Buffer._removeFromDownloadQueue(this._xhr),this._xhr.abort(),this._xhr=null),this},Object.defineProperty(n.default.Buffer.prototype,"loaded",{get:function(){return this.length>0}}),Object.defineProperty(n.default.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),Object.defineProperty(n.default.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}}),Object.defineProperty(n.default.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}}),n.default.Buffer.prototype.fromArray=function(t){var e=t[0].length>0,i=e?t.length:1,n=e?t[0].length:t.length,r=this.context.createBuffer(i,n,this.context.sampleRate);e||1!==i||(t=[t]);for(var s=0;s<i;s++)r.copyToChannel(t[s],s);return this._buffer=r,this},n.default.Buffer.prototype.toMono=function(t){if(n.default.isNumber(t))this.fromArray(this.toArray(t));else{for(var e=new Float32Array(this.length),i=this.numberOfChannels,r=0;r<i;r++)for(var s=this.toArray(r),o=0;o<s.length;o++)e[o]+=s[o];e=e.map((function(t){return t/i})),this.fromArray(e)}return this},n.default.Buffer.prototype.toArray=function(t){if(n.default.isNumber(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);for(var e=[],i=0;i<this.numberOfChannels;i++)e[i]=this.getChannelData(i);return e},n.default.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)},n.default.Buffer.prototype.slice=function(t,e){e=n.default.defaultArg(e,this.duration);for(var i=Math.floor(this.context.sampleRate*this.toSeconds(t)),r=Math.floor(this.context.sampleRate*this.toSeconds(e)),s=[],o=0;o<this.numberOfChannels;o++)s[o]=this.toArray(o).slice(i,r);return(new n.default.Buffer).fromArray(s)},n.default.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this.numberOfChannels;t++)Array.prototype.reverse.call(this.getChannelData(t));return this},Object.defineProperty(n.default.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),n.default.Emitter.mixin(n.default.Buffer),n.default.Buffer._downloadQueue=[],n.default.Buffer.baseUrl="",n.default.Buffer.fromArray=function(t){return(new n.default.Buffer).fromArray(t)},n.default.Buffer.fromUrl=function(t){var e=new n.default.Buffer;return e.load(t).then((function(){return e}))},n.default.Buffer._removeFromDownloadQueue=function(t){var e=n.default.Buffer._downloadQueue.indexOf(t);-1!==e&&n.default.Buffer._downloadQueue.splice(e,1)},n.default.Buffer.load=function(t,e,i){e=n.default.defaultArg(e,n.default.noOp);var r=t.match(/\[(.+\|?)+\]$/);if(r){for(var s=r[1].split("|"),o=s[0],a=0;a<s.length;a++)if(n.default.Buffer.supportsType(s[a])){o=s[a];break}t=t.replace(r[0],o)}function l(t){if(n.default.Buffer._removeFromDownloadQueue(c),n.default.Buffer.emit("error",t),!i)throw t;i(t)}function u(){for(var t=0,e=0;e<n.default.Buffer._downloadQueue.length;e++)t+=n.default.Buffer._downloadQueue[e].progress;n.default.Buffer.emit("progress",t/n.default.Buffer._downloadQueue.length)}var c=new XMLHttpRequest;return c.open("GET",n.default.Buffer.baseUrl+t,!0),c.responseType="arraybuffer",c.progress=0,n.default.Buffer._downloadQueue.push(c),c.addEventListener("load",(function(){200===c.status?n.default.context.decodeAudioData(c.response).then((function(t){c.progress=1,u(),e(t),n.default.Buffer._removeFromDownloadQueue(c),0===n.default.Buffer._downloadQueue.length&&n.default.Buffer.emit("load")})).catch((function(){n.default.Buffer._removeFromDownloadQueue(c),l("Tone.Buffer: could not decode audio data: "+t)})):l("Tone.Buffer: could not locate file: "+t)})),c.addEventListener("error",l),c.addEventListener("progress",(function(t){t.lengthComputable&&(c.progress=t.loaded/t.total*.95,u())})),c.send(),c},n.default.Buffer.cancelDownloads=function(){return n.default.Buffer._downloadQueue.slice().forEach((function(t){n.default.Buffer._removeFromDownloadQueue(t),t.abort()})),n.default.Buffer},n.default.Buffer.supportsType=function(t){var e=t.split(".");return e=e[e.length-1],""!==document.createElement("audio").canPlayType("audio/"+e)},n.default.loaded=function(){var t,e;function i(){n.default.Buffer.off("load",t),n.default.Buffer.off("error",e)}return new Promise((function(i,r){t=function(){i()},e=function(){r()},n.default.Buffer.on("load",t),n.default.Buffer.on("error",e)})).then(i).catch((function(t){throw i(),new Error(t)}))},e.default=n.default.Buffer},function(t,e,i){"use strict";i.r(e);var n=i(0);i(17),i(26),i(1),i(2),i(22),i(4),i(28),n.default.LFO=function(){var t=n.default.defaults(arguments,["frequency","min","max"],n.default.LFO);n.default.AudioNode.call(this),this._oscillator=new n.default.Oscillator({frequency:t.frequency,type:t.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=n.default.Type.NormalRange,this.amplitude.value=t.amplitude,this._stoppedSignal=new n.default.Signal(0,n.default.Type.AudioRange),this._zeros=new n.default.Zero,this._stoppedValue=0,this._a2g=new n.default.AudioToGain,this._scaler=this.output=new n.default.Scale(t.min,t.max),this._units=n.default.Type.Default,this.units=t.units,this._oscillator.chain(this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=t.phase},n.default.extend(n.default.LFO,n.default.AudioNode),n.default.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:n.default.Type.Default},n.default.LFO.prototype.start=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this},n.default.LFO.prototype.stop=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this},n.default.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this},n.default.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(n.default.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(n.default.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(n.default.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(n.default.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(n.default.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,i=this.max;this._units=t,this.min=e,this.max=i}}),Object.defineProperty(n.default.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),n.default.LFO.prototype.connect=function(t){return t.constructor!==n.default.Signal&&t.constructor!==n.default.Param||(this.convert=t.convert,this.units=t.units),n.default.SignalBase.prototype.connect.apply(this,arguments),this},n.default.LFO.prototype._fromUnits=n.default.Param.prototype._fromUnits,n.default.LFO.prototype._toUnits=n.default.Param.prototype._toUnits,n.default.LFO.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},e.default=n.default.LFO},function(t,e,i){"use strict";i.r(e);var n=i(0);i(29),i(90),i(2),i(3),n.default.Subtract=function(t){n.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new n.default.Gain,this._neg=new n.default.Negate,this._param=this.input[1]=new n.default.Signal(t),this._param.chain(this._neg,this._sum)},n.default.extend(n.default.Subtract,n.default.Signal),n.default.Subtract.prototype.dispose=function(){return n.default.Signal.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this},e.default=n.default.Subtract},function(t,e,i){"use strict";i.r(e);var n=i(0);i(4),i(1),i(24),n.default.Param=function(){var t=n.default.defaults(arguments,["param","units","convert"],n.default.Param);n.default.AudioNode.call(this,t),this._param=this.input=t.param,this.units=t.units,this.convert=t.convert,this.overridden=!1,this._events=new n.default.Timeline(1e3),n.default.isDefined(t.value)&&this._param&&this.setValueAtTime(t.value,0)},n.default.extend(n.default.Param,n.default.AudioNode),n.default.Param.defaults={units:n.default.Type.Default,convert:!0,param:void 0},Object.defineProperty(n.default.Param.prototype,"value",{get:function(){var t=this.now();return this._toUnits(this.getValueAtTime(t))},set:function(t){this._initialValue=this._fromUnits(t),this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}}),Object.defineProperty(n.default.Param.prototype,"minValue",{get:function(){return this.units===n.default.Type.Time||this.units===n.default.Type.Frequency||this.units===n.default.Type.NormalRange||this.units===n.default.Type.Positive||this.units===n.default.Type.BPM?0:this.units===n.default.Type.AudioRange?-1:this.units===n.default.Type.Decibels?-1/0:this._param.minValue}}),Object.defineProperty(n.default.Param.prototype,"maxValue",{get:function(){return this.units===n.default.Type.NormalRange||this.units===n.default.Type.AudioRange?1:this._param.maxValue}}),n.default.Param.prototype._fromUnits=function(t){if(!this.convert&&!n.default.isUndef(this.convert)||this.overridden)return t;switch(this.units){case n.default.Type.Time:return this.toSeconds(t);case n.default.Type.Frequency:return this.toFrequency(t);case n.default.Type.Decibels:return n.default.dbToGain(t);case n.default.Type.NormalRange:return Math.min(Math.max(t,0),1);case n.default.Type.AudioRange:return Math.min(Math.max(t,-1),1);case n.default.Type.Positive:return Math.max(t,0);default:return t}},n.default.Param.prototype._toUnits=function(t){if(!this.convert&&!n.default.isUndef(this.convert))return t;switch(this.units){case n.default.Type.Decibels:return n.default.gainToDb(t);default:return t}},n.default.Param.prototype._minOutput=1e-5,n.default.Param.AutomationType={Linear:"linearRampToValueAtTime",Exponential:"exponentialRampToValueAtTime",Target:"setTargetAtTime",SetValue:"setValueAtTime",Cancel:"cancelScheduledValues"},n.default.Param.prototype.setValueAtTime=function(t,e){return e=this.toSeconds(e),t=this._fromUnits(t),this._events.add({type:n.default.Param.AutomationType.SetValue,value:t,time:e}),this.log(n.default.Param.AutomationType.SetValue,t,e),this._param.setValueAtTime(t,e),this},n.default.Param.prototype.getValueAtTime=function(t){t=this.toSeconds(t);var e=this._events.getAfter(t),i=this._events.get(t),r=n.default.defaultArg(this._initialValue,this._param.defaultValue),s=r;if(null===i)s=r;else if(i.type===n.default.Param.AutomationType.Target){var o,a=this._events.getBefore(i.time);o=null===a?r:a.value,s=this._exponentialApproach(i.time,o,i.value,i.constant,t)}else s=null===e?i.value:e.type===n.default.Param.AutomationType.Linear?this._linearInterpolate(i.time,i.value,e.time,e.value,t):e.type===n.default.Param.AutomationType.Exponential?this._exponentialInterpolate(i.time,i.value,e.time,e.value,t):i.value;return s},n.default.Param.prototype.setRampPoint=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===e&&(e=this._minOutput),this.setValueAtTime(this._toUnits(e),t),this},n.default.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),e=this.toSeconds(e),this._events.add({type:n.default.Param.AutomationType.Linear,value:t,time:e}),this.log(n.default.Param.AutomationType.Linear,t,e),this._param.linearRampToValueAtTime(t,e),this},n.default.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),e=this.toSeconds(e),this._events.add({type:n.default.Param.AutomationType.Exponential,time:e,value:t}),this.log(n.default.Param.AutomationType.Exponential,t,e),this._param.exponentialRampToValueAtTime(t,e),this},n.default.Param.prototype.exponentialRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this},n.default.Param.prototype.linearRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this},n.default.Param.prototype.targetRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this},n.default.Param.prototype.exponentialApproachValueAtTime=function(t,e,i){var n=Math.log(this.toSeconds(i)+1)/Math.log(200);return e=this.toSeconds(e),this.setTargetAtTime(t,e,n),this.cancelAndHoldAtTime(e+.9*i),this.linearRampToValueAtTime(t,e+i),this},n.default.Param.prototype.setTargetAtTime=function(t,e,i){if(t=this._fromUnits(t),i<=0)throw new Error("timeConstant must be greater than 0");return e=this.toSeconds(e),this._events.add({type:n.default.Param.AutomationType.Target,value:t,time:e,constant:i}),this.log(n.default.Param.AutomationType.Target,t,e,i),this._param.setTargetAtTime(t,e,i),this},n.default.Param.prototype.setValueCurveAtTime=function(t,e,i,r){r=n.default.defaultArg(r,1),i=this.toSeconds(i),e=this.toSeconds(e),this.setValueAtTime(t[0]*r,e);for(var s=i/(t.length-1),o=1;o<t.length;o++)this.linearRampToValueAtTime(t[o]*r,e+o*s);return this},n.default.Param.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(n.default.Param.AutomationType.Cancel,t),this},n.default.Param.prototype.cancelAndHoldAtTime=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);this.log("cancelAndHoldAtTime",t,"value="+e),this._param.cancelScheduledValues(t);var i=this._events.get(t),r=this._events.getAfter(t);return i&&i.time===t?r?this._events.cancel(r.time):this._events.cancel(t+this.sampleTime):r&&(this._events.cancel(r.time),r.type===n.default.Param.AutomationType.Linear?this.linearRampToValueAtTime(e,t):r.type===n.default.Param.AutomationType.Exponential&&this.exponentialRampToValueAtTime(e,t)),this._events.add({type:n.default.Param.AutomationType.SetValue,value:e,time:t}),this._param.setValueAtTime(e,t),this},n.default.Param.prototype.rampTo=function(t,e,i){return e=n.default.defaultArg(e,.1),this.units===n.default.Type.Frequency||this.units===n.default.Type.BPM||this.units===n.default.Type.Decibels?this.exponentialRampTo(t,e,i):this.linearRampTo(t,e,i),this},n.default.Param.prototype._exponentialApproach=function(t,e,i,n,r){return i+(e-i)*Math.exp(-(r-t)/n)},n.default.Param.prototype._linearInterpolate=function(t,e,i,n,r){return e+(r-t)/(i-t)*(n-e)},n.default.Param.prototype._exponentialInterpolate=function(t,e,i,n,r){return e*Math.pow(n/e,(r-t)/(i-t))},n.default.Param.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._param=null,this._events=null,this},e.default=n.default.Param},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(19),i(10),i(23),n.default.StereoEffect=function(){n.default.AudioNode.call(this);var t=n.default.defaults(arguments,["wet"],n.default.Effect);this.createInsOuts(1,1),this._dryWet=new n.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this._split=new n.default.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new n.default.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,n.default.connect(this.input,this._split),n.default.connect(this.input,this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},n.default.extend(n.default.StereoEffect,n.default.Effect),n.default.StereoEffect.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},e.default=n.default.StereoEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(83),i(4),i(24),i(35),i(3),i(81),i(80),i(56),n.default.Transport=function(){n.default.Emitter.call(this),n.default.getContext(function(){this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=r.defaults.PPQ,this._clock=new n.default.Clock({callback:this._processTick.bind(this),frequency:0}),this._bindClockEvents(),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=n.default.Type.BPM,this.bpm.value=r.defaults.bpm,this._readOnly("bpm"),this._timeSignature=r.defaults.timeSignature,this._scheduledEvents={},this._timeline=new n.default.Timeline,this._repeatedEvents=new n.default.IntervalTimeline,this._syncedSignals=[],this._swingTicks=r.defaults.PPQ/2,this._swingAmount=0,this.context.transport=this}.bind(this))},n.default.extend(n.default.Transport,n.default.Emitter),n.default.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192},n.default.Transport.prototype.isTransport=!0,n.default.Transport.prototype._processTick=function(t,e){if(this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){var i=e%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(i*Math.PI)*this._swingAmount;t+=n.default.Ticks(2*this._swingTicks/3).toSeconds()*r}this.loop&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._timeline.forEachAtTime(e,(function(e){e.invoke(t)}))},n.default.Transport.prototype.schedule=function(t,e){var i=new n.default.TransportEvent(this,{time:n.default.TransportTime(e),callback:t});return this._addEvent(i,this._timeline)},n.default.Transport.prototype.scheduleRepeat=function(t,e,i,r){var s=new n.default.TransportRepeatEvent(this,{callback:t,interval:n.default.Time(e),time:n.default.TransportTime(i),duration:n.default.Time(n.default.defaultArg(r,1/0))});return this._addEvent(s,this._repeatedEvents)},n.default.Transport.prototype.scheduleOnce=function(t,e){var i=new n.default.TransportEvent(this,{time:n.default.TransportTime(e),callback:t,once:!0});return this._addEvent(i,this._timeline)},n.default.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this},n.default.Transport.prototype._addEvent=function(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id},n.default.Transport.prototype.cancel=function(t){return t=n.default.defaultArg(t,0),t=this.toTicks(t),this._timeline.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this._repeatedEvents.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this},n.default.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(t,e){e=n.default.Ticks(e).toSeconds(),this.emit("start",t,e)}.bind(this)),this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this)),this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))},Object.defineProperty(n.default.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),n.default.Transport.prototype.start=function(t,e){return n.default.isDefined(e)&&(e=this.toTicks(e)),this._clock.start(t,e),this},n.default.Transport.prototype.stop=function(t){return this._clock.stop(t),this},n.default.Transport.prototype.pause=function(t){return this._clock.pause(t),this},n.default.Transport.prototype.toggle=function(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!==n.default.State.Started?this.start(t):this.stop(t),this},Object.defineProperty(n.default.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){n.default.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(n.default.Transport.prototype,"loopStart",{get:function(){return n.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(n.default.Transport.prototype,"loopEnd",{get:function(){return n.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}}),n.default.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(n.default.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}}),Object.defineProperty(n.default.Transport.prototype,"swingSubdivision",{get:function(){return n.default.Ticks(this._swingTicks).toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(n.default.Transport.prototype,"position",{get:function(){var t=this.now(),e=this._clock.getTicksAtTime(t);return n.default.Ticks(e).toBarsBeatsSixteenths()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(n.default.Transport.prototype,"seconds",{get:function(){return this._clock.seconds},set:function(t){var e=this.now(),i=this.bpm.timeToTicks(t,e);this.ticks=i}}),Object.defineProperty(n.default.Transport.prototype,"progress",{get:function(){if(this.loop){var t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}}),Object.defineProperty(n.default.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(t){if(this._clock.ticks!==t){var e=this.now();this.state===n.default.State.Started?(this.emit("stop",e),this._clock.setTicksAtTime(t,e),this.emit("start",e,this.seconds)):this._clock.setTicksAtTime(t,e)}}}),n.default.Transport.prototype.getTicksAtTime=function(t){return Math.round(this._clock.getTicksAtTime(t))},n.default.Transport.prototype.getSecondsAtTime=function(t){return this._clock.getSecondsAtTime(t)},Object.defineProperty(n.default.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t,this.bpm.value=e}}),n.default.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},n.default.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},n.default.Transport.prototype.nextSubdivision=function(t){if(t=this.toTicks(t),this.state!==n.default.State.Started)return 0;var e=this.now(),i=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(i,e)},n.default.Transport.prototype.syncSignal=function(t,e){if(!e){var i=this.now();e=0!==t.getValueAtTime(i)?t.getValueAtTime(i)/this.bpm.getValueAtTime(i):0}var r=new n.default.Gain(e);return this.bpm.chain(r,t._param),this._syncedSignals.push({ratio:r,signal:t,initial:t.value}),t.value=0,this},n.default.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var i=this._syncedSignals[e];i.signal===t&&(i.ratio.dispose(),i.signal.value=i.initial,this._syncedSignals.splice(e,1))}return this},n.default.Transport.prototype.dispose=function(){return n.default.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var r=n.default.Transport;n.default.Transport=new r,n.default.Context.on("init",(function(t){t.transport&&t.transport.isTransport?n.default.Transport=t.transport:n.default.Transport=new r})),n.default.Context.on("close",(function(t){t.transport&&t.transport.isTransport&&t.transport.dispose()})),e.default=n.default.Transport},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(6),i(16),i(64),n.default.Oscillator=function(){var t=n.default.defaults(arguments,["frequency","type"],n.default.Oscillator);n.default.Source.call(this,t),this._oscillator=null,this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this._wave=null,this._partials=t.partials,this._partialCount=t.partialCount,this._phase=t.phase,this._type=t.type,t.partialCount&&t.type!==n.default.Oscillator.Type.Custom&&(this._type=this.baseType+t.partialCount.toString()),this.phase=this._phase,this._readOnly(["frequency","detune"])},n.default.extend(n.default.Oscillator,n.default.Source),n.default.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[],partialCount:0},n.default.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},n.default.Oscillator.prototype._start=function(t){this.log("start",t);var e=new n.default.OscillatorNode;this._oscillator=e,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),t=this.toSeconds(t),this._oscillator.start(t)},n.default.Oscillator.prototype._stop=function(t){return this.log("stop",t),this._oscillator&&(t=this.toSeconds(t),this._oscillator.stop(t)),this},n.default.Oscillator.prototype.restart=function(t){return this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(this.toSeconds(t)),this},n.default.Oscillator.prototype.syncFrequency=function(){return n.default.Transport.syncSignal(this.frequency),this},n.default.Oscillator.prototype.unsyncFrequency=function(){return n.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(n.default.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=[n.default.Oscillator.Type.Sine,n.default.Oscillator.Type.Square,n.default.Oscillator.Type.Triangle,n.default.Oscillator.Type.Sawtooth].includes(t);if(0===this._phase&&e)this._wave=null,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{var i=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(i[0],i[1]);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}this._type=t}}),Object.defineProperty(n.default.Oscillator.prototype,"baseType",{get:function(){return this._type.replace(this.partialCount,"")},set:function(t){this.partialCount&&this._type!==n.default.Oscillator.Type.Custom&&t!==n.default.Oscillator.Type.Custom?this.type=t+this.partialCount:this.type=t}}),Object.defineProperty(n.default.Oscillator.prototype,"partialCount",{get:function(){return this._partialCount},set:function(t){var e=this._type,i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);i&&(e=i[1]),this._type!==n.default.Oscillator.Type.Custom&&(this.type=0===t?e:e+t.toString())}}),n.default.Oscillator.prototype.get=function(){var t=n.default.prototype.get.apply(this,arguments);return t.type!==n.default.Oscillator.Type.Custom&&delete t.partials,t},n.default.Oscillator.prototype._getRealImaginary=function(t,e){var i=2048,r=new Float32Array(i),s=new Float32Array(i),o=1;if(t===n.default.Oscillator.Type.Custom)o=this._partials.length+1,this._partialCount=this._partials.length,i=o;else{var a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);a?(o=parseInt(a[2])+1,this._partialCount=parseInt(a[2]),t=a[1],i=o=Math.max(o,2)):this._partialCount=0,this._partials=[]}for(var l=1;l<i;++l){var u,c=2/(l*Math.PI);switch(t){case n.default.Oscillator.Type.Sine:u=l<=o?1:0,this._partials[l-1]=u;break;case n.default.Oscillator.Type.Square:u=1&l?2*c:0,this._partials[l-1]=u;break;case n.default.Oscillator.Type.Sawtooth:u=c*(1&l?1:-1),this._partials[l-1]=u;break;case n.default.Oscillator.Type.Triangle:u=1&l?c*c*2*(l-1>>1&1?-1:1):0,this._partials[l-1]=u;break;case n.default.Oscillator.Type.Custom:u=this._partials[l-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+t)}0!==u?(r[l]=-u*Math.sin(e*l),s[l]=u*Math.cos(e*l)):(r[l]=0,s[l]=0)}return[r,s]},n.default.Oscillator.prototype._inverseFFT=function(t,e,i){for(var n=0,r=t.length,s=0;s<r;s++)n+=t[s]*Math.cos(s*i)+e[s]*Math.sin(s*i);return n},n.default.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],i=t[1],n=0,r=2*Math.PI,s=0;s<8;s++)n=Math.max(this._inverseFFT(e,i,s/8*r),n);return-this._inverseFFT(e,i,this._phase)/n},Object.defineProperty(n.default.Oscillator.prototype,"partials",{get:function(){return this._partials},set:function(t){this._partials=t,this.type=n.default.Oscillator.Type.Custom}}),Object.defineProperty(n.default.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),n.default.Oscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.dispose(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},e.default=n.default.Oscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(14),i(1),n.default.Delay=function(){var t=n.default.defaults(arguments,["delayTime","maxDelay"],n.default.Delay);n.default.AudioNode.call(this,t),this._maxDelay=Math.max(this.toSeconds(t.maxDelay),this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(this._maxDelay),this.delayTime=new n.default.Param({param:this._delayNode.delayTime,units:n.default.Type.Time,value:t.delayTime}),this._readOnly("delayTime")},n.default.extend(n.default.Delay,n.default.AudioNode),n.default.Delay.defaults={maxDelay:1,delayTime:0},Object.defineProperty(n.default.Delay.prototype,"maxDelay",{get:function(){return this._maxDelay}}),n.default.Delay.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},e.default=n.default.Delay},function(t,e,i){"use strict";i.r(e);var n=i(0);i(3),i(1),n.default.Split=function(t){t=n.default.defaultArg(t,2),n.default.AudioNode.call(this),this.createInsOuts(0,t),this._splitter=this.input=this.context.createChannelSplitter(t);for(var e=0;e<t;e++)this.output[e]=new n.default.Gain,n.default.connect(this._splitter,this.output[e],e,0),this.output[e].channelCount=1,this.output[e].channelCountMode="explicit";this.left=this.output[0],this.right=this.output[1]},n.default.extend(n.default.Split,n.default.AudioNode),n.default.Split.prototype.dispose=function(){return this.output.forEach((function(t){t.dispose()})),n.default.AudioNode.prototype.dispose.call(this),this._splitter.disconnect(),this.left=null,this.right=null,this._splitter=null,this},e.default=n.default.Split},function(t,e,i){"use strict";i.r(e);var n=i(0),r=(i(35),i(24),i(44),["baseLatency","destination","currentTime","sampleRate","listener","state"]),s=["suspend","close","resume","getOutputTimestamp","createMediaElementSource","createMediaStreamSource","createMediaStreamDestination","createBuffer","decodeAudioData","createBufferSource","createConstantSource","createGain","createDelay","createBiquadFilter","createIIRFilter","createWaveShaper","createPanner","createConvolver","createDynamicsCompressor","createAnalyser","createScriptProcessor","createStereoPanner","createOscillator","createPeriodicWave","createChannelSplitter","createChannelMerger","audioWorklet"];n.default.Context=function(){n.default.Emitter.call(this);var t=n.default.defaults(arguments,["context"],n.default.Context);if(!t.context&&(t.context=new n.default.global.AudioContext,!t.context))throw new Error("could not create AudioContext. Possibly too many AudioContexts running already.");for(this._context=t.context;this._context.rawContext;)this._context=this._context.rawContext;r.forEach(function(t){this._defineProperty(this._context,t)}.bind(this)),s.forEach(function(t){this._defineMethod(this._context,t)}.bind(this)),this._latencyHint=t.latencyHint,this._constants={},this.lookAhead=t.lookAhead,this._computedUpdateInterval=0,this._ticker=new o(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this._timeouts=new n.default.Timeline,this._timeoutIds=0,this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=function(t){this.emit("statechange",t)}.bind(this)},n.default.extend(n.default.Context,n.default.Emitter),n.default.Emitter.mixin(n.default.Context),n.default.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03},n.default.Context.prototype.isContext=!0,n.default.Context.prototype._defineProperty=function(t,e){n.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return t[e]},set:function(i){t[e]=i}})},n.default.Context.prototype._defineMethod=function(t,e){n.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return t[e].bind(t)}})},n.default.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead},Object.defineProperty(n.default.Context.prototype,"destination",{get:function(){return this.master?this.master:this._context.destination}}),n.default.Context.prototype.resume=function(){return"suspended"===this._context.state&&this._context instanceof AudioContext?this._context.resume():Promise.resolve()},n.default.Context.prototype.close=function(){var t=Promise.resolve();return this!==n.default.global.TONE_AUDIO_CONTEXT&&(t=this.rawContext.close()),t.then(function(){n.default.Context.emit("close",this)}.bind(this))},n.default.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),i=e.getChannelData(0),n=0;n<i.length;n++)i[n]=t;var r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants[t]=r,r},n.default.Context.prototype._timeoutLoop=function(){for(var t=this.now();this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=t;)this._timeouts.shift().callback()},n.default.Context.prototype.setTimeout=function(t,e){this._timeoutIds++;var i=this.now();return this._timeouts.add({callback:t,time:i+e,id:this._timeoutIds}),this._timeoutIds},n.default.Context.prototype.clearTimeout=function(t){return this._timeouts.forEach((function(e){e.id===t&&this.remove(e)})),this},Object.defineProperty(n.default.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(t){this._ticker.updateInterval=t}}),Object.defineProperty(n.default.Context.prototype,"rawContext",{get:function(){return this._context}}),Object.defineProperty(n.default.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(t){this._ticker.type=t}}),Object.defineProperty(n.default.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(t){var e=t;if(this._latencyHint=t,n.default.isString(t))switch(t){case"interactive":e=.1,this._context.latencyHint=t;break;case"playback":e=.8,this._context.latencyHint=t;break;case"balanced":e=.25,this._context.latencyHint=t;break;case"fastest":this._context.latencyHint="interactive",e=.01}this.lookAhead=e,this.updateInterval=e/3}}),n.default.Context.prototype.dispose=function(){return this.close().then(function(){for(var t in n.default.Emitter.prototype.dispose.call(this),this._ticker.dispose(),this._ticker=null,this._timeouts.dispose(),this._timeouts=null,this._constants)this._constants[t].disconnect();this._constants=null}.bind(this))};var o=function(t,e,i){this._type=e,this._updateInterval=i,this._callback=n.default.defaultArg(t,n.default.noOp),this._createClock()};if(o.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"},o.prototype._createWorker=function(){n.default.global.URL=n.default.global.URL||n.default.global.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),e=URL.createObjectURL(t),i=new Worker(e);i.onmessage=this._callback.bind(this),this._worker=i},o.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout(),this._callback()}.bind(this),1e3*this._updateInterval)},o.prototype._createClock=function(){if(this._type===o.Type.Worker)try{this._createWorker()}catch(t){this._type=o.Type.Timeout,this._createClock()}else this._type===o.Type.Timeout&&this._createTimeout()},Object.defineProperty(o.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,128/44100),this._type===o.Type.Worker&&this._worker.postMessage(Math.max(1e3*t,1))}}),Object.defineProperty(o.prototype,"type",{get:function(){return this._type},set:function(t){this._disposeClock(),this._type=t,this._createClock()}}),o.prototype._disposeClock=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._worker&&(this._worker.terminate(),this._worker.onmessage=null,this._worker=null)},o.prototype.dispose=function(){this._disposeClock(),this._callback=null},n.default.supported&&!n.default.initialized){if(n.default.global.TONE_AUDIO_CONTEXT||(n.default.global.TONE_AUDIO_CONTEXT=new n.default.Context),n.default.context=n.default.global.TONE_AUDIO_CONTEXT,!n.default.global.TONE_SILENCE_LOGGING){var a="v";"dev"===n.default.version&&(a="");var l=" * Tone.js "+a+n.default.version+" * ";console.log("%c"+l,"background: #000; color: #fff")}}else n.default.supported||n.default.global.TONE_SILENCE_LOGGING||console.warn("This browser does not support Tone.js");e.default=n.default.Context},function(t,e,i){"use strict";i.r(e);var n=i(0);i(4),i(40),n.default.Instrument=function(t){t=n.default.defaultArg(t,n.default.Instrument.defaults),n.default.AudioNode.call(this),this._volume=this.output=new n.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._scheduledEvents=[]},n.default.extend(n.default.Instrument,n.default.AudioNode),n.default.Instrument.defaults={volume:0},n.default.Instrument.prototype.triggerAttack=n.default.noOp,n.default.Instrument.prototype.triggerRelease=n.default.noOp,n.default.Instrument.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this},n.default.Instrument.prototype._syncMethod=function(t,e){var i=this["_original_"+t]=this[t];this[t]=function(){var t=Array.prototype.slice.call(arguments),r=t[e],s=n.default.Transport.schedule(function(n){t[e]=n,i.apply(this,t)}.bind(this),r);this._scheduledEvents.push(s)}.bind(this)},n.default.Instrument.prototype.unsync=function(){return this._scheduledEvents.forEach((function(t){n.default.Transport.clear(t)})),this._scheduledEvents=[],this._original_triggerAttack&&(this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this},n.default.Instrument.prototype.triggerAttackRelease=function(t,e,i,n){return i=this.toSeconds(i),e=this.toSeconds(e),this.triggerAttack(t,i,n),this.triggerRelease(i+e),this},n.default.Instrument.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this.unsync(),this._scheduledEvents=null,this},e.default=n.default.Instrument},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),i(2),n.default.AudioToGain=function(){n.default.SignalBase.call(this),this._norm=this.input=this.output=new n.default.WaveShaper((function(t){return(t+1)/2}))},n.default.extend(n.default.AudioToGain,n.default.SignalBase),n.default.AudioToGain.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=n.default.AudioToGain},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(13),i(89),i(3),i(1),n.default.CrossFade=function(t){n.default.AudioNode.call(this),this.createInsOuts(2,1),this.a=this.input[0]=new n.default.Gain,this.b=this.input[1]=new n.default.Gain,this.fade=new n.default.Signal(n.default.defaultArg(t,.5),n.default.Type.NormalRange),this._equalPowerA=new n.default.EqualPowerGain,this._equalPowerB=new n.default.EqualPowerGain,this._one=this.context.getConstant(1),this._invert=new n.default.Subtract,this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),n.default.connect(this._one,this._invert,0,0),this.fade.connect(this._invert,0,1),this._invert.chain(this._equalPowerA,this.a.gain),this._readOnly("fade")},n.default.extend(n.default.CrossFade,n.default.AudioNode),n.default.CrossFade.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this._one=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},e.default=n.default.CrossFade},function(t,e,i){"use strict";i.r(e);var n=i(0);n.default.Timeline=function(){var t=n.default.defaults(arguments,["memory"],n.default.Timeline);n.default.call(this),this._timeline=[],this.memory=t.memory},n.default.extend(n.default.Timeline),n.default.Timeline.defaults={memory:1/0},Object.defineProperty(n.default.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),n.default.Timeline.prototype.add=function(t){if(n.default.isUndef(t.time))throw new Error("Tone.Timeline: events must have a time attribute");t.time=t.time.valueOf();var e=this._search(t.time);if(this._timeline.splice(e+1,0,t),this.length>this.memory){var i=this.length-this.memory;this._timeline.splice(0,i)}return this},n.default.Timeline.prototype.remove=function(t){var e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this},n.default.Timeline.prototype.get=function(t,e){e=n.default.defaultArg(e,"time");var i=this._search(t,e);return-1!==i?this._timeline[i]:null},n.default.Timeline.prototype.peek=function(){return this._timeline[0]},n.default.Timeline.prototype.shift=function(){return this._timeline.shift()},n.default.Timeline.prototype.getAfter=function(t,e){e=n.default.defaultArg(e,"time");var i=this._search(t,e);return i+1<this._timeline.length?this._timeline[i+1]:null},n.default.Timeline.prototype.getBefore=function(t,e){e=n.default.defaultArg(e,"time");var i=this._timeline.length;if(i>0&&this._timeline[i-1][e]<t)return this._timeline[i-1];var r=this._search(t,e);return r-1>=0?this._timeline[r-1]:null},n.default.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0)if(this._timeline[e].time===t){for(var i=e;i>=0&&this._timeline[i].time===t;i--)e=i;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},n.default.Timeline.prototype.cancelBefore=function(t){var e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this},n.default.Timeline.prototype.previousEvent=function(t){var e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null},n.default.Timeline.prototype._search=function(t,e){if(0===this._timeline.length)return-1;e=n.default.defaultArg(e,"time");var i=0,r=this._timeline.length,s=r;if(r>0&&this._timeline[r-1][e]<=t)return r-1;for(;i<s;){var o=Math.floor(i+(s-i)/2),a=this._timeline[o],l=this._timeline[o+1];if(a[e]===t){for(var u=o;u<this._timeline.length;u++)this._timeline[u][e]===t&&(o=u);return o}if(a[e]<t&&l[e]>t)return o;a[e]>t?s=o:i=o+1}return-1},n.default.Timeline.prototype._iterate=function(t,e,i){e=n.default.defaultArg(e,0),i=n.default.defaultArg(i,this._timeline.length-1),this._timeline.slice(e,i+1).forEach(function(e){t.call(this,e)}.bind(this))},n.default.Timeline.prototype.forEach=function(t){return this._iterate(t),this},n.default.Timeline.prototype.forEachBefore=function(t,e){var i=this._search(t);return-1!==i&&this._iterate(e,0,i),this},n.default.Timeline.prototype.forEachAfter=function(t,e){var i=this._search(t);return this._iterate(e,i+1),this},n.default.Timeline.prototype.forEachBetween=function(t,e,i){var n=this._search(t),r=this._search(e);return-1!==n&&-1!==r?(this._timeline[n].time!==t&&(n+=1),this._timeline[r].time===e&&(r-=1),this._iterate(i,n,r)):-1===n&&this._iterate(i,0,r),this},n.default.Timeline.prototype.forEachFrom=function(t,e){for(var i=this._search(t);i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this},n.default.Timeline.prototype.forEachAtTime=function(t,e){var i=this._search(t);return-1!==i&&this._iterate((function(i){i.time===t&&e.call(this,i)}),0,i),this},n.default.Timeline.prototype.dispose=function(){return n.default.prototype.dispose.call(this),this._timeline=null,this},e.default=n.default.Timeline},function(t,e,i){"use strict";i.r(e);var n=i(0);i(21),i(2),n.default.Monophonic=function(t){t=n.default.defaultArg(t,n.default.Monophonic.defaults),n.default.Instrument.call(this,t),this.portamento=t.portamento},n.default.extend(n.default.Monophonic,n.default.Instrument),n.default.Monophonic.defaults={portamento:0},n.default.Monophonic.prototype.triggerAttack=function(t,e,i){return this.log("triggerAttack",t,e,i),e=this.toSeconds(e),this._triggerEnvelopeAttack(e,i),this.setNote(t,e),this},n.default.Monophonic.prototype.triggerRelease=function(t){return this.log("triggerRelease",t),t=this.toSeconds(t),this._triggerEnvelopeRelease(t),this},n.default.Monophonic.prototype._triggerEnvelopeAttack=function(){},n.default.Monophonic.prototype._triggerEnvelopeRelease=function(){},n.default.Monophonic.prototype.getLevelAtTime=function(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)},n.default.Monophonic.prototype.setNote=function(t,e){if(e=this.toSeconds(e),this.portamento>0&&this.getLevelAtTime(e)>.05){var i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(t,i,e)}else this.frequency.setValueAtTime(t,e);return this},e.default=n.default.Monophonic},function(t,e,i){"use strict";i.r(e);var n=i(0);i(29),i(5),i(2),n.default.Scale=function(t,e){n.default.SignalBase.call(this),this._outputMin=n.default.defaultArg(t,0),this._outputMax=n.default.defaultArg(e,1),this._scale=this.input=new n.default.Multiply(1),this._add=this.output=new n.default.Add(0),this._scale.connect(this._add),this._setRange()},n.default.extend(n.default.Scale,n.default.SignalBase),Object.defineProperty(n.default.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(n.default.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),n.default.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},n.default.Scale.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},e.default=n.default.Scale},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(3),i(1),n.default.Volume=function(){var t=n.default.defaults(arguments,["volume"],n.default.Volume);n.default.AudioNode.call(this,t),this.output=this.input=new n.default.Gain(t.volume,n.default.Type.Decibels),this._unmutedVolume=t.volume,this.volume=this.output.gain,this._readOnly("volume"),this.mute=t.mute},n.default.extend(n.default.Volume,n.default.AudioNode),n.default.Volume.defaults={volume:0,mute:!1},Object.defineProperty(n.default.Volume.prototype,"mute",{get:function(){return this.volume.value===-1/0},set:function(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}}),n.default.Volume.prototype.dispose=function(){return this.input.dispose(),n.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},e.default=n.default.Volume},function(t,e,i){"use strict";i.r(e);var n=i(0);i(3),i(30),n.default.Zero=function(){n.default.SignalBase.call(this),this._gain=this.input=this.output=new n.default.Gain,n.default.connect(this.context.getConstant(0),this._gain)},n.default.extend(n.default.Zero,n.default.SignalBase),n.default.Zero.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this},e.default=n.default.Zero},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(3),n.default.Add=function(t){n.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new n.default.Gain,this._param=this.input[1]=new n.default.Signal(t),this._param.connect(this._sum)},n.default.extend(n.default.Add,n.default.Signal),n.default.Add.prototype.dispose=function(){return n.default.Signal.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this},e.default=n.default.Add},function(t,e,i){"use strict";i.r(e);var n=i(0);i(1),n.default.SignalBase=function(){n.default.AudioNode.call(this)},n.default.extend(n.default.SignalBase,n.default.AudioNode),n.default.SignalBase.prototype.connect=function(t,e,i){return n.default.Signal&&n.default.Signal===t.constructor||n.default.Param&&n.default.Param===t.constructor?(t._param.cancelScheduledValues(0),t._param.setValueAtTime(0,0),t.overridden=!0):t instanceof AudioParam&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0)),n.default.AudioNode.prototype.connect.call(this,t,e,i),this},e.default=n.default.SignalBase},function(t,e,i){"use strict";i.r(e);var n=i(0);i(47),i(3),n.default.AmplitudeEnvelope=function(){n.default.Envelope.apply(this,arguments),this.input=this.output=new n.default.Gain,this._sig.connect(this.output.gain)},n.default.extend(n.default.AmplitudeEnvelope,n.default.Envelope),n.default.AmplitudeEnvelope.prototype.dispose=function(){return n.default.Envelope.prototype.dispose.call(this),this},e.default=n.default.AmplitudeEnvelope},function(t,e,i){"use strict";i.r(e);var n=i(0);i(11),i(6),i(3),i(1),n.default.BufferSource=function(){var t=n.default.defaults(arguments,["buffer","onload"],n.default.BufferSource);n.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._sourceStarted=!1,this._sourceStopped=!1,this._stopTime=-1,this._gainNode=this.output=new n.default.Gain(0),this._source=this.context.createBufferSource(),n.default.connect(this._source,this._gainNode),this._source.onended=this._onended.bind(this),this._buffer=new n.default.Buffer(t.buffer,t.onload),this.playbackRate=new n.default.Param({param:this._source.playbackRate,units:n.default.Type.Positive,value:t.playbackRate}),this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut,this.curve=t.curve,this._onendedTimeout=-1,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd},n.default.extend(n.default.BufferSource,n.default.AudioNode),n.default.BufferSource.defaults={onended:n.default.noOp,onload:n.default.noOp,loop:!1,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1},Object.defineProperty(n.default.BufferSource.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),n.default.BufferSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&this._startTime<=t&&(-1===this._stopTime||t<this._stopTime)&&!this._sourceStopped?n.default.State.Started:n.default.State.Stopped},n.default.BufferSource.prototype.start=function(t,e,i,r){this.log("start",t,e,i,r),this.assert(-1===this._startTime,"can only be started once"),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),e=this.loop?n.default.defaultArg(e,this.loopStart):n.default.defaultArg(e,0),e=this.toSeconds(e),e=Math.max(e,0),r=n.default.defaultArg(r,1);var s=this.toSeconds(this.fadeIn);if(s>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(r,t+s):this._gainNode.gain.exponentialApproachValueAtTime(r,t,s)):this._gainNode.gain.setValueAtTime(r,t),this._startTime=t,n.default.isDefined(i)){var o=this.toSeconds(i);o=Math.max(o,0),this.stop(t+o)}if(this.loop){var a=this.loopEnd||this.buffer.duration,l=this.loopStart;e>=a&&(e=(e-l)%(a-l)+l)}return this._source.buffer=this.buffer.get(),this._source.loopEnd=this.loopEnd||this.buffer.duration,e<this.buffer.duration&&(this._sourceStarted=!0,this._source.start(t,e)),this},n.default.BufferSource.prototype.stop=function(t){this.log("stop",t),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),-1!==this._stopTime&&this.cancelStop();var e=this.toSeconds(this.fadeOut);return this._stopTime=t+e,e>0?"linear"===this.curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),n.default.context.clearTimeout(this._onendedTimeout),this._onendedTimeout=n.default.context.setTimeout(this._onended.bind(this),this._stopTime-this.now()),this},n.default.BufferSource.prototype.cancelStop=function(){if(-1!==this._startTime&&!this._sourceStopped){var t=this.toSeconds(this.fadeIn);this._gainNode.gain.cancelScheduledValues(this._startTime+t+this.sampleTime),this.context.clearTimeout(this._onendedTimeout),this._stopTime=-1}return this},n.default.BufferSource.prototype._onended=function(){if(!this._sourceStopped){this._sourceStopped=!0;var t="exponential"===this.curve?2*this.fadeOut:0;this._sourceStarted&&-1!==this._stopTime&&this._source.stop(this._stopTime+t),this.onended(this),setTimeout(function(){this._source&&(this._source.disconnect(),this._gainNode.disconnect())}.bind(this),1e3*t+100)}},Object.defineProperty(n.default.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}}),Object.defineProperty(n.default.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}}),Object.defineProperty(n.default.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(n.default.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t,this.cancelStop()}}),n.default.BufferSource.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,n.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._source.onended=null,this._source.disconnect(),this._source=null,this._gainNode.dispose(),this._gainNode=null,this._buffer.dispose(),this._buffer=null,this._startTime=-1,this.playbackRate=null,n.default.context.clearTimeout(this._onendedTimeout)),this},e.default=n.default.BufferSource},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(2),i(5),i(3),n.default.FeedbackEffect=function(){var t=n.default.defaults(arguments,["feedback"],n.default.FeedbackEffect);n.default.Effect.call(this,t),this._feedbackGain=new n.default.Gain(t.feedback,n.default.Type.NormalRange),this.feedback=this._feedbackGain.gain,this.effectReturn.chain(this._feedbackGain,this.effectSend),this._readOnly(["feedback"])},n.default.extend(n.default.FeedbackEffect,n.default.Effect),n.default.FeedbackEffect.defaults={feedback:.125},n.default.FeedbackEffect.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this},e.default=n.default.FeedbackEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(24),i(4),n.default.TimelineState=function(t){n.default.Timeline.call(this),this._initial=t},n.default.extend(n.default.TimelineState,n.default.Timeline),n.default.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},n.default.TimelineState.prototype.setStateAtTime=function(t,e){return this.add({state:t,time:e}),this},n.default.TimelineState.prototype.getLastState=function(t,e){e=this.toSeconds(e);for(var i=this._search(e);i>=0;i--){var n=this._timeline[i];if(n.state===t)return n}},n.default.TimelineState.prototype.getNextState=function(t,e){e=this.toSeconds(e);var i=this._search(e);if(-1!==i)for(var n=i;n<this._timeline.length;n++){var r=this._timeline[n];if(r.state===t)return r}},e.default=n.default.TimelineState},function(t,e,i){"use strict";i.r(e);var n=i(0);n.default.Emitter=function(){n.default.call(this),this._events={}},n.default.extend(n.default.Emitter),n.default.Emitter.prototype.on=function(t,e){for(var i=t.split(/\W+/),n=0;n<i.length;n++){var r=i[n];this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(e)}return this},n.default.Emitter.prototype.once=function(t,e){var i=function(){e.apply(this,arguments),this.off(t,i)}.bind(this);return this.on(t,i),this},n.default.Emitter.prototype.off=function(t,e){for(var i=t.split(/\W+/),r=0;r<i.length;r++)if(t=i[r],this._events.hasOwnProperty(t))if(n.default.isUndef(e))this._events[t]=[];else for(var s=this._events[t],o=0;o<s.length;o++)s[o]===e&&s.splice(o,1);return this},n.default.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var i=this._events[t].slice(0),n=0,r=i.length;n<r;n++)i[n].apply(this,e)}return this},n.default.Emitter.mixin=function(t){var e=["on","once","off","emit"];t._events={};for(var i=0;i<e.length;i++){var r=e[i],s=n.default.Emitter.prototype[r];t[r]=s}return n.default.Emitter},n.default.Emitter.prototype.dispose=function(){return n.default.prototype.dispose.call(this),this._events=null,this},e.default=n.default.Emitter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(1),i(44),n.default.supported&&(AnalyserNode.prototype.getFloatTimeDomainData||(AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var i=0;i<e.length;i++)t[i]=(e[i]-128)/128})),n.default.Analyser=function(){var t=n.default.defaults(arguments,["type","size"],n.default.Analyser);n.default.AudioNode.call(this),this._analyser=this.input=this.output=this.context.createAnalyser(),this._type=t.type,this._buffer=null,this.size=t.size,this.type=t.type},n.default.extend(n.default.Analyser,n.default.AudioNode),n.default.Analyser.defaults={size:1024,type:"fft",smoothing:.8},n.default.Analyser.Type={Waveform:"waveform",FFT:"fft"},n.default.Analyser.prototype.getValue=function(){return this._type===n.default.Analyser.Type.FFT?this._analyser.getFloatFrequencyData(this._buffer):this._type===n.default.Analyser.Type.Waveform&&this._analyser.getFloatTimeDomainData(this._buffer),this._buffer},Object.defineProperty(n.default.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=2*t,this._buffer=new Float32Array(t)}}),Object.defineProperty(n.default.Analyser.prototype,"type",{get:function(){return this._type},set:function(t){if(t!==n.default.Analyser.Type.Waveform&&t!==n.default.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+t);this._type=t}}),Object.defineProperty(n.default.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}}),n.default.Analyser.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},e.default=n.default.Analyser},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(50),i(69),i(49),i(68),i(67),n.default.OmniOscillator=function(){var t=n.default.defaults(arguments,["frequency","type"],n.default.OmniOscillator);n.default.Source.call(this,t),this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=t.type,this._readOnly(["frequency","detune"]),this.set(t)},n.default.extend(n.default.OmniOscillator,n.default.Source),n.default.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var r="PulseOscillator",s="PWMOscillator",o="Oscillator",a="FMOscillator",l="AMOscillator",u="FatOscillator";n.default.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},n.default.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},n.default.OmniOscillator.prototype.restart=function(t){this._oscillator.restart(t)},Object.defineProperty(n.default.OmniOscillator.prototype,"type",{get:function(){var t="";return this._sourceType===a?t="fm":this._sourceType===l?t="am":this._sourceType===u&&(t="fat"),t+this._oscillator.type},set:function(t){"fm"===t.substr(0,2)?(this._createNewOscillator(a),this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator(l),this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator(u),this._oscillator.type=t.substr(3)):"pwm"===t?this._createNewOscillator(s):"pulse"===t?this._createNewOscillator(r):(this._createNewOscillator(o),this._oscillator.type=t)}}),Object.defineProperty(n.default.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}}),Object.defineProperty(n.default.OmniOscillator.prototype,"partialCount",{get:function(){return this._oscillator.partialCount},set:function(t){this._oscillator.partialCount=t}}),n.default.OmniOscillator.prototype.set=function(t,e){return"type"===t?this.type=e:n.default.isObject(t)&&t.hasOwnProperty("type")&&(this.type=t.type),n.default.prototype.set.apply(this,arguments),this},n.default.OmniOscillator.prototype.get=function(t){var e=this._oscillator.get(t);return e.type=this.type,e},n.default.OmniOscillator.prototype._createNewOscillator=function(t){if(t!==this._sourceType){this._sourceType=t;var e=n.default[t],i=this.now();if(null!==this._oscillator){var r=this._oscillator;r.stop(i),this.context.setTimeout((function(){r.dispose(),r=null}),this.blockTime)}this._oscillator=new e,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===n.default.State.Started&&this._oscillator.start(i)}},Object.defineProperty(n.default.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}});var c={PulseOscillator:"pulse",PWMOscillator:"pwm",Oscillator:"oscillator",FMOscillator:"fm",AMOscillator:"am",FatOscillator:"fat"};Object.defineProperty(n.default.OmniOscillator.prototype,"sourceType",{get:function(){return c[this._sourceType]},set:function(t){var e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),t===c.FMOscillator?this.type="fm"+e:t===c.AMOscillator?this.type="am"+e:t===c.FatOscillator?this.type="fat"+e:t===c.Oscillator?this.type=e:t===c.PulseOscillator?this.type="pulse":t===c.PWMOscillator&&(this.type="pwm")}}),Object.defineProperty(n.default.OmniOscillator.prototype,"baseType",{get:function(){return this._oscillator.baseType},set:function(t){this.sourceType!==c.PulseOscillator&&this.sourceType!==c.PWMOscillator&&(this._oscillator.baseType=t)}}),Object.defineProperty(n.default.OmniOscillator.prototype,"width",{get:function(){return this._sourceType===r?this._oscillator.width:void 0}}),Object.defineProperty(n.default.OmniOscillator.prototype,"count",{get:function(){return this._sourceType===u?this._oscillator.count:void 0},set:function(t){this._sourceType===u&&(this._oscillator.count=t)}}),Object.defineProperty(n.default.OmniOscillator.prototype,"spread",{get:function(){return this._sourceType===u?this._oscillator.spread:void 0},set:function(t){this._sourceType===u&&(this._oscillator.spread=t)}}),Object.defineProperty(n.default.OmniOscillator.prototype,"modulationType",{get:function(){return this._sourceType===a||this._sourceType===l?this._oscillator.modulationType:void 0},set:function(t){this._sourceType!==a&&this._sourceType!==l||(this._oscillator.modulationType=t)}}),Object.defineProperty(n.default.OmniOscillator.prototype,"modulationIndex",{get:function(){return this._sourceType===a?this._oscillator.modulationIndex:void 0}}),Object.defineProperty(n.default.OmniOscillator.prototype,"harmonicity",{get:function(){return this._sourceType===a||this._sourceType===l?this._oscillator.harmonicity:void 0}}),Object.defineProperty(n.default.OmniOscillator.prototype,"modulationFrequency",{get:function(){return this._sourceType===s?this._oscillator.modulationFrequency:void 0}}),n.default.OmniOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},e.default=n.default.OmniOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(31),i(37),i(25),n.default.Synth=function(t){t=n.default.defaultArg(t,n.default.Synth.defaults),n.default.Monophonic.call(this,t),this.oscillator=new n.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new n.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","frequency","detune","envelope"])},n.default.extend(n.default.Synth,n.default.Monophonic),n.default.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},n.default.Synth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this},n.default.Synth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release)),this},n.default.Synth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},e.default=n.default.Synth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(11),i(32),n.default.Noise=function(){var t=n.default.defaults(arguments,["type"],n.default.Noise);n.default.Source.call(this,t),this._source=null,this._type=t.type,this._playbackRate=t.playbackRate},n.default.extend(n.default.Noise,n.default.Source),n.default.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(n.default.Noise.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t){if(!(t in r))throw new TypeError("Tone.Noise: invalid type: "+t);if(this._type=t,this.state===n.default.State.Started){var e=this.now();this._stop(e),this._start(e)}}}}),Object.defineProperty(n.default.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),n.default.Noise.prototype._start=function(t){var e=r[this._type];this._source=new n.default.BufferSource(e).connect(this.output),this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))},n.default.Noise.prototype._stop=function(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)},n.default.Noise.prototype.restart=function(t){return this._stop(t),this._start(t),this},n.default.Noise.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var r={},s={};Object.defineProperty(r,"pink",{get:function(){if(!s.pink){for(var t=[],e=0;e<2;e++){var i,r,o,a,l,u,c,h=new Float32Array(220500);t[e]=h,i=r=o=a=l=u=c=0;for(var d=0;d<220500;d++){var f=2*Math.random()-1;i=.99886*i+.0555179*f,r=.99332*r+.0750759*f,o=.969*o+.153852*f,a=.8665*a+.3104856*f,l=.55*l+.5329522*f,u=-.7616*u-.016898*f,h[d]=i+r+o+a+l+u+c+.5362*f,h[d]*=.11,c=.115926*f}}s.pink=(new n.default.Buffer).fromArray(t)}return s.pink}}),Object.defineProperty(r,"brown",{get:function(){if(!s.brown){for(var t=[],e=0;e<2;e++){var i=new Float32Array(220500);t[e]=i;for(var r=0,o=0;o<220500;o++){var a=2*Math.random()-1;i[o]=(r+.02*a)/1.02,r=i[o],i[o]*=3.5}}s.brown=(new n.default.Buffer).fromArray(t)}return s.brown}}),Object.defineProperty(r,"white",{get:function(){if(!s.white){for(var t=[],e=0;e<2;e++){var i=new Float32Array(220500);t[e]=i;for(var r=0;r<220500;r++)i[r]=2*Math.random()-1}s.white=(new n.default.Buffer).fromArray(t)}return s.white}}),e.default=n.default.Noise},function(t,e,i){"use strict";i.r(e);var n=i(0);i(27),i(20),i(1),n.default.Master=function(){n.default.AudioNode.call(this),n.default.getContext(function(){this.createInsOuts(1,0),this._volume=this.output=new n.default.Volume,this.volume=this._volume.volume,this._readOnly("volume"),n.default.connectSeries(this.input,this.output,this.context.destination),this.context.master=this}.bind(this))},n.default.extend(n.default.Master,n.default.AudioNode),n.default.Master.defaults={volume:0,mute:!1},n.default.Master.prototype.isMaster=!0,Object.defineProperty(n.default.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),n.default.Master.prototype.chain=function(){this.input.disconnect();var t=Array.from(arguments);t.unshift(this.input),t.push(this.output),n.default.connectSeries.apply(void 0,t)},n.default.Master.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},n.default.AudioNode.prototype.toMaster=function(){return this.connect(this.context.master),this};var r=n.default.Master;n.default.Master=new r,n.default.Context.on("init",(function(t){t.master&&t.master.isMaster?n.default.Master=t.master:n.default.Master=new r})),n.default.Context.on("close",(function(t){t.master&&t.master.isMaster&&t.master.dispose()})),e.default=n.default.Master},function(t,e,i){"use strict";i.r(e);var n=i(0);i(86),i(47),n.default.FrequencyEnvelope=function(){var t=n.default.defaults(arguments,["attack","decay","sustain","release"],n.default.Envelope);t=n.default.defaultArg(t,n.default.FrequencyEnvelope.defaults),n.default.ScaledEnvelope.call(this,t),this._octaves=t.octaves,this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this.exponent=t.exponent},n.default.extend(n.default.FrequencyEnvelope,n.default.Envelope),n.default.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:1},Object.defineProperty(n.default.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(n.default.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._scale.max=this.baseFrequency*Math.pow(2,t)}}),Object.defineProperty(n.default.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),n.default.FrequencyEnvelope.prototype.dispose=function(){return n.default.ScaledEnvelope.prototype.dispose.call(this),this},e.default=n.default.FrequencyEnvelope},function(t,e,i){"use strict";i.r(e);var n=i(0);i(26),i(61),n.default.ScaleExp=function(t,e,i){n.default.SignalBase.call(this),this._scale=this.output=new n.default.Scale(t,e),this._exp=this.input=new n.default.Pow(n.default.defaultArg(i,2)),this._exp.connect(this._scale)},n.default.extend(n.default.ScaleExp,n.default.SignalBase),Object.defineProperty(n.default.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(n.default.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(n.default.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),n.default.ScaleExp.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=n.default.ScaleExp},function(t,e,i){"use strict";i.r(e);var n=i(0);i(14),i(1),n.default.Compressor=function(){var t=n.default.defaults(arguments,["threshold","ratio"],n.default.Compressor);n.default.AudioNode.call(this),this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=new n.default.Param({param:this._compressor.threshold,units:n.default.Type.Decibels,convert:!1}),this.attack=new n.default.Param(this._compressor.attack,n.default.Type.Time),this.release=new n.default.Param(this._compressor.release,n.default.Type.Time),this.knee=new n.default.Param({param:this._compressor.knee,units:n.default.Type.Decibels,convert:!1}),this.ratio=new n.default.Param({param:this._compressor.ratio,convert:!1}),this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(t)},n.default.extend(n.default.Compressor,n.default.AudioNode),n.default.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},n.default.Compressor.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this},e.default=n.default.Compressor},function(t,e,i){"use strict";var n=i(0);if(i(92),n.default.supported){!n.default.global.hasOwnProperty("AudioContext")&&n.default.global.hasOwnProperty("webkitAudioContext")&&(n.default.global.AudioContext=n.default.global.webkitAudioContext),AudioContext.prototype.close||(AudioContext.prototype.close=function(){return n.default.isFunction(this.suspend)&&this.suspend(),Promise.resolve()}),AudioContext.prototype.resume||(AudioContext.prototype.resume=function(){var t=this.createBuffer(1,1,this.sampleRate),e=this.createBufferSource();return e.buffer=t,e.connect(this.destination),e.start(0),Promise.resolve()}),!AudioContext.prototype.createGain&&AudioContext.prototype.createGainNode&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),!AudioContext.prototype.createDelay&&AudioContext.prototype.createDelayNode&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode);var r=!1,s=new OfflineAudioContext(1,1,44100),o=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;try{var a=s.decodeAudioData(o);a&&n.default.isFunction(a.then)&&(r=!0)}catch(t){r=!1}r||(AudioContext.prototype._native_decodeAudioData=AudioContext.prototype.decodeAudioData,AudioContext.prototype.decodeAudioData=function(t){return new Promise(function(e,i){this._native_decodeAudioData(t,e,i)}.bind(this))})}},function(t,e,i){"use strict";i.r(e);var n=i(0);i(63),n.default.TransportTime=function(t,e){if(!(this instanceof n.default.TransportTime))return new n.default.TransportTime(t,e);n.default.Time.call(this,t,e)},n.default.extend(n.default.TransportTime,n.default.Time),n.default.TransportTime.prototype._now=function(){return n.default.Transport.seconds},e.default=n.default.TransportTime},function(t,e,i){"use strict";i.r(e);var n=i(0);i(62),n.default.Frequency=function(t,e){if(!(this instanceof n.default.Frequency))return new n.default.Frequency(t,e);n.default.TimeBase.call(this,t,e)},n.default.extend(n.default.Frequency,n.default.TimeBase),n.default.Frequency.prototype._expressions=Object.assign({},n.default.TimeBase.prototype._expressions,{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return"midi"===this._defaultUnits?t:n.default.Frequency.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,e){var i=r[t.toLowerCase()]+12*(parseInt(e)+1);return"midi"===this._defaultUnits?i:n.default.Frequency.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,i){var n=1;return t&&"0"!==t&&(n*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(n*=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(n*=this._beatsToUnits(parseFloat(i)/4)),n}}}),n.default.Frequency.prototype.transpose=function(t){return new this.constructor(this.valueOf()*n.default.intervalToFrequencyRatio(t))},n.default.Frequency.prototype.harmonize=function(t){return t.map(function(t){return this.transpose(t)}.bind(this))},n.default.Frequency.prototype.toMidi=function(){return n.default.Frequency.ftom(this.valueOf())},n.default.Frequency.prototype.toNote=function(){var t=this.toFrequency(),e=Math.log2(t/n.default.Frequency.A4),i=Math.round(12*e)+57,r=Math.floor(i/12);return r<0&&(i+=-12*r),s[i%12]+r.toString()},n.default.Frequency.prototype.toSeconds=function(){return 1/n.default.TimeBase.prototype.toSeconds.call(this)},n.default.Frequency.prototype.toFrequency=function(){return n.default.TimeBase.prototype.toFrequency.call(this)},n.default.Frequency.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*n.default.Transport.PPQ)},n.default.Frequency.prototype._noArg=function(){return 0},n.default.Frequency.prototype._frequencyToUnits=function(t){return t},n.default.Frequency.prototype._ticksToUnits=function(t){return 1/(60*t/(n.default.Transport.bpm.value*n.default.Transport.PPQ))},n.default.Frequency.prototype._beatsToUnits=function(t){return 1/n.default.TimeBase.prototype._beatsToUnits.call(this,t)},n.default.Frequency.prototype._secondsToUnits=function(t){return 1/t},n.default.Frequency.prototype._defaultUnits="hz";var r={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},s=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];n.default.Frequency.A4=440,n.default.Frequency.mtof=function(t){return n.default.Frequency.A4*Math.pow(2,(t-69)/12)},n.default.Frequency.ftom=function(t){return 69+Math.round(12*Math.log2(t/n.default.Frequency.A4))},e.default=n.default.Frequency},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(61),i(4),i(1),n.default.Envelope=function(){var t=n.default.defaults(arguments,["attack","decay","sustain","release"],n.default.Envelope);n.default.AudioNode.call(this),this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this._attackCurve="linear",this._releaseCurve="exponential",this._sig=this.output=new n.default.Signal(0),this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve},n.default.extend(n.default.Envelope,n.default.AudioNode),n.default.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",decayCurve:"exponential",releaseCurve:"exponential"},Object.defineProperty(n.default.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}}),n.default.Envelope.prototype._getCurve=function(t,e){if(n.default.isString(t))return t;if(n.default.isArray(t))for(var i in n.default.Envelope.Type)if(n.default.Envelope.Type[i][e]===t)return i},n.default.Envelope.prototype._setCurve=function(t,e,i){if(n.default.Envelope.Type.hasOwnProperty(i)){var r=n.default.Envelope.Type[i];n.default.isObject(r)?this[t]=r[e]:this[t]=r}else{if(!n.default.isArray(i))throw new Error("Tone.Envelope: invalid curve: "+i);this[t]=i}},Object.defineProperty(n.default.Envelope.prototype,"attackCurve",{get:function(){return this._getCurve(this._attackCurve,"In")},set:function(t){this._setCurve("_attackCurve","In",t)}}),Object.defineProperty(n.default.Envelope.prototype,"releaseCurve",{get:function(){return this._getCurve(this._releaseCurve,"Out")},set:function(t){this._setCurve("_releaseCurve","Out",t)}}),Object.defineProperty(n.default.Envelope.prototype,"decayCurve",{get:function(){return this._decayCurve},set:function(t){if(!["linear","exponential"].includes(t))throw new Error("Tone.Envelope: invalid curve: "+t);this._decayCurve=t}}),n.default.Envelope.prototype.triggerAttack=function(t,e){this.log("triggerAttack",t,e),t=this.toSeconds(t);var i=this.toSeconds(this.attack),r=this.toSeconds(this.decay);e=n.default.defaultArg(e,1);var s=this.getValueAtTime(t);if(s>0&&(i=(1-s)/(1/i)),0===i)this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,i,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,i,t);else if(i>0){this._sig.cancelAndHoldAtTime(t);for(var o=this._attackCurve,a=1;a<o.length;a++)if(o[a-1]<=s&&s<=o[a]){(o=this._attackCurve.slice(a))[0]=s;break}this._sig.setValueCurveAtTime(o,t,i,e)}if(r){var l=e*this.sustain,u=t+i;this.log("decay",u),"linear"===this._decayCurve?this._sig.linearRampTo(l,r,u+this.sampleTime):"exponential"===this._decayCurve&&this._sig.exponentialApproachValueAtTime(l,u,r)}return this},n.default.Envelope.prototype.triggerRelease=function(t){this.log("triggerRelease",t),t=this.toSeconds(t);var e=this.getValueAtTime(t);if(e>0){var i=this.toSeconds(this.release);if("linear"===this._releaseCurve)this._sig.linearRampTo(0,i,t);else if("exponential"===this._releaseCurve)this._sig.targetRampTo(0,i,t);else{var r=this._releaseCurve;n.default.isArray(r)&&(this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(r,t,i,e))}}return this},n.default.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},n.default.Envelope.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this},n.default.Envelope.prototype.cancel=function(t){return this._sig.cancelScheduledValues(t),this},n.default.Envelope.prototype.connect=n.default.SignalBase.prototype.connect,function(){var t,e,i=[];for(t=0;t<128;t++)i[t]=Math.sin(t/127*(Math.PI/2));var r=[];for(t=0;t<127;t++){e=t/127;var s=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;r[t]=s/10+.83*e}r[127]=1;var o=[];for(t=0;t<128;t++)o[t]=Math.ceil(t/127*5)/5;var a=[];for(t=0;t<128;t++)e=t/127,a[t]=.5*(1-Math.cos(Math.PI*e));var l,u=[];for(t=0;t<128;t++){e=t/127;var c=4*Math.pow(e,3)+.2,h=Math.cos(c*Math.PI*2*e);u[t]=Math.abs(h*(1-e))}function d(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=1-t[i];return e}n.default.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:d(u),Out:u},cosine:{In:i,Out:(l=i,l.slice(0).reverse())},step:{In:o,Out:d(o)},ripple:{In:r,Out:d(r)},sine:{In:a,Out:d(a)}}}(),n.default.Envelope.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this},e.default=n.default.Envelope},function(t,e,i){"use strict";i.r(e);var n=i(0);if(i(23),i(10),i(19),i(7),i(28),i(3),i(2),i(20),n.default.supported&&!n.default.global.AudioContext.prototype.createStereoPanner){var r=function(t){this.context=t,this.pan=new n.default.Signal(0,n.default.Type.AudioRange);var e=new n.default.WaveShaper((function(t){return n.default.equalPowerScale((t+1)/2)}),4096),i=new n.default.WaveShaper((function(t){return n.default.equalPowerScale(1-(t+1)/2)}),4096),r=new n.default.Gain,s=new n.default.Gain,o=this.input=new n.default.Split;o._splitter.channelCountMode="explicit",(new n.default.Zero).fan(e,i);var a=this.output=new n.default.Merge;o.left.chain(r,a.left),o.right.chain(s,a.right),this.pan.chain(i,r.gain),this.pan.chain(e,s.gain)};r.prototype.disconnect=function(){this.output.disconnect.apply(this.output,arguments)},r.prototype.connect=function(){this.output.connect.apply(this.output,arguments)},AudioContext.prototype.createStereoPanner=function(){return new r(this)},n.default.Context.prototype.createStereoPanner=function(){return new r(this)}}i(22),i(1),n.default.Panner=function(){var t=n.default.defaults(arguments,["pan"],n.default.Panner);n.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=this._panner.pan,this.pan.value=t.pan,this._readOnly("pan")},n.default.extend(n.default.Panner,n.default.AudioNode),n.default.Panner.defaults={pan:0},n.default.Panner.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable("pan"),this._panner.disconnect(),this._panner=null,this.pan=null,this},e.default=n.default.Panner},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(5),i(3),n.default.FMOscillator=function(){var t=n.default.defaults(arguments,["frequency","type","modulationType"],n.default.FMOscillator);n.default.Source.call(this,t),this._carrier=new n.default.Oscillator(t.frequency,t.type),this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.detune=this._carrier.detune,this.detune.value=t.detune,this.modulationIndex=new n.default.Multiply(t.modulationIndex),this.modulationIndex.units=n.default.Type.Positive,this._modulator=new n.default.Oscillator(t.frequency,t.modulationType),this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this._modulationNode=new n.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),this.phase=t.phase,this._readOnly(["modulationIndex","frequency","detune","harmonicity"])},n.default.extend(n.default.FMOscillator,n.default.Source),n.default.FMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationIndex:2,modulationType:"square",harmonicity:1},n.default.FMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},n.default.FMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},n.default.FMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(n.default.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),n.default.FMOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this},e.default=n.default.FMOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(2),i(7),i(3),n.default.PulseOscillator=function(){var t=n.default.defaults(arguments,["frequency","width"],n.default.Oscillator);n.default.Source.call(this,t),this.width=new n.default.Signal(t.width,n.default.Type.NormalRange),this._widthGate=new n.default.Gain(0),this._sawtooth=new n.default.Oscillator({frequency:t.frequency,detune:t.detune,type:"sawtooth",phase:t.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new n.default.WaveShaper((function(t){return t<0?-1:1})),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},n.default.extend(n.default.PulseOscillator,n.default.Source),n.default.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},n.default.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},n.default.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},n.default.PulseOscillator.prototype.restart=function(t){this._sawtooth.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)},Object.defineProperty(n.default.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(n.default.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(n.default.PulseOscillator.prototype,"baseType",{get:function(){return"pulse"}}),Object.defineProperty(n.default.PulseOscillator.prototype,"partials",{get:function(){return[]}}),n.default.PulseOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this},e.default=n.default.PulseOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(16),i(4),i(34),n.default.Event=function(){var t=n.default.defaults(arguments,["callback","value"],n.default.Event);n.default.call(this),this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._state=new n.default.TimelineState(n.default.State.Stopped),this._playbackRate=1,this._startOffset=0,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate},n.default.extend(n.default.Event),n.default.Event.defaults={callback:n.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},n.default.Event.prototype._rescheduleEvents=function(t){return t=n.default.defaultArg(t,-1),this._state.forEachFrom(t,function(t){var e;if(t.state===n.default.State.Started){n.default.isDefined(t.id)&&n.default.Transport.clear(t.id);var i=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||n.default.isNumber(this._loop)&&this._loop>1){e=1/0,n.default.isNumber(this._loop)&&(e=this._loop*this._getLoopDuration());var r=this._state.getAfter(i);null!==r&&(e=Math.min(e,r.time-i)),e!==1/0&&(this._state.setStateAtTime(n.default.State.Stopped,i+e+1),e=n.default.Ticks(e));var s=n.default.Ticks(this._getLoopDuration());t.id=n.default.Transport.scheduleRepeat(this._tick.bind(this),s,n.default.Ticks(i),e)}else t.id=n.default.Transport.schedule(this._tick.bind(this),n.default.Ticks(i))}}.bind(this)),this},Object.defineProperty(n.default.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(n.default.Transport.ticks)}}),Object.defineProperty(n.default.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),Object.defineProperty(n.default.Event.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t}}),Object.defineProperty(n.default.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t}}),n.default.Event.prototype.start=function(t){return t=this.toTicks(t),this._state.getValueAtTime(t)===n.default.State.Stopped&&(this._state.add({state:n.default.State.Started,time:t,id:void 0}),this._rescheduleEvents(t)),this},n.default.Event.prototype.stop=function(t){if(this.cancel(t),t=this.toTicks(t),this._state.getValueAtTime(t)===n.default.State.Started){this._state.setStateAtTime(n.default.State.Stopped,t);var e=this._state.getBefore(t),i=t;null!==e&&(i=e.time),this._rescheduleEvents(i)}return this},n.default.Event.prototype.cancel=function(t){return t=n.default.defaultArg(t,-1/0),t=this.toTicks(t),this._state.forEachFrom(t,(function(t){n.default.Transport.clear(t.id)})),this._state.cancel(t),this},n.default.Event.prototype._tick=function(t){var e=n.default.Transport.getTicksAtTime(t);if(!this.mute&&this._state.getValueAtTime(e)===n.default.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var i=.02;n.default.isBoolean(this.humanize)||(i=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*i}this.callback(t,this.value)}},n.default.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(n.default.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(n.default.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(n.default.Event.prototype,"loopEnd",{get:function(){return n.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(n.default.Event.prototype,"loopStart",{get:function(){return n.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(n.default.Event.prototype,"progress",{get:function(){if(this._loop){var t=n.default.Transport.ticks,e=this._state.get(t);if(null!==e&&e.state===n.default.State.Started){var i=this._getLoopDuration();return(t-e.time)%i/i}return 0}return 0}}),n.default.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},e.default=n.default.Event},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(13),i(29),i(10),i(3),i(1),n.default.MidSideMerge=function(){n.default.AudioNode.call(this),this.createInsOuts(2,0),this.mid=this.input[0]=new n.default.Gain,this._left=new n.default.Add,this._timesTwoLeft=new n.default.Multiply(Math.SQRT1_2),this.side=this.input[1]=new n.default.Gain,this._right=new n.default.Subtract,this._timesTwoRight=new n.default.Multiply(Math.SQRT1_2),this._merge=this.output=new n.default.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._timesTwoLeft),this._right.connect(this._timesTwoRight),this._timesTwoLeft.connect(this._merge,0,0),this._timesTwoRight.connect(this._merge,0,1)},n.default.extend(n.default.MidSideMerge,n.default.AudioNode),n.default.MidSideMerge.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._timesTwoLeft.dispose(),this._timesTwoLeft=null,this._right.dispose(),this._right=null,this._timesTwoRight.dispose(),this._timesTwoRight=null,this._merge.dispose(),this._merge=null,this},e.default=n.default.MidSideMerge},function(t,e,i){"use strict";i.r(e);var n=i(0);i(29),i(13),i(2),i(19),i(1),n.default.MidSideSplit=function(){n.default.AudioNode.call(this),this.createInsOuts(0,2),this._split=this.input=new n.default.Split,this._midAdd=new n.default.Add,this.mid=this.output[0]=new n.default.Multiply(Math.SQRT1_2),this._sideSubtract=new n.default.Subtract,this.side=this.output[1]=new n.default.Multiply(Math.SQRT1_2),this._split.connect(this._midAdd,0,0),this._split.connect(this._midAdd,1,1),this._split.connect(this._sideSubtract,0,0),this._split.connect(this._sideSubtract,1,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)},n.default.extend(n.default.MidSideSplit,n.default.AudioNode),n.default.MidSideSplit.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midAdd.dispose(),this._midAdd=null,this._sideSubtract.dispose(),this._sideSubtract=null,this._split.dispose(),this._split=null,this},e.default=n.default.MidSideSplit},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(9),i(1),i(59),n.default.LowpassCombFilter=function(){var t=n.default.defaults(arguments,["delayTime","resonance","dampening"],n.default.LowpassCombFilter);n.default.AudioNode.call(this),this._combFilter=this.output=new n.default.FeedbackCombFilter(t.delayTime,t.resonance),this.delayTime=this._combFilter.delayTime,this._lowpass=this.input=new n.default.Filter({frequency:t.dampening,type:"lowpass",Q:0,rolloff:-12}),this.dampening=this._lowpass.frequency,this.resonance=this._combFilter.resonance,this._lowpass.connect(this._combFilter),this._readOnly(["dampening","resonance","delayTime"])},n.default.extend(n.default.LowpassCombFilter,n.default.AudioNode),n.default.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},n.default.LowpassCombFilter.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this._combFilter.dispose(),this._combFilter=null,this.resonance=null,this.delayTime=null,this._lowpass.dispose(),this._lowpass=null,this.dampening=null,this},e.default=n.default.LowpassCombFilter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(45),n.default.Ticks=function(t,e){if(!(this instanceof n.default.Ticks))return new n.default.Ticks(t,e);n.default.TransportTime.call(this,t,e)},n.default.extend(n.default.Ticks,n.default.TransportTime),n.default.Ticks.prototype._defaultUnits="i",n.default.Ticks.prototype._now=function(){return n.default.Transport.ticks},n.default.Ticks.prototype._beatsToUnits=function(t){return this._getPPQ()*t},n.default.Ticks.prototype._secondsToUnits=function(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())},n.default.Ticks.prototype._ticksToUnits=function(t){return t},n.default.Ticks.prototype.toTicks=function(){return this.valueOf()},n.default.Ticks.prototype.toSeconds=function(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())},e.default=n.default.Ticks},function(t,e,i){"use strict";i.r(e);var n=i(0);i(55),n.default.TransportEvent=function(t,e){e=n.default.defaultArg(e,n.default.TransportEvent.defaults),n.default.call(this),this.Transport=t,this.id=n.default.TransportEvent._eventId++,this.time=n.default.Ticks(e.time),this.callback=e.callback,this._once=e.once},n.default.extend(n.default.TransportEvent),n.default.TransportEvent.defaults={once:!1,callback:n.default.noOp},n.default.TransportEvent._eventId=0,n.default.TransportEvent.prototype.invoke=function(t){this.callback&&(this.callback(t),this._once&&this.Transport&&this.Transport.clear(this.id))},n.default.TransportEvent.prototype.dispose=function(){return n.default.prototype.dispose.call(this),this.Transport=null,this.callback=null,this.time=null,this},e.default=n.default.TransportEvent},function(t,e,i){"use strict";i.r(e);var n=i(0);i(82),i(34),i(24),i(14),n.default.TickSource=function(){var t=n.default.defaults(arguments,["frequency"],n.default.TickSource);this.frequency=new n.default.TickSignal(t.frequency),this._readOnly("frequency"),this._state=new n.default.TimelineState(n.default.State.Stopped),this._state.setStateAtTime(n.default.State.Stopped,0),this._tickOffset=new n.default.Timeline,this.setTicksAtTime(0,0)},n.default.extend(n.default.TickSource),n.default.TickSource.defaults={frequency:1},Object.defineProperty(n.default.TickSource.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),n.default.TickSource.prototype.start=function(t,e){return t=this.toSeconds(t),this._state.getValueAtTime(t)!==n.default.State.Started&&(this._state.setStateAtTime(n.default.State.Started,t),n.default.isDefined(e)&&this.setTicksAtTime(e,t)),this},n.default.TickSource.prototype.stop=function(t){if(t=this.toSeconds(t),this._state.getValueAtTime(t)===n.default.State.Stopped){var e=this._state.get(t);e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime(n.default.State.Stopped,t),this.setTicksAtTime(0,t),this},n.default.TickSource.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===n.default.State.Started&&this._state.setStateAtTime(n.default.State.Paused,t),this},n.default.TickSource.prototype.cancel=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this},n.default.TickSource.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(n.default.State.Stopped,t),i={state:n.default.State.Paused,time:t};this._state.add(i);var r=e,s=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=r.time,i=this._tickOffset.get(t.time);i.time>=r.time&&(s=i.ticks,e=i.time),r.state===n.default.State.Started&&t.state!==n.default.State.Started&&(s+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),r=t}.bind(this)),this._state.remove(i),s},Object.defineProperty(n.default.TickSource.prototype,"ticks",{get:function(){return this.getTicksAtTime(this.now())},set:function(t){this.setTicksAtTime(t,this.now())}}),Object.defineProperty(n.default.TickSource.prototype,"seconds",{get:function(){return this.getSecondsAtTime(this.now())},set:function(t){var e=this.now(),i=this.frequency.timeToTicks(t,e);this.setTicksAtTime(i,e)}}),n.default.TickSource.prototype.getSecondsAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(n.default.State.Stopped,t),i={state:n.default.State.Paused,time:t};this._state.add(i);var r=e,s=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=r.time,i=this._tickOffset.get(t.time);i.time>=r.time&&(s=i.seconds,e=i.time),r.state===n.default.State.Started&&t.state!==n.default.State.Started&&(s+=t.time-e),r=t}.bind(this)),this._state.remove(i),s},n.default.TickSource.prototype.setTicksAtTime=function(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({time:e,ticks:t,seconds:this.frequency.getDurationOfTicks(t,e)}),this},n.default.TickSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},n.default.TickSource.prototype.getTimeOfTick=function(t,e){e=n.default.defaultArg(e,this.now());var i=this._tickOffset.get(e),r=this._state.get(e),s=Math.max(i.time,r.time),o=this.frequency.getTicksAtTime(s)+t-i.ticks;return this.frequency.getTimeOfTick(o)},n.default.TickSource.prototype.forEachTickBetween=function(t,e,i){var r=this._state.get(t);if(this._state.forEachBetween(t,e,function(e){r.state===n.default.State.Started&&e.state!==n.default.State.Started&&this.forEachTickBetween(Math.max(r.time,t),e.time-this.sampleTime,i),r=e}.bind(this)),t=Math.max(r.time,t),r.state===n.default.State.Started&&this._state){var s=this.frequency.getTicksAtTime(t),o=(s-this.frequency.getTicksAtTime(r.time))%1;0!==o&&(o=1-o);for(var a=this.frequency.getTimeOfTick(s+o),l=null;a<e&&this._state;){try{i(a,Math.round(this.getTicksAtTime(a)))}catch(t){l=t;break}this._state&&(a+=this.frequency.getDurationOfTicks(1,a))}}if(l)throw l;return this},n.default.TickSource.prototype.dispose=function(){return n.default.Param.prototype.dispose.call(this),this._state.dispose(),this._state=null,this._tickOffset.dispose(),this._tickOffset=null,this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this},e.default=n.default.TickSource},function(t,e,i){"use strict";i.r(e);var n=i(0);i(87),i(13),i(2),i(4),i(18),i(1),n.default.Follower=function(){var t=n.default.defaults(arguments,["smoothing"],n.default.Follower);n.default.AudioNode.call(this),this.createInsOuts(1,1),this._abs=new n.default.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=0,this._sub=new n.default.Subtract,this._delay=new n.default.Delay(this.blockTime),this._smoothing=t.smoothing,n.default.connect(this.input,this._delay),n.default.connect(this.input,this._sub,0,1),this._sub.chain(this._abs,this._filter,this.output),this.smoothing=t.smoothing},n.default.extend(n.default.Follower,n.default.AudioNode),n.default.Follower.defaults={smoothing:.05},Object.defineProperty(n.default.Follower.prototype,"smoothing",{get:function(){return this._smoothing},set:function(t){this._smoothing=t,this._filter.frequency.value=.5*n.default.Time(t).toFrequency()}}),n.default.Follower.prototype.connect=n.default.SignalBase.prototype.connect,n.default.Follower.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this},e.default=n.default.Follower},function(t,e,i){"use strict";i.r(e);var n=i(0);i(42),i(2),i(14),i(18),i(3),i(1),n.default.FeedbackCombFilter=function(){var t=n.default.defaults(arguments,["delayTime","resonance"],n.default.FeedbackCombFilter);n.default.AudioNode.call(this),this._delay=this.input=this.output=new n.default.Delay(t.delayTime),this.delayTime=this._delay.delayTime,this._feedback=new n.default.Gain(t.resonance,n.default.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},n.default.extend(n.default.FeedbackCombFilter,n.default.AudioNode),n.default.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},n.default.FeedbackCombFilter.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this},e.default=n.default.FeedbackCombFilter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(9),i(2),i(3),i(1),n.default.MultibandSplit=function(){var t=n.default.defaults(arguments,["lowFrequency","highFrequency"],n.default.MultibandSplit);n.default.AudioNode.call(this),this.input=new n.default.Gain,this.output=new Array(3),this.low=this.output[0]=new n.default.Filter(0,"lowpass"),this._lowMidFilter=new n.default.Filter(0,"highpass"),this.mid=this.output[1]=new n.default.Filter(0,"lowpass"),this.high=this.output[2]=new n.default.Filter(0,"highpass"),this.lowFrequency=new n.default.Signal(t.lowFrequency,n.default.Type.Frequency),this.highFrequency=new n.default.Signal(t.highFrequency,n.default.Type.Frequency),this.Q=new n.default.Signal(t.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},n.default.extend(n.default.MultibandSplit,n.default.AudioNode),n.default.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},n.default.MultibandSplit.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},e.default=n.default.MultibandSplit},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),n.default.Pow=function(t){n.default.SignalBase.call(this),this._exp=n.default.defaultArg(t,1),this._expScaler=this.input=this.output=new n.default.WaveShaper(this._expFunc(this._exp),8192)},n.default.extend(n.default.Pow,n.default.SignalBase),Object.defineProperty(n.default.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),n.default.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},n.default.Pow.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},e.default=n.default.Pow},function(t,e,i){"use strict";i.r(e);var n=i(0);n.default.TimeBase=function(t,e){if(!(this instanceof n.default.TimeBase))return new n.default.TimeBase(t,e);if(this._val=t,this._units=e,n.default.isUndef(this._units)&&n.default.isString(this._val)&&parseFloat(this._val)==this._val&&"+"!==this._val.charAt(0))this._val=parseFloat(this._val),this._units=this._defaultUnits;else if(t&&t.constructor===this.constructor)this._val=t._val,this._units=t._units;else if(t instanceof n.default.TimeBase)switch(this._defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break;default:throw new Error("Unrecognized default units "+this._defaultUnits)}},n.default.extend(n.default.TimeBase),n.default.TimeBase.prototype._expressions={n:{regexp:/^(\d+)n(\.?)$/i,method:function(t,e){t=parseInt(t);var i="."===e?1.5:1;return 1===t?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/t)*i}},t:{regexp:/^(\d+)t$/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m$/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._getTimeSignature())}},i:{regexp:/^(\d+)i$/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz$/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/,method:function(t,e,i){var n=0;return t&&"0"!==t&&(n+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(n+=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(n+=this._beatsToUnits(parseFloat(i)/4)),n}},s:{regexp:/^(\d+(?:\.\d+)?)s$/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples$/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)$/,method:function(t){return this._expressions[this._defaultUnits].method.call(this,t)}}},n.default.TimeBase.prototype._defaultUnits="s",n.default.TimeBase.prototype._getBpm=function(){return n.default.Transport?n.default.Transport.bpm.value:120},n.default.TimeBase.prototype._getTimeSignature=function(){return n.default.Transport?n.default.Transport.timeSignature:4},n.default.TimeBase.prototype._getPPQ=function(){return n.default.Transport?n.default.Transport.PPQ:192},n.default.TimeBase.prototype._now=function(){return this.now()},n.default.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},n.default.TimeBase.prototype._beatsToUnits=function(t){return 60/this._getBpm()*t},n.default.TimeBase.prototype._secondsToUnits=function(t){return t},n.default.TimeBase.prototype._ticksToUnits=function(t){return t*(this._beatsToUnits(1)/this._getPPQ())},n.default.TimeBase.prototype._noArg=function(){return this._now()},n.default.TimeBase.prototype.valueOf=function(){if(n.default.isUndef(this._val))return this._noArg();if(n.default.isString(this._val)&&n.default.isUndef(this._units)){for(var t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(n.default.isObject(this._val)){var e=0;for(var i in this._val){var r=this._val[i];e+=new this.constructor(i).valueOf()*r}return e}if(n.default.isDefined(this._units)){var s=this._expressions[this._units],o=this._val.toString().trim().match(s.regexp);return o?s.method.apply(this,o.slice(1)):s.method.call(this,parseFloat(this._val))}return this._val},n.default.TimeBase.prototype.toSeconds=function(){return this.valueOf()},n.default.TimeBase.prototype.toFrequency=function(){return 1/this.toSeconds()},n.default.TimeBase.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},n.default.TimeBase.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},n.default.TimeBase.prototype.dispose=function(){this._val=null,this._units=null},e.default=n.default.TimeBase},function(t,e,i){"use strict";i.r(e);var n=i(0);i(62),i(46),n.default.Time=function(t,e){if(!(this instanceof n.default.Time))return new n.default.Time(t,e);n.default.TimeBase.call(this,t,e)},n.default.extend(n.default.Time,n.default.TimeBase),n.default.Time.prototype._expressions=Object.assign({},n.default.TimeBase.prototype._expressions,{quantize:{regexp:/^@(.+)/,method:function(t){if(n.default.Transport){var e=new this.constructor(t);return this._secondsToUnits(n.default.Transport.nextSubdivision(e))}return 0}},now:{regexp:/^\+(.+)/,method:function(t){return this._now()+new this.constructor(t)}}}),n.default.Time.prototype.quantize=function(t,e){e=n.default.defaultArg(e,1);var i=new this.constructor(t),r=this.valueOf();return r+(Math.round(r/i)*i-r)*e},n.default.Time.prototype.toNotation=function(){for(var t=this.toSeconds(),e=["1m"],i=1;i<8;i++){var r=Math.pow(2,i);e.push(r+"n."),e.push(r+"n"),e.push(r+"t")}e.push("0");var s=e[0],o=n.default.Time(e[0]).toSeconds();return e.forEach((function(e){var i=n.default.Time(e).toSeconds();Math.abs(i-t)<Math.abs(o-t)&&(s=e,o=i)})),s},n.default.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;e=parseFloat(e.toFixed(4));var i=Math.floor(e/this._getTimeSignature()),n=e%1*4;return e=Math.floor(e)%this._getTimeSignature(),(n=n.toString()).length>3&&(n=parseFloat(parseFloat(n).toFixed(3))),[i,e,n].join(":")},n.default.Time.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())},n.default.Time.prototype.toSeconds=function(){return this.valueOf()},n.default.Time.prototype.toMidi=function(){return n.default.Frequency.ftom(this.toFrequency())},e.default=n.default.Time},function(t,e,i){"use strict";i.r(e);var n=i(0);i(11),i(6),i(3),i(1),n.default.supported&&(OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable)),n.default.OscillatorNode=function(){var t=n.default.defaults(arguments,["frequency","type"],n.default.OscillatorNode);n.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._stopTime=-1,this._gainNode=this.output=new n.default.Gain(0),this._oscillator=this.context.createOscillator(),n.default.connect(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new n.default.Param({param:this._oscillator.frequency,units:n.default.Type.Frequency,value:t.frequency}),this.detune=new n.default.Param({param:this._oscillator.detune,units:n.default.Type.Cents,value:t.detune}),this._gain=1},n.default.extend(n.default.OscillatorNode,n.default.AudioNode),n.default.OscillatorNode.defaults={frequency:440,detune:0,type:"sine",onended:n.default.noOp},Object.defineProperty(n.default.OscillatorNode.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),n.default.OscillatorNode.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?n.default.State.Started:n.default.State.Stopped},n.default.OscillatorNode.prototype.start=function(t){if(this.log("start",t),-1!==this._startTime)throw new Error("cannot call OscillatorNode.start more than once");return this._startTime=this.toSeconds(t),this._startTime=Math.max(this._startTime,this.context.currentTime),this._oscillator.start(this._startTime),this._gainNode.gain.setValueAtTime(1,this._startTime),this},n.default.OscillatorNode.prototype.setPeriodicWave=function(t){return this._oscillator.setPeriodicWave(t),this},n.default.OscillatorNode.prototype.stop=function(t){return this.log("stop",t),this.assert(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop(),this._stopTime=this.toSeconds(t),this._stopTime=Math.max(this._stopTime,this.context.currentTime),this._stopTime>this._startTime?(this._gainNode.gain.setValueAtTime(0,this._stopTime),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(function(){this._oscillator.stop(this.now()),this.onended(),setTimeout(function(){this._oscillator&&(this._oscillator.disconnect(),this._gainNode.disconnect())}.bind(this),100)}.bind(this),this._stopTime-this.context.currentTime)):this._gainNode.gain.cancelScheduledValues(this._startTime),this},n.default.OscillatorNode.prototype.cancelStop=function(){return-1!==this._startTime&&(this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1),this},Object.defineProperty(n.default.OscillatorNode.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t}}),n.default.OscillatorNode.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,this.context.clearTimeout(this._timeout),n.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._oscillator.disconnect(),this._oscillator=null,this._gainNode.dispose(),this._gainNode=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null),this},e.default=n.default.OscillatorNode},function(t,e,i){"use strict";i.r(e);var n=i(0);i(11),i(6),i(57),i(32),n.default.Player=function(t){var e;t instanceof n.default.Buffer&&t.loaded?(t=t.get(),e=n.default.Player.defaults):e=n.default.defaults(arguments,["url","onload"],n.default.Player),n.default.Source.call(this,e),this.autostart=e.autostart,this._buffer=new n.default.Buffer({url:e.url,onload:this._onload.bind(this,e.onload),reverse:e.reverse}),t instanceof AudioBuffer&&this._buffer.set(t),this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this._activeSources=[],this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut},n.default.extend(n.default.Player,n.default.Source),n.default.Player.defaults={onload:n.default.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,reverse:!1,fadeIn:0,fadeOut:0},n.default.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))},n.default.Player.prototype._onload=function(t){(t=n.default.defaultArg(t,n.default.noOp))(this),this.autostart&&this.start()},n.default.Player.prototype._onSourceEnd=function(t){var e=this._activeSources.indexOf(t);this._activeSources.splice(e,1),0!==this._activeSources.length||this._synced||this._state.setStateAtTime(n.default.State.Stopped,n.default.now())},n.default.Player.prototype._start=function(t,e,i){e=this._loop?n.default.defaultArg(e,this._loopStart):n.default.defaultArg(e,0),e=this.toSeconds(e),this._synced&&(e*=this._playbackRate);var r=n.default.defaultArg(i,Math.max(this._buffer.duration-e,0));r=this.toSeconds(r),r/=this._playbackRate,t=this.toSeconds(t);var s=new n.default.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output);return this._loop||this._synced||this._state.setStateAtTime(n.default.State.Stopped,t+r),this._activeSources.push(s),this._loop&&n.default.isUndef(i)?s.start(t,e):s.start(t,e,r-this.toSeconds(this.fadeOut)),this},n.default.Player.prototype._stop=function(t){return t=this.toSeconds(t),this._activeSources.forEach((function(e){e.stop(t)})),this},n.default.Player.prototype.restart=function(t,e,i){return this._stop(t),this._start(t,e,i),this},n.default.Player.prototype.seek=function(t,e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===n.default.State.Started&&(t=this.toSeconds(t),this._stop(e),this._start(e,t)),this},n.default.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(n.default.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=t,this._activeSources.forEach((function(e){e.loopStart=t}))}}),Object.defineProperty(n.default.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=t,this._activeSources.forEach((function(e){e.loopEnd=t}))}}),Object.defineProperty(n.default.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(n.default.Player.prototype,"loop",{get:function(){return this._loop},set:function(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((function(e){e.loop=t})),t)){var e=this._state.getNextState(n.default.State.Stopped,this.now());e&&this._state.cancel(e.time)}}}),Object.defineProperty(n.default.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t;var e=this.now(),i=this._state.getNextState(n.default.State.Stopped,e);i&&this._state.cancel(i.time),this._activeSources.forEach((function(i){i.cancelStop(),i.playbackRate.setValueAtTime(t,e)}))}}),Object.defineProperty(n.default.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),Object.defineProperty(n.default.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}}),n.default.Player.prototype.dispose=function(){return this._activeSources.forEach((function(t){t.dispose()})),this._activeSources=null,n.default.Source.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this},e.default=n.default.Player},function(t,e,i){"use strict";i.r(e);var n=i(0);i(31),i(41),i(37),i(2),i(9),i(25),n.default.MonoSynth=function(t){t=n.default.defaultArg(t,n.default.MonoSynth.defaults),n.default.Monophonic.call(this,t),this.oscillator=new n.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new n.default.Filter(t.filter),this.filter.frequency.value=5e3,this.filterEnvelope=new n.default.FrequencyEnvelope(t.filterEnvelope),this.envelope=new n.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},n.default.extend(n.default.MonoSynth,n.default.Monophonic),n.default.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},n.default.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.envelope.attack+this.envelope.decay),this},n.default.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},n.default.MonoSynth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},e.default=n.default.MonoSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(5),i(3),n.default.FatOscillator=function(){var t=n.default.defaults(arguments,["frequency","type","spread"],n.default.FatOscillator);n.default.Source.call(this,t),this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this._oscillators=[],this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,this._readOnly(["frequency","detune"])},n.default.extend(n.default.FatOscillator,n.default.Source),n.default.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth",partials:[],partialCount:0},n.default.FatOscillator.prototype._start=function(t){t=this.toSeconds(t),this._forEach((function(e){e.start(t)}))},n.default.FatOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._forEach((function(e){e.stop(t)}))},n.default.FatOscillator.prototype.restart=function(t){t=this.toSeconds(t),this._forEach((function(e){e.restart(t)}))},n.default.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++)t.call(this,this._oscillators[e],e)},Object.defineProperty(n.default.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._forEach((function(e){e.type=t}))}}),Object.defineProperty(n.default.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){if(this._spread=t,this._oscillators.length>1){var e=-t/2,i=t/(this._oscillators.length-1);this._forEach((function(t,n){t.detune.value=e+i*n}))}}}),Object.defineProperty(n.default.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(t){if(t=Math.max(t,1),this._oscillators.length!==t){this._forEach((function(t){t.dispose()})),this._oscillators=[];for(var e=0;e<t;e++){var i=new n.default.Oscillator;this.type===n.default.Oscillator.Type.Custom?i.partials=this._partials:i.type=this._type,i.partialCount=this._partialCount,i.phase=this._phase+e/t*360,i.volume.value=-6-1.1*t,this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.connect(this.output),this._oscillators[e]=i}this.spread=this._spread,this.state===n.default.State.Started&&this._forEach((function(t){t.start()}))}}}),Object.defineProperty(n.default.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=t,this._forEach((function(e){e.phase=t}))}}),Object.defineProperty(n.default.FatOscillator.prototype,"baseType",{get:function(){return this._oscillators[0].baseType},set:function(t){this._forEach((function(e){e.baseType=t})),this._type=this._oscillators[0].type}}),Object.defineProperty(n.default.FatOscillator.prototype,"partials",{get:function(){return this._oscillators[0].partials},set:function(t){this._partials=t,this._type=n.default.Oscillator.Type.Custom,this._forEach((function(e){e.partials=t}))}}),Object.defineProperty(n.default.FatOscillator.prototype,"partialCount",{get:function(){return this._oscillators[0].partialCount},set:function(t){this._partialCount=t,this._forEach((function(e){e.partialCount=t})),this._type=this._oscillators[0].type}}),n.default.FatOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach((function(t){t.dispose()})),this._oscillators=null,this._partials=null,this},e.default=n.default.FatOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(5),i(3),i(22),n.default.AMOscillator=function(){var t=n.default.defaults(arguments,["frequency","type","modulationType"],n.default.AMOscillator);n.default.Source.call(this,t),this._carrier=new n.default.Oscillator(t.frequency,t.type),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this.detune.value=t.detune,this._modulator=new n.default.Oscillator(t.frequency,t.modulationType),this._modulationScale=new n.default.AudioToGain,this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this._modulationNode=new n.default.Gain(0),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.connect(this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this.phase=t.phase,this._readOnly(["frequency","detune","harmonicity"])},n.default.extend(n.default.AMOscillator,n.default.Oscillator),n.default.AMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationType:"square",harmonicity:1},n.default.AMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},n.default.AMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},n.default.AMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(n.default.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),n.default.AMOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this},e.default=n.default.AMOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(50),i(17),i(5),n.default.PWMOscillator=function(){var t=n.default.defaults(arguments,["frequency","modulationFrequency"],n.default.PWMOscillator);n.default.Source.call(this,t),this._pulse=new n.default.PulseOscillator(t.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new n.default.Oscillator({frequency:t.frequency,detune:t.detune,phase:t.phase}),this._scale=new n.default.Multiply(2),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},n.default.extend(n.default.PWMOscillator,n.default.Source),n.default.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},n.default.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},n.default.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},n.default.PWMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._pulse.restart(t)},Object.defineProperty(n.default.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(n.default.PWMOscillator.prototype,"baseType",{get:function(){return"pwm"}}),Object.defineProperty(n.default.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(n.default.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),n.default.PWMOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},e.default=n.default.PWMOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(51),i(4),i(16),n.default.Part=function(){var t=n.default.defaults(arguments,["callback","events"],n.default.Part);n.default.Event.call(this,t),this._events=[];for(var e=0;e<t.events.length;e++)Array.isArray(t.events[e])?this.add(t.events[e][0],t.events[e][1]):this.add(t.events[e])},n.default.extend(n.default.Part,n.default.Event),n.default.Part.defaults={callback:n.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1,events:[]},n.default.Part.prototype.start=function(t,e){var i=this.toTicks(t);return this._state.getValueAtTime(i)!==n.default.State.Started&&(e=this._loop?n.default.defaultArg(e,this._loopStart):n.default.defaultArg(e,0),e=this.toTicks(e),this._state.add({state:n.default.State.Started,time:i,offset:e}),this._forEach((function(t){this._startNote(t,i,e)}))),this},n.default.Part.prototype._startNote=function(t,e,i){e-=i,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<i&&(e+=this._getLoopDuration()),t.start(n.default.Ticks(e))):t.startOffset<this._loopStart&&t.startOffset>=i&&(t.loop=!1,t.start(n.default.Ticks(e))):t.startOffset>=i&&t.start(n.default.Ticks(e))},Object.defineProperty(n.default.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach((function(t){t.startOffset+=this._startOffset}))}}),n.default.Part.prototype.stop=function(t){var e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime(n.default.State.Stopped,e),this._forEach((function(e){e.stop(t)})),this},n.default.Part.prototype.at=function(t,e){t=n.default.TransportTime(t);for(var i=n.default.Ticks(1).toSeconds(),r=0;r<this._events.length;r++){var s=this._events[r];if(Math.abs(t.toTicks()-s.startOffset)<i)return n.default.isDefined(e)&&(s.value=e),s}return n.default.isDefined(e)?(this.add(t,e),this._events[this._events.length-1]):null},n.default.Part.prototype.add=function(t,e){var i;return t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),e instanceof n.default.Event?(i=e).callback=this._tick.bind(this):i=new n.default.Event({callback:this._tick.bind(this),value:e}),i.startOffset=t,i.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(i),this._restartEvent(i),this},n.default.Part.prototype._restartEvent=function(t){this._state.forEach(function(e){e.state===n.default.State.Started?this._startNote(t,e.time,e.offset):t.stop(n.default.Ticks(e.time))}.bind(this))},n.default.Part.prototype.remove=function(t,e){t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t);for(var i=this._events.length-1;i>=0;i--){var r=this._events[i];r.startOffset===t&&(n.default.isUndef(e)||n.default.isDefined(e)&&r.value===e)&&(this._events.splice(i,1),r.dispose())}return this},n.default.Part.prototype.removeAll=function(){return this._forEach((function(t){t.dispose()})),this._events=[],this},n.default.Part.prototype.cancel=function(t){return this._forEach((function(e){e.cancel(t)})),this._state.cancel(this.toTicks(t)),this},n.default.Part.prototype._forEach=function(t,e){if(this._events){e=n.default.defaultArg(e,this);for(var i=this._events.length-1;i>=0;i--){var r=this._events[i];r instanceof n.default.Part?r._forEach(t,e):t.call(e,r)}}return this},n.default.Part.prototype._setAll=function(t,e){this._forEach((function(i){i[t]=e}))},n.default.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},n.default.Part.prototype._testLoopBoundries=function(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):t.state===n.default.State.Stopped&&this._restartEvent(t)},Object.defineProperty(n.default.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(n.default.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(n.default.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach((function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)}))}}),Object.defineProperty(n.default.Part.prototype,"loopEnd",{get:function(){return n.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((function(e){e.loopEnd=t,this._testLoopBoundries(e)}))}}),Object.defineProperty(n.default.Part.prototype,"loopStart",{get:function(){return n.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}}),Object.defineProperty(n.default.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(n.default.Part.prototype,"length",{get:function(){return this._events.length}}),n.default.Part.prototype.dispose=function(){return n.default.Event.prototype.dispose.call(this),this.removeAll(),this.callback=null,this._events=null,this},e.default=n.default.Part},function(t,e,i){"use strict";i.r(e);var n=i(0);i(51),n.default.Loop=function(){var t=n.default.defaults(arguments,["callback","interval"],n.default.Loop);n.default.call(this),this._event=new n.default.Event({callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations},n.default.extend(n.default.Loop),n.default.Loop.defaults={interval:"4n",callback:n.default.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},n.default.Loop.prototype.start=function(t){return this._event.start(t),this},n.default.Loop.prototype.stop=function(t){return this._event.stop(t),this},n.default.Loop.prototype.cancel=function(t){return this._event.cancel(t),this},n.default.Loop.prototype._tick=function(t){this.callback(t)},Object.defineProperty(n.default.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(n.default.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(n.default.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}}),Object.defineProperty(n.default.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}}),Object.defineProperty(n.default.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}}),Object.defineProperty(n.default.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}}),Object.defineProperty(n.default.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}}),Object.defineProperty(n.default.Loop.prototype,"iterations",{get:function(){return!0===this._event.loop?1/0:this._event.loop},set:function(t){this._event.loop=t===1/0||t}}),n.default.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},e.default=n.default.Loop},function(t,e,i){"use strict";i.r(e);var n=i(0);i(15),i(33),n.default.StereoXFeedbackEffect=function(){var t=n.default.defaults(arguments,["feedback"],n.default.FeedbackEffect);n.default.StereoEffect.call(this,t),this.feedback=new n.default.Signal(t.feedback,n.default.Type.NormalRange),this._feedbackLR=new n.default.Gain,this._feedbackRL=new n.default.Gain,this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},n.default.extend(n.default.StereoXFeedbackEffect,n.default.StereoEffect),n.default.StereoXFeedbackEffect.prototype.dispose=function(){return n.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),this._feedbackRL=null,this},e.default=n.default.StereoXFeedbackEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(53),i(52),n.default.MidSideEffect=function(){n.default.Effect.apply(this,arguments),this._midSideSplit=new n.default.MidSideSplit,this._midSideMerge=new n.default.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},n.default.extend(n.default.MidSideEffect,n.default.Effect),n.default.MidSideEffect.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},e.default=n.default.MidSideEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(11),i(8),n.default.Convolver=function(){var t=n.default.defaults(arguments,["url","onload"],n.default.Convolver);n.default.Effect.call(this,t),this._convolver=this.context.createConvolver(),this._buffer=new n.default.Buffer(t.url,function(e){this.buffer=e.get(),t.onload()}.bind(this)),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.connectEffect(this._convolver)},n.default.extend(n.default.Convolver,n.default.Effect),n.default.Convolver.defaults={onload:n.default.noOp,normalize:!0},Object.defineProperty(n.default.Convolver.prototype,"buffer",{get:function(){return this._buffer.length?this._buffer:null},set:function(t){this._buffer.set(t),this._convolver.buffer&&(this.effectSend.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.connectEffect(this._convolver)),this._convolver.buffer=this._buffer.get()}}),Object.defineProperty(n.default.Convolver.prototype,"normalize",{get:function(){return this._convolver.normalize},set:function(t){this._convolver.normalize=t}}),n.default.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this))},n.default.Convolver.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this._convolver.disconnect(),this._convolver=null,this},e.default=n.default.Convolver},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),i(5),i(13),n.default.Modulo=function(t){n.default.SignalBase.call(this),this.createInsOuts(1,0),this._shaper=new n.default.WaveShaper(Math.pow(2,16)),this._multiply=new n.default.Multiply,this._subtract=this.output=new n.default.Subtract,this._modSignal=new n.default.Signal(t),n.default.connect(this.input,this._shaper),n.default.connect(this.input,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(t)},n.default.extend(n.default.Modulo,n.default.SignalBase),n.default.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap((function(e){return Math.floor((e+1e-4)/t)}))},Object.defineProperty(n.default.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),n.default.Modulo.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},e.default=n.default.Modulo},function(t,e,i){"use strict";i.r(e);var n=i(0);i(20),i(92),n.default.OfflineContext=function(t,e,i){var r=new OfflineAudioContext(t,e*i,i);n.default.Context.call(this,{context:r,clockSource:"offline",lookAhead:0,updateInterval:128/i}),this._duration=e,this._currentTime=0},n.default.extend(n.default.OfflineContext,n.default.Context),n.default.OfflineContext.prototype.now=function(){return this._currentTime},n.default.OfflineContext.prototype.resume=function(){return Promise.resolve()},n.default.OfflineContext.prototype.render=function(){for(;this._duration-this._currentTime>=0;)this.emit("tick"),this._currentTime+=.005;return this._context.startRendering()},n.default.OfflineContext.prototype.close=function(){return this._context=null,Promise.resolve()},e.default=n.default.OfflineContext},function(t,e,i){"use strict";i.r(e);var n=i(0);i(16),i(11),i(76),i(40),n.default.Offline=function(t,e){var i=n.default.context.sampleRate,r=n.default.context,s=new n.default.OfflineContext(2,e,i);n.default.context=s;var o=t(n.default.Transport),a=null;return a=o&&n.default.isFunction(o.then)?o.then((function(){return s.render()})):s.render(),n.default.context=r,a.then((function(t){return new n.default.Buffer(t)}))},e.default=n.default.Offline},function(t,e,i){"use strict";i.r(e);var n=i(0);i(11),n.default.Buffers=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i=n.default.defaults(e,["onload","baseUrl"],n.default.Buffers);for(var r in n.default.call(this),this._buffers={},this.baseUrl=i.baseUrl,this._loadingCount=0,t)this._loadingCount++,this.add(r,t[r],this._bufferLoaded.bind(this,i.onload))},n.default.extend(n.default.Buffers),n.default.Buffers.defaults={onload:n.default.noOp,baseUrl:""},n.default.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)},n.default.Buffers.prototype.get=function(t){if(this.has(t))return this._buffers[t];throw new Error("Tone.Buffers: no buffer named "+t)},n.default.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(n.default.Buffers.prototype,"loaded",{get:function(){var t=!0;for(var e in this._buffers){var i=this.get(e);t=t&&i.loaded}return t}}),n.default.Buffers.prototype.add=function(t,e,i){return i=n.default.defaultArg(i,n.default.noOp),e instanceof n.default.Buffer?(this._buffers[t]=e,i(this)):e instanceof AudioBuffer?(this._buffers[t]=new n.default.Buffer(e),i(this)):n.default.isString(e)&&(this._buffers[t]=new n.default.Buffer(this.baseUrl+e,i)),this},n.default.Buffers.prototype.dispose=function(){for(var t in n.default.prototype.dispose.call(this),this._buffers)this._buffers[t].dispose();return this._buffers=null,this},e.default=n.default.Buffers},function(t,e,i){"use strict";i.r(e);var n=i(0);n.default.CtrlPattern=function(){var t=n.default.defaults(arguments,["values","type"],n.default.CtrlPattern);n.default.call(this),this.values=t.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=t.type},n.default.extend(n.default.CtrlPattern),n.default.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},n.default.CtrlPattern.defaults={type:n.default.CtrlPattern.Type.Up,values:[]},Object.defineProperty(n.default.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var t=this.values[this.index];return this.type===n.default.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),t=this.values[this._shuffled[this.index]]),t}}}),Object.defineProperty(n.default.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._shuffled=null,this._type===n.default.CtrlPattern.Type.Up||this._type===n.default.CtrlPattern.Type.UpDown||this._type===n.default.CtrlPattern.Type.RandomOnce||this._type===n.default.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==n.default.CtrlPattern.Type.Down&&this._type!==n.default.CtrlPattern.Type.DownUp&&this._type!==n.default.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1),this._type===n.default.CtrlPattern.Type.UpDown||this._type===n.default.CtrlPattern.Type.AlternateUp?this._direction=n.default.CtrlPattern.Type.Up:this._type!==n.default.CtrlPattern.Type.DownUp&&this._type!==n.default.CtrlPattern.Type.AlternateDown||(this._direction=n.default.CtrlPattern.Type.Down),this._type===n.default.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===n.default.CtrlPattern.Type.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),n.default.CtrlPattern.prototype.next=function(){var t=this.type;return t===n.default.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):t===n.default.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):t===n.default.CtrlPattern.Type.UpDown||t===n.default.CtrlPattern.Type.DownUp?(this._direction===n.default.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=n.default.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=n.default.CtrlPattern.Type.Down)):t===n.default.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):t===n.default.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):t===n.default.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):t===n.default.CtrlPattern.Type.AlternateUp?(this._direction===n.default.CtrlPattern.Type.Up?(this.index+=2,this._direction=n.default.CtrlPattern.Type.Down):(this.index-=1,this._direction=n.default.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=n.default.CtrlPattern.Type.Up)):t===n.default.CtrlPattern.Type.AlternateDown&&(this._direction===n.default.CtrlPattern.Type.Up?(this.index+=1,this._direction=n.default.CtrlPattern.Type.Down):(this.index-=2,this._direction=n.default.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=n.default.CtrlPattern.Type.Down)),this.value},n.default.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++)t[e]=e;for(;t.length>0;){var i=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(i[0])}},n.default.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},e.default=n.default.CtrlPattern},function(t,e,i){"use strict";i.r(e);var n=i(0);i(56),i(55),n.default.TransportRepeatEvent=function(t,e){n.default.TransportEvent.call(this,t,e),e=n.default.defaultArg(e,n.default.TransportRepeatEvent.defaults),this.duration=n.default.Ticks(e.duration),this._interval=n.default.Ticks(e.interval),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this),this.Transport.on("start loopStart",this._boundRestart),this._restart()},n.default.extend(n.default.TransportRepeatEvent,n.default.TransportEvent),n.default.TransportRepeatEvent.defaults={duration:1/0,interval:1},n.default.TransportRepeatEvent.prototype.invoke=function(t){this._createEvents(t),n.default.TransportEvent.prototype.invoke.call(this,t)},n.default.TransportRepeatEvent.prototype._createEvents=function(t){var e=this.Transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),n.default.Ticks(this._nextTick)))},n.default.TransportRepeatEvent.prototype._restart=function(t){this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this._nextTick=this.time;var e=this.Transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),n.default.Ticks(this._nextTick)),this._nextTick+=this._interval,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),n.default.Ticks(this._nextTick))},n.default.TransportRepeatEvent.prototype.dispose=function(){return this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this.Transport.off("start loopStart",this._boundRestart),this._boundCreateEvents=null,n.default.TransportEvent.prototype.dispose.call(this),this.duration=null,this._interval=null,this},e.default=n.default.TransportRepeatEvent},function(t,e,i){"use strict";i.r(e);var n=i(0);i(4),n.default.IntervalTimeline=function(){n.default.call(this),this._root=null,this._length=0},n.default.extend(n.default.IntervalTimeline),n.default.IntervalTimeline.prototype.add=function(t){if(n.default.isUndef(t.time)||n.default.isUndef(t.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");t.time=t.time.valueOf();var e=new r(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this},n.default.IntervalTimeline.prototype.remove=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var i=0;i<e.length;i++){var n=e[i];if(n.event===t){this._removeNode(n),this._length--;break}}}return this},Object.defineProperty(n.default.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),n.default.IntervalTimeline.prototype.cancel=function(t){return this.forEachFrom(t,function(t){this.remove(t)}.bind(this)),this},n.default.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},n.default.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},n.default.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,i;if(t.getBalance()>0)if(null===t.left.right)(e=t.left).right=t.right,i=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,i=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)(e=t.right).left=t.left,i=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent.left=e.right,i=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(i)}t.dispose()},n.default.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,i=t.isLeftChild(),n=t.right;t.right=n.left,n.left=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},n.default.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,i=t.isLeftChild(),n=t.left;t.left=n.right,n.right=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},n.default.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();e>1?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))},n.default.IntervalTimeline.prototype.get=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),e.length>0){for(var i=e[0],n=1;n<e.length;n++)e[n].low>i.low&&(i=e[n]);return i.event}}return null},n.default.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];this._root.traverse((function(t){e.push(t)}));for(var i=0;i<e.length;i++){var n=e[i].event;n&&t(n)}}return this},n.default.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(null!==this._root){var i=[];this._root.search(t,i);for(var n=i.length-1;n>=0;n--){var r=i[n].event;r&&e(r)}}return this},n.default.IntervalTimeline.prototype.forEachFrom=function(t,e){if(null!==this._root){var i=[];this._root.searchAfter(t,i);for(var n=i.length-1;n>=0;n--)e(i[n].event)}return this},n.default.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse((function(e){t.push(e)}));for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var r=function(t,e,i){this.event=i,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};r.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},r.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},r.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},r.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},r.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},r.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},r.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},r.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(r.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(r.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),r.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},e.default=n.default.IntervalTimeline},function(t,e,i){"use strict";i.r(e);var n=i(0);function r(t){return function(e,i){i=this.toSeconds(i),t.apply(this,arguments);var n=this._events.get(i),r=this._events.previousEvent(n),s=this._getTicksUntilEvent(r,i);return n.ticks=Math.max(s,0),this}}i(2),n.default.TickSignal=function(t){t=n.default.defaultArg(t,1),n.default.Signal.call(this,{units:n.default.Type.Ticks,value:t}),this._events.memory=1/0,this.cancelScheduledValues(0),this._events.add({type:n.default.Param.AutomationType.SetValue,time:0,value:t})},n.default.extend(n.default.TickSignal,n.default.Signal),n.default.TickSignal.prototype.setValueAtTime=r(n.default.Signal.prototype.setValueAtTime),n.default.TickSignal.prototype.linearRampToValueAtTime=r(n.default.Signal.prototype.linearRampToValueAtTime),n.default.TickSignal.prototype.setTargetAtTime=function(t,e,i){e=this.toSeconds(e),this.setRampPoint(e),t=this._fromUnits(t);for(var n=this._events.get(e),r=Math.round(Math.max(1/i,1)),s=0;s<=r;s++){var o=i*s+e,a=this._exponentialApproach(n.time,n.value,t,i,o);this.linearRampToValueAtTime(this._toUnits(a),o)}return this},n.default.TickSignal.prototype.exponentialRampToValueAtTime=function(t,e){e=this.toSeconds(e),t=this._fromUnits(t);for(var i=this._events.get(e),n=Math.round(Math.max(10*(e-i.time),1)),r=(e-i.time)/n,s=0;s<=n;s++){var o=r*s+i.time,a=this._exponentialInterpolate(i.time,i.value,e,t,o);this.linearRampToValueAtTime(this._toUnits(a),o)}return this},n.default.TickSignal.prototype._getTicksUntilEvent=function(t,e){if(null===t)t={ticks:0,time:0};else if(n.default.isUndef(t.ticks)){var i=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(i,t.time)}var r=this.getValueAtTime(t.time),s=this.getValueAtTime(e);return this._events.get(e).time===e&&this._events.get(e).type===n.default.Param.AutomationType.SetValue&&(s=this.getValueAtTime(e-this.sampleTime)),.5*(e-t.time)*(r+s)+t.ticks},n.default.TickSignal.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._events.get(t);return Math.max(this._getTicksUntilEvent(e,t),0)},n.default.TickSignal.prototype.getDurationOfTicks=function(t,e){e=this.toSeconds(e);var i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-e},n.default.TickSignal.prototype.getTimeOfTick=function(t){var e=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&i&&i.type===n.default.Param.AutomationType.Linear&&e.value!==i.value){var r=this.getValueAtTime(e.time),s=(this.getValueAtTime(i.time)-r)/(i.time-e.time),o=Math.sqrt(Math.pow(r,2)-2*s*(e.ticks-t)),a=(-r+o)/s;return(a>0?a:(-r-o)/s)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue},n.default.TickSignal.prototype.ticksToTime=function(t,e){return e=this.toSeconds(e),new n.default.Time(this.getDurationOfTicks(t,e))},n.default.TickSignal.prototype.timeToTicks=function(t,e){e=this.toSeconds(e),t=this.toSeconds(t);var i=this.getTicksAtTime(e),r=this.getTicksAtTime(e+t);return new n.default.Ticks(r-i)},e.default=n.default.TickSignal},function(t,e,i){"use strict";i.r(e);var n=i(0);i(57),i(34),i(35),i(20),n.default.Clock=function(){var t=n.default.defaults(arguments,["callback","frequency"],n.default.Clock);n.default.Emitter.call(this),this.callback=t.callback,this._nextTick=0,this._tickSource=new n.default.TickSource(t.frequency),this._lastUpdate=0,this.frequency=this._tickSource.frequency,this._readOnly("frequency"),this._state=new n.default.TimelineState(n.default.State.Stopped),this._state.setStateAtTime(n.default.State.Stopped,0),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},n.default.extend(n.default.Clock,n.default.Emitter),n.default.Clock.defaults={callback:n.default.noOp,frequency:1},Object.defineProperty(n.default.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),n.default.Clock.prototype.start=function(t,e){return this.context.resume(),t=this.toSeconds(t),this._state.getValueAtTime(t)!==n.default.State.Started&&(this._state.setStateAtTime(n.default.State.Started,t),this._tickSource.start(t,e),t<this._lastUpdate&&this.emit("start",t,e)),this},n.default.Clock.prototype.stop=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._state.setStateAtTime(n.default.State.Stopped,t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this},n.default.Clock.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===n.default.State.Started&&(this._state.setStateAtTime(n.default.State.Paused,t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this},Object.defineProperty(n.default.Clock.prototype,"ticks",{get:function(){return Math.ceil(this.getTicksAtTime(this.now()))},set:function(t){this._tickSource.ticks=t}}),Object.defineProperty(n.default.Clock.prototype,"seconds",{get:function(){return this._tickSource.seconds},set:function(t){this._tickSource.seconds=t}}),n.default.Clock.prototype.getSecondsAtTime=function(t){return this._tickSource.getSecondsAtTime(t)},n.default.Clock.prototype.setTicksAtTime=function(t,e){return this._tickSource.setTicksAtTime(t,e),this},n.default.Clock.prototype.getTicksAtTime=function(t){return this._tickSource.getTicksAtTime(t)},n.default.Clock.prototype.nextTickTime=function(t,e){e=this.toSeconds(e);var i=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(i+t,e)},n.default.Clock.prototype._loop=function(){var t=this._lastUpdate,e=this.now();this._lastUpdate=e,t!==e&&(this._state.forEachBetween(t,e,function(t){switch(t.state){case n.default.State.Started:var e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case n.default.State.Stopped:0!==t.time&&this.emit("stop",t.time);break;case n.default.State.Paused:this.emit("pause",t.time)}}.bind(this)),this._tickSource.forEachTickBetween(t,e,function(t,e){this.callback(t,e)}.bind(this)))},n.default.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},n.default.Clock.prototype.dispose=function(){n.default.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this._tickSource.dispose(),this._tickSource=null,this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},e.default=n.default.Clock},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(5),i(7),n.default.GreaterThanZero=function(){n.default.SignalBase.call(this),this._thresh=this.output=new n.default.WaveShaper((function(t){return t<=0?0:1}),127),this._scale=this.input=new n.default.Multiply(1e4),this._scale.connect(this._thresh)},n.default.extend(n.default.GreaterThanZero,n.default.SignalBase),n.default.GreaterThanZero.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},e.default=n.default.GreaterThanZero},function(t,e,i){"use strict";i.r(e);var n=i(0);i(84),i(13),i(2),n.default.GreaterThan=function(t){n.default.Signal.call(this),this.createInsOuts(2,0),this._param=this.input[0]=new n.default.Subtract(t),this.input[1]=this._param.input[1],this._gtz=this.output=new n.default.GreaterThanZero,this._param.connect(this._gtz)},n.default.extend(n.default.GreaterThan,n.default.Signal),n.default.GreaterThan.prototype.dispose=function(){return n.default.Signal.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this},e.default=n.default.GreaterThan},function(t,e,i){"use strict";i.r(e);var n=i(0);i(47),i(26),n.default.ScaledEnvelope=function(){var t=n.default.defaults(arguments,["attack","decay","sustain","release"],n.default.Envelope);n.default.Envelope.call(this,t),t=n.default.defaultArg(t,n.default.ScaledEnvelope.defaults),this._exp=this.output=new n.default.Pow(t.exponent),this._scale=this.output=new n.default.Scale(t.min,t.max),this._sig.chain(this._exp,this._scale)},n.default.extend(n.default.ScaledEnvelope,n.default.Envelope),n.default.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(n.default.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(n.default.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(n.default.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),n.default.ScaledEnvelope.prototype.dispose=function(){return n.default.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=n.default.ScaledEnvelope},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),i(30),n.default.Abs=function(){n.default.SignalBase.call(this),this._abs=this.input=this.output=new n.default.WaveShaper((function(t){return Math.abs(t)<.001?0:Math.abs(t)}),1024)},n.default.extend(n.default.Abs,n.default.SignalBase),n.default.Abs.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},e.default=n.default.Abs},function(t,e,i){"use strict";i.r(e);var n=i(0);i(3),i(1),n.default.Solo=function(){var t=n.default.defaults(arguments,["solo"],n.default.Solo);n.default.AudioNode.call(this),this.input=this.output=new n.default.Gain,this._soloBind=this._soloed.bind(this),this.context.on("solo",this._soloBind),this.solo=t.solo},n.default.extend(n.default.Solo,n.default.AudioNode),n.default.Solo.defaults={solo:!1},Object.defineProperty(n.default.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(t){t?this._addSolo():this._removeSolo(),this.context.emit("solo",this)}}),Object.defineProperty(n.default.Solo.prototype,"muted",{get:function(){return 0===this.input.gain.value}}),n.default.Solo.prototype._addSolo=function(){n.default.isArray(this.context._currentSolo)||(this.context._currentSolo=[]),this._isSoloed()||this.context._currentSolo.push(this)},n.default.Solo.prototype._removeSolo=function(){if(this._isSoloed()){var t=this.context._currentSolo.indexOf(this);this.context._currentSolo.splice(t,1)}},n.default.Solo.prototype._isSoloed=function(){return!!n.default.isArray(this.context._currentSolo)&&0!==this.context._currentSolo.length&&-1!==this.context._currentSolo.indexOf(this)},n.default.Solo.prototype._noSolos=function(){return!n.default.isArray(this.context._currentSolo)||0===this.context._currentSolo.length},n.default.Solo.prototype._soloed=function(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0},n.default.Solo.prototype.dispose=function(){return this.context.off("solo",this._soloBind),this._removeSolo(),this._soloBind=null,n.default.AudioNode.prototype.dispose.call(this),this},e.default=n.default.Solo},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),n.default.EqualPowerGain=function(){n.default.SignalBase.call(this),this._eqPower=this.input=this.output=new n.default.WaveShaper(function(t){return Math.abs(t)<.001?0:n.default.equalPowerScale(t)}.bind(this),4096)},n.default.extend(n.default.EqualPowerGain,n.default.SignalBase),n.default.EqualPowerGain.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},e.default=n.default.EqualPowerGain},function(t,e,i){"use strict";i.r(e);var n=i(0);i(5),i(2),n.default.Negate=function(){n.default.SignalBase.call(this),this._multiply=this.input=this.output=new n.default.Multiply(-1)},n.default.extend(n.default.Negate,n.default.SignalBase),n.default.Negate.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},e.default=n.default.Negate},function(t,e,i){"use strict";i.r(e);var n=i(0);i(48),i(27),i(1),n.default.PanVol=function(){var t=n.default.defaults(arguments,["pan","volume"],n.default.PanVol);n.default.AudioNode.call(this),this._panner=this.input=new n.default.Panner(t.pan),this.pan=this._panner.pan,this._volume=this.output=new n.default.Volume(t.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,this._readOnly(["pan","volume"])},n.default.extend(n.default.PanVol,n.default.AudioNode),n.default.PanVol.defaults={pan:0,volume:0,mute:!1},Object.defineProperty(n.default.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),n.default.PanVol.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},e.default=n.default.PanVol},function(t,e,i){"use strict";var n=i(0);if(n.default.supported){!n.default.global.hasOwnProperty("OfflineAudioContext")&&n.default.global.hasOwnProperty("webkitOfflineAudioContext")&&(n.default.global.OfflineAudioContext=n.default.global.webkitOfflineAudioContext);var r=new OfflineAudioContext(1,1,44100).startRendering();r&&n.default.isFunction(r.then)||(OfflineAudioContext.prototype._native_startRendering=OfflineAudioContext.prototype.startRendering,OfflineAudioContext.prototype.startRendering=function(){return new Promise(function(t){this.oncomplete=function(e){t(e.renderedBuffer)},this._native_startRendering()}.bind(this))})}},function(t,e,i){"use strict";e.a="13.8.25"},function(t,e,i){"use strict";i.r(e);var n=i(0);i(46),n.default.Midi=function(t,e){if(!(this instanceof n.default.Midi))return new n.default.Midi(t,e);n.default.Frequency.call(this,t,e)},n.default.extend(n.default.Midi,n.default.Frequency),n.default.Midi.prototype._defaultUnits="midi",n.default.Midi.prototype._frequencyToUnits=function(t){return n.default.Frequency.ftom(n.default.Frequency.prototype._frequencyToUnits.call(this,t))},n.default.Midi.prototype._ticksToUnits=function(t){return n.default.Frequency.ftom(n.default.Frequency.prototype._ticksToUnits.call(this,t))},n.default.Midi.prototype._beatsToUnits=function(t){return n.default.Frequency.ftom(n.default.Frequency.prototype._beatsToUnits.call(this,t))},n.default.Midi.prototype._secondsToUnits=function(t){return n.default.Frequency.ftom(n.default.Frequency.prototype._secondsToUnits.call(this,t))},n.default.Midi.prototype.toMidi=function(){return this.valueOf()},n.default.Midi.prototype.toFrequency=function(){return n.default.Frequency.mtof(this.toMidi())},n.default.Midi.prototype.transpose=function(t){return new this.constructor(this.toMidi()+t)},e.default=n.default.Midi},function(t,e,i){"use strict";i.r(e);var n=i(0);i(27),i(1),n.default.UserMedia=function(){var t=n.default.defaults(arguments,["volume"],n.default.UserMedia);n.default.AudioNode.call(this),this._mediaStream=null,this._stream=null,this._device=null,this._volume=this.output=new n.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this.mute=t.mute},n.default.extend(n.default.UserMedia,n.default.AudioNode),n.default.UserMedia.defaults={volume:0,mute:!1},n.default.UserMedia.prototype.open=function(t){return this.state===n.default.State.Started&&this.close(),n.default.UserMedia.enumerateDevices().then(function(e){var i;if(n.default.isNumber(t))i=e[t];else if(!(i=e.find((function(e){return e.label===t||e.deviceId===t})))&&e.length>0)i=e[0];else if(!i&&n.default.isDefined(t))throw new Error("Tone.UserMedia: no matching device: "+t);this._device=i;var r={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};return i&&(r.audio.deviceId=i.deviceId),navigator.mediaDevices.getUserMedia(r).then(function(t){return this._stream||(this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),n.default.connect(this._mediaStream,this.output)),this}.bind(this))}.bind(this))},n.default.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach((function(t){t.stop()})),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this},n.default.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then((function(t){return t.filter((function(t){return"audioinput"===t.kind}))}))},Object.defineProperty(n.default.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?n.default.State.Started:n.default.State.Stopped}}),Object.defineProperty(n.default.UserMedia.prototype,"deviceId",{get:function(){return this._device?this._device.deviceId:null}}),Object.defineProperty(n.default.UserMedia.prototype,"groupId",{get:function(){return this._device?this._device.groupId:null}}),Object.defineProperty(n.default.UserMedia.prototype,"label",{get:function(){return this._device?this._device.label:null}}),Object.defineProperty(n.default.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),n.default.UserMedia.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this},Object.defineProperty(n.default.UserMedia,"supported",{get:function(){return n.default.isDefined(navigator.mediaDevices)&&n.default.isFunction(navigator.mediaDevices.getUserMedia)}}),e.default=n.default.UserMedia},function(t,e,i){"use strict";i.r(e);var n=i(0);i(65),i(27),i(1),n.default.Players=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i=n.default.defaults(e,["onload"],n.default.Players);for(var r in n.default.AudioNode.call(this,i),this._volume=this.output=new n.default.Volume(i.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=i.mute,this._players={},this._loadingCount=0,this._fadeIn=i.fadeIn,this._fadeOut=i.fadeOut,t)this._loadingCount++,this.add(r,t[r],this._bufferLoaded.bind(this,i.onload))},n.default.extend(n.default.Players,n.default.AudioNode),n.default.Players.defaults={volume:0,mute:!1,onload:n.default.noOp,fadeIn:0,fadeOut:0},n.default.Players.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(n.default.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),Object.defineProperty(n.default.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=t,this._forEach((function(e){e.fadeIn=t}))}}),Object.defineProperty(n.default.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=t,this._forEach((function(e){e.fadeOut=t}))}}),Object.defineProperty(n.default.Players.prototype,"state",{get:function(){var t=!1;return this._forEach((function(e){t=t||e.state===n.default.State.Started})),t?n.default.State.Started:n.default.State.Stopped}}),n.default.Players.prototype.has=function(t){return this._players.hasOwnProperty(t)},n.default.Players.prototype.get=function(t){if(this.has(t))return this._players[t];throw new Error("Tone.Players: no player named "+t)},n.default.Players.prototype._forEach=function(t){for(var e in this._players)t(this._players[e],e);return this},Object.defineProperty(n.default.Players.prototype,"loaded",{get:function(){var t=!0;return this._forEach((function(e){t=t&&e.loaded})),t}}),n.default.Players.prototype.add=function(t,e,i){return this._players[t]=new n.default.Player(e,i).connect(this.output),this._players[t].fadeIn=this._fadeIn,this._players[t].fadeOut=this._fadeOut,this},n.default.Players.prototype.stopAll=function(t){this._forEach((function(e){e.stop(t)}))},n.default.Players.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null,this.output=null,this._forEach((function(t){t.dispose()})),this._players=null,this},e.default=n.default.Players},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(11),i(32),n.default.GrainPlayer=function(){var t=n.default.defaults(arguments,["url","onload"],n.default.GrainPlayer);n.default.Source.call(this,t),this.buffer=new n.default.Buffer(t.url,t.onload.bind(void 0,this)),this._clock=new n.default.Clock(this._tick.bind(this),t.grainSize),this._loopStart=0,this._loopEnd=0,this._activeSources=[],this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))},n.default.extend(n.default.GrainPlayer,n.default.Source),n.default.GrainPlayer.defaults={onload:n.default.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1},n.default.GrainPlayer.prototype._start=function(t,e,i){e=n.default.defaultArg(e,0),e=this.toSeconds(e),t=this.toSeconds(t),this._offset=e,this._clock.start(t),i&&this.stop(t+this.toSeconds(i))},n.default.GrainPlayer.prototype._stop=function(t){this._clock.stop(t)},n.default.GrainPlayer.prototype._onstop=function(t){this._activeSources.forEach((function(e){e.fadeOut=0,e.stop(t)}))},n.default.GrainPlayer.prototype._tick=function(t){if(!this.loop&&this._offset>this.buffer.duration)this.stop(t);else{var e=this._offset<this._overlap?0:this._overlap,i=new n.default.BufferSource({buffer:this.buffer,fadeIn:e,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:n.default.intervalToFrequencyRatio(this.detune/100)}).connect(this.output);i.start(t,this._offset),this._offset+=this.grainSize,i.stop(t+this.grainSize/this.playbackRate),this._activeSources.push(i),i.onended=function(){var t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}.bind(this)}},Object.defineProperty(n.default.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this.grainSize=this._grainSize}}),Object.defineProperty(n.default.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}}),Object.defineProperty(n.default.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}}),Object.defineProperty(n.default.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}}),Object.defineProperty(n.default.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t),this._clock.frequency.value=this._playbackRate/this._grainSize}}),Object.defineProperty(n.default.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){this._overlap=this.toSeconds(t)}}),Object.defineProperty(n.default.GrainPlayer.prototype,"loaded",{get:function(){return this.buffer.loaded}}),n.default.GrainPlayer.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._clock.dispose(),this._clock=null,this._activeSources.forEach((function(t){t.dispose()})),this._activeSources=null,this},e.default=n.default.GrainPlayer},function(t,e,i){"use strict";i.r(e);var n=i(0);i(16),i(2),i(45),n.default.TransportTimelineSignal=function(){n.default.Signal.apply(this,arguments),this.output=this._outputSig=new n.default.Signal(this._initialValue),this._lastVal=this.value,this._synced=n.default.Transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._bindAnchorValue=this._anchorValue.bind(this),n.default.Transport.on("start stop pause",this._bindAnchorValue),this._events.memory=1/0},n.default.extend(n.default.TransportTimelineSignal,n.default.Signal),n.default.TransportTimelineSignal.prototype._onTick=function(t){var e=this.getValueAtTime(n.default.Transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._outputSig.linearRampToValueAtTime(e,t))},n.default.TransportTimelineSignal.prototype._anchorValue=function(t){var e=this.getValueAtTime(n.default.Transport.seconds);return this._lastVal=e,this._outputSig.cancelScheduledValues(t),this._outputSig.setValueAtTime(e,t),this},n.default.TransportTimelineSignal.prototype.getValueAtTime=function(t){return t=n.default.TransportTime(t),n.default.Signal.prototype.getValueAtTime.call(this,t)},n.default.TransportTimelineSignal.prototype.setValueAtTime=function(t,e){return e=n.default.TransportTime(e),n.default.Signal.prototype.setValueAtTime.call(this,t,e),this},n.default.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(t,e){return e=n.default.TransportTime(e),n.default.Signal.prototype.linearRampToValueAtTime.call(this,t,e),this},n.default.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(t,e){return e=n.default.TransportTime(e),n.default.Signal.prototype.exponentialRampToValueAtTime.call(this,t,e),this},n.default.TransportTimelineSignal.prototype.setTargetAtTime=function(t,e,i){return e=n.default.TransportTime(e),n.default.Signal.prototype.setTargetAtTime.call(this,t,e,i),this},n.default.TransportTimelineSignal.prototype.cancelScheduledValues=function(t){return t=n.default.TransportTime(t),n.default.Signal.prototype.cancelScheduledValues.call(this,t),this},n.default.TransportTimelineSignal.prototype.setValueCurveAtTime=function(t,e,i,r){return e=n.default.TransportTime(e),i=n.default.TransportTime(i),n.default.Signal.prototype.setValueCurveAtTime.call(this,t,e,i,r),this},n.default.TransportTimelineSignal.prototype.cancelAndHoldAtTime=function(t){return n.default.Signal.prototype.cancelAndHoldAtTime.call(this,n.default.TransportTime(t))},n.default.TransportTimelineSignal.prototype.dispose=function(){n.default.Transport.clear(this._synced),n.default.Transport.off("start stop pause",this._syncedCallback),this._events.cancel(0),n.default.Signal.prototype.dispose.call(this),this._outputSig.dispose(),this._outputSig=null},e.default=n.default.TransportTimelineSignal},function(t,e,i){"use strict";i.r(e);var n=i(0);i(29),i(5),n.default.Normalize=function(t,e){n.default.SignalBase.call(this),this._inputMin=n.default.defaultArg(t,0),this._inputMax=n.default.defaultArg(e,1),this._sub=this.input=new n.default.Add(0),this._div=this.output=new n.default.Multiply(1),this._sub.connect(this._div),this._setRange()},n.default.extend(n.default.Normalize,n.default.SignalBase),Object.defineProperty(n.default.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(n.default.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),n.default.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},n.default.Normalize.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},e.default=n.default.Normalize},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),i(2),n.default.GainToAudio=function(){n.default.SignalBase.call(this),this._norm=this.input=this.output=new n.default.WaveShaper((function(t){return 2*Math.abs(t)-1}))},n.default.extend(n.default.GainToAudio,n.default.SignalBase),n.default.GainToAudio.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=n.default.GainToAudio},function(t,e,i){"use strict";i.r(e);var n=i(0);i(21),i(78),i(32),n.default.Sampler=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i=n.default.defaults(e,["onload","baseUrl"],n.default.Sampler);n.default.Instrument.call(this,i);var r={};for(var s in t)if(n.default.isNote(s))r[n.default.Frequency(s).toMidi()]=t[s];else{if(isNaN(parseFloat(s)))throw new Error("Tone.Sampler: url keys must be the note's pitch");r[s]=t[s]}this._buffers=new n.default.Buffers(r,i.onload,i.baseUrl),this._activeSources={},this.attack=i.attack,this.release=i.release,this.curve=i.curve},n.default.extend(n.default.Sampler,n.default.Instrument),n.default.Sampler.defaults={attack:0,release:.1,onload:n.default.noOp,baseUrl:"",curve:"exponential"},n.default.Sampler.prototype._findClosest=function(t){for(var e=0;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)},n.default.Sampler.prototype.triggerAttack=function(t,e,i){this.log("triggerAttack",t,e,i),Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var s=n.default.Frequency(t[r]).toMidi(),o=this._findClosest(s),a=s-o,l=this._buffers.get(a),u=n.default.intervalToFrequencyRatio(o),c=new n.default.BufferSource({buffer:l,playbackRate:u,fadeIn:this.attack,fadeOut:this.release,curve:this.curve}).connect(this.output);c.start(e,0,l.duration/u,i),n.default.isArray(this._activeSources[s])||(this._activeSources[s]=[]),this._activeSources[s].push(c),c.onended=function(){if(this._activeSources&&this._activeSources[s]){var t=this._activeSources[s].indexOf(c);-1!==t&&this._activeSources[s].splice(t,1)}}.bind(this)}return this},n.default.Sampler.prototype.triggerRelease=function(t,e){this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=n.default.Frequency(t[i]).toMidi();this._activeSources[r]&&this._activeSources[r].length&&(e=this.toSeconds(e),this._activeSources[r].forEach((function(t){t.stop(e)})),this._activeSources[r]=[])}return this},n.default.Sampler.prototype.releaseAll=function(t){for(var e in t=this.toSeconds(t),this._activeSources)for(var i=this._activeSources[e];i.length;)i.shift().stop(t);return this},n.default.Sampler.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},n.default.Sampler.prototype.triggerAttackRelease=function(t,e,i,r){if(i=this.toSeconds(i),this.triggerAttack(t,i,r),n.default.isArray(e)&&n.default.isArray(t))for(var s=0;s<t.length;s++){var o=e[Math.min(s,e.length-1)];this.triggerRelease(t[s],i+this.toSeconds(o))}else this.triggerRelease(t,i+this.toSeconds(e));return this},n.default.Sampler.prototype.add=function(t,e,i){if(n.default.isNote(t)){var r=n.default.Frequency(t).toMidi();this._buffers.add(r,e,i)}else{if(isNaN(parseFloat(t)))throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+t);this._buffers.add(t,e,i)}},Object.defineProperty(n.default.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}}),n.default.Sampler.prototype.dispose=function(){for(var t in n.default.Instrument.prototype.dispose.call(this),this._buffers.dispose(),this._buffers=null,this._activeSources)this._activeSources[t].forEach((function(t){t.dispose()}));return this._activeSources=null,this},e.default=n.default.Sampler},function(t,e,i){"use strict";i.r(e);var n=i(0);i(38),i(6),n.default.PolySynth=function(){var t=n.default.defaults(arguments,["polyphony","voice"],n.default.PolySynth);n.default.Instrument.call(this,t),(t=n.default.defaultArg(t,n.default.Instrument.defaults)).polyphony=Math.min(n.default.PolySynth.MAX_POLYPHONY,t.polyphony),this.voices=new Array(t.polyphony),this.assert(t.polyphony>0,"polyphony must be greater than 0"),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this._readOnly("detune");for(var e=0;e<t.polyphony;e++){var i=new t.voice(arguments[2],arguments[3]);if(!(i instanceof n.default.Monophonic))throw new Error("Synth constructor must be instance of Tone.Monophonic");this.voices[e]=i,i.index=e,i.connect(this.output),i.hasOwnProperty("detune")&&this.detune.connect(i.detune)}},n.default.extend(n.default.PolySynth,n.default.Instrument),n.default.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:n.default.Synth},n.default.PolySynth.prototype._getClosestVoice=function(t,e){var i=this.voices.find((function(i){if(Math.abs(i.frequency.getValueAtTime(t)-n.default.Frequency(e))<1e-4&&i.getLevelAtTime(t)>1e-5)return i}));return i||this.voices.slice().sort(function(e,i){var n=e.getLevelAtTime(t+this.blockTime),r=i.getLevelAtTime(t+this.blockTime);return n<1e-5&&(n=0),r<1e-5&&(r=0),n-r}.bind(this))[0]},n.default.PolySynth.prototype.triggerAttack=function(t,e,i){return Array.isArray(t)||(t=[t]),e=this.toSeconds(e),t.forEach(function(t){var n=this._getClosestVoice(e,t);n.triggerAttack(t,e,i),this.log("triggerAttack",n.index,t)}.bind(this)),this},n.default.PolySynth.prototype.triggerRelease=function(t,e){return Array.isArray(t)||(t=[t]),e=this.toSeconds(e),t.forEach(function(t){var i=this._getClosestVoice(e,t);this.log("triggerRelease",i.index,t),i.triggerRelease(e)}.bind(this)),this},n.default.PolySynth.prototype.triggerAttackRelease=function(t,e,i,r){if(i=this.toSeconds(i),this.triggerAttack(t,i,r),n.default.isArray(e)&&n.default.isArray(t))for(var s=0;s<t.length;s++){var o=e[Math.min(s,e.length-1)];this.triggerRelease(t[s],i+this.toSeconds(o))}else this.triggerRelease(t,i+this.toSeconds(e));return this},n.default.PolySynth.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},n.default.PolySynth.prototype.set=function(t,e,i){for(var n=0;n<this.voices.length;n++)this.voices[n].set(t,e,i);return this},n.default.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},n.default.PolySynth.prototype.releaseAll=function(t){return t=this.toSeconds(t),this.voices.forEach((function(e){e.triggerRelease(t)})),this},n.default.PolySynth.prototype.dispose=function(){return n.default.Instrument.prototype.dispose.call(this),this.voices.forEach((function(t){t.dispose()})),this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this},n.default.PolySynth.MAX_POLYPHONY=20,e.default=n.default.PolySynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(21),i(39),i(54),n.default.PluckSynth=function(t){t=n.default.defaultArg(t,n.default.PluckSynth.defaults),n.default.Instrument.call(this,t),this._noise=new n.default.Noise("pink"),this.attackNoise=t.attackNoise,this._lfcf=new n.default.LowpassCombFilter({resonance:t.resonance,dampening:t.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},n.default.extend(n.default.PluckSynth,n.default.Instrument),n.default.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.7},n.default.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);var i=1/t;return this._lfcf.delayTime.setValueAtTime(i,e),this._noise.start(e),this._noise.stop(e+i*this.attackNoise),this},n.default.PluckSynth.prototype.dispose=function(){return n.default.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},e.default=n.default.PluckSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(31),i(41),i(39),i(2),i(9),i(21),n.default.NoiseSynth=function(t){t=n.default.defaultArg(t,n.default.NoiseSynth.defaults),n.default.Instrument.call(this,t),this.noise=new n.default.Noise(t.noise),this.envelope=new n.default.AmplitudeEnvelope(t.envelope),this.noise.chain(this.envelope,this.output),this._readOnly(["noise","envelope"])},n.default.extend(n.default.NoiseSynth,n.default.Instrument),n.default.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}},n.default.NoiseSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.envelope.attack+this.envelope.decay),this},n.default.NoiseSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.envelope.release),this},n.default.NoiseSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},n.default.NoiseSynth.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this},n.default.NoiseSynth.prototype.dispose=function(){return n.default.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this},e.default=n.default.NoiseSynth},function(t,e,i){"use strict";i.r(e);var n=i(0),r=(i(21),i(49),i(9),i(41),i(31),i(3),i(26),i(5),[1,1.483,1.932,2.546,2.63,3.897]);n.default.MetalSynth=function(t){t=n.default.defaultArg(t,n.default.MetalSynth.defaults),n.default.Instrument.call(this,t),this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new n.default.Gain(0).connect(this.output),this._highpass=new n.default.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=t.octaves,this._filterFreqScaler=new n.default.Scale(t.resonance,7e3),this.envelope=new n.default.Envelope({attack:t.envelope.attack,attackCurve:"linear",decay:t.envelope.decay,sustain:0,release:t.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain);for(var e=0;e<r.length;e++){var i=new n.default.FMOscillator({type:"square",modulationType:"square",harmonicity:t.harmonicity,modulationIndex:t.modulationIndex});i.connect(this._highpass),this._oscillators[e]=i;var s=new n.default.Multiply(r[e]);this._freqMultipliers[e]=s,this.frequency.chain(s,i.frequency)}this.octaves=t.octaves},n.default.extend(n.default.MetalSynth,n.default.Instrument),n.default.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5},n.default.MetalSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),e=n.default.defaultArg(e,1),this.envelope.triggerAttack(t,e),this._oscillators.forEach((function(e){e.start(t)})),0===this.envelope.sustain&&this._oscillators.forEach(function(e){e.stop(t+this.envelope.attack+this.envelope.decay)}.bind(this)),this},n.default.MetalSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this._oscillators.forEach(function(e){e.stop(t+this.envelope.release)}.bind(this)),this},n.default.MetalSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},n.default.MetalSynth.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this},Object.defineProperty(n.default.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].modulationIndex.value=t}}),Object.defineProperty(n.default.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].harmonicity.value=t}}),Object.defineProperty(n.default.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t,this.octaves=this._octaves}}),Object.defineProperty(n.default.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}}),n.default.MetalSynth.prototype.dispose=function(){n.default.Instrument.prototype.dispose.call(this);for(var t=0;t<this._oscillators.length;t++)this._oscillators[t].dispose(),this._freqMultipliers[t].dispose();this._oscillators=null,this._freqMultipliers=null,this.frequency.dispose(),this.frequency=null,this._filterFreqScaler.dispose(),this._filterFreqScaler=null,this._amplitue.dispose(),this._amplitue=null,this.envelope.dispose(),this.envelope=null,this._highpass.dispose(),this._highpass=null},e.default=n.default.MetalSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(37),i(21),i(31),n.default.MembraneSynth=function(t){t=n.default.defaultArg(t,n.default.MembraneSynth.defaults),n.default.Instrument.call(this,t),this.oscillator=new n.default.OmniOscillator(t.oscillator),this.envelope=new n.default.AmplitudeEnvelope(t.envelope),this.octaves=t.octaves,this.pitchDecay=t.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},n.default.extend(n.default.MembraneSynth,n.default.Instrument),n.default.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},n.default.MembraneSynth.prototype.triggerAttack=function(t,e,i){e=this.toSeconds(e);var n=(t=this.toFrequency(t))*this.octaves;return this.oscillator.frequency.setValueAtTime(n,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,i),this.oscillator.start(e),0===this.envelope.sustain&&this.oscillator.stop(e+this.envelope.attack+this.envelope.decay),this},n.default.MembraneSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},n.default.MembraneSynth.prototype.dispose=function(){return n.default.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},e.default=n.default.MembraneSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(38),i(2),i(5),i(25),n.default.FMSynth=function(t){t=n.default.defaultArg(t,n.default.FMSynth.defaults),n.default.Monophonic.call(this,t),this._carrier=new n.default.Synth(t.carrier),this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new n.default.Synth(t.modulator),this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new n.default.Signal(440,n.default.Type.Frequency),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this.modulationIndex=new n.default.Multiply(t.modulationIndex),this.modulationIndex.units=n.default.Type.Positive,this._modulationNode=new n.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])},n.default.extend(n.default.FMSynth,n.default.Monophonic),n.default.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},n.default.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},n.default.FMSynth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},n.default.FMSynth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=n.default.FMSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(66),i(12),i(2),i(5),i(25),i(14),n.default.DuoSynth=function(t){t=n.default.defaultArg(t,n.default.DuoSynth.defaults),n.default.Monophonic.call(this,t),this.voice0=new n.default.MonoSynth(t.voice0),this.voice0.volume.value=-10,this.voice1=new n.default.MonoSynth(t.voice1),this.voice1.volume.value=-10,this._vibrato=new n.default.LFO(t.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new n.default.Gain(t.vibratoAmount,n.default.Type.Positive),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new n.default.Signal(440,n.default.Type.Frequency),this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},n.default.extend(n.default.DuoSynth,n.default.Monophonic),n.default.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},n.default.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e),this},n.default.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this},n.default.DuoSynth.prototype.getLevelAtTime=function(t){return(this.voice0.getLevelAtTime(t)+this.voice1.getLevelAtTime(t))/2},n.default.DuoSynth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},e.default=n.default.DuoSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(38),i(2),i(5),i(25),i(22),i(3),n.default.AMSynth=function(t){t=n.default.defaultArg(t,n.default.AMSynth.defaults),n.default.Monophonic.call(this,t),this._carrier=new n.default.Synth,this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator.set(t.oscillator),this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new n.default.Synth,this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new n.default.Signal(440,n.default.Type.Frequency),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this._modulationScale=new n.default.AudioToGain,this._modulationNode=new n.default.Gain,this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])},n.default.extend(n.default.AMSynth,n.default.Monophonic),n.default.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},n.default.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},n.default.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},n.default.AMSynth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=n.default.AMSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(70),i(16),n.default.Sequence=function(){var t=n.default.defaults(arguments,["callback","events","subdivision"],n.default.Sequence),e=t.events;if(delete t.events,n.default.Part.call(this,t),this._subdivision=this.toTicks(t.subdivision),n.default.isUndef(t.loopEnd)&&n.default.isDefined(e)&&(this._loopEnd=e.length*this._subdivision),this._loop=!0,n.default.isDefined(e))for(var i=0;i<e.length;i++)this.add(i,e[i])},n.default.extend(n.default.Sequence,n.default.Part),n.default.Sequence.defaults={subdivision:"4n"},Object.defineProperty(n.default.Sequence.prototype,"subdivision",{get:function(){return n.default.Ticks(this._subdivision).toSeconds()}}),n.default.Sequence.prototype.at=function(t,e){return n.default.isArray(e)&&this.remove(t),n.default.Part.prototype.at.call(this,this._indexTime(t),e)},n.default.Sequence.prototype.add=function(t,e){if(null===e)return this;if(n.default.isArray(e)){var i=Math.round(this._subdivision/e.length);e=new n.default.Sequence(this._tick.bind(this),e,n.default.Ticks(i))}return n.default.Part.prototype.add.call(this,this._indexTime(t),e),this},n.default.Sequence.prototype.remove=function(t,e){return n.default.Part.prototype.remove.call(this,this._indexTime(t),e),this},n.default.Sequence.prototype._indexTime=function(t){return t instanceof n.default.TransportTime?t:n.default.Ticks(t*this._subdivision+this.startOffset).toSeconds()},n.default.Sequence.prototype.dispose=function(){return n.default.Part.prototype.dispose.call(this),this},e.default=n.default.Sequence},function(t,e,i){"use strict";i.r(e);var n=i(0);i(71),i(79),n.default.Pattern=function(){var t=n.default.defaults(arguments,["callback","values","pattern"],n.default.Pattern);n.default.Loop.call(this,t),this._pattern=new n.default.CtrlPattern({values:t.values,type:t.pattern,index:t.index})},n.default.extend(n.default.Pattern,n.default.Loop),n.default.Pattern.defaults={pattern:n.default.CtrlPattern.Type.Up,callback:n.default.noOp,values:[]},n.default.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value),this._pattern.next()},Object.defineProperty(n.default.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}}),Object.defineProperty(n.default.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}}),Object.defineProperty(n.default.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(n.default.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}}),n.default.Pattern.prototype.dispose=function(){n.default.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},e.default=n.default.Pattern},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(18),i(12),n.default.Vibrato=function(){var t=n.default.defaults(arguments,["frequency","depth"],n.default.Vibrato);n.default.Effect.call(this,t),this._delayNode=new n.default.Delay(0,t.maxDelay),this._lfo=new n.default.LFO({type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},n.default.extend(n.default.Vibrato,n.default.Effect),n.default.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(n.default.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),n.default.Vibrato.prototype.dispose=function(){n.default.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},e.default=n.default.Vibrato},function(t,e,i){"use strict";i.r(e);var n=i(0);i(12),i(15),n.default.Tremolo=function(){var t=n.default.defaults(arguments,["frequency","depth"],n.default.Tremolo);n.default.StereoEffect.call(this,t),this._lfoL=new n.default.LFO({phase:t.spread,min:1,max:0}),this._lfoR=new n.default.LFO({phase:t.spread,min:1,max:0}),this._amplitudeL=new n.default.Gain,this._amplitudeR=new n.default.Gain,this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.depth=new n.default.Signal(t.depth,n.default.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=t.type,this.spread=t.spread},n.default.extend(n.default.Tremolo,n.default.StereoEffect),n.default.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},n.default.Tremolo.prototype.start=function(t){return this._lfoL.start(t),this._lfoR.start(t),this},n.default.Tremolo.prototype.stop=function(t){return this._lfoL.stop(t),this._lfoR.stop(t),this},n.default.Tremolo.prototype.sync=function(t){return this._lfoL.sync(t),this._lfoR.sync(t),n.default.Transport.syncSignal(this.frequency),this},n.default.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),n.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(n.default.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(n.default.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),n.default.Tremolo.prototype.dispose=function(){return n.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},e.default=n.default.Tremolo},function(t,e,i){"use strict";i.r(e);var n=i(0);i(73),i(2),i(5),i(13),n.default.StereoWidener=function(){var t=n.default.defaults(arguments,["width"],n.default.StereoWidener);n.default.MidSideEffect.call(this,t),this.width=new n.default.Signal(t.width,n.default.Type.NormalRange),this._readOnly(["width"]),this._twoTimesWidthMid=new n.default.Multiply(2),this._twoTimesWidthSide=new n.default.Multiply(2),this._midMult=new n.default.Multiply,this._twoTimesWidthMid.connect(this._midMult,0,1),this.midSend.chain(this._midMult,this.midReturn),this._oneMinusWidth=new n.default.Subtract,this._oneMinusWidth.connect(this._twoTimesWidthMid),n.default.connect(this.context.getConstant(1),this._oneMinusWidth,0,0),this.width.connect(this._oneMinusWidth,0,1),this._sideMult=new n.default.Multiply,this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult,0,1),this.sideSend.chain(this._sideMult,this.sideReturn)},n.default.extend(n.default.StereoWidener,n.default.MidSideEffect),n.default.StereoWidener.defaults={width:.5},n.default.StereoWidener.prototype.dispose=function(){return n.default.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._twoTimesWidthMid.dispose(),this._twoTimesWidthMid=null,this._twoTimesWidthSide.dispose(),this._twoTimesWidthSide=null,this._oneMinusWidth.dispose(),this._oneMinusWidth=null,this},e.default=n.default.StereoWidener},function(t,e,i){"use strict";i.r(e);var n=i(0);i(15),i(33),i(3),n.default.StereoFeedbackEffect=function(){var t=n.default.defaults(arguments,["feedback"],n.default.FeedbackEffect);n.default.StereoEffect.call(this,t),this.feedback=new n.default.Signal(t.feedback,n.default.Type.NormalRange),this._feedbackL=new n.default.Gain,this._feedbackR=new n.default.Gain,this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},n.default.extend(n.default.StereoFeedbackEffect,n.default.StereoEffect),n.default.StereoFeedbackEffect.prototype.dispose=function(){return n.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this},e.default=n.default.StereoFeedbackEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(77),i(9),i(10),i(39),i(3),i(74),n.default.Reverb=function(){var t=n.default.defaults(arguments,["decay"],n.default.Reverb);n.default.Effect.call(this,t),this._convolver=this.context.createConvolver(),this.decay=t.decay,this.preDelay=t.preDelay,this.connectEffect(this._convolver)},n.default.extend(n.default.Reverb,n.default.Effect),n.default.Reverb.defaults={decay:1.5,preDelay:.01},n.default.Reverb.prototype.generate=function(){return n.default.Offline(function(){var t=new n.default.Noise,e=new n.default.Noise,i=new n.default.Merge;t.connect(i.left),e.connect(i.right);var r=(new n.default.Gain).toMaster();i.connect(r),t.start(0),e.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this.preDelay),r.gain.exponentialApproachValueAtTime(0,this.preDelay,this.decay+this.preDelay)}.bind(this),this.decay+this.preDelay).then(function(t){return this._convolver.buffer=t.get(),this}.bind(this))},n.default.Reverb.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this},e.default=n.default.Reverb},function(t,e,i){"use strict";i.r(e);var n=i(0);i(12),i(23),i(2),i(33),i(18),n.default.PitchShift=function(){var t=n.default.defaults(arguments,["pitch"],n.default.PitchShift);n.default.FeedbackEffect.call(this,t),this._frequency=new n.default.Signal(0),this._delayA=new n.default.Delay(0,1),this._lfoA=new n.default.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new n.default.Delay(0,1),this._lfoB=new n.default.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new n.default.CrossFade,this._crossFadeLFO=new n.default.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new n.default.Delay(t.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);var e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize},n.default.extend(n.default.PitchShift,n.default.FeedbackEffect),n.default.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(n.default.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(t){this._pitch=t;var e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=n.default.intervalToFrequencyRatio(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=n.default.intervalToFrequencyRatio(t)-1),this._frequency.value=e*(1.2/this._windowSize)}}),Object.defineProperty(n.default.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}}),n.default.PitchShift.prototype.dispose=function(){return n.default.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},e.default=n.default.PitchShift},function(t,e,i){"use strict";i.r(e);var n=i(0);i(72),i(2),i(18),n.default.PingPongDelay=function(){var t=n.default.defaults(arguments,["delayTime","feedback"],n.default.PingPongDelay);n.default.StereoXFeedbackEffect.call(this,t),this._leftDelay=new n.default.Delay(0,t.maxDelayTime),this._rightDelay=new n.default.Delay(0,t.maxDelayTime),this._rightPreDelay=new n.default.Delay(0,t.maxDelayTime),this.delayTime=new n.default.Signal(t.delayTime,n.default.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},n.default.extend(n.default.PingPongDelay,n.default.StereoXFeedbackEffect),n.default.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},n.default.PingPongDelay.prototype.dispose=function(){return n.default.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},e.default=n.default.PingPongDelay},function(t,e,i){"use strict";i.r(e);var n=i(0);i(12),i(9),i(15),n.default.Phaser=function(){var t=n.default.defaults(arguments,["frequency","octaves","baseFrequency"],n.default.Phaser);n.default.StereoEffect.call(this,t),this._lfoL=new n.default.LFO(t.frequency,0,1),this._lfoR=new n.default.LFO(t.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this.Q=new n.default.Signal(t.Q,n.default.Type.Positive),this._filtersL=this._makeFilters(t.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(t.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),n.default.connect(this._filtersL[t.stages-1],this.effectReturnL),n.default.connect(this._filtersR[t.stages-1],this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},n.default.extend(n.default.Phaser,n.default.StereoEffect),n.default.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},n.default.Phaser.prototype._makeFilters=function(t,e,i){for(var r=new Array(t),s=0;s<t;s++){var o=this.context.createBiquadFilter();o.type="allpass",i.connect(o.Q),e.connect(o.frequency),r[s]=o}return n.default.connectSeries.apply(n.default,r),r},Object.defineProperty(n.default.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;var e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}}),Object.defineProperty(n.default.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.octaves=this._octaves}}),n.default.Phaser.prototype.dispose=function(){n.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var t=0;t<this._filtersL.length;t++)this._filtersL[t].disconnect(),this._filtersL[t]=null;this._filtersL=null;for(var e=0;e<this._filtersR.length;e++)this._filtersR[e].disconnect(),this._filtersR[e]=null;return this._filtersR=null,this.frequency=null,this},e.default=n.default.Phaser},function(t,e,i){"use strict";i.r(e);var n=i(0),r=(i(59),i(15),i(26),[.06748,.06404,.08212,.09004]),s=[.773,.802,.753,.733],o=[347,113,37];n.default.JCReverb=function(){var t=n.default.defaults(arguments,["roomSize"],n.default.JCReverb);n.default.StereoEffect.call(this,t),this.roomSize=new n.default.Signal(t.roomSize,n.default.Type.NormalRange),this._scaleRoomSize=new n.default.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var e=0;e<o.length;e++){var i=this.context.createBiquadFilter();i.type="allpass",i.frequency.value=o[e],this._allpassFilters.push(i)}for(var a=0;a<r.length;a++){var l=new n.default.FeedbackCombFilter(r[a],.1);this._scaleRoomSize.connect(l.resonance),l.resonance.value=s[a],n.default.connect(this._allpassFilters[this._allpassFilters.length-1],l),a<r.length/2?l.connect(this.effectReturnL):l.connect(this.effectReturnR),this._feedbackCombFilters.push(l)}this.roomSize.connect(this._scaleRoomSize),n.default.connectSeries.apply(n.default,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},n.default.extend(n.default.JCReverb,n.default.StereoEffect),n.default.JCReverb.defaults={roomSize:.5},n.default.JCReverb.prototype.dispose=function(){n.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFilters.length;t++)this._allpassFilters[t].disconnect(),this._allpassFilters[t]=null;this._allpassFilters=null;for(var e=0;e<this._feedbackCombFilters.length;e++)this._feedbackCombFilters[e].dispose(),this._feedbackCombFilters[e]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},e.default=n.default.JCReverb},function(t,e,i){"use strict";i.r(e);var n=i(0),r=(i(54),i(15),i(2),i(19),i(10),i(42),[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100]),s=[225,556,441,341];n.default.Freeverb=function(){var t=n.default.defaults(arguments,["roomSize","dampening"],n.default.Freeverb);n.default.StereoEffect.call(this,t),this.roomSize=new n.default.Signal(t.roomSize,n.default.Type.NormalRange),this.dampening=new n.default.Signal(t.dampening,n.default.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var e=0;e<s.length;e++){var i=this.context.createBiquadFilter();i.type="allpass",i.frequency.value=s[e],this._allpassFiltersL.push(i)}for(var o=0;o<s.length;o++){var a=this.context.createBiquadFilter();a.type="allpass",a.frequency.value=s[o],this._allpassFiltersR.push(a)}for(var l=0;l<r.length;l++){var u=new n.default.LowpassCombFilter(r[l]);l<r.length/2?this.effectSendL.chain(u,this._allpassFiltersL[0]):this.effectSendR.chain(u,this._allpassFiltersR[0]),this.roomSize.connect(u.resonance),this.dampening.connect(u.dampening),this._combFilters.push(u)}n.default.connectSeries.apply(n.default,this._allpassFiltersL),n.default.connectSeries.apply(n.default,this._allpassFiltersR),n.default.connect(this._allpassFiltersL[this._allpassFiltersL.length-1],this.effectReturnL),n.default.connect(this._allpassFiltersR[this._allpassFiltersR.length-1],this.effectReturnR),this._readOnly(["roomSize","dampening"])},n.default.extend(n.default.Freeverb,n.default.StereoEffect),n.default.Freeverb.defaults={roomSize:.7,dampening:3e3},n.default.Freeverb.prototype.dispose=function(){n.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFiltersL.length;t++)this._allpassFiltersL[t].disconnect(),this._allpassFiltersL[t]=null;this._allpassFiltersL=null;for(var e=0;e<this._allpassFiltersR.length;e++)this._allpassFiltersR[e].disconnect(),this._allpassFiltersR[e]=null;this._allpassFiltersR=null;for(var i=0;i<this._combFilters.length;i++)this._combFilters[i].dispose(),this._combFilters[i]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},e.default=n.default.Freeverb},function(t,e,i){"use strict";i.r(e);var n=i(0);i(33),i(2),i(18),n.default.FeedbackDelay=function(){var t=n.default.defaults(arguments,["delayTime","feedback"],n.default.FeedbackDelay);n.default.FeedbackEffect.call(this,t),this._delayNode=new n.default.Delay(t.delayTime,t.maxDelay),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),this._readOnly(["delayTime"])},n.default.extend(n.default.FeedbackDelay,n.default.FeedbackEffect),n.default.FeedbackDelay.defaults={delayTime:.25,maxDelay:1},n.default.FeedbackDelay.prototype.dispose=function(){return n.default.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},e.default=n.default.FeedbackDelay},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(7),n.default.Distortion=function(){var t=n.default.defaults(arguments,["distortion"],n.default.Distortion);n.default.Effect.call(this,t),this._shaper=new n.default.WaveShaper(4096),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample},n.default.extend(n.default.Distortion,n.default.Effect),n.default.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(n.default.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){this._distortion=t;var e=100*t,i=Math.PI/180;this._shaper.setMap((function(t){return Math.abs(t)<.001?0:(3+e)*t*20*i/(Math.PI+e*Math.abs(t))}))}}),Object.defineProperty(n.default.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),n.default.Distortion.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=n.default.Distortion},function(t,e,i){"use strict";i.r(e);var n=i(0);i(12),i(15),i(18),n.default.Chorus=function(){var t=n.default.defaults(arguments,["frequency","delayTime","depth"],n.default.Chorus);n.default.StereoEffect.call(this,t),this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new n.default.LFO({frequency:t.frequency,min:0,max:1}),this._lfoR=new n.default.LFO({frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new n.default.Delay,this._delayNodeR=new n.default.Delay,this.frequency=this._lfoL.frequency,this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=t.frequency,this.type=t.type,this._readOnly(["frequency"]),this.spread=t.spread},n.default.extend(n.default.Chorus,n.default.StereoEffect),n.default.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180},Object.defineProperty(n.default.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}}),Object.defineProperty(n.default.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(n.default.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(n.default.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),n.default.Chorus.prototype.dispose=function(){return n.default.StereoEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},e.default=n.default.Chorus},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(7),n.default.Chebyshev=function(){var t=n.default.defaults(arguments,["order"],n.default.Chebyshev);n.default.Effect.call(this,t),this._shaper=new n.default.WaveShaper(4096),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample},n.default.extend(n.default.Chebyshev,n.default.Effect),n.default.Chebyshev.defaults={order:1,oversample:"none"},n.default.Chebyshev.prototype._getCoefficient=function(t,e,i){return i.hasOwnProperty(e)||(i[e]=0===e?0:1===e?t:2*t*this._getCoefficient(t,e-1,i)-this._getCoefficient(t,e-2,i)),i[e]},Object.defineProperty(n.default.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),i=e.length,n=0;n<i;++n){var r=2*n/i-1;e[n]=0===r?0:this._getCoefficient(r,t,{})}this._shaper.curve=e}}),Object.defineProperty(n.default.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),n.default.Chebyshev.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=n.default.Chebyshev},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(13),i(75),n.default.BitCrusher=function(){var t=n.default.defaults(arguments,["bits"],n.default.BitCrusher);n.default.Effect.call(this,t);var e=1/Math.pow(2,t.bits-1);this._subtract=new n.default.Subtract,this._modulo=new n.default.Modulo(e),this._bits=t.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},n.default.extend(n.default.BitCrusher,n.default.Effect),n.default.BitCrusher.defaults={bits:4},Object.defineProperty(n.default.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}}),n.default.BitCrusher.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},e.default=n.default.BitCrusher},function(t,e,i){"use strict";i.r(e);var n=i(0);i(58),i(42),i(8),i(9),n.default.AutoWah=function(){var t=n.default.defaults(arguments,["baseFrequency","octaves","sensitivity"],n.default.AutoWah);n.default.Effect.call(this,t),this.follower=new n.default.Follower(t.follower),this._sweepRange=new n.default.ScaleExp(0,1,.5),this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this._inputBoost=new n.default.Gain,this._bandpass=new n.default.Filter({rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new n.default.Filter(0,"peaking"),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,this._readOnly(["gain","Q"])},n.default.extend(n.default.AutoWah,n.default.Effect),n.default.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(n.default.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(n.default.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(n.default.AutoWah.prototype,"sensitivity",{get:function(){return n.default.gainToDb(1/this._inputBoost.gain.value)},set:function(t){this._inputBoost.gain.value=1/n.default.dbToGain(t)}}),n.default.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},n.default.AutoWah.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},e.default=n.default.AutoWah},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(12),i(48),n.default.AutoPanner=function(){var t=n.default.defaults(arguments,["frequency"],n.default.AutoPanner);n.default.Effect.call(this,t),this._lfo=new n.default.LFO({frequency:t.frequency,amplitude:t.depth,min:-1,max:1}),this.depth=this._lfo.amplitude,this._panner=new n.default.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=t.type,this._readOnly(["depth","frequency"])},n.default.extend(n.default.AutoPanner,n.default.Effect),n.default.AutoPanner.defaults={frequency:1,type:"sine",depth:1},n.default.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},n.default.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},n.default.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},n.default.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(n.default.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),n.default.AutoPanner.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},e.default=n.default.AutoPanner},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(12),i(9),n.default.AutoFilter=function(){var t=n.default.defaults(arguments,["frequency","baseFrequency","octaves"],n.default.AutoFilter);n.default.Effect.call(this,t),this._lfo=new n.default.LFO({frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new n.default.Filter(t.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=t.type,this._readOnly(["frequency","depth"]),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency},n.default.extend(n.default.AutoFilter,n.default.Effect),n.default.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},n.default.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},n.default.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},n.default.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},n.default.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(n.default.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(n.default.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(n.default.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._lfo.max=this.baseFrequency*Math.pow(2,t)}}),n.default.AutoFilter.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},e.default=n.default.AutoFilter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(23),i(10),i(19),i(2),i(22),i(28),n.default.Listener=function(){n.default.call(this),this._orientation=[0,0,0,0,0,0],this._position=[0,0,0],n.default.getContext(function(){this.set(r.defaults)}.bind(this))},n.default.extend(n.default.Listener),n.default.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0},n.default.Listener.prototype.isListener=!0,n.default.Listener.prototype._rampTimeConstant=.01,n.default.Listener.prototype.setPosition=function(t,e,i){if(this.context.rawContext.listener.positionX){var n=this.now();this.context.rawContext.listener.positionX.setTargetAtTime(t,n,this._rampTimeConstant),this.context.rawContext.listener.positionY.setTargetAtTime(e,n,this._rampTimeConstant),this.context.rawContext.listener.positionZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this.context.rawContext.listener.setPosition(t,e,i);return this._position=Array.prototype.slice.call(arguments),this},n.default.Listener.prototype.setOrientation=function(t,e,i,n,r,s){if(this.context.rawContext.listener.forwardX){var o=this.now();this.context.rawContext.listener.forwardX.setTargetAtTime(t,o,this._rampTimeConstant),this.context.rawContext.listener.forwardY.setTargetAtTime(e,o,this._rampTimeConstant),this.context.rawContext.listener.forwardZ.setTargetAtTime(i,o,this._rampTimeConstant),this.context.rawContext.listener.upX.setTargetAtTime(n,o,this._rampTimeConstant),this.context.rawContext.listener.upY.setTargetAtTime(r,o,this._rampTimeConstant),this.context.rawContext.listener.upZ.setTargetAtTime(s,o,this._rampTimeConstant)}else this.context.rawContext.listener.setOrientation(t,e,i,n,r,s);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(n.default.Listener.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(n.default.Listener.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(n.default.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(n.default.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(n.default.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(n.default.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),Object.defineProperty(n.default.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}}),Object.defineProperty(n.default.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}}),Object.defineProperty(n.default.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}}),n.default.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};var r=n.default.Listener;n.default.Listener=new r,n.default.Context.on("init",(function(t){t.listener&&t.listener.isListener?n.default.Listener=t.listener:n.default.Listener=new r})),e.default=n.default.Listener},function(t,e,i){"use strict";i.r(e);var n=i(0);i(24),n.default.Draw=function(){n.default.call(this),this._events=new n.default.Timeline,this.expiration=.25,this.anticipation=.008,this._boundDrawLoop=this._drawLoop.bind(this)},n.default.extend(n.default.Draw),n.default.Draw.prototype.schedule=function(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this},n.default.Draw.prototype.cancel=function(t){return this._events.cancel(this.toSeconds(t)),this},n.default.Draw.prototype._drawLoop=function(){for(var t=n.default.context.currentTime;this._events.length&&this._events.peek().time-this.anticipation<=t;){var e=this._events.shift();t-e.time<=this.expiration&&e.callback()}this._events.length>0&&requestAnimationFrame(this._boundDrawLoop)},n.default.Draw=new n.default.Draw,e.default=n.default.Draw},function(t,e,i){"use strict";i.r(e);var n=i(0),r=(i(3),{});n.default.prototype.send=function(t,e){r.hasOwnProperty(t)||(r[t]=this.context.createGain()),e=n.default.defaultArg(e,0);var i=new n.default.Gain(e,n.default.Type.Decibels);return this.connect(i),i.connect(r[t]),i},n.default.prototype.receive=function(t,e){return r.hasOwnProperty(t)||(r[t]=this.context.createGain()),n.default.connect(r[t],this,0,e),this},n.default.Context.on("init",(function(t){t.buses?r=t.buses:(r={},t.buses=r)})),e.default=n.default},function(t,e,i){"use strict";i.r(e);var n=i(0);i(4),n.default.CtrlRandom=function(){var t=n.default.defaults(arguments,["min","max"],n.default.CtrlRandom);n.default.call(this),this.min=t.min,this.max=t.max,this.integer=t.integer},n.default.extend(n.default.CtrlRandom),n.default.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(n.default.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min),e=this.toSeconds(this.max),i=Math.random(),n=i*t+(1-i)*e;return this.integer&&(n=Math.floor(n)),n}}),e.default=n.default.CtrlRandom},function(t,e,i){"use strict";i.r(e);var n=i(0);n.default.CtrlMarkov=function(t,e){n.default.call(this),this.values=n.default.defaultArg(t,{}),this.value=n.default.defaultArg(e,Object.keys(this.values)[0])},n.default.extend(n.default.CtrlMarkov),n.default.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var t=this.values[this.value];if(n.default.isArray(t))for(var e=this._getProbDistribution(t),i=Math.random(),r=0,s=0;s<e.length;s++){var o=e[s];if(i>r&&i<r+o){var a=t[s];n.default.isObject(a)?this.value=a.value:this.value=a}r+=o}else this.value=t}return this.value},n.default.CtrlMarkov.prototype._getProbDistribution=function(t){for(var e=[],i=0,r=!1,s=0;s<t.length;s++){var o=t[s];n.default.isObject(o)?(r=!0,e[s]=o.probability):e[s]=1/t.length,i+=e[s]}if(r)for(var a=0;a<e.length;a++)e[a]=e[a]/i;return e},n.default.CtrlMarkov.prototype.dispose=function(){this.values=null},e.default=n.default.CtrlMarkov},function(t,e,i){"use strict";i.r(e);var n=i(0);i(4),n.default.CtrlInterpolate=function(){var t=n.default.defaults(arguments,["values","index"],n.default.CtrlInterpolate);n.default.call(this),this.values=t.values,this.index=t.index},n.default.extend(n.default.CtrlInterpolate),n.default.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(n.default.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index;t=Math.min(t,this.values.length-1);var e=Math.floor(t),i=this.values[e],n=this.values[Math.ceil(t)];return this._interpolate(t-e,i,n)}}),n.default.CtrlInterpolate.prototype._interpolate=function(t,e,i){if(n.default.isArray(e)){for(var r=[],s=0;s<e.length;s++)r[s]=this._interpolate(t,e[s],i[s]);return r}if(n.default.isObject(e)){var o={};for(var a in e)o[a]=this._interpolate(t,e[a],i[a]);return o}return(1-t)*(e=this._toNumber(e))+t*this._toNumber(i)},n.default.CtrlInterpolate.prototype._toNumber=function(t){return n.default.isNumber(t)?t:this.toSeconds(t)},n.default.CtrlInterpolate.prototype.dispose=function(){this.values=null},e.default=n.default.CtrlInterpolate},function(t,e,i){"use strict";i.r(e);var n=i(0);i(36),i(1),n.default.Waveform=function(){var t=n.default.defaults(arguments,["size"],n.default.Waveform);t.type=n.default.Analyser.Type.Waveform,n.default.AudioNode.call(this),this._analyser=this.input=this.output=new n.default.Analyser(t)},n.default.extend(n.default.Waveform,n.default.AudioNode),n.default.Waveform.defaults={size:1024},n.default.Waveform.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(n.default.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),n.default.Waveform.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=n.default.Waveform},function(t,e,i){"use strict";i.r(e);var n=i(0);i(23),i(10),i(19),i(2),i(22),i(28),i(1),n.default.Panner3D=function(){var t=n.default.defaults(arguments,["positionX","positionY","positionZ"],n.default.Panner3D);n.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createPanner(),this._panner.panningModel=t.panningModel,this._panner.maxDistance=t.maxDistance,this._panner.distanceModel=t.distanceModel,this._panner.coneOuterGain=t.coneOuterGain,this._panner.coneOuterAngle=t.coneOuterAngle,this._panner.coneInnerAngle=t.coneInnerAngle,this._panner.refDistance=t.refDistance,this._panner.rolloffFactor=t.rolloffFactor,this._orientation=[t.orientationX,t.orientationY,t.orientationZ],this._position=[t.positionX,t.positionY,t.positionZ],this.orientationX=t.orientationX,this.orientationY=t.orientationY,this.orientationZ=t.orientationZ,this.positionX=t.positionX,this.positionY=t.positionY,this.positionZ=t.positionZ},n.default.extend(n.default.Panner3D,n.default.AudioNode),n.default.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1},n.default.Panner3D.prototype._rampTimeConstant=.01,n.default.Panner3D.prototype.setPosition=function(t,e,i){if(this._panner.positionX){var n=this.now();this._panner.positionX.setTargetAtTime(t,n,this._rampTimeConstant),this._panner.positionY.setTargetAtTime(e,n,this._rampTimeConstant),this._panner.positionZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this._panner.setPosition(t,e,i);return this._position=Array.prototype.slice.call(arguments),this},n.default.Panner3D.prototype.setOrientation=function(t,e,i){if(this._panner.orientationX){var n=this.now();this._panner.orientationX.setTargetAtTime(t,n,this._rampTimeConstant),this._panner.orientationY.setTargetAtTime(e,n,this._rampTimeConstant),this._panner.orientationZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this._panner.setOrientation(t,e,i);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(n.default.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(n.default.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(n.default.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(n.default.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(n.default.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(n.default.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),n.default.Panner3D._aliasProperty=function(t){Object.defineProperty(n.default.Panner3D.prototype,t,{set:function(e){this._panner[t]=e},get:function(){return this._panner[t]}})},n.default.Panner3D._aliasProperty("panningModel"),n.default.Panner3D._aliasProperty("refDistance"),n.default.Panner3D._aliasProperty("rolloffFactor"),n.default.Panner3D._aliasProperty("distanceModel"),n.default.Panner3D._aliasProperty("coneInnerAngle"),n.default.Panner3D._aliasProperty("coneOuterAngle"),n.default.Panner3D._aliasProperty("coneOuterGain"),n.default.Panner3D._aliasProperty("maxDistance"),n.default.Panner3D.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this},e.default=n.default.Panner3D},function(t,e,i){"use strict";i.r(e);var n=i(0);i(60),i(43),i(1),n.default.MultibandCompressor=function(t){n.default.AudioNode.call(this),t=n.default.defaultArg(arguments,n.default.MultibandCompressor.defaults),this._splitter=this.input=new n.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new n.default.Gain,this.low=new n.default.Compressor(t.low),this.mid=new n.default.Compressor(t.mid),this.high=new n.default.Compressor(t.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},n.default.extend(n.default.MultibandCompressor,n.default.AudioNode),n.default.MultibandCompressor.defaults={low:n.default.Compressor.defaults,mid:n.default.Compressor.defaults,high:n.default.Compressor.defaults,lowFrequency:250,highFrequency:2e3},n.default.MultibandCompressor.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},e.default=n.default.MultibandCompressor},function(t,e,i){"use strict";i.r(e);var n=i(0);i(10),i(1),n.default.Mono=function(){n.default.AudioNode.call(this),this.createInsOuts(1,0),this._merge=this.output=new n.default.Merge,n.default.connect(this.input,this._merge,0,0),n.default.connect(this.input,this._merge,0,1)},n.default.extend(n.default.Mono,n.default.AudioNode),n.default.Mono.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},e.default=n.default.Mono},function(t,e,i){"use strict";i.r(e);var n=i(0);i(53),i(52),i(43),i(1),n.default.MidSideCompressor=function(t){n.default.AudioNode.call(this),t=n.default.defaultArg(t,n.default.MidSideCompressor.defaults),this._midSideSplit=this.input=new n.default.MidSideSplit,this._midSideMerge=this.output=new n.default.MidSideMerge,this.mid=new n.default.Compressor(t.mid),this.side=new n.default.Compressor(t.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},n.default.extend(n.default.MidSideCompressor,n.default.AudioNode),n.default.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},n.default.MidSideCompressor.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},e.default=n.default.MidSideCompressor},function(t,e,i){"use strict";i.r(e);var n=i(0);i(36),i(1),n.default.Meter=function(){var t=n.default.defaults(arguments,["smoothing"],n.default.Meter);n.default.AudioNode.call(this),this.smoothing=t.smoothing,this._rms=0,this.input=this.output=this._analyser=new n.default.Analyser("waveform",256)},n.default.extend(n.default.Meter,n.default.AudioNode),n.default.Meter.defaults={smoothing:.8},n.default.Meter.prototype.getLevel=function(){for(var t=this._analyser.getValue(),e=0,i=0;i<t.length;i++){var r=t[i];e+=r*r}var s=Math.sqrt(e/t.length);return this._rms=Math.max(s,this._rms*this.smoothing),n.default.gainToDb(this._rms)},n.default.Meter.prototype.getValue=function(){return this._analyser.getValue()[0]},n.default.Meter.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this},e.default=n.default.Meter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(43),i(1),n.default.Limiter=function(){var t=n.default.defaults(arguments,["threshold"],n.default.Limiter);n.default.AudioNode.call(this),this._compressor=this.input=this.output=new n.default.Compressor({attack:.001,decay:.001,threshold:t.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},n.default.extend(n.default.Limiter,n.default.AudioNode),n.default.Limiter.defaults={threshold:-12},n.default.Limiter.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},e.default=n.default.Limiter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(58),i(85),i(1),n.default.Gate=function(){var t=n.default.defaults(arguments,["threshold","smoothing"],n.default.Gate);n.default.AudioNode.call(this),this.createInsOuts(1,1),this._follower=new n.default.Follower(t.smoothing),this._gt=new n.default.GreaterThan(n.default.dbToGain(t.threshold)),n.default.connect(this.input,this.output),n.default.connectSeries(this.input,this._follower,this._gt,this.output.gain)},n.default.extend(n.default.Gate,n.default.AudioNode),n.default.Gate.defaults={smoothing:.1,threshold:-40},Object.defineProperty(n.default.Gate.prototype,"threshold",{get:function(){return n.default.gainToDb(this._gt.value)},set:function(t){this._gt.value=n.default.dbToGain(t)}}),Object.defineProperty(n.default.Gate.prototype,"smoothing",{get:function(){return this._follower.smoothing},set:function(t){this._follower.smoothing=t}}),n.default.Gate.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},e.default=n.default.Gate},function(t,e,i){"use strict";i.r(e);var n=i(0);i(36),i(1),n.default.FFT=function(){var t=n.default.defaults(arguments,["size"],n.default.FFT);t.type=n.default.Analyser.Type.FFT,n.default.AudioNode.call(this),this._analyser=this.input=this.output=new n.default.Analyser(t)},n.default.extend(n.default.FFT,n.default.AudioNode),n.default.FFT.defaults={size:1024},n.default.FFT.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(n.default.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),n.default.FFT.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=n.default.FFT},function(t,e,i){"use strict";i.r(e);var n=i(0);i(60),i(3),i(1),n.default.EQ3=function(){var t=n.default.defaults(arguments,["low","mid","high"],n.default.EQ3);n.default.AudioNode.call(this),this.output=new n.default.Gain,this._multibandSplit=this.input=new n.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this._lowGain=new n.default.Gain(t.low,n.default.Type.Decibels),this._midGain=new n.default.Gain(t.mid,n.default.Type.Decibels),this._highGain=new n.default.Gain(t.high,n.default.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},n.default.extend(n.default.EQ3,n.default.AudioNode),n.default.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},n.default.EQ3.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},e.default=n.default.EQ3},function(t,e,i){"use strict";i.r(e);var n=i(0);i(91),i(88),i(1),n.default.Channel=function(){var t=n.default.defaults(arguments,["volume","pan"],n.default.PanVol);n.default.AudioNode.call(this,t),this._solo=this.input=new n.default.Solo(t.solo),this._panVol=this.output=new n.default.PanVol({pan:t.pan,volume:t.volume,mute:t.mute}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),this._readOnly(["pan","volume"])},n.default.extend(n.default.Channel,n.default.AudioNode),n.default.Channel.defaults={pan:0,volume:0,mute:!1,solo:!1},Object.defineProperty(n.default.Channel.prototype,"solo",{get:function(){return this._solo.solo},set:function(t){this._solo.solo=t}}),Object.defineProperty(n.default.Channel.prototype,"muted",{get:function(){return this._solo.muted||this.mute}}),Object.defineProperty(n.default.Channel.prototype,"mute",{get:function(){return this._panVol.mute},set:function(t){this._panVol.mute=t}}),n.default.Channel.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panVol.dispose(),this._panVol=null,this.pan=null,this.volume=null,this._solo.dispose(),this._solo=null,this},e.default=n.default.Channel},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){i(31),i(36),i(146),i(43),i(23),i(47),i(145),i(59),i(144),i(9),i(58),i(41),i(143),i(12),i(142),i(54),i(10),i(141),i(140),i(52),i(53),i(139),i(138),i(60),i(48),i(137),i(91),i(86),i(88),i(19),i(27),i(136),i(135),i(134),i(79),i(133),i(1),i(11),i(78),i(132),i(83),i(20),i(18),i(131),i(35),i(3),i(81),i(130),i(40),i(77),i(76),i(14),i(24),i(34),i(16),i(56),i(80),i(129),i(128),i(127),i(126),i(125),i(124),i(74),i(123),i(8),i(122),i(33),i(121),i(120),i(73),i(119),i(118),i(117),i(116),i(15),i(115),i(114),i(72),i(113),i(112),i(51),i(71),i(70),i(111),i(110),i(109),i(108),i(107),i(21),i(106),i(105),i(25),i(66),i(104),i(103),i(102),i(101),i(38),i(87),i(29),i(22),i(89),i(100),i(85),i(84),i(75),i(5),i(90),i(99),i(61),i(26),i(42),i(2),i(30),i(13),i(82),i(98),i(7),i(28),i(68),i(32),i(67),i(49),i(97),i(39),i(37),i(17),i(64),i(65),i(96),i(50),i(69),i(6),i(57),i(95),i(46),i(94),i(55),i(63),i(62),i(45),i(4),t.exports=i(0).default}])}))},"8ce9":function(t,e,i){},"8d4f":function(t,e,i){},"8da5":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return u}));var n=i("80d2"),r=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],s=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},o=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],a=function(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)};function l(t){for(var e=Array(3),i=s,o=r,a=0;a<3;++a)e[a]=Math.round(255*Object(n["e"])(i(o[a][0]*t[0]+o[a][1]*t[1]+o[a][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function u(t){for(var e=[0,0,0],i=a,n=o,r=i((t>>16&255)/255),s=i((t>>8&255)/255),l=i((t>>0&255)/255),u=0;u<3;++u)e[u]=n[u][0]*r+n[u][1]*s+n[u][2]*l;return e}},"8dd9":function(t,e,i){"use strict";var n=i("5530"),r=(i("25a8"),i("7e2b")),s=i("a9ad"),o=(i("a9e3"),i("ade3")),a=i("2b0e"),l=a["a"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){var t=this.computedElevation;return null==t||isNaN(parseInt(t))?{}:Object(o["a"])({},"elevation-".concat(this.elevation),!0)}}}),u=i("24b2"),c=i("a236"),h=i("7560"),d=i("58df");e["a"]=Object(d["a"])(r["a"],s["a"],l,u["a"],c["a"],h["a"]).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])(Object(n["a"])({"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped},this.themeClasses),this.elevationClasses),this.roundedClasses)},styles:function(){return this.measurableStyles}},render:function(t){var e={class:this.classes,style:this.styles,on:this.listeners$};return t(this.tag,this.setBackgroundColor(this.color,e),this.$slots.default)}})},"8df4":function(t,e,i){"use strict";var n=i("7a77");function r(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new n(t),e(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t,e=new r((function(e){t=e}));return{token:e,cancel:t}},t.exports=r},"8efc":function(t,e,i){},"8ff2":function(t,e,i){},"90a2":function(t,e,i){"use strict";i("7db0");var n=i("53ca");function r(t,e){var i=e.modifiers||{},r=e.value,o="object"===Object(n["a"])(r)?r:{handler:r,options:{}},a=o.handler,l=o.options,u=new IntersectionObserver((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(t._observe){if(a&&(!i.quiet||t._observe.init)){var r=Boolean(e.find((function(t){return t.isIntersecting})));a(e,n,r)}t._observe.init&&i.once?s(t):t._observe.init=!0}}),l);t._observe={init:!1,observer:u},u.observe(t)}function s(t){t._observe&&(t._observe.observer.unobserve(t),delete t._observe)}var o={inserted:r,unbind:s};e["a"]=o},"90d7":function(t,e,i){var n=i("23e7"),r=Math.log,s=Math.LN2;n({target:"Math",stat:!0},{log2:function(t){return r(t)/s}})},"90e3":function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},9112:function(t,e,i){var n=i("83ab"),r=i("9bf2"),s=i("5c6c");t.exports=n?function(t,e,i){return r.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},9152:function(t,e){e.read=function(t,e,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=i?r-1:0,d=i?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+t[e+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+t[e+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,i,n,r,s){var o,a,l,u=8*s-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,r),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*m}},9263:function(t,e,i){"use strict";var n=i("ad6d"),r=i("9f7f"),s=RegExp.prototype.exec,o=String.prototype.replace,a=s,l=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],h=l||c||u;h&&(a=function(t){var e,i,r,a,h=this,d=u&&h.sticky,f=n.call(h),p=h.source,m=0,g=t;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),i=new RegExp("^(?:"+p+")",f)),c&&(i=new RegExp("^"+p+"$(?!\\s)",f)),l&&(e=h.lastIndex),r=s.call(d?i:h,g),d?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:l&&r&&(h.lastIndex=h.global?r.index+r[0].length:e),c&&r&&r.length>1&&o.call(r[0],i,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r}),t.exports=a},"94ca":function(t,e,i){var n=i("d039"),r=/#|\.prototype\./,s=function(t,e){var i=a[o(t)];return i==u||i!=l&&("function"==typeof e?n(e):!!e)},o=s.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},"95ed":function(t,e,i){},"96cf":function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(t,e,i,n){var r=e&&e.prototype instanceof m?e:m,s=Object.create(r.prototype),o=new P(n||[]);return s._invoke=x(t,i,o),s}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(n){return{type:"throw",arg:n}}}t.wrap=l;var c="suspendedStart",h="suspendedYield",d="executing",f="completed",p={};function m(){}function g(){}function y(){}var v={};v[s]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(M([])));_&&_!==i&&n.call(_,s)&&(v=_);var S=y.prototype=m.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function T(t,e){function i(r,s,o,a){var l=u(t[r],t,s);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"===typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(h).then((function(t){c.value=t,o(c)}),(function(t){return i("throw",t,o,a)}))}a(l.arg)}var r;function s(t,n){function s(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(s,s):s()}this._invoke=s}function x(t,e,i){var n=c;return function(r,s){if(n===d)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw s;return k()}i.method=r,i.arg=s;while(1){var o=i.delegate;if(o){var a=E(o,i);if(a){if(a===p)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===c)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=d;var l=u(t,e,i);if("normal"===l.type){if(n=i.done?f:h,l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}function E(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,E(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,p;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function M(t){if(t){var i=t[s];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function i(){while(++r<t.length)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}return{next:k}}function k(){return{value:e,done:!0}}return g.prototype=S.constructor=y,y.constructor=g,y[a]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},w(T.prototype),T.prototype[o]=function(){return this},t.AsyncIterator=T,t.async=function(e,i,n,r,s){void 0===s&&(s=Promise);var o=new T(l(e,i,n,r),s);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(S),S[a]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),A(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;A(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:M(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},9861:function(t,e,i){"use strict";i("e260");var n=i("23e7"),r=i("d066"),s=i("0d3b"),o=i("6eeb"),a=i("e2cc"),l=i("d44e"),u=i("9ed3"),c=i("69f3"),h=i("19aa"),d=i("5135"),f=i("0366"),p=i("f5df"),m=i("825a"),g=i("861d"),y=i("7c73"),v=i("5c6c"),b=i("9a1f"),_=i("35a1"),S=i("b622"),w=r("fetch"),T=r("Headers"),x=S("iterator"),E="URLSearchParams",C=E+"Iterator",A=c.set,P=c.getterFor(E),M=c.getterFor(C),k=/\+/g,L=Array(4),I=function(t){return L[t-1]||(L[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},O=function(t){try{return decodeURIComponent(t)}catch(e){return t}},R=function(t){var e=t.replace(k," "),i=4;try{return decodeURIComponent(e)}catch(n){while(i)e=e.replace(I(i--),O);return e}},N=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(t){return D[t]},F=function(t){return encodeURIComponent(t).replace(N,B)},V=function(t,e){if(e){var i,n,r=e.split("&"),s=0;while(s<r.length)i=r[s++],i.length&&(n=i.split("="),t.push({key:R(n.shift()),value:R(n.join("="))}))}},j=function(t){this.entries.length=0,V(this.entries,t)},U=function(t,e){if(t<e)throw TypeError("Not enough arguments")},G=u((function(t,e){A(this,{type:C,iterator:b(P(t).entries),kind:e})}),"Iterator",(function(){var t=M(this),e=t.kind,i=t.iterator.next(),n=i.value;return i.done||(i.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),i})),W=function(){h(this,W,E);var t,e,i,n,r,s,o,a,l,u=arguments.length>0?arguments[0]:void 0,c=this,f=[];if(A(c,{type:E,entries:f,updateURL:function(){},updateSearchParams:j}),void 0!==u)if(g(u))if(t=_(u),"function"===typeof t){e=t.call(u),i=e.next;while(!(n=i.call(e)).done){if(r=b(m(n.value)),s=r.next,(o=s.call(r)).done||(a=s.call(r)).done||!s.call(r).done)throw TypeError("Expected sequence with length 2");f.push({key:o.value+"",value:a.value+""})}}else for(l in u)d(u,l)&&f.push({key:l,value:u[l]+""});else V(f,"string"===typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},z=W.prototype;a(z,{append:function(t,e){U(arguments.length,2);var i=P(this);i.entries.push({key:t+"",value:e+""}),i.updateURL()},delete:function(t){U(arguments.length,1);var e=P(this),i=e.entries,n=t+"",r=0;while(r<i.length)i[r].key===n?i.splice(r,1):r++;e.updateURL()},get:function(t){U(arguments.length,1);for(var e=P(this).entries,i=t+"",n=0;n<e.length;n++)if(e[n].key===i)return e[n].value;return null},getAll:function(t){U(arguments.length,1);for(var e=P(this).entries,i=t+"",n=[],r=0;r<e.length;r++)e[r].key===i&&n.push(e[r].value);return n},has:function(t){U(arguments.length,1);var e=P(this).entries,i=t+"",n=0;while(n<e.length)if(e[n++].key===i)return!0;return!1},set:function(t,e){U(arguments.length,1);for(var i,n=P(this),r=n.entries,s=!1,o=t+"",a=e+"",l=0;l<r.length;l++)i=r[l],i.key===o&&(s?r.splice(l--,1):(s=!0,i.value=a));s||r.push({key:o,value:a}),n.updateURL()},sort:function(){var t,e,i,n=P(this),r=n.entries,s=r.slice();for(r.length=0,i=0;i<s.length;i++){for(t=s[i],e=0;e<i;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===i&&r.push(t)}n.updateURL()},forEach:function(t){var e,i=P(this).entries,n=f(t,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<i.length)e=i[r++],n(e.value,e.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),o(z,x,z.entries),o(z,"toString",(function(){var t,e=P(this).entries,i=[],n=0;while(n<e.length)t=e[n++],i.push(F(t.key)+"="+F(t.value));return i.join("&")}),{enumerable:!0}),l(W,E),n({global:!0,forced:!s},{URLSearchParams:W}),s||"function"!=typeof w||"function"!=typeof T||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,i,n,r=[t];return arguments.length>1&&(e=arguments[1],g(e)&&(i=e.body,p(i)===E&&(n=e.headers?new T(e.headers):new T,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=y(e,{body:v(0,String(i)),headers:v(0,n)}))),r.push(e)),w.apply(this,r)}}),t.exports={URLSearchParams:W,getState:P}},9911:function(t,e,i){"use strict";var n=i("23e7"),r=i("857a"),s=i("af03");n({target:"String",proto:!0,forced:s("link")},{link:function(t){return r(this,"a","href",t)}})},"99af":function(t,e,i){"use strict";var n=i("23e7"),r=i("d039"),s=i("e8b5"),o=i("861d"),a=i("7b0b"),l=i("50c4"),u=i("8418"),c=i("65f0"),h=i("1dde"),d=i("b622"),f=i("2d00"),p=d("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=f>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=h("concat"),b=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:s(t)},_=!y||!v;n({target:"Array",proto:!0,forced:_},{concat:function(t){var e,i,n,r,s,o=a(this),h=c(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(s=-1===e?o:arguments[e],b(s)){if(r=l(s.length),d+r>m)throw TypeError(g);for(i=0;i<r;i++,d++)i in s&&u(h,d,s[i])}else{if(d>=m)throw TypeError(g);u(h,d++,s)}return h.length=d,h}})},"99d9":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return l}));var n=i("b0af"),r=i("80d2"),s=Object(r["h"])("v-card__actions"),o=Object(r["h"])("v-card__subtitle"),a=Object(r["h"])("v-card__text"),l=Object(r["h"])("v-card__title");n["a"]},"9a1f":function(t,e,i){var n=i("825a"),r=i("35a1");t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},"9afa":function(t,e,i){"use strict";var n,r,s=i("7fe1").toUnsigned,o=function(t){return new Date(1e3*t-20828448e5)},a=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},l=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3]),e},u=function(t,e){var i,n,r,o,a,c=[];if(!e.length)return null;for(i=0;i<t.byteLength;)n=s(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),r=l(t.subarray(i+4,i+8)),o=n>1?i+n:t.byteLength,r===e[0]&&(1===e.length?c.push(t.subarray(i+8,o)):(a=u(t.subarray(i+8,o),e.slice(1)),a.length&&(c=c.concat(a)))),i=o;return c},c=function(t){var e,i,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=i)if(i=n.getUint32(e),e+=4,i<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31);break}return r},h={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:n(t.subarray(78,t.byteLength))}},avcC:function(t){var e,i,n,r,s=new DataView(t.buffer,t.byteOffset,t.byteLength),o={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},a=31&t[5];for(n=6,r=0;r<a;r++)i=s.getUint16(n),n+=2,o.sps.push(new Uint8Array(t.subarray(n,n+i))),n+=i;for(e=t[n],n++,r=0;r<e;r++)i=s.getUint16(n),n+=2,o.pps.push(new Uint8Array(t.subarray(n,n+i))),n+=i;return o},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={majorBrand:l(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},n=8;while(n<t.byteLength)i.compatibleBrands.push(l(t.subarray(n,n+4))),n+=4;return i},dinf:function(t){return{boxes:n(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:n(t.subarray(8))}},hdlr:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:l(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}i.name+=String.fromCharCode(t[n])}return i.name=decodeURIComponent(escape(i.name)),i},mdat:function(t){return{byteLength:t.byteLength,nals:c(t)}},mdhd:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:i.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(n+=4,r.creationTime=o(i.getUint32(n)),n+=8,r.modificationTime=o(i.getUint32(n)),n+=4,r.timescale=i.getUint32(n),n+=8,r.duration=i.getUint32(n)):(r.creationTime=o(i.getUint32(n)),n+=4,r.modificationTime=o(i.getUint32(n)),n+=4,r.timescale=i.getUint32(n),n+=4,r.duration=i.getUint32(n)),n+=4,e=i.getUint16(n),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:n(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:n(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(i.streamDescriptor=n(t.subarray(28))[0]),i},moof:function(t){return{boxes:n(t)}},moov:function(t){return{boxes:n(t)}},mvex:function(t){return{boxes:n(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=o(e.getUint32(i)),i+=8,n.modificationTime=o(e.getUint32(i)),i+=4,n.timescale=e.getUint32(i),i+=8,n.duration=e.getUint32(i)):(n.creationTime=o(e.getUint32(i)),i+=4,n.modificationTime=o(e.getUint32(i)),i+=4,n.timescale=e.getUint32(i),i+=4,n.duration=e.getUint32(i)),i+=4,n.rate=e.getUint16(i)+e.getUint16(i+2)/16,i+=4,n.volume=e.getUint8(i)+e.getUint8(i+1)/8,i+=2,i+=2,i+=8,n.matrix=new Uint32Array(t.subarray(i,i+36)),i+=36,i+=24,n.nextTrackId=e.getUint32(i),n},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)i.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return i},sidx:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},r=i.getUint16(22);for(e=24;r;e+=12,r--)n.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&i.getUint32(e),subsegmentDuration:i.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&i.getUint32(e+8)});return n},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:n(t)}},stco:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=i.getUint32(4);for(e=8;r;e+=4,r--)n.chunkOffsets.push(i.getUint32(e));return n},stsc:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=i.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;n;e+=12,n--)r.sampleToChunks.push({firstChunk:i.getUint32(e),samplesPerChunk:i.getUint32(e+4),sampleDescriptionIndex:i.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:n(t.subarray(8))}},stsz:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)n.entries.push(i.getUint32(e));return n},stts:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=i.getUint32(4);for(e=8;r;e+=8,r--)n.timeToSamples.push({sampleCount:i.getUint32(e),sampleDelta:i.getUint32(e+4)});return n},styp:function(t){return h.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:s(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=s(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},tfhd:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],s=2&n.flags[2],o=8&n.flags[2],a=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],c=131072&n.flags[0];return e=8,r&&(e+=4,n.baseDataOffset=i.getUint32(12),e+=4),s&&(n.sampleDescriptionIndex=i.getUint32(e),e+=4),o&&(n.defaultSampleDuration=i.getUint32(e),e+=4),a&&(n.defaultSampleSize=i.getUint32(e),e+=4),l&&(n.defaultSampleFlags=i.getUint32(e)),u&&(n.durationIsEmpty=!0),!r&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=o(e.getUint32(i)),i+=8,n.modificationTime=o(e.getUint32(i)),i+=4,n.trackId=e.getUint32(i),i+=4,i+=8,n.duration=e.getUint32(i)):(n.creationTime=o(e.getUint32(i)),i+=4,n.modificationTime=o(e.getUint32(i)),i+=4,n.trackId=e.getUint32(i),i+=4,i+=4,n.duration=e.getUint32(i)),i+=4,i+=8,n.layer=e.getUint16(i),i+=2,n.alternateGroup=e.getUint16(i),i+=2,n.volume=e.getUint8(i)+e.getUint8(i+1)/8,i+=2,i+=2,n.matrix=new Uint32Array(t.subarray(i,i+36)),i+=36,n.width=e.getUint16(i)+e.getUint16(i+2)/16,i+=4,n.height=e.getUint16(i)+e.getUint16(i+2)/16,n},traf:function(t){return{boxes:n(t)}},trak:function(t){return{boxes:n(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&i.flags[2],s=4&i.flags[2],o=1&i.flags[1],l=2&i.flags[1],u=4&i.flags[1],c=8&i.flags[1],h=n.getUint32(4),d=8;r&&(i.dataOffset=n.getInt32(d),d+=4),s&&h&&(e={flags:a(t.subarray(d,d+4))},d+=4,o&&(e.duration=n.getUint32(d),d+=4),l&&(e.size=n.getUint32(d),d+=4),c&&(e.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(e),h--);while(h--)e={},o&&(e.duration=n.getUint32(d),d+=4),l&&(e.size=n.getUint32(d),d+=4),u&&(e.flags=a(t.subarray(d,d+4)),d+=4),c&&(e.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(e);return i},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};n=function(t){for(var e,i,n,r,s,o=0,a=[],u=new ArrayBuffer(t.length),c=new Uint8Array(u),d=0;d<t.length;++d)c[d]=t[d];e=new DataView(u);while(o<t.byteLength)i=e.getUint32(o),n=l(t.subarray(o+4,o+8)),r=i>1?o+i:t.byteLength,s=(h[n]||function(t){return{data:t}})(t.subarray(o+8,r)),s.size=i,s.type=n,a.push(s),o=r;return a},r=function(t,e){var i;return e=e||0,i=new Array(2*e+1).join(" "),t.map((function(t,n){return i+t.type+"\n"+Object.keys(t).filter((function(t){return"type"!==t&&"boxes"!==t})).map((function(e){var n=i+"  "+e+": ",r=t[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var s=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map((function(t){return" "+("00"+t.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return s?1===s.length?n+"<"+s.join("").slice(1)+">":n+"<\n"+s.map((function(t){return i+"  "+t})).join("\n")+"\n"+i+"  >":n+"<>"}return n+JSON.stringify(r,null,2).split("\n").map((function(t,e){return 0===e?t:i+"  "+t})).join("\n")})).join("\n")+(t.boxes?"\n"+r(t.boxes,e+1):"")})).join("\n")},t.exports={inspect:n,textify:r,parseType:l,findBox:u,parseTraf:h.traf,parseTfdt:h.tfdt,parseHdlr:h.hdlr,parseTfhd:h.tfhd,parseTrun:h.trun,parseSidx:h.sidx}},"9bdd":function(t,e,i){var n=i("825a");t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(o){var s=t["return"];throw void 0!==s&&n(s.call(t)),o}}},"9bf2":function(t,e,i){var n=i("83ab"),r=i("0cfb"),s=i("825a"),o=i("c04e"),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(s(t),e=o(e,!0),s(i),r)try{return a(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},"9c54":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return l}));var n=i("80d2"),r=i("7e85"),s=i("56a4"),o=i("e516"),a=Object(n["h"])("v-stepper__header"),l=Object(n["h"])("v-stepper__items");r["a"],o["a"],s["a"]},"9d01":function(t,e,i){},"9d26":function(t,e,i){"use strict";var n=i("132d");e["a"]=n["a"]},"9d65":function(t,e,i){"use strict";var n=i("d9bd"),r=i("2b0e");e["a"]=r["a"].extend().extend({name:"bootable",props:{eager:Boolean},data:function(){return{isBooted:!1}},computed:{hasContent:function(){return this.isBooted||this.eager||this.isActive}},watch:{isActive:function(){this.isBooted=!0}},created:function(){"lazy"in this.$attrs&&Object(n["e"])("lazy",this)},methods:{showLazyContent:function(t){return this.hasContent&&t?t():[this.$createElement()]}}})},"9e29":function(t,e,i){},"9ed3":function(t,e,i){"use strict";var n=i("ae93").IteratorPrototype,r=i("7c73"),s=i("5c6c"),o=i("d44e"),a=i("3f8c"),l=function(){return this};t.exports=function(t,e,i){var u=e+" Iterator";return t.prototype=r(n,{next:s(1,i)}),o(t,u,!1,!0),a[u]=l,t}},"9f7f":function(t,e,i){"use strict";var n=i("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,i){"use strict";var n=i("23e7"),r=i("44ad"),s=i("fc6a"),o=i("a640"),a=[].join,l=r!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(t){return a.call(s(this),void 0===t?",":t)}})},a236:function(t,e,i){"use strict";i("a15b"),i("ac1f"),i("1276");var n=i("ade3"),r=i("b85c"),s=i("2b0e");e["a"]=s["a"].extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses:function(){var t=[],e="string"===typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)t.push("rounded-0");else if("string"===typeof e){var i,s=e.split(" "),o=Object(r["a"])(s);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.push("rounded-".concat(a))}}catch(l){o.e(l)}finally{o.f()}}else e&&t.push("rounded");return t.length>0?Object(n["a"])({},t.join(" "),!0):{}}}})},a293:function(t,e,i){"use strict";i("45fc");var n=i("53ca");function r(){return!0}function s(t,e,i){var s="function"===typeof i.value?i.value:i.value.handler,o="object"===Object(n["a"])(i.value)&&i.value.closeConditional||r;if(t&&!1!==o(t)&&!("isTrusted"in t&&!t.isTrusted||"pointerType"in t&&!t.pointerType)){var a=("object"===Object(n["a"])(i.value)&&i.value.include||function(){return[]})();a.push(e),!a.some((function(e){return e.contains(t.target)}))&&setTimeout((function(){o(t)&&s&&s(t)}),0)}}var o={inserted:function(t,e){var i=function(i){return s(i,t,e)},n=document.querySelector("[data-app]")||document.body;n.addEventListener("click",i,!0),t._clickOutside=i},unbind:function(t){if(t._clickOutside){var e=document.querySelector("[data-app]")||document.body;e&&e.removeEventListener("click",t._clickOutside,!0),delete t._clickOutside}}};e["a"]=o},a2bf:function(t,e,i){"use strict";var n=i("e8b5"),r=i("50c4"),s=i("0366"),o=function(t,e,i,a,l,u,c,h){var d,f=l,p=0,m=!!c&&s(c,h,3);while(p<a){if(p in i){if(d=m?m(i[p],p,e):i[p],u>0&&n(d))f=o(t,e,d,r(d.length),f,u-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=d}f++}p++}return f};t.exports=o},a434:function(t,e,i){"use strict";var n=i("23e7"),r=i("23cb"),s=i("a691"),o=i("50c4"),a=i("7b0b"),l=i("65f0"),u=i("8418"),c=i("1dde"),h=i("ae40"),d=c("splice"),f=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,g=9007199254740991,y="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d||!f},{splice:function(t,e){var i,n,c,h,d,f,v=a(this),b=o(v.length),_=r(t,b),S=arguments.length;if(0===S?i=n=0:1===S?(i=0,n=b-_):(i=S-2,n=m(p(s(e),0),b-_)),b+i-n>g)throw TypeError(y);for(c=l(v,n),h=0;h<n;h++)d=_+h,d in v&&u(c,h,v[d]);if(c.length=n,i<n){for(h=_;h<b-n;h++)d=h+n,f=h+i,d in v?v[f]=v[d]:delete v[f];for(h=b;h>b-n+i;h--)delete v[h-1]}else if(i>n)for(h=b-n;h>_;h--)d=h+n-1,f=h+i-1,d in v?v[f]=v[d]:delete v[f];for(h=0;h<i;h++)v[h+_]=arguments[h+2];return v.length=b-n+i,c}})},a452:function(t,e,i){"use strict";var n=i("ade3"),r=i("2b0e");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return r["a"].extend({name:"proxyable",model:{prop:t,event:e},props:Object(n["a"])({},t,{required:!1}),data:function(){return{internalLazyValue:this[t]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:Object(n["a"])({},t,(function(t){this.internalLazyValue=t}))})}var o=s();e["a"]=o},a4d3:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),s=i("d066"),o=i("c430"),a=i("83ab"),l=i("4930"),u=i("fdbf"),c=i("d039"),h=i("5135"),d=i("e8b5"),f=i("861d"),p=i("825a"),m=i("7b0b"),g=i("fc6a"),y=i("c04e"),v=i("5c6c"),b=i("7c73"),_=i("df75"),S=i("241c"),w=i("057f"),T=i("7418"),x=i("06cf"),E=i("9bf2"),C=i("d1e7"),A=i("9112"),P=i("6eeb"),M=i("5692"),k=i("f772"),L=i("d012"),I=i("90e3"),O=i("b622"),R=i("e538"),N=i("746f"),D=i("d44e"),B=i("69f3"),F=i("b727").forEach,V=k("hidden"),j="Symbol",U="prototype",G=O("toPrimitive"),W=B.set,z=B.getterFor(j),H=Object[U],q=r.Symbol,$=s("JSON","stringify"),Y=x.f,X=E.f,K=w.f,Q=C.f,Z=M("symbols"),J=M("op-symbols"),tt=M("string-to-symbol-registry"),et=M("symbol-to-string-registry"),it=M("wks"),nt=r.QObject,rt=!nt||!nt[U]||!nt[U].findChild,st=a&&c((function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=Y(H,e);n&&delete H[e],X(t,e,i),n&&t!==H&&X(H,e,n)}:X,ot=function(t,e){var i=Z[t]=b(q[U]);return W(i,{type:j,tag:t,description:e}),a||(i.description=e),i},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},lt=function(t,e,i){t===H&&lt(J,e,i),p(t);var n=y(e,!0);return p(i),h(Z,n)?(i.enumerable?(h(t,V)&&t[V][n]&&(t[V][n]=!1),i=b(i,{enumerable:v(0,!1)})):(h(t,V)||X(t,V,v(1,{})),t[V][n]=!0),st(t,n,i)):X(t,n,i)},ut=function(t,e){p(t);var i=g(e),n=_(i).concat(pt(i));return F(n,(function(e){a&&!ht.call(i,e)||lt(t,e,i[e])})),t},ct=function(t,e){return void 0===e?b(t):ut(b(t),e)},ht=function(t){var e=y(t,!0),i=Q.call(this,e);return!(this===H&&h(Z,e)&&!h(J,e))&&(!(i||!h(this,e)||!h(Z,e)||h(this,V)&&this[V][e])||i)},dt=function(t,e){var i=g(t),n=y(e,!0);if(i!==H||!h(Z,n)||h(J,n)){var r=Y(i,n);return!r||!h(Z,n)||h(i,V)&&i[V][n]||(r.enumerable=!0),r}},ft=function(t){var e=K(g(t)),i=[];return F(e,(function(t){h(Z,t)||h(L,t)||i.push(t)})),i},pt=function(t){var e=t===H,i=K(e?J:g(t)),n=[];return F(i,(function(t){!h(Z,t)||e&&!h(H,t)||n.push(Z[t])})),n};if(l||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),i=function(t){this===H&&i.call(J,t),h(this,V)&&h(this[V],e)&&(this[V][e]=!1),st(this,e,v(1,t))};return a&&rt&&st(H,e,{configurable:!0,set:i}),ot(e,t)},P(q[U],"toString",(function(){return z(this).tag})),P(q,"withoutSetter",(function(t){return ot(I(t),t)})),C.f=ht,E.f=lt,x.f=dt,S.f=w.f=ft,T.f=pt,R.f=function(t){return ot(O(t),t)},a&&(X(q[U],"description",{configurable:!0,get:function(){return z(this).description}}),o||P(H,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),F(_(it),(function(t){N(t)})),n({target:j,stat:!0,forced:!l},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var i=q(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!a},{create:ct,defineProperty:lt,defineProperties:ut,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ft,getOwnPropertySymbols:pt}),n({target:"Object",stat:!0,forced:c((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(m(t))}}),$){var mt=!l||c((function(){var t=q();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))}));n({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,i){var n,r=[t],s=1;while(arguments.length>s)r.push(arguments[s++]);if(n=e,(f(e)||void 0!==t)&&!at(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!at(e))return e}),r[1]=e,$.apply(null,r)}})}q[U][G]||A(q[U],G,q[U].valueOf),D(q,j),L[V]=!0},a523:function(t,e,i){"use strict";i("99af"),i("4de4"),i("b64b"),i("2ca0"),i("20f6"),i("4b85"),i("a15b"),i("498a");var n=i("2b0e");function r(t){return n["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,i){var n=i.props,r=i.data,s=i.children;r.staticClass="".concat(t," ").concat(r.staticClass||"").trim();var o=r.attrs;if(o){r.attrs={};var a=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e}));a.length&&(r.staticClass+=" ".concat(a.join(" ")))}return n.id&&(r.domProps=r.domProps||{},r.domProps.id=n.id),e(n.tag,r,s)}})}var s=i("d9f7");e["a"]=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var i,n=e.props,r=e.data,o=e.children,a=r.attrs;return a&&(r.attrs={},i=Object.keys(a).filter((function(t){if("slot"===t)return!1;var e=a[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(r.domProps=r.domProps||{},r.domProps.id=n.id),t(n.tag,Object(s["a"])(r,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(i||[])}),o)}})},a559:function(t,e){function i(){return t.exports=i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i.apply(this,arguments)}t.exports=i},a623:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").every,s=i("a640"),o=i("ae40"),a=s("every"),l=o("every");n({target:"Array",proto:!0,forced:!a||!l},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},a630:function(t,e,i){var n=i("23e7"),r=i("4df4"),s=i("1c7e"),o=!s((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:r})},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},a79d:function(t,e,i){"use strict";var n=i("23e7"),r=i("c430"),s=i("fea9"),o=i("d039"),a=i("d066"),l=i("4840"),u=i("cdf9"),c=i("6eeb"),h=!!s&&o((function(){s.prototype["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(t){var e=l(this,a("Promise")),i="function"==typeof t;return this.then(i?function(i){return u(e,t()).then((function(){return i}))}:t,i?function(i){return u(e,t()).then((function(){throw i}))}:t)}}),r||"function"!=typeof s||s.prototype["finally"]||c(s.prototype,"finally",a("Promise").prototype["finally"])},a844:function(t,e,i){"use strict";i("a9e3");var n=i("5530"),r=(i("1681"),i("8654")),s=i("58df"),o=Object(s["a"])(r["a"]);e["a"]=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(n["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},r["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"}},genInput:function(){var t=r["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){r["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},a8e0:function(t,e,i){"use strict";var n=i("dc6d").discardEmulationPreventionBytes,r=i("4e69").CaptionStream,s=i("2806"),o=i("9afa"),a=function(t,e){for(var i=t,n=0;n<e.length;n++){var r=e[n];if(i<r.size)return r;i-=r.size}return null},l=function(t,e,i){var r,s,o,l,u=new DataView(t.buffer,t.byteOffset,t.byteLength),c=[];for(s=0;s+4<t.length;s+=o)if(o=u.getUint32(s),s+=4,!(o<=0))switch(31&t[s]){case 6:var h=t.subarray(s+1,s+1+o),d=a(s,e);r={nalUnitType:"sei_rbsp",size:o,data:h,escapedRBSP:n(h),trackId:i},d?(r.pts=d.pts,r.dts=d.dts,l=d):(r.pts=l.pts,r.dts=l.dts),c.push(r);break;default:break}return c},u=function(t,e,i){var n=e,r=i.defaultSampleDuration||0,s=i.defaultSampleSize||0,a=i.trackId,l=[];return t.forEach((function(t){var e=o.parseTrun(t),i=e.samples;i.forEach((function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=s),t.trackId=a,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration})),l=l.concat(i)})),l},c=function(t,e){var i=s.findBox(t,["moof","traf"]),n=s.findBox(t,["mdat"]),r={},a=[];return n.forEach((function(t,e){var n=i[e];a.push({mdat:t,traf:n})})),a.forEach((function(t){var i,n,a=t.mdat,c=t.traf,h=s.findBox(c,["tfhd"]),d=o.parseTfhd(h[0]),f=d.trackId,p=s.findBox(c,["tfdt"]),m=p.length>0?o.parseTfdt(p[0]).baseMediaDecodeTime:0,g=s.findBox(c,["trun"]);e===f&&g.length>0&&(i=u(g,m,d),n=l(a,i,f),r[f]||(r[f]=[]),r[f]=r[f].concat(n))})),r},h=function(t,e,i){var n;return null===e?null:(n=c(t,e),{seiNals:n[e],timescale:i})},d=function(){var t,e,i,n,s,o,a=!1;this.isInitialized=function(){return a},this.init=function(e){t=new r,a=!0,o=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/n,t.endTime=t.endPts/n,s.captions.push(t),s.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"===typeof e&&0===Object.keys(e).length)&&(i!==t[0]||n!==e[i])},this.parse=function(t,r,o){var a;if(!this.isInitialized())return null;if(!r||!o)return null;if(this.isNewInit(r,o))i=r[0],n=o[i];else if(null===i||!n)return e.push(t),null;while(e.length>0){var l=e.shift();this.parse(l,r,o)}return a=h(t,i,n),null!==a&&a.seiNals?(this.pushNals(a.seiNals),this.flushStream(),s):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){s.captions=[],s.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],i=null,n=null,s?this.clearParsedCaptions():s={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};t.exports=d},a9ad:function(t,e,i){"use strict";i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("498a");var n=i("3835"),r=i("ade3"),s=i("5530"),o=i("2b0e"),a=i("d9bd"),l=i("7bc6");e["a"]=o["a"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e.style?(Object(a["b"])("style must be an object",this),e):"string"===typeof e.class?(Object(a["b"])("class must be an object",this),e):(Object(l["d"])(t)?e.style=Object(s["a"])(Object(s["a"])({},e.style),{},{"background-color":"".concat(t),"border-color":"".concat(t)}):t&&(e.class=Object(s["a"])(Object(s["a"])({},e.class),{},Object(r["a"])({},t,!0))),e)},setTextColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof e.style)return Object(a["b"])("style must be an object",this),e;if("string"===typeof e.class)return Object(a["b"])("class must be an object",this),e;if(Object(l["d"])(t))e.style=Object(s["a"])(Object(s["a"])({},e.style),{},{color:"".concat(t),"caret-color":"".concat(t)});else if(t){var i=t.toString().trim().split(" ",2),o=Object(n["a"])(i,2),u=o[0],c=o[1];e.class=Object(s["a"])(Object(s["a"])({},e.class),{},Object(r["a"])({},u+"--text",!0)),c&&(e.class["text--"+c]=!0)}return e}}})},a9e3:function(t,e,i){"use strict";var n=i("83ab"),r=i("da84"),s=i("94ca"),o=i("6eeb"),a=i("5135"),l=i("c6b6"),u=i("7156"),c=i("c04e"),h=i("d039"),d=i("7c73"),f=i("241c").f,p=i("06cf").f,m=i("9bf2").f,g=i("58a8").trim,y="Number",v=r[y],b=v.prototype,_=l(d(b))==y,S=function(t){var e,i,n,r,s,o,a,l,u=c(t,!1);if("string"==typeof u&&u.length>2)if(u=g(u),e=u.charCodeAt(0),43===e||45===e){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(s=u.slice(2),o=s.length,a=0;a<o;a++)if(l=s.charCodeAt(a),l<48||l>r)return NaN;return parseInt(s,n)}return+u};if(s(y,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,T=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof T&&(_?h((function(){b.valueOf.call(i)})):l(i)!=y)?u(new v(S(e)),i,T):S(e)},x=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;x.length>E;E++)a(v,w=x[E])&&!a(T,w)&&m(T,w,p(v,w));T.prototype=b,b.constructor=T,o(r,y,T)}},ab13:function(t,e,i){var n=i("b622"),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},ac1f:function(t,e,i){"use strict";var n=i("23e7"),r=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},adda:function(t,e,i){"use strict";i("a15b"),i("a9e3"),i("8efc");var n=i("90a2"),r=(i("36a7"),i("24b2")),s=i("58df"),o=Object(s["a"])(r["a"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number]},computed:{computedAspectRatio:function(){return Number(this.aspectRatio)},aspectStyle:function(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer:function(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-responsive__content"},this.$slots.default)}},render:function(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),a=o,l=i("7560"),u=i("d9f7"),c=i("d9bd"),h="undefined"!==typeof window&&"IntersectionObserver"in window;e["a"]=Object(s["a"])(a,l["a"]).extend({name:"v-img",directives:{intersect:n["a"]},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data:function(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0}},computed:{computedAspectRatio:function(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc:function(){return"string"===typeof this.src?{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}:{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}},__cachedImage:function(){if(!this.normalisedSrc.src&&!this.normalisedSrc.lazySrc)return[];var t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push("linear-gradient(".concat(this.gradient,")")),e&&t.push('url("'.concat(e,'")'));var i=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[i]):i}},watch:{src:function(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted:function(){this.init()},methods:{init:function(t,e,i){if(!h||i||this.eager){if(this.normalisedSrc.lazySrc){var n=new Image;n.src=this.normalisedSrc.lazySrc,this.pollForSize(n,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad:function(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src)},onError:function(){this.$emit("error",this.src)},getSrc:function(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage:function(){var t=this,e=new Image;this.image=e,e.onload=function(){e.decode?e.decode().catch((function(e){Object(c["c"])("Failed to decode image, trying to render anyway\n\n"+"src: ".concat(t.normalisedSrc.src)+(e.message?"\nOriginal error: ".concat(e.message):""),t)})).then(t.onLoad):t.onLoad()},e.onerror=this.onError,e.src=this.normalisedSrc.src,this.sizes&&(e.sizes=this.sizes),this.normalisedSrc.srcset&&(e.srcset=this.normalisedSrc.srcset),this.aspectRatio||this.pollForSize(e),this.getSrc()},pollForSize:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=function n(){var r=t.naturalHeight,s=t.naturalWidth;r||s?(e.naturalWidth=s,e.calculatedAspectRatio=s/r):null!=i&&setTimeout(n,i)};n()},genContent:function(){var t=a.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:"".concat(this.naturalWidth,"px")}}),t},__genPlaceholder:function(){if(this.$slots.placeholder){var t=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},t):t[0]}}},render:function(t){var e=a.options.render.call(this,t),i=Object(u["a"])(e.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:h?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,i,e.children)}})},ade3:function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",(function(){return n}))},ae40:function(t,e,i){var n=i("83ab"),r=i("d039"),s=i("5135"),o=Object.defineProperty,a={},l=function(t){throw t};t.exports=function(t,e){if(s(a,t))return a[t];e||(e={});var i=[][t],u=!!s(e,"ACCESSORS")&&e.ACCESSORS,c=s(e,0)?e[0]:l,h=s(e,1)?e[1]:void 0;return a[t]=!!i&&!r((function(){if(u&&!n)return!0;var t={length:-1};u?o(t,1,{enumerable:!0,get:l}):t[1]=1,i.call(t,c,h)}))}},ae75:function(t,e,i){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},ae93:function(t,e,i){"use strict";var n,r,s,o=i("e163"),a=i("9112"),l=i("5135"),u=i("b622"),c=i("c430"),h=u("iterator"),d=!1,f=function(){return this};[].keys&&(s=[].keys(),"next"in s?(r=o(o(s)),r!==Object.prototype&&(n=r)):d=!0),void 0==n&&(n={}),c||l(n,h)||a(n,h,f),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},af03:function(t,e,i){var n=i("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},af2b:function(t,e,i){"use strict";i("c96a");var n=i("2b0e");e["a"]=n["a"].extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium:function(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses:function(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},b03c:function(t,e){var i="auto",n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function s(t){if("string"!==typeof t)return!1;var e=n[t.toLowerCase()];return!!e&&t.toLowerCase()}function o(t){if("string"!==typeof t)return!1;var e=r[t.toLowerCase()];return!!e&&t.toLowerCase()}function a(t,e,n){this.hasBeenReset=!1;var r="",a=!1,l=t,u=e,c=n,h=null,d="",f=!0,p="auto",m="start",g="auto",y="auto",v=100,b="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(t){r=""+t}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(t){a=!!t}},startTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(t){c=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(t){var e=s(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(t){if("number"!==typeof t&&t!==i)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(t){var e=o(t);e?(m=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");g=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(t){var e=o(t);e?(y=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");v=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(t){var e=o(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");b=e,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=a},b041:function(t,e,i){"use strict";var n=i("00ee"),r=i("f5df");t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},b0af:function(t,e,i){"use strict";i("0481"),i("4069"),i("a9e3");var n=i("5530"),r=(i("615b"),i("10d2")),s=i("297c"),o=i("1c87"),a=i("58df");e["a"]=Object(a["a"])(s["a"],o["a"],r["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-card":!0},o["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},r["a"].options.computed.classes.call(this))},styles:function(){var t=Object(n["a"])({},r["a"].options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=s["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),i=e.tag,n=e.data;return n.style=this.styles,this.isClickable&&(n.attrs=n.attrs||{},n.attrs.tabindex=0),t(i,this.setBackgroundColor(this.color,n),[this.genProgress(),this.$slots.default])}})},b0c0:function(t,e,i){var n=i("83ab"),r=i("9bf2").f,s=Function.prototype,o=s.toString,a=/^\s*function ([^ (]*)/,l="name";n&&!(l in s)&&r(s,l,{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(t){return""}}})},b17c:function(t,e,i){i("4ae1");var n=i("4a4b"),r=i("6f8f");function s(e,i,o){return r()?t.exports=s=Reflect.construct:t.exports=s=function(t,e,i){var r=[null];r.push.apply(r,e);var s=Function.bind.apply(t,r),o=new s;return i&&n(o,i.prototype),o},s.apply(null,arguments)}t.exports=s},b50d:function(t,e,i){"use strict";var n=i("c532"),r=i("467f"),s=i("30b5"),o=i("83b9"),a=i("c345"),l=i("3934"),u=i("2d83");t.exports=function(t){return new Promise((function(e,c){var h=t.data,d=t.headers;n.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+btoa(p+":"+m)}var g=o(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),s(g,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?f.response:f.responseText,s={data:n,status:f.status,statusText:f.statusText,headers:i,config:t,request:f};r(e,c,s),f=null}},f.onabort=function(){f&&(c(u("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){c(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),c(u(e,t,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var y=i("7aac"),v=(t.withCredentials||l(g))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;v&&(d[t.xsrfHeaderName]=v)}if("setRequestHeader"in f&&n.forEach(d,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(b){if("json"!==t.responseType)throw b}"function"===typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),c(t),f=null)})),void 0===h&&(h=null),f.send(h)}))}},b575:function(t,e,i){var n,r,s,o,a,l,u,c,h=i("da84"),d=i("06cf").f,f=i("c6b6"),p=i("2cf4").set,m=i("1cdc"),g=h.MutationObserver||h.WebKitMutationObserver,y=h.process,v=h.Promise,b="process"==f(y),_=d(h,"queueMicrotask"),S=_&&_.value;S||(n=function(){var t,e;b&&(t=y.domain)&&t.exit();while(r){e=r.fn,r=r.next;try{e()}catch(i){throw r?o():s=void 0,i}}s=void 0,t&&t.enter()},b?o=function(){y.nextTick(n)}:g&&!m?(a=!0,l=document.createTextNode(""),new g(n).observe(l,{characterData:!0}),o=function(){l.data=a=!a}):v&&v.resolve?(u=v.resolve(void 0),c=u.then,o=function(){c.call(u,n)}):o=function(){p.call(h,n)}),t.exports=S||function(t){var e={fn:t,next:void 0};s&&(s.next=e),r||(r=e,o()),s=e}},b622:function(t,e,i){var n=i("da84"),r=i("5692"),s=i("5135"),o=i("90e3"),a=i("4930"),l=i("fdbf"),u=r("wks"),c=n.Symbol,h=l?c:c&&c.withoutSetter||o;t.exports=function(t){return s(u,t)||(a&&s(c,t)?u[t]=c[t]:u[t]=h("Symbol."+t)),u[t]}},b639:function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i("1fb5"),r=i("9152"),s=i("e3db");function o(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=u.prototype):(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,i){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,i);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,i)}function c(t,e,i,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,i,n):"string"===typeof e?p(t,e,i):y(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,i,n){return h(e),e<=0?l(t,e):void 0!==i?"string"===typeof n?l(t,e).fill(i,n):l(t,e).fill(i):l(t,e)}function f(t,e){if(h(e),t=l(t,e<0?0:0|v(e)),!u.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function p(t,e,i){if("string"===typeof i&&""!==i||(i="utf8"),!u.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(e,i);t=l(t,n);var r=t.write(e,i);return r!==n&&(t=t.slice(0,r)),t}function m(t,e){var i=e.length<0?0:0|v(e.length);t=l(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function g(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),u.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=u.prototype):t=m(t,e),t}function y(t,e){if(u.isBuffer(e)){var i=0|v(e.length);return t=l(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?l(t,0):m(t,e);if("Buffer"===e.type&&s(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),u.alloc(+t)}function _(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return J(t).length;default:if(n)return K(t).length;e=(""+e).toLowerCase(),n=!0}}function S(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return B(this,e,i);case"utf8":case"utf-8":return I(this,e,i);case"ascii":return N(this,e,i);case"latin1":case"binary":return D(this,e,i);case"base64":return L(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function w(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function T(t,e,i,n,r){if(0===t.length)return-1;if("string"===typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:x(t,e,i,n,r);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):x(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function x(t,e,i,n,r){var s,o=1,a=t.length,l=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var c=-1;for(s=i;s<a;s++)if(u(t,s)===u(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(t,s+d)!==u(e,d)){h=!1;break}if(h)return s}return-1}function E(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function C(t,e,i,n){return tt(K(e,t.length-i),t,i,n)}function A(t,e,i,n){return tt(Q(e),t,i,n)}function P(t,e,i,n){return A(t,e,i,n)}function M(t,e,i,n){return tt(J(e),t,i,n)}function k(t,e,i,n){return tt(Z(e,t.length-i),t,i,n)}function L(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function I(t,e,i){i=Math.min(t.length,i);var n=[],r=e;while(r<i){var s,o,a,l,u=t[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=i)switch(h){case 1:u<128&&(c=u);break;case 2:s=t[r+1],128===(192&s)&&(l=(31&u)<<6|63&s,l>127&&(c=l));break;case 3:s=t[r+1],o=t[r+2],128===(192&s)&&128===(192&o)&&(l=(15&u)<<12|(63&s)<<6|63&o,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128===(192&s)&&128===(192&o)&&128===(192&a)&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=h}return R(n)}e.Buffer=u,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:o(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,i){return c(null,t,e,i)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,i){return d(null,t,e,i)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=u.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):S.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,i,n,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var s=r-n,o=i-e,a=Math.min(s,o),l=this.slice(n,r),c=t.slice(e,i),h=0;h<a;++h)if(l[h]!==c[h]){s=l[h],o=c[h];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},u.prototype.indexOf=function(t,e,i){return T(this,t,e,i,!0)},u.prototype.lastIndexOf=function(t,e,i){return T(this,t,e,i,!1)},u.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"===typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return E(this,t,e,i);case"utf8":case"utf-8":return C(this,t,e,i);case"ascii":return A(this,t,e,i);case"latin1":case"binary":return P(this,t,e,i);case"base64":return M(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function R(t){var e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);var i="",n=0;while(n<e)i+=String.fromCharCode.apply(String,t.slice(n,n+=O));return i}function N(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function D(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function B(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=X(t[s]);return r}function F(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function V(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,i,n,r,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function U(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function G(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function W(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function z(t,e,i,n,s){return s||W(t,e,i,4,34028234663852886e22,-34028234663852886e22),r.write(t,e,i,n,23,4),i+4}function H(t,e,i,n,s){return s||W(t,e,i,8,17976931348623157e292,-17976931348623157e292),r.write(t,e,i,n,52,8),i+8}u.prototype.slice=function(t,e){var i,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=u.prototype;else{var r=e-t;i=new u(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+t]}return i},u.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||V(t,e,this.length);var n=this[t],r=1,s=0;while(++s<e&&(r*=256))n+=this[t+s]*r;return n},u.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||V(t,e,this.length);var n=this[t+--e],r=1;while(e>0&&(r*=256))n+=this[t+--e]*r;return n},u.prototype.readUInt8=function(t,e){return e||V(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||V(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||V(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||V(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||V(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||V(t,e,this.length);var n=this[t],r=1,s=0;while(++s<e&&(r*=256))n+=this[t+s]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||V(t,e,this.length);var n=e,r=1,s=this[t+--n];while(n>0&&(r*=256))s+=this[t+--n]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return e||V(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||V(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt16BE=function(t,e){e||V(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt32LE=function(t,e){return e||V(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||V(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||V(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||V(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||V(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||V(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;j(this,t,e,i,r,0)}var s=1,o=0;this[e]=255&t;while(++o<i&&(s*=256))this[e+o]=t/s&255;return e+i},u.prototype.writeUIntBE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;j(this,t,e,i,r,0)}var s=i-1,o=1;this[e+s]=255&t;while(--s>=0&&(o*=256))this[e+s]=t/o&255;return e+i},u.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):G(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);j(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;this[e]=255&t;while(++s<i&&(o*=256))t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},u.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);j(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;this[e+s]=255&t;while(--s>=0&&(o*=256))t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},u.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):G(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,i){return z(this,t,e,!0,i)},u.prototype.writeFloatBE=function(t,e,i){return z(this,t,e,!1,i)},u.prototype.writeDoubleLE=function(t,e,i){return H(this,t,e,!0,i)},u.prototype.writeDoubleBE=function(t,e,i){return H(this,t,e,!1,i)},u.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,s=n-i;if(this===t&&i<e&&e<n)for(r=s-1;r>=0;--r)t[r+e]=this[r+i];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},u.prototype.fill=function(t,e,i,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,i=this.length):"string"===typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"===typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=u.isBuffer(t)?t:K(new u(t,n).toString()),a=o.length;for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function $(t){if(t=Y(t).replace(q,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function K(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],o=0;o<n;++o){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function Q(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function Z(t,e){for(var i,n,r,s=[],o=0;o<t.length;++o){if((e-=2)<0)break;i=t.charCodeAt(o),n=i>>8,r=i%256,s.push(r),s.push(n)}return s}function J(t){return n.toByteArray($(t))}function tt(t,e,i,n){for(var r=0;r<n;++r){if(r+i>=e.length||r>=t.length)break;e[r+i]=t[r]}return r}function et(t){return t!==t}}).call(this,i("c8ba"))},b64b:function(t,e,i){var n=i("23e7"),r=i("7b0b"),s=i("df75"),o=i("d039"),a=o((function(){s(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(t){return s(r(t))}})},b680:function(t,e,i){"use strict";var n=i("23e7"),r=i("a691"),s=i("408a"),o=i("1148"),a=i("d039"),l=1..toFixed,u=Math.floor,c=function(t,e,i){return 0===e?i:e%2===1?c(t,e-1,i*t):c(t*t,e/2,i)},h=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},d=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){l.call({})}));n({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,i,n,a,l=s(this),d=r(t),f=[0,0,0,0,0,0],p="",m="0",g=function(t,e){var i=-1,n=e;while(++i<6)n+=t*f[i],f[i]=n%1e7,n=u(n/1e7)},y=function(t){var e=6,i=0;while(--e>=0)i+=f[e],f[e]=u(i/t),i=i%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var i=String(f[t]);e=""===e?i:e+o.call("0",7-i.length)+i}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(e=h(l*c(2,69,1))-69,i=e<0?l*c(2,-e,1):l/c(2,e,1),i*=4503599627370496,e=52-e,e>0){g(0,i),n=d;while(n>=7)g(1e7,0),n-=7;g(c(10,n,1),0),n=e-1;while(n>=23)y(1<<23),n-=23;y(1<<n),g(1,1),y(2),m=v()}else g(0,i),g(1<<-e,0),m=v()+o.call("0",d);return d>0?(a=m.length,m=p+(a<=d?"0."+o.call("0",d-a)+m:m.slice(0,a-d)+"."+m.slice(a-d))):m=p+m,m}})},b727:function(t,e,i){var n=i("0366"),r=i("44ad"),s=i("7b0b"),o=i("50c4"),a=i("65f0"),l=[].push,u=function(t){var e=1==t,i=2==t,u=3==t,c=4==t,h=6==t,d=5==t||h;return function(f,p,m,g){for(var y,v,b=s(f),_=r(b),S=n(p,m,3),w=o(_.length),T=0,x=g||a,E=e?x(f,w):i?x(f,0):void 0;w>T;T++)if((d||T in _)&&(y=_[T],v=S(y,T,b),t))if(e)E[T]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return T;case 2:l.call(E,y)}else if(c)return!1;return h?-1:u||c?c:E}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},b73d:function(t,e,i){"use strict";i("0481"),i("4069");var n=i("5530"),r=(i("ec29"),i("9d01"),i("fe09")),s=i("c37a"),o=i("c3f0"),a=i("0789"),l=i("490a"),u=i("80d2");e["a"]=r["a"].extend({name:"v-switch",directives:{Touch:o["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(n["a"])(Object(n["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(n["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(n["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(a["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===u["t"].left&&this.isActive||t.keyCode===u["t"].right&&!this.isActive)&&this.onChange()}}})},b810:function(t,e,i){"use strict";var n=i("ce7e");e["a"]=n["a"]},b848:function(t,e,i){"use strict";var n=i("2909"),r=i("58df");function s(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.isActive&&r.isDependent?e.push(r):e.push.apply(e,Object(n["a"])(s(r.$children)))}return e}e["a"]=Object(r["a"])().extend({name:"dependent",data:function(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive:function(t){if(!t)for(var e=this.getOpenDependents(),i=0;i<e.length;i++)e[i].isActive=!1}},methods:{getOpenDependents:function(){return this.closeDependents?s(this.$children):[]},getOpenDependentElements:function(){for(var t=[],e=this.getOpenDependents(),i=0;i<e.length;i++)t.push.apply(t,Object(n["a"])(e[i].getClickableDependentElements()));return t},getClickableDependentElements:function(){var t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay.$el),t.push.apply(t,Object(n["a"])(this.getOpenDependentElements())),t}}})},b85c:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0");var n=i("06c5");function r(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=Object(n["a"])(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==i["return"]||i["return"]()}finally{if(l)throw o}}}}},b974:function(t,e,i){"use strict";i.d(e,"b",(function(){return K}));i("99af"),i("4de4"),i("c740"),i("a630"),i("caad"),i("d81d"),i("13d5"),i("fb6a"),i("a434"),i("b0c0"),i("4ec9"),i("d3b7"),i("ac1f"),i("25f0"),i("2532"),i("3ca3"),i("1276"),i("2ca0"),i("498a"),i("ddb0");var n=i("b85c"),r=i("ade3"),s=i("5530"),o=(i("4ff9"),i("68dd"),i("34ef")),a=(i("7db0"),i("c975"),i("a9e3"),i("2909")),l=(i("ee6f"),i("7560")),u=l["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:l["a"].options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(t){return!t.isComment&&" "!==t.text}))}}),c=(i("45fc"),i("b64b"),i("53ca")),h=i("2b0e"),d=h["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(t,e){var i=this;this.clearDelay();var n=parseInt(this["".concat(t,"Delay")],10);this["".concat(t,"Timeout")]=setTimeout(e||function(){i.isActive={open:!0,close:!1}[t]},n)}}}),f=i("f2e7"),p=i("58df"),m=i("80d2"),g=i("d9bd"),y=Object(p["a"])(d,f["a"]),v=y.extend({name:"activatable",props:{activator:{default:null,validator:function(t){return["string","object"].includes(Object(c["a"])(t))}},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean,openOnFocus:Boolean},data:function(){return{activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}},watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted:function(){var t=Object(m["p"])(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&Object(g["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy:function(){this.removeActivatorEvents()},methods:{addActivatorEvents:function(){if(this.activator&&!this.disabled&&this.getActivator()){this.listeners=this.genActivatorListeners();for(var t=Object.keys(this.listeners),e=0,i=t;e<i.length;e++){var n=i[e];this.getActivator().addEventListener(n,this.listeners[n])}}},genActivator:function(){var t=Object(m["o"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes:function(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners:function(){var t=this;if(this.disabled)return{};var e={};return this.openOnHover?(e.mouseenter=function(e){t.getActivator(e),t.runDelay("open")},e.mouseleave=function(e){t.getActivator(e),t.runDelay("close")}):e.click=function(e){var i=t.getActivator(e);i&&i.focus(),e.stopPropagation(),t.isActive=!t.isActive},this.openOnFocus&&(e.focus=function(e){t.getActivator(e),e.stopPropagation(),t.isActive=!t.isActive}),e},getActivator:function(t){if(this.activatorElement)return this.activatorElement;var e=null;if(this.activator){var i=this.internalActivator?this.$el:document;e="string"===typeof this.activator?i.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!t){var n=this.activatorNode[0].componentInstance;e=n&&n.$options.mixins&&n.$options.mixins.some((function(t){return t.options&&["activatable","menuable"].includes(t.options.name)}))?n.getActivator():this.activatorNode[0].elm}else t&&(e=t.currentTarget||t.target);return this.activatorElement=e,this.activatorElement},getContentSlot:function(){return Object(m["o"])(this,"default",this.getValueProxy(),!0)},getValueProxy:function(){var t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents:function(){if(this.activator&&this.activatorElement){for(var t=Object.keys(this.listeners),e=0,i=t;e<i.length;e++){var n=i[e];this.activatorElement.removeEventListener(n,this.listeners[n])}this.listeners={}}},resetActivator:function(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}}),b=i("b848"),_=(i("4160"),i("159b"),i("9d65"));function S(t){var e=Object(c["a"])(t);return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}var w=Object(p["a"])(_["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:S},contentClass:{type:String,default:""}},data:function(){return{activatorNode:null,hasDetached:!1}},watch:{attach:function(){this.hasDetached=!1,this.initDetach()},hasContent:function(){this.$nextTick(this.initDetach)}},beforeMount:function(){var t=this;this.$nextTick((function(){if(t.activatorNode){var e=Array.isArray(t.activatorNode)?t.activatorNode:[t.activatorNode];e.forEach((function(e){if(e.elm&&t.$el.parentNode){var i=t.$el===t.$el.parentNode.firstChild?t.$el:t.$el.nextSibling;t.$el.parentNode.insertBefore(e.elm,i)}}))}}))},mounted:function(){this.hasContent&&this.initDetach()},deactivated:function(){this.isActive=!1},beforeDestroy:function(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){var t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach((function(t){t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)}))}}catch(e){console.log(e)}},methods:{getScopeIdAttrs:function(){var t=Object(m["m"])(this.$vnode,"context.$options._scopeId");return t&&Object(r["a"])({},t,"")},initDetach:function(){var t;this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach||(t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.appendChild(this.$refs.content),this.hasDetached=!0):Object(g["c"])("Unable to locate target ".concat(this.attach||"[data-app]"),this))}}}),T=i("fe6c"),x=h["a"].extend().extend({name:"stackable",data:function(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex:function(){if("undefined"===typeof window)return 0;var t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(m["q"])(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.$el,i=[this.stackMinZIndex,Object(m["q"])(e)],n=[].concat(Object(a["a"])(document.getElementsByClassName("v-menu__content--active")),Object(a["a"])(document.getElementsByClassName("v-dialog__content--active"))),r=0;r<n.length;r++)t.includes(n[r])||i.push(Object(m["q"])(n[r]));return Math.max.apply(Math,i)}}}),E=Object(p["a"])(x,T["a"],v),C=E.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:function(){return{absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}},computed:{computedLeft:function(){var t=this.dimensions.activator,e=this.dimensions.content,i=(!1!==this.attach?t.offsetLeft:t.left)||0,n=Math.max(t.width,e.width),r=0;if(r+=this.left?i-(n-t.width):i,this.offsetX){var s=isNaN(Number(this.maxWidth))?t.width:Math.min(t.width,Number(this.maxWidth));r+=this.left?-s:t.width}return this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),r},computedTop:function(){var t=this.dimensions.activator,e=this.dimensions.content,i=0;return this.top&&(i+=t.height-e.height),!1!==this.attach?i+=t.offsetTop:i+=t.top+this.pageYOffset,this.offsetY&&(i+=this.top?-t.height:t.height),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),i},hasActivator:function(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator}},watch:{disabled:function(t){t&&this.callDeactivate()},isActive:function(t){this.disabled||(t?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount:function(){this.hasWindow="undefined"!==typeof window},methods:{absolutePosition:function(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function(){},calcLeft:function(t){return Object(m["f"])(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,t))},calcTop:function(){return Object(m["f"])(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow:function(t,e){var i=t+e-this.pageWidth+12;return t=(!this.left||this.right)&&i>0?Math.max(t-i,0):Math.max(t,12),t+this.getOffsetLeft()},calcYOverflow:function(t){var e=this.getInnerHeight(),i=this.pageYOffset+e,n=this.dimensions.activator,r=this.dimensions.content.height,s=t+r,o=i<s;return o&&this.offsetOverflow&&n.top>r?t=this.pageYOffset+(n.top-r):o&&!this.allowOverflow?t=i-r-12:t<this.pageYOffset&&!this.allowOverflow&&(t=this.pageYOffset+12),t<12?12:t},callActivate:function(){this.hasWindow&&this.activate()},callDeactivate:function(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset:function(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed:function(){if(!1===this.attach){var t=this.getActivator();while(t){if("fixed"===window.getComputedStyle(t).position)return void(this.activatorFixed=!0);t=t.offsetParent}this.activatorFixed=!1}},deactivate:function(){},genActivatorListeners:function(){var t=this,e=v.options.methods.genActivatorListeners.call(this),i=e.click;return e.click=function(e){t.openOnClick&&i&&i(e),t.absoluteX=e.clientX,t.absoluteY=e.clientY},e},getInnerHeight:function(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft:function(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop:function(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect:function(t){var e=t.getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right),width:Math.round(e.width),height:Math.round(e.height)}},measure:function(t){if(!t||!this.hasWindow)return null;var e=this.getRoundedBoundedClientRect(t);if(!1!==this.attach){var i=window.getComputedStyle(t);e.left=parseInt(i.marginLeft),e.top=parseInt(i.marginTop)}return e},sneakPeek:function(t){var e=this;requestAnimationFrame((function(){var i=e.$refs.content;i&&"none"===i.style.display?(i.style.display="inline-block",t(),i.style.display="none"):t()}))},startTransition:function(){var t=this;return new Promise((function(e){return requestAnimationFrame((function(){t.isContentActive=t.hasJustFocused=t.isActive,e()}))}))},updateDimensions:function(){var t=this;this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;var e={activator:Object(s["a"])({},this.dimensions.activator),content:Object(s["a"])({},this.dimensions.content)};if(!this.hasActivator||this.absolute)e.activator=this.absolutePosition();else{var i=this.getActivator();if(!i)return;e.activator=this.measure(i),e.activator.offsetLeft=i.offsetLeft,!1!==this.attach?e.activator.offsetTop=i.offsetTop:e.activator.offsetTop=0}this.sneakPeek((function(){t.$refs.content&&(e.content=t.measure(t.$refs.content)),t.dimensions=e}))}}}),A=h["a"].extend({name:"returnable",props:{returnValue:null},data:function(){return{isActive:!1,originalValue:null}},watch:{isActive:function(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save:function(t){var e=this;this.originalValue=t,setTimeout((function(){e.isActive=!1}))}}}),P=i("a236"),M=i("a293"),k=i("dc22"),L=Object(p["a"])(b["a"],d,w,C,A,P["a"],f["a"],l["a"]),I=L.extend({name:"v-menu",provide:function(){return{isInMenu:!0,theme:this.theme}},directives:{ClickOutside:M["a"],Resize:k["a"]},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data:function(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile:function(){return this.tiles[this.listIndex]},calculatedLeft:function(){var t=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(m["f"])(this.calcXOverflow(this.calcLeftAuto(),t))||"0":this.calcLeft(t)||"0"},calculatedMaxHeight:function(){var t=this.auto?"200px":Object(m["f"])(this.maxHeight);return t||"0"},calculatedMaxWidth:function(){return Object(m["f"])(this.maxWidth)||"0"},calculatedMinWidth:function(){if(this.minWidth)return Object(m["f"])(this.minWidth)||"0";var t=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return Object(m["f"])(Math.min(e,t))||"0"},calculatedTop:function(){var t=this.auto?Object(m["f"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return t||"0"},hasClickableTiles:function(){return Boolean(this.tiles.find((function(t){return t.tabIndex>-1})))},styles:function(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive:function(t){t||(this.listIndex=-1)},isContentActive:function(t){this.hasJustFocused=t},listIndex:function(t,e){if(t in this.tiles){var i=this.tiles[t];i.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=i.offsetTop-i.clientHeight}e in this.tiles&&this.tiles[e].classList.remove("v-list-item--highlighted")}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(g["e"])("full-width",this)},mounted:function(){this.isActive&&this.callActivate()},methods:{activate:function(){var t=this;this.updateDimensions(),requestAnimationFrame((function(){t.startTransition().then((function(){t.$refs.content&&(t.calculatedTopAuto=t.calcTopAuto(),t.auto&&(t.$refs.content.scrollTop=t.calcScrollPosition()))}))}))},calcScrollPosition:function(){var t=this.$refs.content,e=t.querySelector(".v-list-item--active"),i=t.scrollHeight-t.offsetHeight;return e?Math.min(i,Math.max(0,e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)):t.scrollTop},calcLeftAuto:function(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto:function(){var t=this.$refs.content,e=t.querySelector(".v-list-item--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);var i=e.offsetTop-this.calcScrollPosition(),n=t.querySelector(".v-list-item").offsetTop;return this.computedTop-i-n-1},changeListIndex:function(t){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(t.keyCode!==m["t"].tab){if(t.keyCode===m["t"].down)this.nextTile();else if(t.keyCode===m["t"].up)this.prevTile();else{if(t.keyCode!==m["t"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()}else this.isActive=!1},closeConditional:function(t){var e=t.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(e)},genActivatorAttributes:function(){var t=v.options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?Object(s["a"])(Object(s["a"])({},t),{},{"aria-activedescendant":this.activeTile.id}):t},genActivatorListeners:function(){var t=C.options.methods.genActivatorListeners.call(this);return this.disableKeys||(t.keydown=this.onKeyDown),t},genTransition:function(){var t=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[t]):t},genDirectives:function(){var t=this,e=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&e.push({name:"click-outside",value:{handler:function(){t.isActive=!1},closeConditional:this.closeConditional,include:function(){return[t.$el].concat(Object(a["a"])(t.getOpenDependentElements()))}}}),e},genContent:function(){var t=this,e={attrs:Object(s["a"])(Object(s["a"])({},this.getScopeIdAttrs()),{},{role:"role"in this.$attrs?this.$attrs.role:"menu"}),staticClass:"v-menu__content",class:Object(s["a"])(Object(s["a"])(Object(s["a"])({},this.rootThemeClasses),this.roundedClasses),{},Object(r["a"])({"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive},this.contentClass.trim(),!0)),style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function(e){var i=e.target;i.getAttribute("disabled")||t.closeOnContentClick&&(t.isActive=!1)},keydown:this.onKeyDown}};return!this.disabled&&this.openOnHover&&(e.on=e.on||{},e.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(e.on=e.on||{},e.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",e,this.getContentSlot())},getTiles:function(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item")))},mouseEnterHandler:function(){var t=this;this.runDelay("open",(function(){t.hasJustFocused||(t.hasJustFocused=!0,t.isActive=!0)}))},mouseLeaveHandler:function(t){var e=this;this.runDelay("close",(function(){e.$refs.content.contains(t.relatedTarget)||requestAnimationFrame((function(){e.isActive=!1,e.callDeactivate()}))}))},nextTile:function(){var t=this.tiles[this.listIndex+1];if(!t){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===t.tabIndex&&this.nextTile()},prevTile:function(){var t=this.tiles[this.listIndex-1];if(!t){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===t.tabIndex&&this.prevTile()},onKeyDown:function(t){var e=this;if(t.keyCode===m["t"].esc){setTimeout((function(){e.isActive=!1}));var i=this.getActivator();this.$nextTick((function(){return i&&i.focus()}))}else!this.isActive&&[m["t"].up,m["t"].down].includes(t.keyCode)&&(this.isActive=!0);this.$nextTick((function(){return e.changeListIndex(t)}))},onResize:function(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render:function(t){var e=this,i={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return t("div",i,[!this.activator&&this.genActivator(),this.showLazyContent((function(){return[e.$createElement(u,{props:{root:!0,light:e.light,dark:e.dark}},[e.genTransition()])]}))])}}),O=I,R=(i("a15b"),i("cf36"),i("5607")),N=i("132d"),D=i("a9ad"),B=i("d9f7"),F=h["a"].extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:R["a"]},props:Object(s["a"])(Object(s["a"])(Object(s["a"])({},D["a"].options.props),l["a"].options.props),{},{disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}}),render:function(t,e){var i=e.props,n=e.data,r=e.listeners,o=[];if(i.ripple&&!i.disabled){var a=t("div",D["a"].options.methods.setTextColor(i.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));o.push(a)}var l=i.offIcon;i.indeterminate?l=i.indeterminateIcon:i.value&&(l=i.onIcon),o.push(t(N["a"],D["a"].options.methods.setTextColor(i.value&&i.color,{props:{disabled:i.disabled,dark:i.dark,light:i.light}}),l));var u={"v-simple-checkbox":!0,"v-simple-checkbox--disabled":i.disabled};return t("div",Object(s["a"])(Object(s["a"])({},n),{},{class:u,on:Object(B["b"])({click:function(t){t.stopPropagation(),n.on&&n.on.input&&!i.disabled&&Object(m["A"])(n.on.input).forEach((function(t){return t(!i.value)}))}},r)}),o)}}),V=i("b810"),j=i("24e2"),U=i("da13"),G=i("1800"),W=i("5d23"),z=i("8860"),H=Object(p["a"])(D["a"],l["a"]).extend({name:"v-select-list",directives:{ripple:R["a"]},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:function(){return[]}}},computed:{parsedItems:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},tileActiveClass:function(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile:function(){var t={attrs:{role:void 0},on:{mousedown:function(t){return t.preventDefault()}}};return this.$createElement(U["a"],t,[this.genTileContent(this.noDataText)])}},methods:{genAction:function(t,e){var i=this;return this.$createElement(G["a"],[this.$createElement(F,{props:{color:this.color,value:e},on:{input:function(){return i.$emit("select",t)}}})])},genDivider:function(t){return this.$createElement(V["a"],{props:t})},genFilteredText:function(t){if(t=t||"",!this.searchInput||this.noFilter)return Object(m["j"])(t);var e=this.getMaskedCharacters(t),i=e.start,n=e.middle,r=e.end;return"".concat(Object(m["j"])(i)).concat(this.genHighlight(n)).concat(Object(m["j"])(r))},genHeader:function(t){return this.$createElement(j["a"],{props:t},t.header)},genHighlight:function(t){return'<span class="v-list-item__mask">'.concat(Object(m["j"])(t),"</span>")},getMaskedCharacters:function(t){var e=(this.searchInput||"").toString().toLocaleLowerCase(),i=t.toLocaleLowerCase().indexOf(e);if(i<0)return{start:"",middle:t,end:""};var n=t.slice(0,i),r=t.slice(i,i+e.length),s=t.slice(i+e.length);return{start:n,middle:r,end:s}},genTile:function(t){var e=this,i=t.item,n=t.index,r=t.disabled,o=void 0===r?null:r,a=t.value,l=void 0!==a&&a;l||(l=this.hasItem(i)),i===Object(i)&&(o=null!==o?o:this.getDisabled(i));var u={attrs:{"aria-selected":String(l),id:"list-item-".concat(this._uid,"-").concat(n),role:"option"},on:{mousedown:function(t){t.preventDefault()},click:function(){return o||e.$emit("select",i)}},props:{activeClass:this.tileActiveClass,disabled:o,ripple:!0,inputValue:l}};if(!this.$scopedSlots.item)return this.$createElement(U["a"],u,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(i,l):null,this.genTileContent(i,n)]);var c=this,h=this.$scopedSlots.item({parent:c,item:i,attrs:Object(s["a"])(Object(s["a"])({},u.attrs),u.props),on:u.on});return this.needsTile(h)?this.$createElement(U["a"],u,h):h},genTileContent:function(t){var e=this.genFilteredText(this.getText(t));return this.$createElement(W["a"],[this.$createElement(W["b"],{domProps:{innerHTML:e}})])},hasItem:function(t){return this.parsedItems.indexOf(this.getValue(t))>-1},needsTile:function(t){return 1!==t.length||null==t[0].componentOptions||"v-list-item"!==t[0].componentOptions.Ctor.options.name},getDisabled:function(t){return Boolean(Object(m["n"])(t,this.itemDisabled,!1))},getText:function(t){return String(Object(m["n"])(t,this.itemText,t))},getValue:function(t){return Object(m["n"])(t,this.itemValue,this.getText(t))}},render:function(){for(var t=[],e=this.items.length,i=0;i<e;i++){var n=this.items[i];this.hideSelected&&this.hasItem(n)||(null==n?t.push(this.genTile({item:n,index:i})):n.header?t.push(this.genHeader(n)):n.divider?t.push(this.genDivider(n)):t.push(this.genTile({item:n,index:i})))}return t.length||t.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&t.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&t.push(this.$slots["append-item"]),this.$createElement(z["a"],{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},t)}}),q=i("c37a"),$=i("8654"),Y=i("8547"),X=h["a"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}}),K={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},Q=Object(p["a"])($["a"],Y["a"],X);e["a"]=Q.extend().extend({name:"v-select",directives:{ClickOutside:M["a"]},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:function(){return K}},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data:function(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems:function(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes:function(){return Object(s["a"])(Object(s["a"])({},$["a"].options.computed.classes.call(this)),{},{"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple})},computedItems:function(){return this.allItems},computedOwns:function(){return"list-".concat(this._uid)},computedCounterValue:function(){return this.multiple?this.selectedItems.length:(this.getText(this.selectedItems[0])||"").toString().length},directives:function(){return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional}}]:void 0},dynamicHeight:function(){return"auto"},hasChips:function(){return this.chips||this.smallChips},hasSlot:function(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty:function(){return this.selectedItems.length>0},listData:function(){var t=this.$vnode&&this.$vnode.context.$options._scopeId,e=t?Object(r["a"])({},t,!0):{};return{attrs:Object(s["a"])(Object(s["a"])({},e),{},{id:this.computedOwns}),props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList:function(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(g["b"])("assert: staticList should not be called if slots are used"),this.$createElement(H,this.listData)},virtualizedItems:function(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:function(){return!0},$_menuProps:function(){var t="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(t)&&(t=t.reduce((function(t,e){return t[e.trim()]=!0,t}),{})),Object(s["a"])(Object(s["a"])({},K),{},{eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:t.offsetY?1:0},t)}},watch:{internalValue:function(t){this.initialValue=t,this.setSelectedItems()},menuIsBooted:function(){var t=this;window.setTimeout((function(){t.getContent()&&t.getContent().addEventListener&&t.getContent().addEventListener("scroll",t.onScroll,!1)}))},isMenuActive:function(t){var e=this;window.setTimeout((function(){return e.onMenuActiveChange(t)})),t&&(this.menuIsBooted=!0)},items:{immediate:!0,handler:function(t){var e=this;this.cacheItems&&this.$nextTick((function(){e.cachedItems=e.filterDuplicates(e.cachedItems.concat(t))})),this.setSelectedItems()}}},methods:{blur:function(t){$["a"].options.methods.blur.call(this,t),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1},activateMenu:function(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback:function(){var t=this;this.setValue(this.multiple?[]:void 0),this.setMenuIndex(-1),this.$nextTick((function(){return t.$refs.input&&t.$refs.input.focus()})),this.openOnClear&&(this.isMenuActive=!0)},closeConditional:function(t){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(t.target))&&this.$el&&!this.$el.contains(t.target)&&t.target!==this.$el},filterDuplicates:function(t){for(var e=new Map,i=0;i<t.length;++i){var n=t[i],r=this.getValue(n);!e.has(r)&&e.set(r,n)}return Array.from(e.values())},findExistingIndex:function(t){var e=this,i=this.getValue(t);return(this.internalValue||[]).findIndex((function(t){return e.valueComparator(e.getValue(t),i)}))},getContent:function(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection:function(t,e){var i=this,n=!this.isInteractive||this.getDisabled(t);return this.$createElement(o["a"],{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&!n,disabled:n,inputValue:e===this.selectedIndex,small:this.smallChips},on:{click:function(t){n||(t.stopPropagation(),i.selectedIndex=e)},"click:close":function(){return i.onChipInput(t)}},key:JSON.stringify(this.getValue(t))},this.getText(t))},genCommaSelection:function(t,e,i){var n=e===this.selectedIndex&&this.computedColor,r=!this.isInteractive||this.getDisabled(t);return this.$createElement("div",this.setTextColor(n,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":r},key:JSON.stringify(this.getValue(t))}),"".concat(this.getText(t)).concat(i?"":", "))},genDefaultSlot:function(){var t=this.genSelections(),e=this.genInput();return Array.isArray(t)?t.push(e):(t.children=t.children||[],t.children.push(e)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,t,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon:function(t,e,i){var n=q["a"].options.methods.genIcon.call(this,t,e,i);return"append"===t&&(n.children[0].data=Object(B["a"])(n.children[0].data,{attrs:{tabindex:n.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),n},genInput:function(){var t=$["a"].options.methods.genInput.call(this);return delete t.data.attrs.name,t.data=Object(B["a"])(t.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":Object(m["m"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(m["m"])(t.data,"attrs.autocomplete","off")},on:{keypress:this.onKeyPress}}),t},genHiddenInput:function(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot:function(){var t=$["a"].options.methods.genInputSlot.call(this);return t.data.attrs=Object(s["a"])(Object(s["a"])({},t.data.attrs),{},{role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns}),t},genList:function(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot:function(){var t=this,e=["prepend-item","no-data","append-item"].filter((function(e){return t.$slots[e]})).map((function(e){return t.$createElement("template",{slot:e},t.$slots[e])}));return this.$createElement(H,Object(s["a"])({},this.listData),e)},genMenu:function(){var t=this,e=this.$_menuProps;return e.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?e.attach=this.$el:e.attach=this.attach,this.$createElement(O,{attrs:{role:void 0},props:e,on:{input:function(e){t.isMenuActive=e,t.isFocused=e}},ref:"menu"},[this.genList()])},genSelections:function(){var t,e=this.selectedItems.length,i=new Array(e);t=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(e--)i[e]=t(this.selectedItems[e],e,e===i.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},i)},genSlotSelection:function(t,e){var i=this;return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:t,index:e,select:function(t){t.stopPropagation(),i.selectedIndex=e},selected:e===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex:function(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled:function(t){return Object(m["n"])(t,this.itemDisabled,!1)},getText:function(t){return Object(m["n"])(t,this.itemText,t)},getValue:function(t){return Object(m["n"])(t,this.itemValue,this.getText(t))},onBlur:function(t){t&&this.$emit("blur",t)},onChipInput:function(t){this.multiple?this.selectItem(t):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick:function(t){this.isInteractive&&(this.isAppendInner(t.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",t))},onEscDown:function(t){t.preventDefault(),this.isMenuActive&&(t.stopPropagation(),this.isMenuActive=!1)},onKeyPress:function(t){var e=this;if(!this.multiple&&this.isInteractive&&!this.disableLookup){var i=1e3,n=performance.now();n-this.keyboardLookupLastTime>i&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=t.key.toLowerCase(),this.keyboardLookupLastTime=n;var r=this.allItems.findIndex((function(t){var i=(e.getText(t)||"").toString();return i.toLowerCase().startsWith(e.keyboardLookupPrefix)})),s=this.allItems[r];-1!==r&&(this.lastItem=Math.max(this.lastItem,r+5),this.setValue(this.returnObject?s:this.getValue(s)),this.$nextTick((function(){return e.$refs.menu.getTiles()})),setTimeout((function(){return e.setMenuIndex(r)})))}},onKeyDown:function(t){var e=this;if(!this.isReadonly||t.keyCode===m["t"].tab){var i=t.keyCode,n=this.$refs.menu;if([m["t"].enter,m["t"].space].includes(i)&&this.activateMenu(),this.$emit("keydown",t),n)return this.isMenuActive&&i!==m["t"].tab&&this.$nextTick((function(){n.changeListIndex(t),e.$emit("update:list-index",n.listIndex)})),!this.isMenuActive&&[m["t"].up,m["t"].down].includes(i)?this.onUpDown(t):i===m["t"].esc?this.onEscDown(t):i===m["t"].tab?this.onTabDown(t):i===m["t"].space?this.onSpaceDown(t):void 0}},onMenuActiveChange:function(t){if(!(this.multiple&&!t||this.getMenuIndex()>-1)){var e=this.$refs.menu;if(e&&this.isDirty)for(var i=0;i<e.tiles.length;i++)if("true"===e.tiles[i].getAttribute("aria-selected")){this.setMenuIndex(i);break}}},onMouseUp:function(t){var e=this;this.hasMouseDown&&3!==t.which&&this.isInteractive&&(this.isAppendInner(t.target)?this.$nextTick((function(){return e.isMenuActive=!e.isMenuActive})):this.isEnclosed&&(this.isMenuActive=!0)),$["a"].options.methods.onMouseUp.call(this,t)},onScroll:function(){var t=this;if(this.isMenuActive){if(this.lastItem>=this.computedItems.length)return;var e=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;e&&(this.lastItem+=20)}else requestAnimationFrame((function(){return t.getContent().scrollTop=0}))},onSpaceDown:function(t){t.preventDefault()},onTabDown:function(t){var e=this.$refs.menu;if(e){var i=e.activeTile;!this.multiple&&i&&this.isMenuActive?(t.preventDefault(),t.stopPropagation(),i.click()):this.blur(t)}},onUpDown:function(t){var e=this.$refs.menu;if(e){if(t.preventDefault(),this.multiple)return this.activateMenu();var i=t.keyCode;e.isBooted=!0,window.requestAnimationFrame((function(){e.getTiles(),m["t"].up===i?e.prevTile():e.nextTile(),e.activeTile&&e.activeTile.click()}))}},selectItem:function(t){var e=this;if(this.multiple){var i=(this.internalValue||[]).slice(),n=this.findExistingIndex(t);if(-1!==n?i.splice(n,1):i.push(t),this.setValue(i.map((function(t){return e.returnObject?t:e.getValue(t)}))),this.$nextTick((function(){e.$refs.menu&&e.$refs.menu.updateDimensions()})),!this.multiple)return;var r=this.getMenuIndex();if(this.setMenuIndex(-1),this.hideSelected)return;this.$nextTick((function(){return e.setMenuIndex(r)}))}else this.setValue(this.returnObject?t:this.getValue(t)),this.isMenuActive=!1},setMenuIndex:function(t){this.$refs.menu&&(this.$refs.menu.listIndex=t)},setSelectedItems:function(){var t,e=this,i=[],r=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue],s=Object(n["a"])(r);try{var o=function(){var n=t.value,r=e.allItems.findIndex((function(t){return e.valueComparator(e.getValue(t),e.getValue(n))}));r>-1&&i.push(e.allItems[r])};for(s.s();!(t=s.n()).done;)o()}catch(a){s.e(a)}finally{s.f()}this.selectedItems=i},setValue:function(t){var e=this.internalValue;this.internalValue=t,t!==e&&this.$emit("change",t)},isAppendInner:function(t){var e=this.$refs["append-inner"];return e&&(e===t||e.contains(t))}}})},ba0d:function(t,e,i){"use strict";i("99af"),i("caad"),i("c975"),i("d81d"),i("a9e3"),i("b680"),i("d3b7"),i("25f0"),i("2532"),i("498a");var n=i("ade3"),r=i("5530"),s=(i("9e29"),i("c37a")),o=i("0789"),a=i("58df"),l=i("297c"),u=i("a293"),c=i("80d2"),h=i("d9bd");e["a"]=Object(a["a"])(s["a"],l["a"]).extend({name:"v-slider",directives:{ClickOutside:u["a"]},mixins:[l["a"]],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:function(t){return"boolean"===typeof t||"always"===t}},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:function(){return[]}},ticks:{type:[Boolean,String],default:!1,validator:function(t){return"boolean"===typeof t||"always"===t}},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:function(){return{app:null,oldValue:null,keyPressed:0,isFocused:!1,isActive:!1,noClick:!1}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel})},internalValue:{get:function(){return this.lazyValue},set:function(t){t=isNaN(t)?this.minValue:t;var e=this.roundValue(Math.min(Math.max(t,this.minValue),this.maxValue));e!==this.lazyValue&&(this.lazyValue=e,this.$emit("input",e))}},trackTransition:function(){return this.keyPressed>=2?"none":""},minValue:function(){return parseFloat(this.min)},maxValue:function(){return parseFloat(this.max)},stepNumeric:function(){return this.step>0?parseFloat(this.step):0},inputWidth:function(){var t=(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100;return t},trackFillStyles:function(){var t,e=this.vertical?"bottom":"left",i=this.vertical?"top":"right",r=this.vertical?"height":"width",s=this.$vuetify.rtl?"auto":"0",o=this.$vuetify.rtl?"0":"auto",a=this.isDisabled?"calc(".concat(this.inputWidth,"% - 10px)"):"".concat(this.inputWidth,"%");return t={transition:this.trackTransition},Object(n["a"])(t,e,s),Object(n["a"])(t,i,o),Object(n["a"])(t,r,a),t},trackStyles:function(){var t,e=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",i=this.vertical?"height":"width",r="0px",s=this.isDisabled?"calc(".concat(100-this.inputWidth,"% - 10px)"):"calc(".concat(100-this.inputWidth,"%)");return t={transition:this.trackTransition},Object(n["a"])(t,e,r),Object(n["a"])(t,i,s),t},showTicks:function(){return this.tickLabels.length>0||!(this.isDisabled||!this.stepNumeric||!this.ticks)},numTicks:function(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel:function(){return!this.isDisabled&&!(!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor:function(){if(!this.isDisabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor:function(){if(!this.isDisabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor:function(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min:function(t){var e=parseFloat(t);e>this.internalValue&&this.$emit("input",e)},max:function(t){var e=parseFloat(t);e<this.internalValue&&this.$emit("input",e)},value:{handler:function(t){this.internalValue=t}}},beforeMount:function(){this.internalValue=this.value},mounted:function(){this.app=document.querySelector("[data-app]")||Object(h["c"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot:function(){var t=[this.genLabel()],e=this.genSlider();return this.inverseLabel?t.unshift(e):t.push(e),t.push(this.genProgress()),t},genSlider:function(){return this.$createElement("div",{class:Object(r["a"])({"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.isDisabled,"v-slider--readonly":this.isReadonly},this.themeClasses),directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick}},this.genChildren())},genChildren:function(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onThumbMouseDown,this.onFocus,this.onBlur)]},genInput:function(){return this.$createElement("input",{attrs:Object(r["a"])({value:this.internalValue,id:this.computedId,disabled:this.isDisabled,readonly:!0,tabindex:-1},this.$attrs)})},genTrackContainer:function(){var t=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},t)},genSteps:function(){var t=this;if(!this.step||!this.showTicks)return null;var e=parseFloat(this.tickSize),i=Object(c["g"])(this.numTicks+1),r=this.vertical?"bottom":this.$vuetify.rtl?"right":"left",s=this.vertical?this.$vuetify.rtl?"left":"right":"top";this.vertical&&i.reverse();var o=i.map((function(i){var o,a=[];t.tickLabels[i]&&a.push(t.$createElement("div",{staticClass:"v-slider__tick-label"},t.tickLabels[i]));var l=i*(100/t.numTicks),u=t.$vuetify.rtl?100-t.inputWidth<l:l<t.inputWidth;return t.$createElement("span",{key:i,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":u},style:(o={width:"".concat(e,"px"),height:"".concat(e,"px")},Object(n["a"])(o,r,"calc(".concat(l,"% - ").concat(e/2,"px)")),Object(n["a"])(o,s,"calc(50% - ".concat(e/2,"px)")),o)},a)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},o)},genThumbContainer:function(t,e,i,n,s,o,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"thumb",u=[this.genThumb()],c=this.genThumbLabelContent(t);return this.showThumbLabel&&u.push(this.genThumbLabel(c)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:l,key:l,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":i,"v-slider__thumb-container--focused":n,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(e),attrs:Object(r["a"])({role:"slider",tabindex:this.isDisabled?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.isReadonly),"aria-orientation":this.vertical?"vertical":"horizontal"},this.$attrs),on:{focus:o,blur:a,keydown:this.onKeyDown,keyup:this.onKeyUp,touchstart:s,mousedown:s}}),u)},genThumbLabelContent:function(t){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:t}):[this.$createElement("span",[String(t)])]},genThumbLabel:function(t){var e=Object(c["f"])(this.thumbSize),i=this.vertical?"translateY(20%) translateY(".concat(Number(this.thumbSize)/3-1,"px) translateX(55%) rotate(135deg)"):"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(o["e"],{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:e,width:e,transform:i}}),[this.$createElement("div",t)])])])},genThumb:function(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles:function(t){var e=this.vertical?"top":"left",i=this.$vuetify.rtl?100-t:t;return i=this.vertical?100-i:i,Object(n["a"])({transition:this.trackTransition},e,"".concat(i,"%"))},onThumbMouseDown:function(t){t.preventDefault(),this.oldValue=this.internalValue,this.keyPressed=2,this.isActive=!0;var e=!c["x"]||{passive:!0,capture:!0},i=!!c["x"]&&{passive:!0};"touches"in t?(this.app.addEventListener("touchmove",this.onMouseMove,i),Object(c["a"])(this.app,"touchend",this.onSliderMouseUp,e)):(this.app.addEventListener("mousemove",this.onMouseMove,i),Object(c["a"])(this.app,"mouseup",this.onSliderMouseUp,e)),this.$emit("start",this.internalValue)},onSliderMouseUp:function(t){t.stopPropagation(),this.keyPressed=0;var e=!!c["x"]&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,e),this.app.removeEventListener("mousemove",this.onMouseMove,e),this.$emit("mouseup",t),this.$emit("end",this.internalValue),Object(c["i"])(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove:function(t){var e=this.parseMouseMove(t),i=e.value;this.internalValue=i},onKeyDown:function(t){if(this.isInteractive){var e=this.parseKeyDown(t,this.internalValue);null==e||e<this.minValue||e>this.maxValue||(this.internalValue=e,this.$emit("change",e))}},onKeyUp:function(){this.keyPressed=0},onSliderClick:function(t){if(this.noClick)this.noClick=!1;else{var e=this.$refs.thumb;e.focus(),this.onMouseMove(t),this.$emit("change",this.internalValue)}},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},parseMouseMove:function(t){var e=this.vertical?"top":"left",i=this.vertical?"height":"width",n=this.vertical?"clientY":"clientX",r=this.$refs.track.getBoundingClientRect(),s=r[e],o=r[i],a="touches"in t?t.touches[0][n]:t[n],l=Math.min(Math.max((a-s)/o,0),1)||0;this.vertical&&(l=1-l),this.$vuetify.rtl&&(l=1-l);var u=a>=s&&a<=s+o,c=parseFloat(this.min)+l*(this.maxValue-this.minValue);return{value:c,isInsideTrack:u}},parseKeyDown:function(t,e){if(this.isInteractive){var i=c["t"].pageup,n=c["t"].pagedown,r=c["t"].end,s=c["t"].home,o=c["t"].left,a=c["t"].right,l=c["t"].down,u=c["t"].up;if([i,n,r,s,o,a,l,u].includes(t.keyCode)){t.preventDefault();var h=this.stepNumeric||1,d=(this.maxValue-this.minValue)/h;if([o,a,l,u].includes(t.keyCode)){this.keyPressed+=1;var f=this.$vuetify.rtl?[o,u]:[a,u],p=f.includes(t.keyCode)?1:-1,m=t.shiftKey?3:t.ctrlKey?2:1;e+=p*h*m}else if(t.keyCode===s)e=this.minValue;else if(t.keyCode===r)e=this.maxValue;else{var g=t.keyCode===n?1:-1;e-=g*h*(d>100?d/10:10)}return e}}},roundValue:function(t){if(!this.stepNumeric)return t;var e=this.step.toString().trim(),i=e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0,n=this.minValue%this.stepNumeric,r=Math.round((t-n)/this.stepNumeric)*this.stepNumeric+n;return parseFloat(Math.min(r,this.maxValue).toFixed(i))}}})},ba87:function(t,e,i){"use strict";i("a9e3");var n=i("5530"),r=(i("1b2c"),i("a9ad")),s=i("7560"),o=i("58df"),a=i("80d2"),l=Object(o["a"])(s["a"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render:function(t,e){var i=e.children,o=e.listeners,l=e.props,u={staticClass:"v-label",class:Object(n["a"])({"v-label--active":l.value,"v-label--is-disabled":l.disabled},Object(s["b"])(e)),attrs:{for:l.for,"aria-hidden":!l.for},on:o,style:{left:Object(a["f"])(l.left),right:Object(a["f"])(l.right),position:l.absolute?"absolute":"relative"},ref:"label"};return t("label",r["a"].options.methods.setTextColor(l.focused&&l.color,u),i)}});e["a"]=l},bb2f:function(t,e,i){var n=i("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bc3a:function(t,e,i){t.exports=i("cee4")},bd0c:function(t,e,i){},be09:function(t,e,i){(function(e){var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=i}).call(this,i("c8ba"))},c04e:function(t,e,i){var n=i("861d");t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},c345:function(t,e,i){"use strict";var n=i("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,s,o={};return t?(n.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=n.trim(t.substr(0,s)).toLowerCase(),i=n.trim(t.substr(s+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}})),o):o}},c37a:function(t,e,i){"use strict";i("99af"),i("4de4"),i("d81d"),i("a9e3"),i("ac1f"),i("1276");var n=i("5530"),r=(i("d191"),i("9d26")),s=i("ba87"),o=(i("8ff2"),i("a9ad")),a=i("7560"),l=i("58df"),u=i("80d2"),c=Object(l["a"])(o["a"],a["a"]).extend({name:"v-messages",props:{value:{type:Array,default:function(){return[]}}},methods:{genChildren:function(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage:function(t,e){return this.$createElement("div",{staticClass:"v-messages__message",key:e},Object(u["o"])(this,"default",{message:t,key:e})||[t])}},render:function(t){return t("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}}),h=c,d=i("7e2b"),f=i("38cb"),p=i("d9f7"),m=Object(l["a"])(d["a"],f["a"]),g=m.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data:function(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes:function(){return Object(n["a"])({"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.isDisabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.isReadonly,"v-input--dense":this.dense},this.themeClasses)},computedId:function(){return this.id||"input-".concat(this._uid)},hasDetails:function(){return this.messagesToDisplay.length>0},hasHint:function(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel:function(){return!(!this.$slots.label&&!this.label)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty:function(){return!!this.lazyValue},isLabelActive:function(){return this.isDirty},messagesToDisplay:function(){var t=this;return this.hasHint?[this.hint]:this.hasMessages?this.validations.map((function(e){if("string"===typeof e)return e;var i=e(t.internalValue);return"string"===typeof i?i:""})).filter((function(t){return""!==t})):[]},showDetails:function(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value:function(t){this.lazyValue=t}},beforeCreate:function(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent:function(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl:function(){return this.$createElement("div",{staticClass:"v-input__control"},[this.genInputSlot(),this.genMessages()])},genDefaultSlot:function(){return[this.genLabel(),this.$slots.default]},genIcon:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this["".concat(t,"Icon")],o="click:".concat(Object(u["s"])(t)),a=!(!this.listeners$[o]&&!e),l=Object(p["a"])({attrs:{"aria-label":a?Object(u["s"])(t).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,light:this.light},on:a?{click:function(t){t.preventDefault(),t.stopPropagation(),i.$emit(o,t),e&&e(t)},mouseup:function(t){t.preventDefault(),t.stopPropagation()}}:void 0},n);return this.$createElement("div",{staticClass:"v-input__icon",class:t?"v-input__icon--".concat(Object(u["s"])(t)):void 0},[this.$createElement(r["a"],l,s)])},genInputSlot:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(u["f"])(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel:function(){return this.hasLabel?this.$createElement(s["a"],{props:{color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages:function(){var t=this;return this.showDetails?this.$createElement(h,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:function(e){return Object(u["o"])(t,"message",e)}}}):null},genSlot:function(t,e,i){if(!i.length)return null;var n="".concat(t,"-").concat(e);return this.$createElement("div",{staticClass:"v-input__".concat(n),ref:n},i)},genPrependSlot:function(){var t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon("prepend")),this.genSlot("prepend","outer",t)},genAppendSlot:function(){var t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","outer",t)},onClick:function(t){this.$emit("click",t)},onMouseDown:function(t){this.hasMouseDown=!0,this.$emit("mousedown",t)},onMouseUp:function(t){this.hasMouseDown=!1,this.$emit("mouseup",t)}},render:function(t){return t("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}});e["a"]=g},c3f0:function(t,e,i){"use strict";i("4160"),i("159b");var n=i("80d2"),r=function(t){var e=t.touchstartX,i=t.touchendX,n=t.touchstartY,r=t.touchendY,s=.5,o=16;t.offsetX=i-e,t.offsetY=r-n,Math.abs(t.offsetY)<s*Math.abs(t.offsetX)&&(t.left&&i<e-o&&t.left(t),t.right&&i>e+o&&t.right(t)),Math.abs(t.offsetX)<s*Math.abs(t.offsetY)&&(t.up&&r<n-o&&t.up(t),t.down&&r>n+o&&t.down(t))};function s(t,e){var i=t.changedTouches[0];e.touchstartX=i.clientX,e.touchstartY=i.clientY,e.start&&e.start(Object.assign(t,e))}function o(t,e){var i=t.changedTouches[0];e.touchendX=i.clientX,e.touchendY=i.clientY,e.end&&e.end(Object.assign(t,e)),r(e)}function a(t,e){var i=t.changedTouches[0];e.touchmoveX=i.clientX,e.touchmoveY=i.clientY,e.move&&e.move(Object.assign(t,e))}function l(t){var e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:function(t){return s(t,e)},touchend:function(t){return o(t,e)},touchmove:function(t){return a(t,e)}}}function u(t,e,i){var r=e.value,s=r.parent?t.parentElement:t,o=r.options||{passive:!0};if(s){var a=l(e.value);s._touchHandlers=Object(s._touchHandlers),s._touchHandlers[i.context._uid]=a,Object(n["u"])(a).forEach((function(t){s.addEventListener(t,a[t],o)}))}}function c(t,e,i){var r=e.value.parent?t.parentElement:t;if(r&&r._touchHandlers){var s=r._touchHandlers[i.context._uid];Object(n["u"])(s).forEach((function(t){r.removeEventListener(t,s[t])})),delete r._touchHandlers[i.context._uid]}}var h={inserted:u,unbind:c};e["a"]=h},c401:function(t,e,i){"use strict";var n=i("c532");t.exports=function(t,e,i){return n.forEach(i,(function(i){t=i(t,e)})),t}},c430:function(t,e){t.exports=!1},c532:function(t,e,i){"use strict";var n=i("1d2b"),r=Object.prototype.toString;function s(t){return"[object Array]"===r.call(t)}function o(t){return"undefined"===typeof t}function a(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function l(t){return"[object ArrayBuffer]"===r.call(t)}function u(t){return"undefined"!==typeof FormData&&t instanceof FormData}function c(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function h(t){return"string"===typeof t}function d(t){return"number"===typeof t}function f(t){return null!==t&&"object"===typeof t}function p(t){return"[object Date]"===r.call(t)}function m(t){return"[object File]"===r.call(t)}function g(t){return"[object Blob]"===r.call(t)}function y(t){return"[object Function]"===r.call(t)}function v(t){return f(t)&&y(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function _(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function S(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function w(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),s(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function T(){var t={};function e(e,i){"object"===typeof t[i]&&"object"===typeof e?t[i]=T(t[i],e):t[i]=e}for(var i=0,n=arguments.length;i<n;i++)w(arguments[i],e);return t}function x(){var t={};function e(e,i){"object"===typeof t[i]&&"object"===typeof e?t[i]=x(t[i],e):t[i]="object"===typeof e?x({},e):e}for(var i=0,n=arguments.length;i<n;i++)w(arguments[i],e);return t}function E(t,e,i){return w(e,(function(e,r){t[r]=i&&"function"===typeof e?n(e,i):e})),t}t.exports={isArray:s,isArrayBuffer:l,isBuffer:a,isFormData:u,isArrayBufferView:c,isString:h,isNumber:d,isObject:f,isUndefined:o,isDate:p,isFile:m,isBlob:g,isFunction:y,isStream:v,isURLSearchParams:b,isStandardBrowserEnv:S,forEach:w,merge:T,deepMerge:x,extend:E,trim:_}},c6a6:function(t,e,i){"use strict";i("4de4"),i("7db0"),i("c975"),i("d81d"),i("45fc"),i("498a");var n=i("5530"),r=(i("2bfd"),i("b974")),s=i("8654"),o=i("d9f7"),a=i("80d2"),l=Object(n["a"])(Object(n["a"])({},r["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e["a"]=r["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,i){return i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:r["a"].options.props.menuProps.type,default:function(){return l}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var i=Object(a["n"])(e,t.itemText),n=null!=i?String(i):"";return t.filter(e,String(t.internalSearch),n)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=r["a"].options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),Object(n["a"])(Object(n["a"])({},l),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=r["a"].options.computed.listData.call(this);return t.props=Object(n["a"])(Object(n["a"])({},t.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=void 0)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},methods:{onFilteredItemsChanged:function(t,e){var i=this;t!==e&&(this.setMenuIndex(-1),this.$nextTick((function(){i.internalSearch&&(1===t.length||i.autoSelectFirst)&&(i.$refs.menu.getTiles(),i.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===a["t"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===a["t"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==a["t"].backspace&&t!==a["t"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var i=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===i){var n=this.selectedItems.length,r=t!==n-1?t:t-1,s=this.selectedItems[r];s?this.selectItem(e):this.setValue(this.multiple?[]:void 0),this.selectedIndex=r}else this.selectedIndex=i}},clearableCallback:function(){this.internalSearch=void 0,r["a"].options.methods.clearableCallback.call(this)},genInput:function(){var t=s["a"].options.methods.genInput.call(this);return t.data=Object(o["a"])(t.data,{attrs:{"aria-activedescendant":Object(a["m"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(a["m"])(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot:function(){var t=r["a"].options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections:function(){return this.hasSlot||this.multiple?r["a"].options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,i=e.value;e.value&&this.activateMenu(),this.internalSearch=i,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;r["a"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){r["a"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){r["a"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){r["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){if(-1!==this.selectedIndex){var e=this.selectedItems[this.selectedIndex],i=this.getText(e);t.clipboardData.setData("text/plain",i),t.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",i),t.preventDefault()}}}})},c6b6:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},c6cd:function(t,e,i){var n=i("da84"),r=i("ce4e"),s="__core-js_shared__",o=n[s]||r(s,{});t.exports=o},c740:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").findIndex,s=i("44d2"),o=i("ae40"),a="findIndex",l=!0,u=o(a);a in[]&&Array(1)[a]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!u},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(a)},c7cd:function(t,e,i){"use strict";var n=i("23e7"),r=i("857a"),s=i("af03");n({target:"String",proto:!0,forced:s("fixed")},{fixed:function(){return r(this,"tt","","")}})},c865:function(t,e,i){"use strict";var n=i("5530"),r=i("0789"),s=i("9d26"),o=i("a9ad"),a=i("3206"),l=i("5607"),u=i("80d2"),c=i("58df"),h=Object(c["a"])(o["a"],Object(a["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));e["a"]=h.extend().extend({name:"v-expansion-panel-header",directives:{ripple:l["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(u["o"])(this,"actions")||[this.$createElement(s["a"],this.expandIcon)];return this.$createElement(r["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button"},directives:[{name:"ripple",value:this.ripple}],on:Object(n["a"])(Object(n["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})}),[Object(u["o"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},c8af:function(t,e,i){"use strict";var n=i("c532");t.exports=function(t,e){n.forEach(t,(function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])}))}},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},c8d2:function(t,e,i){var n=i("d039"),r=i("5899"),s="​᠎";t.exports=function(t){return n((function(){return!!r[t]()||s[t]()!=s||r[t].name!==t}))}},c96a:function(t,e,i){"use strict";var n=i("23e7"),r=i("857a"),s=i("af03");n({target:"String",proto:!0,forced:s("small")},{small:function(){return r(this,"small","","")}})},c975:function(t,e,i){"use strict";var n=i("23e7"),r=i("4d64").indexOf,s=i("a640"),o=i("ae40"),a=[].indexOf,l=!!a&&1/[1].indexOf(1,-0)<0,u=s("indexOf"),c=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(t){return l?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},ca84:function(t,e,i){var n=i("5135"),r=i("fc6a"),s=i("4d64").indexOf,o=i("d012");t.exports=function(t,e){var i,a=r(t),l=0,u=[];for(i in a)!n(o,i)&&n(a,i)&&u.push(i);while(e.length>l)n(a,i=e[l++])&&(~s(u,i)||u.push(i));return u}},caad:function(t,e,i){"use strict";var n=i("23e7"),r=i("4d64").includes,s=i("44d2"),o=i("ae40"),a=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!a},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cb29:function(t,e,i){var n=i("23e7"),r=i("81d5"),s=i("44d2");n({target:"Array",proto:!0},{fill:r}),s("fill")},cc12:function(t,e,i){var n=i("da84"),r=i("861d"),s=n.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},cc20:function(t,e,i){"use strict";i("4de4"),i("4160");var n=i("3835"),r=i("5530"),s=(i("8adc"),i("58df")),o=i("0789"),a=i("9d26"),l=i("a9ad"),u=i("4e82"),c=i("7560"),h=i("f2e7"),d=i("1c87"),f=i("af2b"),p=i("d9bd");e["a"]=Object(s["a"])(l["a"],f["a"],d["a"],c["a"],Object(u["a"])("chipGroup"),Object(h["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({"v-chip":!0},d["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(d["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var t=this,e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((function(e){var i=Object(n["a"])(e,2),r=i[0],s=i[1];t.$attrs.hasOwnProperty(r)&&Object(p["a"])(r,s,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(a["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(o["b"],t)},genClose:function(){var t=this;return this.$createElement(a["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],i=this.generateRouteLink(),n=i.tag,s=i.data;s.attrs=Object(r["a"])(Object(r["a"])({},s.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex}),s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);var o=this.textColor||this.outlined&&this.color;return t(n,this.setTextColor(o,s),e)}})},cca6:function(t,e,i){var n=i("23e7"),r=i("60da");n({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},cd55:function(t,e,i){"use strict";var n=i("5530"),r=i("4e82"),s=i("3206"),o=i("80d2"),a=i("58df");e["a"]=Object(a["a"])(Object(r["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(s["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(n["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(o["o"])(this))}})},cdf9:function(t,e,i){var n=i("825a"),r=i("861d"),s=i("f069");t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=s.f(t),o=i.resolve;return o(e),i.promise}},ce4e:function(t,e,i){var n=i("da84"),r=i("9112");t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},ce7e:function(t,e,i){"use strict";var n=i("5530"),r=(i("8ce9"),i("7560"));e["a"]=r["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:Object(n["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(n["a"])({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})},cee4:function(t,e,i){"use strict";var n=i("c532"),r=i("1d2b"),s=i("0a06"),o=i("4a7b"),a=i("2444");function l(t){var e=new s(t),i=r(s.prototype.request,e);return n.extend(i,s.prototype,e),n.extend(i,e),i}var u=l(a);u.Axios=s,u.create=function(t){return l(o(u.defaults,t))},u.Cancel=i("7a77"),u.CancelToken=i("8df4"),u.isCancel=i("2e67"),u.all=function(t){return Promise.all(t)},u.spread=i("0df6"),t.exports=u,t.exports.default=u},cf36:function(t,e,i){},d012:function(t,e){t.exports={}},d02c:function(t,e,i){var n=i("ef34"),r=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function s(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function o(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function a(){this.values=r(null)}function l(t,e,i,n){var r=n?t.split(n):[t];for(var s in r)if("string"===typeof r[s]){var o=r[s].split(i);if(2===o.length){var a=o[0],l=o[1];e(a,l)}}}function u(t,e,i){var n=t;function r(){var e=o(t);if(null===e)throw new s(s.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function u(t,e){var n=new a;l(t,(function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),o=s[0];n.integer(t,o),n.percent(t,o)&&n.set("snapToLines",!1),n.alt(t,o,["auto"]),2===s.length&&n.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=e.split(","),n.percent(t,s[0]),2===s.length&&n.alt("positionAlign",s[1],["start","center","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","center","end","left","right"]);break}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");try{e.line=n.get("line","auto")}catch(r){}e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100);try{e.align=n.get("align","center")}catch(r){e.align=n.get("align","middle")}try{e.position=n.get("position","auto")}catch(r){e.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}function c(){t=t.replace(/^\s+/,"")}if(c(),e.startTime=r(),c(),"--\x3e"!==t.substr(0,3))throw new s(s.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),c(),e.endTime=r(),c(),u(t,e)}s.prototype=r(Error.prototype),s.prototype.constructor=s,s.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var c=n.createElement("textarea"),h={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},p={rt:"ruby"};function m(t,e){function i(){if(!e)return null;function t(t){return e=e.substr(t.length),t}var i=e.match(/^([^<]*)(<[^>]*>?)?/);return t(i[1]?i[1]:i[2])}function n(t){return c.innerHTML=t,t=c.textContent,c.textContent="",t}function r(t,e){return!p[e.localName]||p[e.localName]===t.localName}function s(e,i){var n=h[e];if(!n)return null;var r=t.document.createElement(n),s=f[e];return s&&i&&(r[s]=i.trim()),r}var a,l=t.document.createElement("div"),u=l,m=[];while(null!==(a=i()))if("<"!==a[0])u.appendChild(t.document.createTextNode(n(a)));else{if("/"===a[1]){m.length&&m[m.length-1]===a.substr(2).replace(">","")&&(m.pop(),u=u.parentNode);continue}var g,y=o(a.substr(1,a.length-2));if(y){g=t.document.createProcessingInstruction("timestamp",y),u.appendChild(g);continue}var v=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(g=s(v[1],v[3]),!g)continue;if(!r(u,g))continue;if(v[2]){var b=v[2].split(".");b.forEach((function(t){var e=/^bg_/.test(t),i=e?t.slice(3):t;if(d.hasOwnProperty(i)){var n=e?"background-color":"color",r=d[i];g.style[n]=r}})),g.className=b.join(" ")}m.push(v[1]),u.appendChild(g),u=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function y(t){for(var e=0;e<g.length;e++){var i=g[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function v(t){var e,i=[],n="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function s(t){if(!t||!t.length)return null;var e=t.pop(),i=e.textContent||e.innerText;if(i){var n=i.match(/^.*(\n|\r)/);return n?(t.length=0,n[0]):i}return"ruby"===e.tagName?s(t):e.childNodes?(r(t,e),s(t)):void 0}r(i,t);while(n=s(i))for(var o=0;o<n.length;o++)if(e=n.charCodeAt(o),y(e))return"rtl";return"ltr"}function b(t){if("number"===typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}function _(){}function S(t,e,i){_.call(this),this.cue=e,this.cueDiv=m(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:v(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function w(t){var e,i,n,r;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight}function T(t,e,i,n){function r(t,e){for(var r,s=new w(t),o=1,a=0;a<e.length;a++){while(t.overlapsOppositeAxis(i,e[a])||t.within(i)&&t.overlapsAny(n))t.move(e[a]);if(t.within(i))return t;var l=t.intersectPercentage(i);o>l&&(r=new w(t),o=l),t=new w(s)}return r||s}var s=new w(e),o=e.cue,a=b(o),l=[];if(o.snapToLines){var u;switch(o.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=s.lineHeight,h=c*Math.round(a),d=i[u]+c,f=l[0];Math.abs(h)>d&&(h=h<0?-1:1,h*=Math.ceil(d/c)*c),a<0&&(h+=""===o.vertical?i.height:i.width,l=l.reverse()),s.move(f,h)}else{var p=s.lineHeight/i.height*100;switch(o.lineAlign){case"center":a-=p/2;break;case"end":a-=p;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],s=new w(e)}var m=r(s,l);e.move(m.toCSSCompatValues(i))}function x(){}_.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},_.prototype.formatStyle=function(t,e){return 0===t?0:t+e},S.prototype=r(_.prototype),S.prototype.constructor=S,w.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},w.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},w.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},w.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},w.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},w.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)},w.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r},x.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},x.convertCueToDOMTree=function(t,e){return t&&e?m(t,e):null};var E=.05,C="sans-serif",A="1.5%";x.processCues=function(t,e,i){if(!t||!e||!i)return null;while(i.firstChild)i.removeChild(i.firstChild);var n=t.document.createElement("div");function r(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=A,i.appendChild(n),r(e)){var s=[],o=w.getSimpleBoxPosition(n),a=Math.round(o.height*E*100)/100,l={font:a+"px "+C};(function(){for(var i,r,a=0;a<e.length;a++)r=e[a],i=new S(t,r,l),n.appendChild(i.div),T(t,i,o,s),r.displayState=i.div,s.push(w.getSimpleBoxPosition(i))})()}else for(var u=0;u<e.length;u++)n.appendChild(e[u].displayState)},x.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},x.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof s))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function i(){var t=e.buffer,i=0;while(i<t.length&&"\r"!==t[i]&&"\n"!==t[i])++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function n(t){var i=new a;if(l(t,(function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var r=new a;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(t+"X",r.get("x")),i.set(t+"Y",r.get("y"));break;case"scroll":i.alt(t,e,["up"]);break}}),/=/,/\s/),i.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:i.get("id"),region:n})}}function r(t){var i=new a;l(t,(function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",o(e));break}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}function c(t){t.match(/X-TIMESTAMP-MAP/)?l(t,(function(t,e){switch(t){case"X-TIMESTAMP-MAP":r(e);break}}),/=/):l(t,(function(t,e){switch(t){case"Region":n(e);break}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var h;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;h=i();var d=h.match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new s(s.Errors.BadSignature);e.state="HEADER"}var f=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(f?f=!1:h=i(),e.state){case"HEADER":/:/.test(h)?c(h):h||(e.state="ID");continue;case"NOTE":h||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){e.state="NOTE";break}if(!h)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(m){e.cue.align="middle"}if(e.state="CUE",-1===h.indexOf("--\x3e")){e.cue.id=h;continue}case"CUE":try{u(h,e.cue,e.regionList)}catch(m){e.reportOrThrowError(m),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var p=-1!==h.indexOf("--\x3e");if(!h||p&&(f=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=h.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":h||(e.state="ID");continue}}}catch(m){e.reportOrThrowError(m),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new s(s.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=x},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,i){var n=i("428f"),r=i("da84"),s=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t])||s(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},d10f:function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"ssr-bootable",data:function(){return{isBooted:!1}},mounted:function(){var t=this;window.requestAnimationFrame((function(){t.$el.setAttribute("data-booted","true"),t.isBooted=!0}))}})},d136:function(t,e,i){(function(e){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,n=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),e=e.trim(),!e){if(!i.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var c=a.path,h=c.substring(0,c.lastIndexOf("/")+1)+s.path;u.path=o.normalizePath(h)}else u.path=a.path,s.params||(u.params=a.params,s.query||(u.query=a.query));return null===u.path&&(u.path=i.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){t=t.split("").reverse().join("").replace(r,"");while(t.length!==(t=t.replace(s,"")).length);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o})()},d191:function(t,e,i){},d1e7:function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!n.call({1:2},1);e.f=s?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},d28b:function(t,e,i){var n=i("746f");n("iterator")},d2bb:function(t,e,i){var n=i("825a"),r=i("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(i,[]),e=i instanceof Array}catch(s){}return function(i,s){return n(i),r(s),e?t.call(i,s):i.__proto__=s,i}}():void 0)},d3b7:function(t,e,i){var n=i("00ee"),r=i("6eeb"),s=i("b041");n||r(Object.prototype,"toString",s,{unsafe:!0})},d44e:function(t,e,i){var n=i("9bf2").f,r=i("5135"),s=i("b622"),o=s("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},d58f:function(t,e,i){var n=i("1c0b"),r=i("7b0b"),s=i("44ad"),o=i("50c4"),a=function(t){return function(e,i,a,l){n(i);var u=r(e),c=s(u),h=o(u.length),d=t?h-1:0,f=t?-1:1;if(a<2)while(1){if(d in c){l=c[d],d+=f;break}if(d+=f,t?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:h>d;d+=f)d in c&&(l=i(l,c[d],d,u));return l}};t.exports={left:a(!1),right:a(!0)}},d61d:function(t,e){var i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+i.source+n.source+"*(?::"+i.source+n.source+"*)?$"),s=0,o=1,a=2,l=3,u=4,c=5,h=6,d=7;function f(){}function p(t,e,i,n,r){function s(t){if(t>65535){t-=65536;var e=55296+(t>>10),i=56320+(1023&t);return String.fromCharCode(e,i)}return String.fromCharCode(t)}function o(t){var e=t.slice(1,-1);return e in i?i[e]:"#"===e.charAt(0)?s(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function a(e){if(e>_){var i=t.substring(_,e).replace(/&#?\w+;/g,o);d&&l(_),n.characters(i,0,e-_),_=e}}function l(e,i){while(e>=c&&(i=h.exec(t)))u=i.index,c=u+i[0].length,d.lineNumber++;d.columnNumber=e-u+1}var u=0,c=0,h=/.*(?:\r\n?|\n)|.*$/g,d=n.locator,f=[{currentNSMap:e}],p={},_=0;while(1){try{var x=t.indexOf("<",_);if(x<0){if(!t.substr(_).match(/^\s*$/)){var E=n.doc,C=E.createTextNode(t.substr(_));E.appendChild(C),n.currentElement=C}return}switch(x>_&&a(x),t.charAt(x+1)){case"/":var A=t.indexOf(">",x+3),P=t.substring(x+2,A),M=f.pop();A<0?(P=t.substring(x+2).replace(/[\s<].*/,""),r.error("end tag name: "+P+" is not complete:"+M.tagName),A=x+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),r.error("end tag name: "+P+" maybe not complete"),A=x+1+P.length);var k=M.localNSMap,L=M.tagName==P,I=L||M.tagName&&M.tagName.toLowerCase()==P.toLowerCase();if(I){if(n.endElement(M.uri,M.localName,P),k)for(var O in k)n.endPrefixMapping(O);L||r.fatalError("end tag name: "+P+" is not match the current start tagName:"+M.tagName)}else f.push(M);A++;break;case"?":d&&l(x),A=w(t,x,n);break;case"!":d&&l(x),A=S(t,x,n,r);break;default:d&&l(x);var R=new T,N=f[f.length-1].currentNSMap,D=(A=g(t,x,R,N,o,r),R.length);if(!R.closed&&b(t,A,R.tagName,p)&&(R.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),d&&D){for(var B=m(d,{}),F=0;F<D;F++){var V=R[F];l(V.offset),V.locator=m(d,{})}n.locator=B,y(R,n,N)&&f.push(R),n.locator=d}else y(R,n,N)&&f.push(R);"http://www.w3.org/1999/xhtml"!==R.uri||R.closed?A++:A=v(t,A,R.tagName,o,n)}}catch(j){r.error("element parse error: "+j),A=-1}A>_?_=A:a(Math.max(x,_)+1)}}function m(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function g(t,e,i,n,r,f){var p,m=++e,g=s;while(1){var y=t.charAt(m);switch(y){case"=":if(g===o)p=t.slice(e,m),g=l;else{if(g!==a)throw new Error("attribute equal must after attrName");g=l}break;case"'":case'"':if(g===l||g===o){if(g===o&&(f.warning('attribute value must after "="'),p=t.slice(e,m)),e=m+1,m=t.indexOf(y,e),!(m>0))throw new Error("attribute value no end '"+y+"' match");v=t.slice(e,m).replace(/&#?\w+;/g,r),i.add(p,v,e-1),g=c}else{if(g!=u)throw new Error('attribute value must after "="');v=t.slice(e,m).replace(/&#?\w+;/g,r),i.add(p,v,e),f.warning('attribute "'+p+'" missed start quot('+y+")!!"),e=m+1,g=c}break;case"/":switch(g){case s:i.setTagName(t.slice(e,m));case c:case h:case d:g=d,i.closed=!0;case u:case o:case a:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return f.error("unexpected end of input"),g==s&&i.setTagName(t.slice(e,m)),m;case">":switch(g){case s:i.setTagName(t.slice(e,m));case c:case h:case d:break;case u:case o:v=t.slice(e,m),"/"===v.slice(-1)&&(i.closed=!0,v=v.slice(0,-1));case a:g===a&&(v=p),g==u?(f.warning('attribute "'+v+'" missed quot(")!!'),i.add(p,v.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===n[""]&&v.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+v+'" missed value!! "'+v+'" instead!!'),i.add(v,v,e));break;case l:throw new Error("attribute value missed!!")}return m;case"":y=" ";default:if(y<=" ")switch(g){case s:i.setTagName(t.slice(e,m)),g=h;break;case o:p=t.slice(e,m),g=a;break;case u:var v=t.slice(e,m).replace(/&#?\w+;/g,r);f.warning('attribute "'+v+'" missed quot(")!!'),i.add(p,v,e);case c:g=h;break}else switch(g){case a:i.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&p.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),i.add(p,p,e),e=m,g=o;break;case c:f.warning('attribute space is required"'+p+'"!!');case h:g=o,e=m;break;case l:g=u,e=m;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function y(t,e,i){var n=t.tagName,r=null,s=t.length;while(s--){var o=t[s],a=o.qName,l=o.value,u=a.indexOf(":");if(u>0)var c=o.prefix=a.slice(0,u),h=a.slice(u+1),d="xmlns"===c&&h;else h=a,c=null,d="xmlns"===a&&"";o.localName=h,!1!==d&&(null==r&&(r={},_(i,i={})),i[d]=r[d]=l,o.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,l))}s=t.length;while(s--){o=t[s];c=o.prefix;c&&("xml"===c&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(o.uri=i[c||""]))}u=n.indexOf(":");u>0?(c=t.prefix=n.slice(0,u),h=t.localName=n.slice(u+1)):(c=null,h=t.localName=n);var f=t.uri=i[c||""];if(e.startElement(f,h,n,t),!t.closed)return t.currentNSMap=i,t.localNSMap=r,!0;if(e.endElement(f,h,n),r)for(c in r)e.endPrefixMapping(c)}function v(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var s=t.indexOf("</"+i+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(i)?(r.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,n),r.characters(o,0,o.length),s)}return e+1}function b(t,e,i,n){var r=n[i];return null==r&&(r=t.lastIndexOf("</"+i+">"),r<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),r<e}function _(t,e){for(var i in t)e[i]=t[i]}function S(t,e,i,n){var r=t.charAt(e+2);switch(r){case"-":if("-"===t.charAt(e+3)){var s=t.indexOf("--\x3e",e+4);return s>e?(i.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==t.substr(e+3,6)){s=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,s-e-9),i.endCDATA(),s+3}var o=E(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],c=a>4&&o[4][0],h=o[a-1];return i.startDTD(l,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),i.endDTD(),h.index+h[0].length}}return-1}function w(t,e,i){var n=t.indexOf("?>",e);if(n){var r=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return i.processingInstruction(r[1],r[2]),n+2}return-1}return-1}function T(t){}function x(t,e){return t.__proto__=e,t}function E(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=e,r.exec(t);while(i=r.exec(t))if(n.push(i),i[1])return n}f.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),_(e,e={}),p(t,e,i,n,this.errorHandler),n.endDocument()}},T.prototype={setTagName:function(t){if(!r.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,i){if(!r.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},x({},x.prototype)instanceof x||(x=function(t,e){function i(){}for(e in i.prototype=e,i=new i,t)i[e]=t[e];return i}),e.XMLReader=f},d784:function(t,e,i){"use strict";i("ac1f");var n=i("6eeb"),r=i("d039"),s=i("b622"),o=i("9263"),a=i("9112"),l=s("species"),u=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),h=s("replace"),d=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),f=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,h){var p=s(t),m=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=m&&!r((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[p]=/./[p]),i.exec=function(){return e=!0,null},i[p](""),!e}));if(!m||!g||"replace"===t&&(!u||!c||d)||"split"===t&&!f){var y=/./[p],v=i(p,""[t],(function(t,e,i,n,r){return e.exec===o?m&&!r?{done:!0,value:y.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=v[0],_=v[1];n(String.prototype,t,b),n(RegExp.prototype,p,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}h&&a(RegExp.prototype[p],"sham",!0)}},d7d2:function(t,e,i){(function(e){var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=i}).call(this,i("c8ba"))},d81d:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").map,s=i("1dde"),o=i("ae40"),a=s("map"),l=o("map");n({target:"Array",proto:!0,forced:!a||!l},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d925:function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},d9bd:function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return l})),i.d(e,"e",(function(){return u}));i("99af"),i("caad"),i("a15b"),i("d81d"),i("b0c0"),i("ac1f"),i("2532"),i("466d"),i("38cf"),i("5319");var n=i("f309");function r(t,e,i){if(!n["a"].config.silent){if(i&&(e={_isVue:!0,$parent:i,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return"[Vuetify] ".concat(t)+(e?f(e):"")}}function s(t,e,i){var n=r(t,e,i);null!=n&&console.warn(n)}function o(t,e,i){var n=r(t,e,i);null!=n&&console.error(n)}function a(t,e,i,n){s("[UPGRADE] '".concat(t,"' is deprecated, use '").concat(e,"' instead."),i,n)}function l(t,e,i,n){o("[BREAKING] '".concat(t,"' has been removed, use '").concat(e,"' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide"),i,n)}function u(t,e,i){s("[REMOVED] '".concat(t,"' has been removed. You can safely omit it."),e,i)}var c=/(?:^|[-_])(\w)/g,h=function(t){return t.replace(c,(function(t){return t.toUpperCase()})).replace(/[-_]/g,"")};function d(t,e){if(t.$root===t)return"<Root>";var i="function"===typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{},n=i.name||i._componentTag,r=i.__file;if(!n&&r){var s=r.match(/([^/\\]+)\.vue$/);n=s&&s[1]}return(n?"<".concat(h(n),">"):"<Anonymous>")+(r&&!1!==e?" at ".concat(r):"")}function f(t){if(t._isVue&&t.$parent){var e=[],i=0;while(t){if(e.length>0){var n=e[e.length-1];if(n.constructor===t.constructor){i++,t=t.$parent;continue}i>0&&(e[e.length-1]=[n,i],i=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map((function(t,e){return"".concat(0===e?"---\x3e ":" ".repeat(5+2*e)).concat(Array.isArray(t)?"".concat(d(t[0]),"... (").concat(t[1]," recursive calls)"):d(t))})).join("\n")}return"\n\n(found in ".concat(d(t),")")}},d9f7:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"c",(function(){return h})),i.d(e,"b",(function(){return f}));i("99af"),i("b64b"),i("ac1f"),i("1276"),i("498a");var n=i("2909"),r=i("5530"),s=i("3835"),o=i("b85c"),a=i("80d2"),l={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function u(t){var e,i={},n=Object(o["a"])(t.split(l.styleList));try{for(n.s();!(e=n.n()).done;){var r=e.value,u=r.split(l.styleProp),c=Object(s["a"])(u,2),h=c[0],d=c[1];h=h.trim(),h&&("string"===typeof d&&(d=d.trim()),i[Object(a["c"])(h)]=d)}}catch(f){n.e(f)}finally{n.f()}return i}function c(){var t,e={},i=arguments.length;while(i--)for(var n=0,s=Object.keys(arguments[i]);n<s.length;n++)switch(t=s[n],t){case"class":case"directives":arguments[i][t]&&(e[t]=d(e[t],arguments[i][t]));break;case"style":arguments[i][t]&&(e[t]=h(e[t],arguments[i][t]));break;case"staticClass":if(!arguments[i][t])break;void 0===e[t]&&(e[t]=""),e[t]&&(e[t]+=" "),e[t]+=arguments[i][t].trim();break;case"on":case"nativeOn":arguments[i][t]&&(e[t]=f(e[t],arguments[i][t]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[i][t])break;e[t]||(e[t]={}),e[t]=Object(r["a"])(Object(r["a"])({},arguments[i][t]),e[t]);break;default:e[t]||(e[t]=arguments[i][t])}return e}function h(t,e){return t?e?(t=Object(a["A"])("string"===typeof t?u(t):t),t.concat("string"===typeof e?u(e):e)):t:e}function d(t,e){return e?t&&t?Object(a["A"])(t).concat(e):e:t}function f(t,e){if(!t)return e;if(!e)return t;for(var i,r=0,s=Object.keys(e);r<s.length;r++){var o;if(i=s[r],t[i])t[i]=Object(a["A"])(t[i]),(o=t[i]).push.apply(o,Object(n["a"])(Object(a["A"])(e[i])));else t[i]=e[i]}return t}},da13:function(t,e,i){"use strict";var n=i("5530"),r=(i("61d2"),i("a9ad")),s=i("1c87"),o=i("4e82"),a=i("7560"),l=i("f2e7"),u=i("5607"),c=i("80d2"),h=i("d9bd"),d=i("58df"),f=Object(d["a"])(r["a"],s["a"],a["a"],Object(o["a"])("listItemGroup"),Object(l["b"])("inputValue"));e["a"]=f.extend().extend({name:"v-list-item",directives:{Ripple:u["a"]},inheritAttrs:!1,inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},props:{activeClass:{type:String,default:function(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:function(){return{proxyClass:"v-list-item--active"}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-list-item":!0},s["a"].options.computed.classes.call(this)),{},{"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine},this.themeClasses)},isClickable:function(){return Boolean(s["a"].options.computed.isClickable.call(this)||this.listItemGroup)}},created:function(){this.$attrs.hasOwnProperty("avatar")&&Object(h["e"])("avatar",this)},methods:{click:function(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs:function(){var t=Object(n["a"])({"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1},this.$attrs);return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="listitem",t["aria-selected"]=String(this.isActive)):this.isInMenu?(t.role=this.isClickable?"menuitem":void 0,t.id=t.id||"list-item-".concat(this._uid)):this.isInList&&(t.role="listitem")),t}},render:function(t){var e=this,i=this.generateRouteLink(),r=i.tag,s=i.data;s.attrs=Object(n["a"])(Object(n["a"])({},s.attrs),this.genAttrs()),s[this.to?"nativeOn":"on"]=Object(n["a"])(Object(n["a"])({},s[this.to?"nativeOn":"on"]),{},{keydown:function(t){t.keyCode===c["t"].enter&&e.click(t),e.$emit("keydown",t)}}),this.inactive&&(r="div"),this.inactive&&this.to&&(s.on=s.nativeOn,delete s.nativeOn);var o=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(r,this.setTextColor(this.color,s),o)}})},da84:function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||Function("return this")()}).call(this,i("c8ba"))},db42:function(t,e,i){},dbb4:function(t,e,i){var n=i("23e7"),r=i("83ab"),s=i("56ef"),o=i("fc6a"),a=i("06cf"),l=i("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,i,n=o(t),r=a.f,u=s(n),c={},h=0;while(u.length>h)i=r(n,e=u[h++]),void 0!==i&&l(c,e,i);return c}})},dc22:function(t,e,i){"use strict";function n(t,e){var i=e.value,n=e.options||{passive:!0};window.addEventListener("resize",i,n),t._onResize={callback:i,options:n},e.modifiers&&e.modifiers.quiet||i()}function r(t){if(t._onResize){var e=t._onResize,i=e.callback,n=e.options;window.removeEventListener("resize",i,n),delete t._onResize}}var s={inserted:n,unbind:r};e["a"]=s},dc3e:function(t,e,i){"use strict";var n=i("ae75"),r=i("256f").handleRollover,s={};s.ts=i("423e"),s.aac=i("fbd0");var o=i("36c64").ONE_SECOND_IN_TS,a=188,l=71,u=function(t,e){var i,n,r=0,o=a;while(o<t.byteLength)if(t[r]!==l||t[o]!==l)r++,o++;else{switch(i=t.subarray(r,o),n=s.ts.parseType(i,e.pid),n){case"pat":e.pid||(e.pid=s.ts.parsePat(i));break;case"pmt":e.table||(e.table=s.ts.parsePmt(i));break;default:break}if(e.pid&&e.table)return;r+=a,o+=a}},c=function(t,e,i){var n,r,o,u,c,h=0,d=a,f=!1;while(d<=t.byteLength)if(t[h]!==l||t[d]!==l&&d!==t.byteLength)h++,d++;else{switch(n=t.subarray(h,d),r=s.ts.parseType(n,e.pid),r){case"pes":o=s.ts.parsePesType(n,e.table),u=s.ts.parsePayloadUnitStartIndicator(n),"audio"===o&&u&&(c=s.ts.parsePesTime(n),c&&(c.type="audio",i.audio.push(c),f=!0));break;default:break}if(f)break;h+=a,d+=a}d=t.byteLength,h=d-a,f=!1;while(h>=0)if(t[h]!==l||t[d]!==l&&d!==t.byteLength)h--,d--;else{switch(n=t.subarray(h,d),r=s.ts.parseType(n,e.pid),r){case"pes":o=s.ts.parsePesType(n,e.table),u=s.ts.parsePayloadUnitStartIndicator(n),"audio"===o&&u&&(c=s.ts.parsePesTime(n),c&&(c.type="audio",i.audio.push(c),f=!0));break;default:break}if(f)break;h-=a,d-=a}},h=function(t,e,i){var n,r,o,u,c,h,d,f,p=0,m=a,g=!1,y={data:[],size:0};while(m<t.byteLength)if(t[p]!==l||t[m]!==l)p++,m++;else{switch(n=t.subarray(p,m),r=s.ts.parseType(n,e.pid),r){case"pes":if(o=s.ts.parsePesType(n,e.table),u=s.ts.parsePayloadUnitStartIndicator(n),"video"===o&&(u&&!g&&(c=s.ts.parsePesTime(n),c&&(c.type="video",i.video.push(c),g=!0)),!i.firstKeyFrame)){if(u&&0!==y.size){h=new Uint8Array(y.size),d=0;while(y.data.length)f=y.data.shift(),h.set(f,d),d+=f.byteLength;if(s.ts.videoPacketContainsKeyFrame(h)){var v=s.ts.parsePesTime(h);v?(i.firstKeyFrame=v,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}y.size=0}y.data.push(n),y.size+=n.byteLength}break;default:break}if(g&&i.firstKeyFrame)break;p+=a,m+=a}m=t.byteLength,p=m-a,g=!1;while(p>=0)if(t[p]!==l||t[m]!==l)p--,m--;else{switch(n=t.subarray(p,m),r=s.ts.parseType(n,e.pid),r){case"pes":o=s.ts.parsePesType(n,e.table),u=s.ts.parsePayloadUnitStartIndicator(n),"video"===o&&u&&(c=s.ts.parsePesTime(n),c&&(c.type="video",i.video.push(c),g=!0));break;default:break}if(g)break;p-=a,m-=a}},d=function(t,e){if(t.audio&&t.audio.length){var i=e;"undefined"===typeof i&&(i=t.audio[0].dts),t.audio.forEach((function(t){t.dts=r(t.dts,i),t.pts=r(t.pts,i),t.dtsTime=t.dts/o,t.ptsTime=t.pts/o}))}if(t.video&&t.video.length){var n=e;if("undefined"===typeof n&&(n=t.video[0].dts),t.video.forEach((function(t){t.dts=r(t.dts,n),t.pts=r(t.pts,n),t.dtsTime=t.dts/o,t.ptsTime=t.pts/o})),t.firstKeyFrame){var s=t.firstKeyFrame;s.dts=r(s.dts,n),s.pts=r(s.pts,n),s.dtsTime=s.dts/o,s.ptsTime=s.dts/o}}},f=function(t){var e,i=!1,n=0,r=null,a=null,l=0,u=0;while(t.length-u>=3){var c=s.aac.parseType(t,u);switch(c){case"timed-metadata":if(t.length-u<10){i=!0;break}if(l=s.aac.parseId3TagSize(t,u),l>t.length){i=!0;break}null===a&&(e=t.subarray(u,u+l),a=s.aac.parseAacTimestamp(e)),u+=l;break;case"audio":if(t.length-u<7){i=!0;break}if(l=s.aac.parseAdtsSize(t,u),l>t.length){i=!0;break}null===r&&(e=t.subarray(u,u+l),r=s.aac.parseSampleRate(e)),n++,u+=l;break;default:u++;break}if(i)return null}if(null===r||null===a)return null;var h=o/r,d={audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*n*h,pts:a+1024*n*h}]};return d},p=function(t){var e={pid:null,table:null},i={};for(var r in u(t,e),e.table)if(e.table.hasOwnProperty(r)){var s=e.table[r];switch(s){case n.H264_STREAM_TYPE:i.video=[],h(t,e,i),0===i.video.length&&delete i.video;break;case n.ADTS_STREAM_TYPE:i.audio=[],c(t,e,i),0===i.audio.length&&delete i.audio;break;default:break}}return i},m=function(t,e){var i,n=s.aac.isLikelyAacData(t);return i=n?f(t):p(t),i&&(i.audio||i.video)?(d(i,e),i):null};t.exports={inspect:m,parseAudioPes_:c}},dc6d:function(t,e,i){"use strict";var n=4,r=128,s=function(t){var e=0,i={payloadType:-1,payloadSize:0},s=0,o=0;while(e<t.byteLength){if(t[e]===r)break;while(255===t[e])s+=255,e++;s+=t[e++];while(255===t[e])o+=255,e++;if(o+=t[e++],!i.payload&&s===n){i.payloadType=s,i.payloadSize=o,i.payload=t.subarray(e,e+o);break}e+=o,s=0,o=0}return i},o=function(t){return 181!==t.payload[0]||49!==(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},a=function(t,e){var i,n,r,s,o=[];if(!(64&e[0]))return o;for(n=31&e[0],i=0;i<n;i++)r=3*i,s={type:3&e[r+2],pts:t},4&e[r+2]&&(s.ccData=e[r+3]<<8|e[r+4],o.push(s));return o},l=function(t){var e,i,n=t.byteLength,r=[],s=1;while(s<n-2)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var o=0;for(s=0;s<e;o++,s++)o===r[0]&&(o++,r.shift()),i[s]=t[o];return i};t.exports={parseSei:s,parseUserData:o,parseCaptionPackets:a,discardEmulationPreventionBytes:l,USER_DATA_REGISTERED_ITU_T_T35:n}},dca8:function(t,e,i){var n=i("23e7"),r=i("bb2f"),s=i("d039"),o=i("861d"),a=i("f183").onFreeze,l=Object.freeze,u=s((function(){l(1)}));n({target:"Object",stat:!0,forced:u,sham:!r},{freeze:function(t){return l&&o(t)?l(a(t)):t}})},ddb0:function(t,e,i){var n=i("da84"),r=i("fdbc"),s=i("e260"),o=i("9112"),a=i("b622"),l=a("iterator"),u=a("toStringTag"),c=s.values;for(var h in r){var d=n[h],f=d&&d.prototype;if(f){if(f[l]!==c)try{o(f,l,c)}catch(m){f[l]=c}if(f[u]||o(f,u,h),r[h])for(var p in s)if(f[p]!==s[p])try{o(f,p,s[p])}catch(m){f[p]=s[p]}}}},df33:function(t,e){function i(t){if(t&&"object"===typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"===typeof t)return o[t];var i=String(t),s=n[i.toLowerCase()];if(s)return s;s=r[i.toLowerCase()];return s||(1===i.length?i.charCodeAt(0):void 0)}i.isEventKey=function(t,e){if(t&&"object"===typeof t){var i=t.which||t.keyCode||t.charCode;if(null===i||void 0===i)return!1;if("string"===typeof e){var s=n[e.toLowerCase()];if(s)return s===i;s=r[e.toLowerCase()];if(s)return s===i}else if("number"===typeof e)return e===i;return!1}},e=t.exports=i;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var o=e.names=e.title={};for(s in n)o[n[s]]=s;for(var a in r)n[a]=r[a]},df75:function(t,e,i){var n=i("ca84"),r=i("7839");t.exports=Object.keys||function(t){return n(t,r)}},df7c:function(t,e,i){(function(t){function i(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,i=0,n=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){i=e+1;break}}else-1===n&&(r=!1,n=e+1);return-1===n?"":t.slice(i,n)}function r(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}e.resolve=function(){for(var e="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var o=s>=0?arguments[s]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,n="/"===o.charAt(0))}return e=i(r(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===s(t,-1);return t=i(r(t.split("/"),(function(t){return!!t})),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,i){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var i=t.length-1;i>=0;i--)if(""!==t[i])break;return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var r=n(t.split("/")),s=n(i.split("/")),o=Math.min(r.length,s.length),a=o,l=0;l<o;l++)if(r[l]!==s[l]){a=l;break}var u=[];for(l=a;l<r.length;l++)u.push("..");return u=u.concat(s.slice(a)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,n=-1,r=!0,s=t.length-1;s>=1;--s)if(e=t.charCodeAt(s),47===e){if(!r){n=s;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var i=n(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,i=0,n=-1,r=!0,s=0,o=t.length-1;o>=0;--o){var a=t.charCodeAt(o);if(47!==a)-1===n&&(r=!1,n=o+1),46===a?-1===e?e=o:1!==s&&(s=1):-1!==e&&(s=-1);else if(!r){i=o+1;break}}return-1===e||-1===n||0===s||1===s&&e===n-1&&e===i+1?"":t.slice(e,n)};var s="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i("4362"))},df86:function(t,e,i){},e01a:function(t,e,i){"use strict";var n=i("23e7"),r=i("83ab"),s=i("da84"),o=i("5135"),a=i("861d"),l=i("9bf2").f,u=i("e893"),c=s.Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new c(t):void 0===t?c():c(t);return""===t&&(h[e]=!0),e};u(d,c);var f=d.prototype=c.prototype;f.constructor=d;var p=f.toString,m="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=p.call(t);if(o(h,t))return"";var i=m?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:d})}},e0c7:function(t,e,i){"use strict";var n=i("5530"),r=(i("0bc6"),i("7560")),s=i("58df");e["a"]=Object(s["a"])(r["a"]).extend({name:"v-subheader",props:{inset:Boolean},render:function(t){return t("div",{staticClass:"v-subheader",class:Object(n["a"])({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},e163:function(t,e,i){var n=i("5135"),r=i("7b0b"),s=i("f772"),o=i("e177"),a=s("IE_PROTO"),l=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=r(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},e177:function(t,e,i){var n=i("d039");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,i){"use strict";var n=i("fc6a"),r=i("44d2"),s=i("3f8c"),o=i("69f3"),a=i("7dd0"),l="Array Iterator",u=o.set,c=o.getterFor(l);t.exports=a(Array,"Array",(function(t,e){u(this,{type:l,target:n(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},e2cc:function(t,e,i){var n=i("6eeb");t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},e3db:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},e439:function(t,e,i){var n=i("23e7"),r=i("d039"),s=i("fc6a"),o=i("06cf").f,a=i("83ab"),l=r((function(){o(1)})),u=!a||l;n({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return o(s(t),e)}})},e516:function(t,e,i){"use strict";i("a9e3"),i("d3b7"),i("25f0");var n=i("0789"),r=i("3206"),s=i("80d2"),o=i("58df"),a=Object(o["a"])(Object(r["a"])("stepper","v-stepper-content","v-stepper"));e["a"]=a.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){var t=this.$vuetify.rtl?!this.isReverse:this.isReverse;return t?n["g"]:n["h"]},styles:function(){return this.isVertical?{height:Object(s["f"])(this.height)}:{}}},watch:{isActive:function(t,e){t&&null==e?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(t){this.isActive&&"height"===t.propertyName&&(this.height="auto")},enter:function(){var t=this,e=0;requestAnimationFrame((function(){e=t.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return t.isActive&&(t.height=e||"auto")}),450)},leave:function(){var t=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return t.height=0}),10)},toggle:function(t,e){this.isActive=t.toString()===this.step.toString(),this.isReverse=e}},render:function(t){var e={staticClass:"v-stepper__content"},i={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(e.directives=[{name:"show",value:this.isActive}]);var n=t("div",i,[this.$slots.default]),r=t("div",e,[n]);return t(this.computedTransition,{on:this.$listeners},[r])}})},e538:function(t,e,i){var n=i("b622");e.f=n},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e683:function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6cf:function(t,e,i){"use strict";var n,r,s,o,a=i("23e7"),l=i("c430"),u=i("da84"),c=i("d066"),h=i("fea9"),d=i("6eeb"),f=i("e2cc"),p=i("d44e"),m=i("2626"),g=i("861d"),y=i("1c0b"),v=i("19aa"),b=i("c6b6"),_=i("8925"),S=i("2266"),w=i("1c7e"),T=i("4840"),x=i("2cf4").set,E=i("b575"),C=i("cdf9"),A=i("44de"),P=i("f069"),M=i("e667"),k=i("69f3"),L=i("94ca"),I=i("b622"),O=i("2d00"),R=I("species"),N="Promise",D=k.get,B=k.set,F=k.getterFor(N),V=h,j=u.TypeError,U=u.document,G=u.process,W=c("fetch"),z=P.f,H=z,q="process"==b(G),$=!!(U&&U.createEvent&&u.dispatchEvent),Y="unhandledrejection",X="rejectionhandled",K=0,Q=1,Z=2,J=1,tt=2,et=L(N,(function(){var t=_(V)!==String(V);if(!t){if(66===O)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!V.prototype["finally"])return!0;if(O>=51&&/native code/.test(V))return!1;var e=V.resolve(1),i=function(t){t((function(){}),(function(){}))},n=e.constructor={};return n[R]=i,!(e.then((function(){}))instanceof i)})),it=et||!w((function(t){V.all(t)["catch"]((function(){}))})),nt=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},rt=function(t,e,i){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){var r=e.value,s=e.state==Q,o=0;while(n.length>o){var a,l,u,c=n[o++],h=s?c.ok:c.fail,d=c.resolve,f=c.reject,p=c.domain;try{h?(s||(e.rejection===tt&&lt(t,e),e.rejection=J),!0===h?a=r:(p&&p.enter(),a=h(r),p&&(p.exit(),u=!0)),a===c.promise?f(j("Promise-chain cycle")):(l=nt(a))?l.call(a,d,f):d(a)):f(r)}catch(m){p&&!u&&p.exit(),f(m)}}e.reactions=[],e.notified=!1,i&&!e.rejection&&ot(t,e)}))}},st=function(t,e,i){var n,r;$?(n=U.createEvent("Event"),n.promise=e,n.reason=i,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:i},(r=u["on"+t])?r(n):t===Y&&A("Unhandled promise rejection",i)},ot=function(t,e){x.call(u,(function(){var i,n=e.value,r=at(e);if(r&&(i=M((function(){q?G.emit("unhandledRejection",n,t):st(Y,t,n)})),e.rejection=q||at(e)?tt:J,i.error))throw i.value}))},at=function(t){return t.rejection!==J&&!t.parent},lt=function(t,e){x.call(u,(function(){q?G.emit("rejectionHandled",t):st(X,t,e.value)}))},ut=function(t,e,i,n){return function(r){t(e,i,r,n)}},ct=function(t,e,i,n){e.done||(e.done=!0,n&&(e=n),e.value=i,e.state=Z,rt(t,e,!0))},ht=function(t,e,i,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===i)throw j("Promise can't be resolved itself");var r=nt(i);r?E((function(){var n={done:!1};try{r.call(i,ut(ht,t,n,e),ut(ct,t,n,e))}catch(s){ct(t,n,s,e)}})):(e.value=i,e.state=Q,rt(t,e,!1))}catch(s){ct(t,{done:!1},s,e)}}};et&&(V=function(t){v(this,V,N),y(t),n.call(this);var e=D(this);try{t(ut(ht,this,e),ut(ct,this,e))}catch(i){ct(this,e,i)}},n=function(t){B(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:K,value:void 0})},n.prototype=f(V.prototype,{then:function(t,e){var i=F(this),n=z(T(this,V));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=q?G.domain:void 0,i.parent=!0,i.reactions.push(n),i.state!=K&&rt(this,i,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n,e=D(t);this.promise=t,this.resolve=ut(ht,t,e),this.reject=ut(ct,t,e)},P.f=z=function(t){return t===V||t===s?new r(t):H(t)},l||"function"!=typeof h||(o=h.prototype.then,d(h.prototype,"then",(function(t,e){var i=this;return new V((function(t,e){o.call(i,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof W&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return C(V,W.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:et},{Promise:V}),p(V,N,!1,!0),m(N),s=c(N),a({target:N,stat:!0,forced:et},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),a({target:N,stat:!0,forced:l||et},{resolve:function(t){return C(l&&this===s?V:this,t)}}),a({target:N,stat:!0,forced:it},{all:function(t){var e=this,i=z(e),n=i.resolve,r=i.reject,s=M((function(){var i=y(e.resolve),s=[],o=0,a=1;S(t,(function(t){var l=o++,u=!1;s.push(void 0),a++,i.call(e,t).then((function(t){u||(u=!0,s[l]=t,--a||n(s))}),r)})),--a||n(s)}));return s.error&&r(s.value),i.promise},race:function(t){var e=this,i=z(e),n=i.reject,r=M((function(){var r=y(e.resolve);S(t,(function(t){r.call(e,t).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}})},e893:function(t,e,i){var n=i("5135"),r=i("56ef"),s=i("06cf"),o=i("9bf2");t.exports=function(t,e){for(var i=r(e),a=o.f,l=s.f,u=0;u<i.length;u++){var c=i[u];n(t,c)||a(t,c,l(e,c))}}},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e95a:function(t,e,i){var n=i("b622"),r=i("3f8c"),s=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[s]===t)}},e9b1:function(t,e,i){},ec29:function(t,e,i){},ed6d:function(t,e,i){var n=i("4a4b");function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}t.exports=r},ee6f:function(t,e,i){},ef34:function(t,e,i){(function(e){var n,r="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},s=i(1);"undefined"!==typeof document?n=document:(n=r["__GLOBAL_DOCUMENT_CACHE@4"],n||(n=r["__GLOBAL_DOCUMENT_CACHE@4"]=s)),t.exports=n}).call(this,i("c8ba"))},f069:function(t,e,i){"use strict";var n=i("1c0b"),r=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)};t.exports.f=function(t){return new r(t)}},f0e2:function(t,e,i){"use strict";i.r(e);var n=i("be09"),r=i.n(n),s=i("ef34"),o=i.n(s),a=i("a559"),l=i.n(a),u=i("3c96"),c=i.n(u),h=(i("6b58"),i("36c6"),i("55b5")),d=i.n(h),f=i("8c10"),p=i.n(f),m=i("df33"),g=i.n(m),y=i("045f"),v=i.n(y),b=i("2b8c"),_=i.n(b),S=i("b17c"),w=i.n(S),T=i("ed6d"),x=i.n(T),E=i("d136"),C=i.n(E);
/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */
function A(){return A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},A.apply(this,arguments)}function P(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var k=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},e.trigger=function(t){var e,i,n,r=this.listeners[t];if(r)if(2===arguments.length)for(i=r.length,e=0;e<i;++e)r[e].call(this,arguments[1]);else for(n=Array.prototype.slice.call(arguments,1),i=r.length,e=0;e<i;++e)r[e].apply(this,n)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),L=function(t){function e(){var e;return e=t.call(this)||this,e.buffer="",e}P(e,t);var i=e.prototype;return i.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(k),I=function(){var t="[^=]*",e='"[^"]*"|[^,]*',i="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+i+")")},O=function(t){var e,i=t.split(I()),n={},r=i.length;while(r--)""!==i[r]&&(e=/([^=]*)=(.*)/.exec(i[r]).slice(1),e[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n},R=function(t){function e(){var e;return e=t.call(this)||this,e.customParsers=[],e.tagMappers=[],e}P(e,t);var i=e.prototype;return i.push=function(t){var e,i,n=this;if(t=t.trim(),0!==t.length)if("#"===t[0]){var r=this.tagMappers.reduce((function(e,i){var n=i(t);return n===t?e:e.concat([n])}),[t]);r.forEach((function(t){for(var r=0;r<n.customParsers.length;r++)if(n.customParsers[r].call(n,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t),e)n.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"inf"},e[1]&&(i.duration=parseFloat(e[1])),e[2]&&(i.title=e[2]),void n.trigger("data",i);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"targetduration"},e[1]&&(i.duration=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"totalduration"},e[1]&&(i.duration=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"version"},e[1]&&(i.version=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"media-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"playlist-type"},e[1]&&(i.playlistType=e[1]),void n.trigger("data",i);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"byterange"},e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),void n.trigger("data",i);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t),e)return i={type:"tag",tagType:"allow-cache"},e[1]&&(i.allowed=!/NO/.test(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t),e){if(i={type:"tag",tagType:"map"},e[1]){var s=O(e[1]);if(s.URI&&(i.uri=s.URI),s.BYTERANGE){var o=s.BYTERANGE.split("@"),a=o[0],l=o[1];i.byterange={},a&&(i.byterange.length=parseInt(a,10)),l&&(i.byterange.offset=parseInt(l,10))}}n.trigger("data",i)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t),e){if(i={type:"tag",tagType:"stream-inf"},e[1]){if(i.attributes=O(e[1]),i.attributes.RESOLUTION){var u=i.attributes.RESOLUTION.split("x"),c={};u[0]&&(c.width=parseInt(u[0],10)),u[1]&&(c.height=parseInt(u[1],10)),i.attributes.RESOLUTION=c}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}n.trigger("data",i)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"media"},e[1]&&(i.attributes=O(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-ENDLIST/.exec(t),e)n.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t),e)n.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"program-date-time"},e[1]&&(i.dateTimeString=e[1],i.dateTimeObject=new Date(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"key"},e[1]&&(i.attributes=O(e[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void n.trigger("data",i);if(e=/^#EXT-X-START:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"start"},e[1]&&(i.attributes=O(e[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void n.trigger("data",i);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-out-cont"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-out"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-in"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);n.trigger("data",{type:"tag",data:t.slice(4)})}}}else n.trigger("data",{type:"comment",text:t.slice(1)})}))}else this.trigger("data",{type:"uri",uri:t})},i.addParser=function(t){var e=this,i=t.expression,n=t.customType,r=t.dataParser,s=t.segment;"function"!==typeof r&&(r=function(t){return t}),this.customParsers.push((function(t){var o=i.exec(t);if(o)return e.trigger("data",{type:"custom",data:r(t),customType:n,segment:s}),!0}))},i.addTagMapper=function(t){var e=t.expression,i=t.map,n=function(t){return e.test(t)?i(t):t};this.tagMappers.push(n)},e}(k);function N(t){for(var e=r.a.atob(t||""),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}var D=function(t){function e(){var e;e=t.call(this)||this,e.lineStream=new L,e.parseStream=new R,e.lineStream.pipe(e.parseStream);var i,n,r=M(e),s=[],o={},a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",c=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",(function(t){var e,h;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(o.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(o.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(o.duration=t.duration),0===t.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if(t.attributes.KEYFORMAT===u){var e=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];return-1===e.indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:N(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},"undefined"!==typeof t.attributes.IV&&(n.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){i={},t.uri&&(i.uri=t.uri),t.byterange&&(i.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(o.attributes||(o.attributes={}),A(o.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var i=this.manifest.mediaGroups[t.attributes.TYPE];i[t.attributes["GROUP-ID"]]=i[t.attributes["GROUP-ID"]]||{},e=i[t.attributes["GROUP-ID"]],h={default:/yes/i.test(t.attributes.DEFAULT)},h.default?h.autoselect=!0:h.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(h.language=t.attributes.LANGUAGE),t.attributes.URI&&(h.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(h.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(h.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(h.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=h}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),o.dateTimeString=t.dateTimeString,o.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){o.cueOut=t.data},"cue-out-cont":function(){o.cueOutCont=t.data},"cue-in":function(){o.cueIn=t.data}}[t.tagType]||a).call(r)},uri:function(){o.uri=t.uri,s.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),n&&(o.key=n),o.timeline=c,i&&(o.map=i),o={}},comment:function(){},custom:function(){t.segment?(o.custom=o.custom||{},o.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)})),e}P(e,t);var i=e.prototype;return i.push=function(t){this.lineStream.push(t)},i.end=function(){this.lineStream.push("\n")},i.addParser=function(t){this.parseStream.addParser(t)},i.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(k),B=i("5fcf"),F=i.n(B),V=i("8507"),j=i.n(V),U=i("29d8"),G=function(t){return!!t&&"object"===typeof t},W=function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce((function(e,i){return Object.keys(i).forEach((function(n){Array.isArray(e[n])&&Array.isArray(i[n])?e[n]=e[n].concat(i[n]):G(e[n])&&G(i[n])?e[n]=t(e[n],i[n]):e[n]=i[n]})),e}),{})},z=function(t){return Object.keys(t).map((function(e){return t[e]}))},H=function(t,e){for(var i=[],n=t;n<e;n++)i.push(n);return i},q=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},$=function(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},Y=function(t,e){return t.reduce((function(t,i,n){return i[e]&&t.push(n),t}),[])},X={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},K=function(t){var e=t.baseUrl,i=void 0===e?"":e,n=t.source,r=void 0===n?"":n,s=t.range,o=void 0===s?"":s,a=t.indexRange,l=void 0===a?"":a,u={uri:r,resolvedUri:F()(i||"",r)};if(o||l){var c=o||l,h=c.split("-"),d=parseInt(h[0],10),f=parseInt(h[1],10);u.byterange={length:f-d+1,offset:d}}return u},Q=function(t){var e=t.offset+t.length-1;return t.offset+"-"+e},Z={static:function(t){var e=t.duration,i=t.timescale,n=void 0===i?1:i,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/n))}},dynamic:function(t){var e=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,r=t.timescale,s=void 0===r?1:r,o=t.duration,a=t.start,l=void 0===a?0:a,u=t.minimumUpdatePeriod,c=void 0===u?0:u,h=t.timeShiftBufferDepth,d=void 0===h?1/0:h,f=(e+i)/1e3,p=n+l,m=f+c,g=m-p,y=Math.ceil(g*s/o),v=Math.floor((f-p-d)*s/o),b=Math.floor((f-p)*s/o);return{start:Math.max(0,v),end:Math.min(y,b)}}},J=function(t){return function(e,i){var n=t.duration,r=t.timescale,s=void 0===r?1:r,o=t.periodIndex,a=t.startNumber,l=void 0===a?1:a;return{number:l+e,duration:n/s,timeline:o,time:i*n}}},tt=function(t){var e=t.type,i=void 0===e?"static":e,n=t.duration,r=t.timescale,s=void 0===r?1:r,o=t.sourceDuration,a=Z[i](t),l=a.start,u=a.end,c=H(l,u).map(J(t));if("static"===i){var h=c.length-1;c[h].duration=o-n/s*h}return c},et=function(t){var e=t.baseUrl,i=t.initialization,n=void 0===i?{}:i,r=t.sourceDuration,s=t.timescale,o=void 0===s?1:s,a=t.indexRange,l=void 0===a?"":a,u=t.duration;if(!e)throw new Error(X.NO_BASE_URL);var c=K({baseUrl:e,source:n.sourceURL,range:n.range}),h=K({baseUrl:e,source:e,indexRange:l});if(h.map=c,u){var d=tt(t);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else r&&(h.duration=r/o,h.timeline=0);return h.number=0,[h]},it=function(t,e,i){for(var n=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,a=o.offset+o.length,l=e.timescale,u=e.references.filter((function(t){return 1!==t.referenceType})),c=[],h=a+e.firstOffset,d=0;d<u.length;d++){var f=e.references[d],p=f.referencedSize,m=f.subsegmentDuration,g=h+p-1,y=h+"-"+g,v={baseUrl:i,timescale:l,timeline:s,periodIndex:s,duration:m,sourceDuration:r,indexRange:y},b=et(v)[0];n&&(b.map=n),c.push(b),h+=p}return t.segments=c,t},nt=function(t){var e=z(t.reduce((function(t,e){var i,n=e.attributes.id+(e.attributes.lang||"");t[n]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(i=t[n].segments).push.apply(i,e.segments),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):t[n]=e;return t}),{}));return e.map((function(t){return t.discontinuityStarts=Y(t.segments,"discontinuity"),t}))},rt=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t){var n=t[i];if(n.sidx){var r=n.sidx.uri+"-"+Q(n.sidx.byterange),s=e[r]&&e[r].sidx;n.sidx&&s&&it(n,s,n.sidx.resolvedUri)}}return t},st=function(t){var e,i=t.attributes,n=t.segments,r=t.sidx,s={attributes:(e={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s},ot=function(t){var e,i=t.attributes,n=t.segments;return"undefined"===typeof n&&(n=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration),{attributes:(e={NAME:i.id,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1}},at=function(t,e){var i;void 0===e&&(e={});var n=t.reduce((function(t,n){var r=n.attributes.role&&n.attributes.role.value||"",s=n.attributes.lang||"",o="main";if(s){var a=r?" ("+r+")":"";o=""+n.attributes.lang+a}return t[o]&&t[o].playlists[0].attributes.BANDWIDTH>n.attributes.bandwidth||(t[o]={language:s,autoselect:!0,default:"main"===r,playlists:rt([st(n)],e),uri:""},"undefined"===typeof i&&"main"===r&&(i=n,i.default=!0)),t}),{});if(!i){var r=Object.keys(n)[0];n[r].default=!0}return n},lt=function(t,e){return void 0===e&&(e={}),t.reduce((function(t,i){var n=i.attributes.lang||"text";return t[n]||(t[n]={language:n,default:!1,autoselect:!1,playlists:rt([ot(i)],e),uri:""}),t}),{})},ut=function(t){var e,i=t.attributes,n=t.segments,r=t.sidx,s={attributes:(e={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s},ct=function(t,e){var i;if(void 0===e&&(e={}),!t.length)return{};var n=t[0].attributes,r=n.sourceDuration,s=n.type,o=void 0===s?"static":s,a=n.suggestedPresentationDelay,l=n.minimumUpdatePeriod,u=void 0===l?0:l,c=function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType},h=function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType},d=function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType},f=nt(t.filter(c)).map(ut),p=nt(t.filter(h)),m=t.filter(d),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:r,playlists:rt(f,e),minimumUpdatePeriod:1e3*u};return"dynamic"===o&&(g.suggestedPresentationDelay=a),p.length&&(g.mediaGroups.AUDIO.audio=at(p,e)),m.length&&(g.mediaGroups.SUBTITLES.subs=lt(m,e)),g},ht=function(t,e,i){var n=t.NOW,r=t.clientOffset,s=t.availabilityStartTime,o=t.timescale,a=void 0===o?1:o,l=t.start,u=void 0===l?0:l,c=t.minimumUpdatePeriod,h=void 0===c?0:c,d=(n+r)/1e3,f=s+u,p=d+h,m=p-f;return Math.ceil((m*a-e)/i)},dt=function(t,e){for(var i=t.type,n=void 0===i?"static":i,r=t.minimumUpdatePeriod,s=void 0===r?0:r,o=t.media,a=void 0===o?"":o,l=t.sourceDuration,u=t.timescale,c=void 0===u?1:u,h=t.startNumber,d=void 0===h?1:h,f=t.periodIndex,p=[],m=-1,g=0;g<e.length;g++){var y=e[g],v=y.d,b=y.r||0,_=y.t||0;m<0&&(m=_),_&&_>m&&(m=_);var S=void 0;if(b<0){var w=g+1;S=w===e.length?"dynamic"===n&&s>0&&a.indexOf("$Number$")>0?ht(t,m,v):(l*c-m)/v:(e[w].t-m)/v}else S=b+1;var T=d+p.length+S,x=d+p.length;while(x<T)p.push({number:x,duration:v/c,time:m,timeline:f}),m+=v,x++}return p},ft=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,pt=function(t){return function(e,i,n,r){if("$$"===e)return"$";if("undefined"===typeof t[i])return e;var s=""+t[i];return"RepresentationID"===i?s:(r=n?parseInt(r,10):1,s.length>=r?s:""+new Array(r-s.length+1).join("0")+s)}},mt=function(t,e){return t.replace(ft,pt(e))},gt=function(t,e){return t.duration||e?t.duration?tt(t):dt(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]},yt=function(t,e){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,r=void 0===n?{sourceURL:"",range:""}:n,s=K({baseUrl:t.baseUrl,source:mt(r.sourceURL,i),range:r.range}),o=gt(t,e);return o.map((function(e){i.Number=e.number,i.Time=e.time;var n=mt(t.media||"",i);return{uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:F()(t.baseUrl||"",n),map:s,number:e.number}}))},vt=function(t,e){var i=t.baseUrl,n=t.initialization,r=void 0===n?{}:n,s=K({baseUrl:i,source:r.sourceURL,range:r.range}),o=K({baseUrl:i,source:e.media,range:e.mediaRange});return o.map=s,o},bt=function(t,e){var i=t.duration,n=t.segmentUrls,r=void 0===n?[]:n;if(!i&&!e||i&&e)throw new Error(X.SEGMENT_TIME_UNSPECIFIED);var s,o=r.map((function(e){return vt(t,e)}));i&&(s=tt(t)),e&&(s=dt(t,e));var a=s.map((function(t,e){if(o[e]){var i=o[e];return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i}})).filter((function(t){return t}));return a},_t=function(t){var e,i,n=t.attributes,r=t.segmentInfo;r.template?(i=yt,e=W(n,r.template)):r.base?(i=et,e=W(n,r.base)):r.list&&(i=bt,e=W(n,r.list));var s={attributes:n};if(!i)return s;var o=i(e,r.timeline);if(e.duration){var a=e,l=a.duration,u=a.timescale,c=void 0===u?1:u;e.duration=l/c}else o.length?e.duration=o.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return s.attributes=e,s.segments=o,r.base&&e.indexRange&&(s.sidx=o[0],s.segments=[]),s},St=function(t){return t.map(_t)},wt=function(t,e){return $(t.childNodes).filter((function(t){var i=t.tagName;return i===e}))},Tt=function(t){return t.textContent.trim()},xt=function(t){var e=31536e3,i=2592e3,n=86400,r=3600,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,a=o.exec(t);if(!a)return 0;var l=a.slice(1),u=l[0],c=l[1],h=l[2],d=l[3],f=l[4],p=l[5];return parseFloat(u||0)*e+parseFloat(c||0)*i+parseFloat(h||0)*n+parseFloat(d||0)*r+parseFloat(f||0)*s+parseFloat(p||0)},Et=function(t){var e=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return e.test(t)&&(t+="Z"),Date.parse(t)},Ct={mediaPresentationDuration:function(t){return xt(t)},availabilityStartTime:function(t){return Et(t)/1e3},minimumUpdatePeriod:function(t){return xt(t)},suggestedPresentationDelay:function(t){return xt(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return xt(t)},start:function(t){return xt(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?xt(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},At=function(t){return t&&t.attributes?$(t.attributes).reduce((function(t,e){var i=Ct[e.name]||Ct.DEFAULT;return t[e.name]=i(e.value),t}),{}):{}},Pt={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Mt=function(t,e){return e.length?q(t.map((function(t){return e.map((function(e){return F()(t,Tt(e))}))}))):t},kt=function(t){var e=wt(t,"SegmentTemplate")[0],i=wt(t,"SegmentList")[0],n=i&&wt(i,"SegmentURL").map((function(t){return W({tag:"SegmentURL"},At(t))})),r=wt(t,"SegmentBase")[0],s=i||e,o=s&&wt(s,"SegmentTimeline")[0],a=i||r||e,l=a&&wt(a,"Initialization")[0],u=e&&At(e);u&&l?u.initialization=l&&At(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,timeline:o&&wt(o,"S").map((function(t){return At(t)})),list:i&&W(At(i),{segmentUrls:n,initialization:At(l)}),base:r&&W(At(r),{initialization:At(l)})};return Object.keys(c).forEach((function(t){c[t]||delete c[t]})),c},Lt=function(t,e,i){return function(n){var r=wt(n,"BaseURL"),s=Mt(e,r),o=W(t,At(n)),a=kt(n);return s.map((function(t){return{segmentInfo:W(i,a),attributes:W(o,{baseUrl:t})}}))}},It=function(t){return t.reduce((function(t,e){var i=At(e),n=Pt[i.schemeIdUri];if(n){t[n]={attributes:i};var r=wt(e,"cenc:pssh")[0];if(r){var s=Tt(r),o=s&&j()(s);t[n].pssh=o}}return t}),{})},Ot=function(t,e,i){return function(n){var r=At(n),s=Mt(e,wt(n,"BaseURL")),o=wt(n,"Role")[0],a={role:At(o)},l=W(t,r,a),u=It(wt(n,"ContentProtection"));Object.keys(u).length&&(l=W(l,{contentProtection:u}));var c=kt(n),h=wt(n,"Representation"),d=W(i,c);return q(h.map(Lt(l,s,d)))}},Rt=function(t,e){return function(i,n){var s=Mt(e,wt(i,"BaseURL")),o=At(i),a=parseInt(o.id,10),l=r.a.isNaN(a)?n:a,u=W(t,{periodIndex:l}),c=wt(i,"AdaptationSet"),h=kt(i);return q(c.map(Ot(u,s,h)))}},Nt=function(t,e){void 0===e&&(e={});var i=e,n=i.manifestUri,r=void 0===n?"":n,s=i.NOW,o=void 0===s?Date.now():s,a=i.clientOffset,l=void 0===a?0:a,u=wt(t,"Period");if(!u.length)throw new Error(X.INVALID_NUMBER_OF_PERIOD);var c=At(t),h=Mt([r],wt(t,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=o,c.clientOffset=l,q(u.map(Rt(c,h)))},Dt=function(t){if(""===t)throw new Error(X.DASH_EMPTY_MANIFEST);var e=new U["DOMParser"],i=e.parseFromString(t,"application/xml"),n=i&&"MPD"===i.documentElement.tagName?i.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(X.DASH_INVALID_XML);return n},Bt=function(t){var e=wt(t,"UTCTiming")[0];if(!e)return null;var i=At(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(X.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},Ft=function(t,e){return void 0===e&&(e={}),ct(St(Nt(Dt(t),e)),e.sidxMapping)},Vt=function(t){return Bt(Dt(t))},jt=i("9afa"),Ut=i.n(jt),Gt=i("2806"),Wt=i.n(Gt),zt=i("a8e0"),Ht=i.n(zt),qt=i("dc3e"),$t=i.n(qt);function Yt(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}var Xt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Kt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Qt=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Zt=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},Jt=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],i=t[1],n=e[4],r=i[4],s=void 0,o=void 0,a=void 0,l=[],u=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;for(s=0;s<256;s++)u[(l[s]=s<<1^283*(s>>7))^s]=s;for(o=a=0;!n[o];o^=c||1,a=u[a]||1)for(f=a^a<<1^a<<2^a<<3^a<<4,f=f>>8^255&f^99,n[o]=f,r[f]=o,d=l[h=l[c=l[o]]],m=16843009*d^65537*h^257*c^16843008*o,p=257*l[f]^16843008*f,s=0;s<4;s++)e[s][o]=p=p<<24^p>>>8,i[s][f]=m=m<<24^m>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),i[s]=i[s].slice(0);return t},te=null,ee=function(){function t(e){Xt(this,t),te||(te=Jt()),this._tables=[[te[0][0].slice(),te[0][1].slice(),te[0][2].slice(),te[0][3].slice(),te[0][4].slice()],[te[1][0].slice(),te[1][1].slice(),te[1][2].slice(),te[1][3].slice(),te[1][4].slice()]];var i=void 0,n=void 0,r=void 0,s=void 0,o=void 0,a=this._tables[0][4],l=this._tables[1],u=e.length,c=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(s=e.slice(0),o=[],this._key=[s,o],i=u;i<4*u+28;i++)r=s[i-1],(i%u===0||8===u&&i%u===4)&&(r=a[r>>>24]<<24^a[r>>16&255]<<16^a[r>>8&255]<<8^a[255&r],i%u===0&&(r=r<<8^r>>>24^c<<24,c=c<<1^283*(c>>7))),s[i]=s[i-u]^r;for(n=0;i;n++,i--)r=s[3&n?i:i-4],o[n]=i<=4||n<4?r:l[0][a[r>>>24]]^l[1][a[r>>16&255]]^l[2][a[r>>8&255]]^l[3][a[255&r]]}return t.prototype.decrypt=function(t,e,i,n,r,s){var o=this._key[1],a=t^o[0],l=n^o[1],u=i^o[2],c=e^o[3],h=void 0,d=void 0,f=void 0,p=o.length/4-2,m=void 0,g=4,y=this._tables[1],v=y[0],b=y[1],_=y[2],S=y[3],w=y[4];for(m=0;m<p;m++)h=v[a>>>24]^b[l>>16&255]^_[u>>8&255]^S[255&c]^o[g],d=v[l>>>24]^b[u>>16&255]^_[c>>8&255]^S[255&a]^o[g+1],f=v[u>>>24]^b[c>>16&255]^_[a>>8&255]^S[255&l]^o[g+2],c=v[c>>>24]^b[a>>16&255]^_[l>>8&255]^S[255&u]^o[g+3],g+=4,a=h,l=d,u=f;for(m=0;m<4;m++)r[(3&-m)+s]=w[a>>>24]<<24^w[l>>16&255]<<16^w[u>>8&255]<<8^w[255&c]^o[g++],h=a,a=l,l=u,u=c,c=h},t}(),ie=function(){function t(){Xt(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,o=0;o<s;++o)e[o].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),ne=function(t){function e(){Xt(this,e);var i=Zt(this,t.call(this,ie));return i.jobs=[],i.delay=1,i.timeout_=null,i}return Qt(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(ie),re=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},se=function(t,e,i){var n=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new ee(Array.prototype.slice.call(e)),s=new Uint8Array(t.byteLength),o=new Int32Array(s.buffer),a=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;for(a=i[0],l=i[1],u=i[2],c=i[3],m=0;m<n.length;m+=4)h=re(n[m]),d=re(n[m+1]),f=re(n[m+2]),p=re(n[m+3]),r.decrypt(h,d,f,p,o,m),o[m]=re(o[m]^a),o[m+1]=re(o[m+1]^l),o[m+2]=re(o[m+2]^u),o[m+3]=re(o[m+3]^c),a=h,l=d,u=f,c=p;return s},oe=function(){function t(e,i,n,r){Xt(this,t);var s=t.STEP,o=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),l=0;for(this.asyncStream_=new ne,this.asyncStream_.push(this.decryptChunk_(o.subarray(l,l+s),i,n,a)),l=s;l<o.length;l+=s)n=new Uint32Array([re(o[l-4]),re(o[l-3]),re(o[l-2]),re(o[l-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(l,l+s),i,n,a));this.asyncStream_.push((function(){r(null,Yt(a))}))}return t.prototype.decryptChunk_=function(t,e,i,n){return function(){var r=se(t,e,i);n.set(r,t.byteOffset)}},Kt(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}(),ae="7.8.3",le=[],ue=function(t,e){return function(i,n,s){var o=e.levels[n],a=new RegExp("^("+o+")$");if("log"!==i&&s.unshift(i.toUpperCase()+":"),s.unshift(t+":"),le){le.push([].concat(s));var l=le.length-1e3;le.splice(0,l>0?l:0)}if(r.a.console){var u=r.a.console[i];u||"debug"!==i||(u=r.a.console.info||r.a.console.log),u&&o&&a.test(i)&&u[Array.isArray(s)?"apply":"call"](r.a.console,s)}}};function ce(t){var e,i="info",n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e("log",i,n)};return e=ue(t,n),n.createLogger=function(e){return ce(t+": "+e)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},n.level=function(t){if("string"===typeof t){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');i=t}return i},n.history=function(){return le?[].concat(le):[]},n.history.filter=function(t){return(le||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},n.history.clear=function(){le&&(le.length=0)},n.history.disable=function(){null!==le&&(le.length=0,le=null)},n.history.enable=function(){null===le&&(le=[])},n.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e("error",i,n)},n.warn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e("warn",i,n)},n.debug=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e("debug",i,n)},n}var he=ce("VIDEOJS"),de=he.createLogger,fe=Object.prototype.toString,pe=function(t){return ve(t)?Object.keys(t):[]};function me(t,e){pe(t).forEach((function(i){return e(t[i],i)}))}function ge(t,e,i){return void 0===i&&(i=0),pe(t).reduce((function(i,n){return e(i,t[n],n)}),i)}function ye(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?l.a.apply(void 0,[t].concat(i)):(i.forEach((function(e){e&&me(e,(function(e,i){t[i]=e}))})),t)}function ve(t){return!!t&&"object"===typeof t}function be(t){return ve(t)&&"[object Object]"===fe.call(t)&&t.constructor===Object}function _e(t,e){if(!t||!e)return"";if("function"===typeof r.a.getComputedStyle){var i=r.a.getComputedStyle(t);return i?i.getPropertyValue(e)||i[e]:""}return""}function Se(t){return"string"===typeof t&&Boolean(t.trim())}function we(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Te(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function xe(){return o.a===r.a.document}function Ee(t){return ve(t)&&1===t.nodeType}function Ce(){try{return r.a.parent!==r.a.self}catch(t){return!0}}function Ae(t){return function(e,i){if(!Se(e))return o.a[t](null);Se(i)&&(i=o.a.querySelector(i));var n=Ee(i)?i:o.a;return n[t]&&n[t](e)}}function Pe(t,e,i,n){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===i&&(i={});var r=o.a.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var i=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(he.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+i+"."),r.setAttribute(t,i)):"textContent"===t?Me(r,i):r[t]!==i&&(r[t]=i)})),Object.getOwnPropertyNames(i).forEach((function(t){r.setAttribute(t,i[t])})),n&&Ye(r,n),r}function Me(t,e){return"undefined"===typeof t.textContent?t.innerText=e:t.textContent=e,t}function ke(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Le(t,e){return we(e),t.classList?t.classList.contains(e):Te(e).test(t.className)}function Ie(t,e){return t.classList?t.classList.add(e):Le(t,e)||(t.className=(t.className+" "+e).trim()),t}function Oe(t,e){return t.classList?t.classList.remove(e):(we(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function Re(t,e,i){var n=Le(t,e);if("function"===typeof i&&(i=i(t,e)),"boolean"!==typeof i&&(i=!n),i!==n)return i?Ie(t,e):Oe(t,e),t}function Ne(t,e){Object.getOwnPropertyNames(e).forEach((function(i){var n=e[i];null===n||"undefined"===typeof n||!1===n?t.removeAttribute(i):t.setAttribute(i,!0===n?"":n)}))}function De(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var s=n[r].name,o=n[r].value;"boolean"!==typeof t[s]&&-1===i.indexOf(","+s+",")||(o=null!==o),e[s]=o}return e}function Be(t,e){return t.getAttribute(e)}function Fe(t,e,i){t.setAttribute(e,i)}function Ve(t,e){t.removeAttribute(e)}function je(){o.a.body.focus(),o.a.onselectstart=function(){return!1}}function Ue(){o.a.onselectstart=function(){return!0}}function Ge(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(i[t]=e[t])})),i.height||(i.height=parseFloat(_e(t,"height"))),i.width||(i.width=parseFloat(_e(t,"width"))),i}}function We(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var i=o.a.documentElement,n=o.a.body,s=i.clientLeft||n.clientLeft||0,a=r.a.pageXOffset||n.scrollLeft,l=e.left+a-s,u=i.clientTop||n.clientTop||0,c=r.a.pageYOffset||n.scrollTop,h=e.top+c-u;return{left:Math.round(l),top:Math.round(h)}}function ze(t,e){var i={},n=We(t),r=t.offsetWidth,s=t.offsetHeight,o=n.top,a=n.left,l=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(o-l+s)/s)),i.x=Math.max(0,Math.min(1,(u-a)/r)),i}function He(t){return ve(t)&&3===t.nodeType}function qe(t){while(t.firstChild)t.removeChild(t.firstChild);return t}function $e(t){return"function"===typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"===typeof t&&(t=t()),Ee(t)||He(t)?t:"string"===typeof t&&/\S/.test(t)?o.a.createTextNode(t):void 0})).filter((function(t){return t}))}function Ye(t,e){return $e(e).forEach((function(e){return t.appendChild(e)})),t}function Xe(t,e){return Ye(qe(t),e)}function Ke(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||("mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons))}var Qe,Ze=Ae("querySelector"),Je=Ae("querySelectorAll"),ti=Object.freeze({__proto__:null,isReal:xe,isEl:Ee,isInFrame:Ce,createEl:Pe,textContent:Me,prependTo:ke,hasClass:Le,addClass:Ie,removeClass:Oe,toggleClass:Re,setAttributes:Ne,getAttributes:De,getAttribute:Be,setAttribute:Fe,removeAttribute:Ve,blockTextSelection:je,unblockTextSelection:Ue,getBoundingClientRect:Ge,findPosition:We,getPointerPosition:ze,isTextNode:He,emptyEl:qe,normalizeContent:$e,appendContent:Ye,insertContent:Xe,isSingleLeftClick:Ke,$:Ze,$$:Je}),ei=!1,ii=function(){if(xe()&&!1!==Qe.options.autoSetup){var t=Array.prototype.slice.call(o.a.getElementsByTagName("video")),e=Array.prototype.slice.call(o.a.getElementsByTagName("audio")),i=Array.prototype.slice.call(o.a.getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&n.length>0)for(var r=0,s=n.length;r<s;r++){var a=n[r];if(!a||!a.getAttribute){ni(1);break}if(void 0===a.player){var l=a.getAttribute("data-setup");null!==l&&Qe(a)}}else ei||ni(1)}};function ni(t,e){e&&(Qe=e),r.a.setTimeout(ii,t)}function ri(){ei=!0,r.a.removeEventListener("load",ri)}xe()&&("complete"===o.a.readyState?ri():r.a.addEventListener("load",ri));var si,oi=function(t){var e=o.a.createElement("style");return e.className=t,e},ai=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},li=3,ui=li;function ci(){return ui++}r.a.WeakMap||(si=function(){function t(){this.vdata="vdata"+Math.floor(r.a.performance&&r.a.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(t,e){var i=t[this.vdata]||ci();return t[this.vdata]||(t[this.vdata]=i),this.data[i]=e,this},e.get=function(t){var e=t[this.vdata];if(e)return this.data[e];he("We have no data for this element",t)},e.has=function(t){var e=t[this.vdata];return e in this.data},e["delete"]=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},t}());var hi,di=r.a.WeakMap?new WeakMap:new si;function fi(t,e){if(di.has(t)){var i=di.get(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&di["delete"](t)}}function pi(t,e,i,n){i.forEach((function(i){t(e,i,n)}))}function mi(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped){var n=t||r.a.event;for(var s in t={},n)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&n.preventDefault||(t[s]=n[s]));if(t.target||(t.target=t.srcElement||o.a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var a=o.a.documentElement,l=o.a.body;t.pageX=t.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var gi=function(){if("boolean"!==typeof hi){hi=!1;try{var t=Object.defineProperty({},"passive",{get:function(){hi=!0}});r.a.addEventListener("test",null,t),r.a.removeEventListener("test",null,t)}catch(e){}}return hi},yi=["touchstart","touchmove"];function vi(t,e,i){if(Array.isArray(e))return pi(vi,t,e,i);di.has(t)||di.set(t,{});var n=di.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=ci()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=mi(e);var r=n.handlers[e.type];if(r)for(var s=r.slice(0),o=0,a=s.length;o<a;o++){if(e.isImmediatePropagationStopped())break;try{s[o].call(t,e,i)}catch(l){he.error(l)}}}}),1===n.handlers[e].length)if(t.addEventListener){var r=!1;gi()&&yi.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function bi(t,e,i){if(di.has(t)){var n=di.get(t);if(n.handlers){if(Array.isArray(e))return pi(bi,t,e,i);var r=function(t,e){n.handlers[e]=[],fi(t,e)};if(void 0!==e){var s=n.handlers[e];if(s)if(i){if(i.guid)for(var o=0;o<s.length;o++)s[o].guid===i.guid&&s.splice(o--,1);fi(t,e)}else r(t,e)}else for(var a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&r(t,a)}}}function _i(t,e,i){var n=di.has(t)?di.get(t):{},r=t.parentNode||t.ownerDocument;if("string"===typeof e?e={type:e,target:t}:e.target||(e.target=t),e=mi(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&!0===e.bubbles)_i.call(null,r,e,i);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){di.has(e.target)||di.set(e.target,{});var s=di.get(e.target);e.target[e.type]&&(s.disabled=!0,"function"===typeof e.target[e.type]&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function Si(t,e,i){if(Array.isArray(e))return pi(Si,t,e,i);var n=function n(){bi(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||ci(),vi(t,e,n)}function wi(t,e,i){var n=function n(){bi(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||ci(),vi(t,e,n)}var Ti,xi=Object.freeze({__proto__:null,fixEvent:mi,on:vi,off:bi,trigger:_i,one:Si,any:wi}),Ei=30,Ci=function(t,e,i){e.guid||(e.guid=ci());var n=e.bind(t);return n.guid=i?i+"_"+e.guid:e.guid,n},Ai=function(t,e){var i=r.a.performance.now(),n=function(){var n=r.a.performance.now();n-i>=e&&(t.apply(void 0,arguments),i=n)};return n},Pi=function(t,e,i,n){var s;void 0===n&&(n=r.a);var o=function(){n.clearTimeout(s),s=null},a=function(){var r=this,o=arguments,a=function(){s=null,a=null,i||t.apply(r,o)};!s&&i&&t.apply(r,o),n.clearTimeout(s),s=n.setTimeout(a,e)};return a.cancel=o,a},Mi=function(){};Mi.prototype.allowedEvents_={},Mi.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},vi(this,t,e),this.addEventListener=i},Mi.prototype.addEventListener=Mi.prototype.on,Mi.prototype.off=function(t,e){bi(this,t,e)},Mi.prototype.removeEventListener=Mi.prototype.off,Mi.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Si(this,t,e),this.addEventListener=i},Mi.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},wi(this,t,e),this.addEventListener=i},Mi.prototype.trigger=function(t){var e=t.type||t;"string"===typeof t&&(t={type:e}),t=mi(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),_i(this,t)},Mi.prototype.dispatchEvent=Mi.prototype.trigger,Mi.prototype.queueTrigger=function(t){var e=this;Ti||(Ti=new Map);var i=t.type||t,n=Ti.get(this);n||(n=new Map,Ti.set(this,n));var s=n.get(i);n["delete"](i),r.a.clearTimeout(s);var o=r.a.setTimeout((function(){0===n.size&&(n=null,Ti["delete"](e)),e.trigger(t)}),0);n.set(i,o)};var ki=function(t){return t instanceof Mi||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"===typeof t[e]}))},Li=function(t,e){ki(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Ii=function(t){return"string"===typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Oi=function(t){if(!t.nodeName&&!ki(t))throw new Error("Invalid target; must be a DOM node or evented object.")},Ri=function(t){if(!Ii(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Ni=function(t){if("function"!==typeof t)throw new Error("Invalid listener; must be a function.")},Di=function(t,e){var i,n,r,s=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return s?(i=t.eventBusEl_,e.length>=3&&e.shift(),n=e[0],r=e[1]):(i=e[0],n=e[1],r=e[2]),Oi(i),Ri(n),Ni(r),r=Ci(t,r),{isTargetingSelf:s,target:i,type:n,listener:r}},Bi=function(t,e,i,n){Oi(t),t.nodeName?xi[e](t,i,n):t[e](i,n)},Fi={on:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=Di(this,i),s=r.isTargetingSelf,o=r.target,a=r.type,l=r.listener;if(Bi(o,"on",a,l),!s){var u=function(){return t.off(o,a,l)};u.guid=l.guid;var c=function(){return t.off("dispose",u)};c.guid=l.guid,Bi(this,"on","dispose",u),Bi(o,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=Di(this,i),s=r.isTargetingSelf,o=r.target,a=r.type,l=r.listener;if(s)Bi(o,"one",a,l);else{var u=function e(){t.off(o,a,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];l.apply(null,n)};u.guid=l.guid,Bi(o,"one",a,u)}},any:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=Di(this,i),s=r.isTargetingSelf,o=r.target,a=r.type,l=r.listener;if(s)Bi(o,"any",a,l);else{var u=function e(){t.off(o,a,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];l.apply(null,n)};u.guid=l.guid,Bi(o,"any",a,u)}},off:function(t,e,i){if(!t||Ii(t))bi(this.eventBusEl_,t,e);else{var n=t,r=e;Oi(n),Ri(r),Ni(i),i=Ci(this,i),this.off("dispose",i),n.nodeName?(bi(n,r,i),bi(n,"dispose",i)):ki(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(t,e){return _i(this.eventBusEl_,t,e)}};function Vi(t,e){void 0===e&&(e={});var i=e,n=i.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=Pe("span",{className:"vjs-event-bus"});return ye(t,Fi),t.eventedCallbacks&&t.eventedCallbacks.forEach((function(t){t()})),t.on("dispose",(function(){t.off(),r.a.setTimeout((function(){t.eventBusEl_=null}),0)})),t}var ji={state:{},setState:function(t){var e,i=this;return"function"===typeof t&&(t=t()),me(t,(function(t,n){i.state[n]!==t&&(e=e||{},e[n]={from:i.state[n],to:t}),i.state[n]=t})),e&&ki(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Ui(t,e){return ye(t,ji),t.state=ye({},t.state,e),"function"===typeof t.handleStateChanged&&ki(t)&&t.on("statechanged",t.handleStateChanged),t}var Gi=function(t){return"string"!==typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},Wi=function(t){return"string"!==typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},zi=function(t,e){return Wi(t)===Wi(e)};function Hi(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){e&&me(e,(function(e,i){be(e)?(be(t[i])||(t[i]={}),t[i]=Hi(t[i],e)):t[i]=e}))})),t}var qi=function(){function t(t,e,i){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Hi({},this.options_),e=this.options_=Hi(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var n=t&&t.id&&t.id()||"no_player";this.id_=n+"_component_"+ci()}var s;this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&Vi(this,{eventBusKey:this.el_?"el_":null}),Ui(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},r.a.Set||(s=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e["delete"]=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var i in this.set_)t.call(e,i,i,this)},t}()),this.setTimeoutIds_=r.a.Set?new Set:new s,this.setIntervalIds_=r.a.Set?new Set:new s,this.rafIds_=r.a.Set?new Set:new s,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(i),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),di.has(this.el_)&&di["delete"](this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(t){return t?(this.options_=Hi(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,i){return Pe(t,e,i)},e.localize=function(t,e,i){void 0===i&&(i=t);var n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[n],o=n&&n.split("-")[0],a=r&&r[o],l=i;return s&&s[t]?l=s[t]:a&&a[t]&&(l=a[t]),e&&(l=l.replace(/\{(\d+)\}/g,(function(t,i){var n=e[i-1],r=n;return"undefined"===typeof n&&(r=t),r}))),l},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return this.childNameIndex_[t]},e.getDescendant=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.reduce((function(t,e){return t.concat(e)}),[]);for(var n=this,r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n},e.addChild=function(e,i,n){var r,s;if(void 0===i&&(i={}),void 0===n&&(n=this.children_.length),"string"===typeof e){s=Wi(e);var o=i.componentClass||s;i.name=s;var a=t.getComponent(o);if(!a)throw new Error("Component "+o+" does not exist");if("function"!==typeof a)return null;r=new a(this.player_||this,i)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(n,0,r),r.parentComponent_=this,"function"===typeof r.id&&(this.childIndex_[r.id()]=r),s=s||r.name&&Wi(r.name()),s&&(this.childNameIndex_[s]=r,this.childNameIndex_[Gi(s)]=r),"function"===typeof r.el&&r.el()){var l=null;this.children_[n+1]&&(this.children_[n+1].el_?l=this.children_[n+1].el_:Ee(this.children_[n+1])&&(l=this.children_[n+1])),this.contentEl().insertBefore(r.el(),l)}return r},e.removeChild=function(t){if("string"===typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[Wi(t.name())]=null,this.childNameIndex_[Gi(t.name())]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,i=this.options_.children;if(i){var n,r=this.options_,s=function(t){var i=t.name,n=t.opts;if(void 0!==r[i]&&(n=r[i]),!1!==n){!0===n&&(n={}),n.playerOptions=e.options_.playerOptions;var s=e.addChild(i,n);s&&(e[i]=s)}},o=t.getComponent("Tech");n=Array.isArray(i)?i:Object.keys(i),n.concat(Object.keys(this.options_).filter((function(t){return!n.some((function(e){return"string"===typeof e?t===e:t===e.name}))}))).map((function(t){var n,r;return"string"===typeof t?(n=t,r=i[n]||e.options_[n]||{}):(n=t.name,r=t),{name:n,opts:r}})).filter((function(e){var i=t.getComponent(e.opts.componentClass||Wi(e.name));return i&&!o.isTech(i)})).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},e.$=function(t,e){return Ze(t,e||this.contentEl())},e.$$=function(t,e){return Je(t,e||this.contentEl())},e.hasClass=function(t){return Le(this.el_,t)},e.addClass=function(t){Ie(this.el_,t)},e.removeClass=function(t){Oe(this.el_,t)},e.toggleClass=function(t,e){Re(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return Be(this.el_,t)},e.setAttribute=function(t,e){Fe(this.el_,t,e)},e.removeAttribute=function(t){Ve(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[t],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+Wi(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=_e(this.el_,t),e=parseFloat(e),0===e||isNaN(e)){var i="offset"+Wi(t);e=this.el_[i]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},e.handleKeyPress=function(t){this.handleKeyDown(t)},e.emitTapEvents=function(){var t,e=0,i=null,n=10,s=200;this.on("touchstart",(function(n){1===n.touches.length&&(i={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=r.a.performance.now(),t=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)t=!1;else if(i){var r=e.touches[0].pageX-i.pageX,s=e.touches[0].pageY-i.pageY,o=Math.sqrt(r*r+s*s);o>n&&(t=!1)}}));var o=function(){t=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",(function(n){if(i=null,!0===t){var o=r.a.performance.now()-e;o<s&&(n.preventDefault(),this.trigger("tap"))}}))},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=Ci(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}},e.setTimeout=function(t,e){var i,n=this;return t=Ci(this,t),this.clearTimersOnDispose_(),i=r.a.setTimeout((function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_["delete"](i),t()}),e),this.setTimeoutIds_.add(i),i},e.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_["delete"](t),r.a.clearTimeout(t)),t},e.setInterval=function(t,e){t=Ci(this,t),this.clearTimersOnDispose_();var i=r.a.setInterval(t,e);return this.setIntervalIds_.add(i),i},e.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_["delete"](t),r.a.clearInterval(t)),t},e.requestAnimationFrame=function(t){var e,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=Ci(this,t),e=r.a.requestAnimationFrame((function(){i.rafIds_.has(e)&&i.rafIds_["delete"](e),t()})),this.rafIds_.add(e),e):this.setTimeout(t,1e3/60)},e.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_["delete"](t),r.a.cancelAnimationFrame(t)),t):this.clearTimeout(t)},e.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var i=e[0],n=e[1];t[i].forEach(t[n],t)})),t.clearingTimersOnDispose_=!1})))},t.registerComponent=function(e,i){if("string"!==typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n,r=t.getComponent("Tech"),s=r&&r.isTech(i),o=t===i||t.prototype.isPrototypeOf(i.prototype);if(s||!o)throw n=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+n+".");e=Wi(e),t.components_||(t.components_={});var a=t.getComponent("Player");if("Player"===e&&a&&a.players){var l=a.players,u=Object.keys(l);if(l&&u.length>0&&u.map((function(t){return l[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=i,t.components_[Gi(e)]=i,i},t.getComponent=function(e){if(e&&t.components_)return t.components_[e]},t}();qi.prototype.supportsRaf_="function"===typeof r.a.requestAnimationFrame&&"function"===typeof r.a.cancelAnimationFrame,qi.registerComponent("Component",qi);var $i=r.a.navigator&&r.a.navigator.userAgent||"",Yi=/AppleWebKit\/([\d.]+)/i.exec($i),Xi=Yi?parseFloat(Yi.pop()):null,Ki=/iPod/i.test($i),Qi=function(){var t=$i.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Zi=/Android/i.test($i),Ji=function(){var t=$i.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),tn=Zi&&Ji<5&&Xi<537,en=/Firefox/i.test($i),nn=/Edg/i.test($i),rn=!nn&&(/Chrome/i.test($i)||/CriOS/i.test($i)),sn=function(){var t=$i.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),on=function(){var t=/MSIE\s(\d+)\.\d/.exec($i),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test($i)&&/rv:11.0/.test($i)&&(e=11),e}(),an=/Safari/i.test($i)&&!rn&&!Zi&&!nn,ln=/Windows/i.test($i),un=xe()&&("ontouchstart"in r.a||r.a.navigator.maxTouchPoints||r.a.DocumentTouch&&r.a.document instanceof r.a.DocumentTouch),cn=/iPad/i.test($i)||an&&un&&!/iPhone/i.test($i),hn=/iPhone/i.test($i)&&!cn,dn=hn||cn||Ki,fn=(an||dn)&&!rn,pn=Object.freeze({__proto__:null,IS_IPOD:Ki,IOS_VERSION:Qi,IS_ANDROID:Zi,ANDROID_VERSION:Ji,IS_NATIVE_ANDROID:tn,IS_FIREFOX:en,IS_EDGE:nn,IS_CHROME:rn,CHROME_VERSION:sn,IE_VERSION:on,IS_SAFARI:an,IS_WINDOWS:ln,TOUCH_ENABLED:un,IS_IPAD:cn,IS_IPHONE:hn,IS_IOS:dn,IS_ANY_SAFARI:fn});function mn(t,e,i){if("number"!==typeof e||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function gn(t,e,i,n){return mn(t,n,i.length-1),i[n][e]}function yn(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:gn.bind(null,"start",0,t),end:gn.bind(null,"end",1,t)}}function vn(t,e){return Array.isArray(t)?yn(t):void 0===t||void 0===e?yn():yn([[t,e]])}function bn(t,e){var i,n,r=0;if(!e)return 0;t&&t.length||(t=vn(0,0));for(var s=0;s<t.length;s++)i=t.start(s),n=t.end(s),n>e&&(n=e),r+=n-i;return r/e}for(var _n,Sn={prefixed:!0},wn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Tn=wn[0],xn=0;xn<wn.length;xn++)if(wn[xn][1]in o.a){_n=wn[xn];break}if(_n){for(var En=0;En<_n.length;En++)Sn[Tn[En]]=_n[En];Sn.prefixed=_n[0]!==Tn[0]}function Cn(t){if(t instanceof Cn)return t;"number"===typeof t?this.code=t:"string"===typeof t?this.message=t:ve(t)&&("number"===typeof t.code&&(this.code=t.code),ye(this,t)),this.message||(this.message=Cn.defaultMessages[this.code]||"")}Cn.prototype.code=0,Cn.prototype.message="",Cn.prototype.status=null,Cn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Cn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var An=0;An<Cn.errorTypes.length;An++)Cn[Cn.errorTypes[An]]=An,Cn.prototype[Cn.errorTypes[An]]=An;function Pn(t){return void 0!==t&&null!==t&&"function"===typeof t.then}function Mn(t){Pn(t)&&t.then(null,(function(t){}))}var kn=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,i,n){return t[i]&&(e[i]=t[i]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))});return e},Ln=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,(function(t){return t.track})),n=Array.prototype.map.call(e,(function(t){var e=kn(t.track);return t.src&&(e.src=t.src),e}));return n.concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(kn))},In=function(t,e){return t.forEach((function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),e.textTracks()},On={textTracksToJson:Ln,jsonToTextTracks:In,trackToJson_:kn},Rn="vjs-modal-dialog",Nn=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=Pe("div",{className:Rn+"-content"},{role:"document"}),n.descEl_=Pe("p",{className:Rn+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),Me(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return Rn+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},i.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(t){return"boolean"===typeof t&&this[t?"open":"close"](),this.opened_},i.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(t){if("boolean"===typeof t){var e=this.closeable_=!!t,i=this.getChild("closeButton");if(e&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!e&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),Xe(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},i.empty=function(){this.trigger("beforemodalempty"),qe(this.contentEl()),this.trigger("modalempty")},i.content=function(t){return"undefined"!==typeof t&&(this.content_=t),this.content_},i.conditionalFocus_=function(){var t=o.a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(t){if(t.stopPropagation(),g.a.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(g.a.isEventKey(t,"Tab")){for(var e,i=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=0;r<i.length;r++)if(n===i[r]){e=r;break}o.a.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||e!==i.length-1||(i[0].focus(),t.preventDefault())}},i.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof r.a.HTMLAnchorElement||t instanceof r.a.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof r.a.HTMLInputElement||t instanceof r.a.HTMLSelectElement||t instanceof r.a.HTMLTextAreaElement||t instanceof r.a.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof r.a.HTMLIFrameElement||t instanceof r.a.HTMLObjectElement||t instanceof r.a.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},e}(qi);Nn.prototype.options_={pauseOnOpen:!0,temporary:!0},qi.registerComponent("ModalDialog",Nn);var Dn=function(t){function e(e){var i;void 0===e&&(e=[]),i=t.call(this)||this,i.tracks_=[],Object.defineProperty(c()(i),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<e.length;n++)i.addTrack(e[n]);return i}d()(e,t);var i=e.prototype;return i.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},i.removeTrack=function(t){for(var e,i=0,n=this.length;i<n;i++)if(this[i]===t){e=this[i],e.off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},i.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(Mi);for(var Bn in Dn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Dn.prototype.allowedEvents_)Dn.prototype["on"+Bn]=null;var Fn=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)},Vn=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].enabled){Fn(e,e[n]);break}return i=t.call(this,e)||this,i.changing_=!1,i}d()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.enabled&&Fn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){i.changing_||(i.changing_=!0,Fn(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Dn),jn=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].selected=!1)},Un=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].selected){jn(e,e[n]);break}return i=t.call(this,e)||this,i.changing_=!1,Object.defineProperty(c()(i),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),i}d()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.selected&&jn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){i.changing_||(i.changing_=!0,jn(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Dn),Gn=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return i.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);var n=["metadata","chapters"];-1===n.indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Dn),Wn=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,i=t.length;e<i;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},e.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"===typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"===typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),zn=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)r.call(this,i)},e.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}(),Hn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},qn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},$n={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Yn={disabled:"disabled",hidden:"hidden",showing:"showing"},Xn=function(t){function e(e){var i;void 0===e&&(e={}),i=t.call(this)||this;var n={id:e.id||"vjs_track_"+ci(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(c()(i),t,{get:function(){return n[t]},set:function(){}})};for(var s in n)r(s);return i}return d()(e,t),e}(Mi),Kn=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=o.a.createElement("a");i.href=t;var n,s=""===i.host&&"file:"!==i.protocol;s&&(n=o.a.createElement("div"),n.innerHTML='<a href="'+t+'"></a>',i=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),o.a.body.appendChild(n));for(var a={},l=0;l<e.length;l++)a[e[l]]=i[e[l]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=r.a.location.protocol),s&&o.a.body.removeChild(n),a},Qn=function(t){if(!t.match(/^https?:\/\//)){var e=o.a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Zn=function(t){if("string"===typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=e.exec(t);if(i)return i.pop().toLowerCase()}return""},Jn=function(t,e){void 0===e&&(e=r.a.location);var i=Kn(t),n=":"===i.protocol?e.protocol:i.protocol,s=n+i.host!==e.protocol+e.host;return s},tr=Object.freeze({__proto__:null,parseUrl:Kn,getAbsoluteURL:Qn,getFileExtension:Zn,isCrossOrigin:Jn}),er=function(t,e){var i=new r.a.WebVTT.Parser(r.a,r.a.vttjs,r.a.WebVTT.StringDecoder()),n=[];i.oncue=function(t){e.addCue(t)},i.onparsingerror=function(t){n.push(t)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(r.a.console&&r.a.console.groupCollapsed&&r.a.console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach((function(t){return he.error(t)})),r.a.console&&r.a.console.groupEnd&&r.a.console.groupEnd()),i.flush()},ir=function(t,e){var i={uri:t},n=Jn(t);n&&(i.cors=n),v()(i,Ci(this,(function(t,i,n){if(t)return he.error(t,i);e.loaded_=!0,"function"!==typeof r.a.WebVTT?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return er(n,e);he.error("vttjs failed to load, stopping trying to process "+e.src)})):er(n,e)})))},nr=function(t){function e(e){var i;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var n=Hi(e,{kind:$n[e.kind]||"subtitles",language:e.language||e.srclang||""}),r=Yn[n.mode]||"disabled",s=n["default"];"metadata"!==n.kind&&"chapters"!==n.kind||(r="hidden"),i=t.call(this,n)||this,i.tech_=n.tech,i.cues_=[],i.activeCues_=[],i.preload_=!1!==i.tech_.preloadTextTracks;var o=new zn(i.cues_),a=new zn(i.activeCues_),l=!1,u=Ci(c()(i),(function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)}));return"disabled"!==r&&i.tech_.ready((function(){i.tech_.on("timeupdate",u)}),!0),Object.defineProperties(c()(i),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;Yn[t]&&(r=t,this.preload_||"disabled"===r||0!==this.cues.length||ir(this.src,this),"disabled"!==r?this.tech_.ready((function(){e.tech_.on("timeupdate",u)}),!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?o:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(l=!1,e.length!==this.activeCues_.length)l=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(l=!0);return this.activeCues_=e,a.setCues_(this.activeCues_),a},set:function(){}}}),n.src?(i.src=n.src,i.preload_||(i.loaded_=!0),(i.preload_||s||"subtitles"!==n.kind&&"captions"!==n.kind)&&ir(i.src,c()(i))):i.loaded_=!0,i}d()(e,t);var i=e.prototype;return i.addCue=function(t){var e=t;if(r.a.vttjs&&!(t instanceof r.a.vttjs.VTTCue)){for(var i in e=new r.a.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in e||(e[i]=t[i]);e.id=t.id,e.originalCue_=t}for(var n=this.tech_.textTracks(),s=0;s<n.length;s++)n[s]!==this&&n[s].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},i.removeCue=function(t){var e=this.cues_.length;while(e--){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(Xn);nr.prototype.allowedEvents_={cuechange:"cuechange"};var rr=function(t){function e(e){var i;void 0===e&&(e={});var n=Hi(e,{kind:qn[e.kind]||""});i=t.call(this,n)||this;var r=!1;return Object.defineProperty(c()(i),"enabled",{get:function(){return r},set:function(t){"boolean"===typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return d()(e,t),e}(Xn),sr=function(t){function e(e){var i;void 0===e&&(e={});var n=Hi(e,{kind:Hn[e.kind]||""});i=t.call(this,n)||this;var r=!1;return Object.defineProperty(c()(i),"selected",{get:function(){return r},set:function(t){"boolean"===typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return d()(e,t),e}(Xn),or=0,ar=1,lr=2,ur=3,cr=function(t){function e(e){var i,n;void 0===e&&(e={}),i=t.call(this)||this;var r=new nr(e);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i["default"]=r["default"],Object.defineProperties(c()(i),{readyState:{get:function(){return n}},track:{get:function(){return r}}}),n=or,r.addEventListener("loadeddata",(function(){n=lr,i.trigger({type:"load",target:c()(i)})})),i}return d()(e,t),e}(Mi);cr.prototype.allowedEvents_={load:"load"},cr.NONE=or,cr.LOADING=ar,cr.LOADED=lr,cr.ERROR=ur;var hr={audio:{ListClass:Vn,TrackClass:rr,capitalName:"Audio"},video:{ListClass:Un,TrackClass:sr,capitalName:"Video"},text:{ListClass:Gn,TrackClass:nr,capitalName:"Text"}};Object.keys(hr).forEach((function(t){hr[t].getterName=t+"Tracks",hr[t].privateName=t+"Tracks_"}));var dr={remoteText:{ListClass:Gn,TrackClass:nr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Wn,TrackClass:cr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},fr=l()({},hr,dr);function pr(t,e,i,n,r){void 0===r&&(r={});var s=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var o=new fr.text.TrackClass(r);return s.addTrack(o),o}dr.names=Object.keys(dr),hr.names=Object.keys(hr),fr.names=[].concat(dr.names).concat(hr.names);var mr=function(t){function e(e,i){var n;return void 0===e&&(e={}),void 0===i&&(i=function(){}),e.reportTouchActivity=!1,n=t.call(this,null,e,i)||this,n.hasStarted_=!1,n.on("playing",(function(){this.hasStarted_=!0})),n.on("loadstart",(function(){this.hasStarted_=!1})),fr.names.forEach((function(t){var i=fr[t];e&&e[i.getterName]&&(n[i.privateName]=e[i.getterName])})),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===e["native"+t+"Tracks"]&&(n["featuresNative"+t+"Tracks"]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==e.preloadTextTracks,n.autoRemoteTextTracks_=new fr.text.ListClass,n.initTrackListeners(),e.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}d()(e,t);var i=e.prototype;return i.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},i.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ci(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},i.onDurationChange=function(t){this.duration_=this.duration()},i.buffered=function(){return vn(0,0)},i.bufferedPercent=function(){return bn(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(hr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach((function(t){var i=e[t+"Tracks"]()||[],n=i.length;while(n--){var r=i[n];"text"===t&&e.removeRemoteTextTrack(r),i.removeTrack(r)}}))},i.cleanupAutoTextTracks=function(){var t=this.autoRemoteTextTracks_||[],e=t.length;while(e--){var i=t[e];this.removeRemoteTextTrack(i)}},i.reset=function(){},i.error=function(t){return void 0!==t&&(this.error_=new Cn(t),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?vn(0,0):vn()},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var t=this;hr.names.forEach((function(e){var i=hr[e],n=function(){t.trigger(e+"trackchange")},r=t[i.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.on("dispose",(function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)}))}))},i.addWebVttScript_=function(){var t=this;if(!r.a.WebVTT)if(o.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&be(_.a)&&Object.keys(_.a).length>0)return void this.trigger("vttjsloaded");var e=o.a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){e.onload=null,e.onerror=null})),r.a.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var t=this,e=this.textTracks(),i=this.remoteTextTracks(),n=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var s=function(){return t.trigger("texttrackchange")},o=function(){s();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",(function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(var t=0;t<e.length;t++){var a=e[t];a.removeEventListener("cuechange",s)}}))},i.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return pr(this,t,e,i)},i.createRemoteTextTrack=function(t){var e=Hi(t,{tech:this});return new dr.remoteTextEl.TrackClass(e)},i.addRemoteTextTrack=function(t,e){var i=this;void 0===t&&(t={});var n=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(he.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==e&&this.ready((function(){return i.autoRemoteTextTracks_.addTrack(n.track)})),n},i.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var t=this.options_.Promise||r.a.Promise;if(t)return t.reject()},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,i){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,i){if(e.techs_||(e.techs_={}),!e.isTech(i))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Wi(t),e.techs_[t]=i,e.techs_[Gi(t)]=i,"Tech"!==t&&e.defaultTechOrder_.push(t),i},e.getTech=function(t){if(t)return e.techs_&&e.techs_[t]?e.techs_[t]:(t=Wi(t),r.a&&r.a.videojs&&r.a.videojs[t]?(he.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r.a.videojs[t]):void 0)},e}(qi);fr.names.forEach((function(t){var e=fr[t];mr.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),mr.prototype.featuresVolumeControl=!0,mr.prototype.featuresMuteControl=!0,mr.prototype.featuresFullscreenResize=!1,mr.prototype.featuresPlaybackRate=!1,mr.prototype.featuresProgressEvents=!1,mr.prototype.featuresSourceset=!1,mr.prototype.featuresTimeupdateEvents=!1,mr.prototype.featuresNativeTextTracks=!1,mr.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i,n=t.sourceHandlers||[],r=0;r<n.length;r++)if(i=n[r].canPlayType(e),i)return i;return""},t.selectSourceHandler=function(e,i){for(var n,r=t.sourceHandlers||[],s=0;s<r.length;s++)if(n=r[s].canHandleSource(e,i),n)return r[s];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""};var e=["seekable","seeking","duration"];e.forEach((function(t){var e=this[t];"function"===typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:he.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},qi.registerComponent("Tech",mr),mr.registerTech("Tech",mr),mr.defaultTechOrder_=[];var gr={},yr={},vr={};function br(t,e){gr[t]=gr[t]||[],gr[t].push(e)}function _r(t,e,i){t.setTimeout((function(){return Ir(e,gr[e.type],i,t)}),1)}function Sr(t,e){t.forEach((function(t){return t.setTech&&t.setTech(e)}))}function wr(t,e,i){return t.reduceRight(Pr(i),e[i]())}function Tr(t,e,i,n){return e[i](t.reduce(Pr(i),n))}function xr(t,e,i,n){void 0===n&&(n=null);var r="call"+Wi(i),s=t.reduce(Pr(r),n),o=s===vr,a=o?null:e[i](s);return Mr(t,i,a,o),a}var Er={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Cr={setCurrentTime:1,setMuted:1,setVolume:1},Ar={play:1,pause:1};function Pr(t){return function(e,i){return e===vr?vr:i[t]?i[t](e):e}}function Mr(t,e,i,n){for(var r=t.length-1;r>=0;r--){var s=t[r];s[e]&&s[e](n,i)}}function kr(t){yr[t.id()]=null}function Lr(t,e){var i=yr[t.id()],n=null;if(void 0===i||null===i)return n=e(t),yr[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var s=i[r],o=s[0],a=s[1];o===e&&(n=a)}return null===n&&(n=e(t),i.push([e,n])),n}function Ir(t,e,i,n,r,s){void 0===t&&(t={}),void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===s&&(s=!1);var o=e,a=o[0],l=o.slice(1);if("string"===typeof a)Ir(t,gr[a],i,n,r,s);else if(a){var u=Lr(n,a);if(!u.setSource)return r.push(u),Ir(t,l,i,n,r,s);u.setSource(ye({},t),(function(e,o){if(e)return Ir(t,l,i,n,r,s);r.push(u),Ir(o,t.type===o.type?l:gr[o.type],i,n,r,s)}))}else l.length?Ir(t,l,i,n,r,s):s?i(t,r):Ir(t,gr["*"],i,n,r,!0)}var Or={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Rr=function(t){void 0===t&&(t="");var e=Zn(t),i=Or[e.toLowerCase()];return i||""},Nr=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter((function(t){return t.src===e}));if(i.length)return i[0].type;for(var n=t.$$("source"),r=0;r<n.length;r++){var s=n[r];if(s.type&&s.src&&s.src===e)return s.type}return Rr(e)},Dr=function t(e){if(Array.isArray(e)){var i=[];e.forEach((function(e){e=t(e),Array.isArray(e)?i=i.concat(e):ve(e)&&i.push(e)})),e=i}else e="string"===typeof e&&e.trim()?[Br({src:e})]:ve(e)&&"string"===typeof e.src&&e.src&&e.src.trim()?[Br(e)]:[];return e};function Br(t){if(!t.type){var e=Rr(t.src);e&&(t.type=e)}return t}var Fr=function(t){function e(e,i,n){var r,s=Hi({createEl:!1},i);if(r=t.call(this,e,s,n)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)e.src(i.playerOptions.sources);else for(var o=0,a=i.playerOptions.techOrder;o<a.length;o++){var l=Wi(a[o]),u=mr.getTech(l);if(l||(u=qi.getComponent(l)),u&&u.isSupported()){e.loadTech_(l);break}}return r}return d()(e,t),e}(qi);qi.registerComponent("MediaLoader",Fr);var Vr=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.emitTapEvents(),n.enable(),n}d()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===n&&(n={}),i=ye({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===e&&he.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=ye({role:"button"},n),this.tabIndex_=i.tabIndex;var r=t.prototype.createEl.call(this,e,i,n);return this.createControlTextEl(r),r},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(t){return this.controlTextEl_=Pe("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},i.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);this.controlText_=t,Me(this.controlTextEl_,i),this.nonIconControl||e.setAttribute("title",i)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},i.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(e){g.a.isEventKey(e,"Space")||g.a.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(qi);qi.registerComponent("ClickableComponent",Vr);var jr=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update(),e.on("posterchange",Ci(c()(n),n.update)),n}d()(e,t);var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},i.createEl=function(){var t=Pe("div",{className:"vjs-poster",tabIndex:-1});return t},i.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},i.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},i.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(on||nn)&&e||this.player_.tech(!0).focus(),this.player_.paused()?Mn(this.player_.play()):this.player_.pause()}},e}(Vr);qi.registerComponent("PosterImage",jr);var Ur="#222",Gr="#ccc",Wr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function zr(t,e){var i;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Hr(t,e,i){try{t.style[e]=i}catch(n){return}}var qr=function(t){function e(e,i,n){var s;s=t.call(this,e,i,n)||this;var o=Ci(c()(s),s.updateDisplay);return e.on("loadstart",Ci(c()(s),s.toggleDisplay)),e.on("texttrackchange",o),e.on("loadedmetadata",Ci(c()(s),s.preselectTrack)),e.ready(Ci(c()(s),(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",o),e.on("playerresize",o),r.a.addEventListener("orientationchange",o),e.on("dispose",(function(){return r.a.removeEventListener("orientationchange",o)}));for(var t=this.options_.playerOptions.tracks||[],i=0;i<t.length;i++)this.player_.addRemoteTextTrack(t[i],!0);this.preselectTrack()}}))),s}d()(e,t);var i=e.prototype;return i.preselectTrack=function(){for(var t,e,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o=0;o<r.length;o++){var a=r[o];s&&s.enabled&&s.language&&s.language===a.language&&a.kind in n?a.kind===s.kind?i=a:i||(i=a):s&&!s.enabled?(i=null,t=null,e=null):a["default"]&&("descriptions"!==a.kind||t?a.kind in n&&!e&&(e=a):t=a)}i?i.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"===typeof r.a.WebVTT&&r.a.WebVTT.processCues(r.a,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var i=[],n=0;n<t.length;++n){var r=t[n];"showing"===r.mode&&i.push(r)}this.updateForTrack(i)}else{var s=null,o=null,a=t.length;while(a--){var l=t[a];"showing"===l.mode&&("descriptions"===l.kind?s=l:o=l)}o?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(o)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},i.updateDisplayState=function(t){var e=this.player_.textTrackSettings.getValues(),i=t.activeCues,n=i.length;while(n--){var s=i[n];if(s){var o=s.displayState;if(e.color&&(o.firstChild.style.color=e.color),e.textOpacity&&Hr(o.firstChild,"color",zr(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(o.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&Hr(o.firstChild,"backgroundColor",zr(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?Hr(o,"backgroundColor",zr(e.windowColor,e.windowOpacity)):o.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+Ur+", 2px 2px 4px "+Ur+", 2px 2px 5px "+Ur:"raised"===e.edgeStyle?o.firstChild.style.textShadow="1px 1px "+Ur+", 2px 2px "+Ur+", 3px 3px "+Ur:"depressed"===e.edgeStyle?o.firstChild.style.textShadow="1px 1px "+Gr+", 0 1px "+Gr+", -1px -1px "+Ur+", 0 -1px "+Ur:"uniform"===e.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+Ur+", 0 0 4px "+Ur+", 0 0 4px "+Ur+", 0 0 4px "+Ur)),e.fontPercent&&1!==e.fontPercent){var a=r.a.parseFloat(o.style.fontSize);o.style.fontSize=a*e.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Wr[e.fontFamily])}}},i.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"===typeof r.a.WebVTT&&!t.every((function(t){return!t.activeCues}))){for(var e=[],i=0;i<t.length;++i)for(var n=t[i],s=0;s<n.activeCues.length;++s)e.push(n.activeCues[s]);r.a.WebVTT.processCues(r.a,e,this.el_);for(var o=0;o<t.length;++o){for(var a=t[o],l=0;l<a.activeCues.length;++l){var u=a.activeCues[l].displayState;Ie(u,"vjs-text-track-cue"),Ie(u,"vjs-text-track-cue-"+(a.language?a.language:o))}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},e}(qi);qi.registerComponent("TextTrackDisplay",qr);var $r=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.createEl=function(){var e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=Pe("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(n),r},e}(qi);qi.registerComponent("LoadingSpinner",$r);var Yr=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.createEl=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i={}),t="button",e=ye({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),i=ye({type:"button"},i);var n=qi.prototype.createEl.call(this,t,e,i);return this.createControlTextEl(n),n},i.addChild=function(t,e){void 0===e&&(e={});var i=this.constructor.name;return he.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),qi.prototype.addChild.call(this,t,e)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){g.a.isEventKey(e,"Space")||g.a.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(Vr);qi.registerComponent("Button",Yr);var Xr=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Mn(e),void(!this.player_.tech(!0)||(on||nn)&&i||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var s=function(){return r.focus()};Pn(e)?e.then(s,(function(){})):this.setTimeout(s,1)}else this.player_.tech(!0).focus()},i.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},i.handleMouseDown=function(t){this.mouseused_=!0},e}(Yr);Xr.prototype.controlText_="Play Video",qi.registerComponent("BigPlayButton",Xr);var Kr=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.controlText(i&&i.controlText||n.localize("Close")),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(e){g.a.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(Yr);qi.registerComponent("CloseButton",Kr);var Qr=function(t){function e(e,i){var n;return void 0===i&&(i={}),n=t.call(this,e,i)||this,i.replay=void 0===i.replay||i.replay,n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),i.replay&&n.on(e,"ended",n.handleEnded),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},i.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(Yr);Qr.prototype.controlText_="Play",qi.registerComponent("PlayToggle",Qr);var Zr=function(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),r=r>0||o>0?r+":":"",n=((r||s>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,r+n+i},Jr=Zr;function ts(t){Jr=t}function es(){Jr=Zr}function is(t,e){return void 0===e&&(e=t),Jr(t,e)}var ns=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,["timeupdate","ended"],n.updateContent),n.updateTextNode_(),n}d()(e,t);var i=e.prototype;return i.createEl=function(){var e=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=Pe("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),i.appendChild(this.contentEl_),i},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=is(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestAnimationFrame((function(){if(e.contentEl_){var t=e.textNode_;e.textNode_=o.a.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},i.updateContent=function(t){},e}(qi);ns.prototype.labelText_="Time",ns.prototype.controlText_="Time",qi.registerComponent("TimeDisplay",ns);var rs=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(ns);rs.prototype.labelText_="Current Time",rs.prototype.controlText_="Current Time",qi.registerComponent("CurrentTimeDisplay",rs);var ss=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,"durationchange",n.updateContent),n.on(e,"loadstart",n.updateContent),n.on(e,"loadedmetadata",n.updateContent),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(ns);ss.prototype.labelText_="Duration",ss.prototype.controlText_="Duration",qi.registerComponent("DurationDisplay",ss);var os=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(qi);qi.registerComponent("TimeDivider",os);var as=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,"durationchange",n.updateContent),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(Pe("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},i.updateContent=function(t){var e;"number"===typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(ns);as.prototype.labelText_="Remaining Time",as.prototype.controlText_="Remaining Time",qi.registerComponent("RemainingTimeDisplay",as);var ls=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}d()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Pe("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(qi);qi.registerComponent("LiveDisplay",ls);var us=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.updateLiveEdgeStatus(),n.player_.liveTracker&&n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatus),n}d()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Pe("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(Yr);us.prototype.controlText_="Seek to live, currently playing live",qi.registerComponent("SeekToLive",us);var cs=function(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))},hs=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}d()(e,t);var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(e,i,n){return void 0===i&&(i={}),void 0===n&&(n={}),i.className=i.className+" vjs-slider",i=ye({tabIndex:0},i),n=ye({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},i.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||rn||t.preventDefault(),je(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;Ue(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},i.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestAnimationFrame((function(){var i=t.vertical()?"height":"width";t.bar.el().style[i]=(100*e).toFixed(2)+"%"}))),e}},i.getProgress=function(){return Number(cs(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(t){var e=ze(this.el_,t);return this.vertical()?e.y:e.x},i.handleKeyDown=function(e){g.a.isEventKey(e,"Left")||g.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):g.a.isEventKey(e,"Right")||g.a.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(t){t.stopPropagation(),t.preventDefault()},i.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(qi);qi.registerComponent("Slider",hs);var ds=function(t,e){return cs(t/e*100,0,100).toFixed(2)+"%"},fs=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.partEls_=[],n.on(e,"progress",n.update),n}d()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=Pe("span",{className:"vjs-control-text"}),n=Pe("span",{textContent:this.localize("Loaded")}),r=o.a.createTextNode(": ");return this.percentageEl_=Pe("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(n),i.appendChild(r),i.appendChild(this.percentageEl_),e},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(t){var e=this;this.requestAnimationFrame((function(){var t=e.player_.liveTracker,i=e.player_.buffered(),n=t&&t.isLive()?t.seekableEnd():e.player_.duration(),r=e.player_.bufferedEnd(),s=e.partEls_,o=ds(r,n);e.percent_!==o&&(e.el_.style.width=o,Me(e.percentageEl_,o),e.percent_=o);for(var a=0;a<i.length;a++){var l=i.start(a),u=i.end(a),c=s[a];c||(c=e.el_.appendChild(Pe()),s[a]=c),c.dataset.start===l&&c.dataset.end===u||(c.dataset.start=l,c.dataset.end=u,c.style.left=ds(l,r),c.style.width=ds(u-l,r))}for(var h=s.length;h>i.length;h--)e.el_.removeChild(s[h-1]);s.length=i.length}))},e}(qi);qi.registerComponent("LoadProgressBar",fs);var ps=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update=Ai(Ci(c()(n),n.update),Ei),n}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(t,e,i){var n=Ge(this.el_),r=Ge(this.player_.el()),s=t.width*e;if(r&&n){var o=t.left-r.left+s,a=t.width-s+(r.right-t.right),l=n.width/2;o<l?l+=l-o:a<l&&(l=a),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",this.write(i)}},i.write=function(t){Me(this.el_,t)},i.updateTime=function(t,e,i,n){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var s,o=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var a=r.player_.liveTracker.liveWindow(),l=a-e*a;s=(l<1?"":"-")+is(l,a)}else s=is(i,o);r.update(t,e,s),n&&n()}))},e}(qi);qi.registerComponent("TimeTooltip",ps);var ms=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update=Ai(Ci(c()(n),n.update),Ei),n}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(t,e){var i=this.getChild("timeTooltip");if(i){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(t,e,n)}},e}(qi);ms.prototype.options_={children:[]},dn||Zi||ms.prototype.options_.children.push("timeTooltip"),qi.registerComponent("PlayProgressBar",ms);var gs=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.update=Ai(Ci(c()(n),n.update),Ei),n}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(t,e){var i=this,n=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,n,(function(){i.el_.style.left=t.width*e+"px"}))},e}(qi);gs.prototype.options_={children:["timeTooltip"]},qi.registerComponent("MouseTimeDisplay",gs);var ys=5,vs=12,bs=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.setEventHandlers_(),n}d()(e,t);var i=e.prototype;return i.setEventHandlers_=function(){this.update_=Ci(this,this.update),this.update=Ai(this.update_,Ei),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in o.a&&"visibilityState"in o.a&&this.on(o.a,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(t){o.a.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ei))},i.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var i=this,n=t.prototype.update.call(this);return this.requestAnimationFrame((function(){var t=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),e=i.player_.liveTracker,r=i.player_.duration();e&&e.isLive()&&(r=i.player_.liveTracker.liveCurrentTime()),i.percent_!==n&&(i.el_.setAttribute("aria-valuenow",(100*n).toFixed(2)),i.percent_=n),i.currentTime_===t&&i.duration_===r||(i.el_.setAttribute("aria-valuetext",i.localize("progress bar timing: currentTime={1} duration={2}",[is(t,r),is(r,r)],"{1} of {2}")),i.currentTime_=t,i.duration_=r),i.bar&&i.bar.update(Ge(i.el()),i.getProgress())})),n},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t,e=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},i.handleMouseDown=function(e){Ke(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(t){if(Ke(t)){var e,i=this.calculateDistance(t),n=this.player_.liveTracker;if(n&&n.isLive()){if(i>=.99)return void n.seekToLiveEdge();var r=n.seekableStart(),s=n.liveCurrentTime();if(e=r+i*n.liveWindow(),e>=s&&(e=s),e<=r&&(e=r+.1),e===1/0)return}else e=i*this.player_.duration(),e===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Mn(this.player_.play()):this.update_()},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+ys)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-ys)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){if(g.a.isEventKey(e,"Space")||g.a.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(g.a.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(g.a.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(g()(e))){e.preventDefault(),e.stopPropagation();var i=10*(g.a.codes[g()(e)]-g.a.codes["0"])/100;this.player_.currentTime(this.player_.duration()*i)}else g.a.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-ys*vs)):g.a.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+ys*vs)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in o.a&&"visibilityState"in o.a&&this.off(o.a,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(hs);bs.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},dn||Zi||bs.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),qi.registerComponent("SeekBar",bs);var _s=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.handleMouseMove=Ai(Ci(c()(n),n.handleMouseMove),Ei),n.throttledHandleMouseSeek=Ai(Ci(c()(n),n.handleMouseSeek),Ei),n.enable(),n}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var i=e.getChild("playProgressBar"),n=e.getChild("mouseTimeDisplay");if(i||n){var r=e.el(),s=Ge(r),o=ze(r,t).x;o=cs(0,1,o),n&&n.update(s,o),i&&i.update(s,e.getProgress())}}},i.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},i.enabled=function(){return this.enabled_},i.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},i.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.handleMouseDown=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(qi);_s.prototype.options_={children:["seekBar"]},qi.registerComponent("ProgressControl",_s);var Ss=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,["enterpictureinpicture","leavepictureinpicture"],n.handlePictureInPictureChange),o.a.pictureInPictureEnabled||n.disable(),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},i.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Yr);Ss.prototype.controlText_="Picture-in-Picture",qi.registerComponent("PictureInPictureToggle",Ss);var ws=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,"fullscreenchange",n.handleFullscreenChange),!1===o.a[e.fsApi_.fullscreenEnabled]&&n.disable(),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Yr);ws.prototype.controlText_="Fullscreen",qi.registerComponent("FullscreenToggle",ws);var Ts=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},xs=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(qi);qi.registerComponent("VolumeLevel",xs);var Es=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready((function(){return n.updateARIAAttributes()})),n}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(e){Ke(e)&&t.prototype.handleMouseDown.call(this,e)},i.handleMouseMove=function(t){Ke(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(hs);Es.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Es.prototype.playerEvent="volumechange",qi.registerComponent("VolumeBar",Es);var Cs=function(t){function e(e,i){var n;return void 0===i&&(i={}),i.vertical=i.vertical||!1,("undefined"===typeof i.volumeBar||be(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),n=t.call(this,e,i)||this,Ts(c()(n),e),n.throttledHandleMouseMove=Ai(Ci(c()(n),n.handleMouseMove),Ei),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],(function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")})),n.on(n.volumeBar,["blur","sliderinactive"],(function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")})),n}d()(e,t);var i=e.prototype;return i.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},i.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},i.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(qi);Cs.prototype.options_={children:["volumeBar"]},qi.registerComponent("VolumeControl",Cs);var As=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},Ps=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,As(c()(n),e),n.on(e,["loadstart","volumechange"],n.update),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){var e=this.player_.volume(),i=this.player_.lastVolume_();if(0===e){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(t){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var t=this.player_.volume(),e=3;dn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var i=0;i<4;i++)Oe(this.el_,"vjs-vol-"+i);Ie(this.el_,"vjs-vol-"+e)},i.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(Yr);Ps.prototype.controlText_="Mute",qi.registerComponent("MuteToggle",Ps);var Ms=function(t){function e(e,i){var n;return void 0===i&&(i={}),"undefined"!==typeof i.inline?i.inline=i.inline:i.inline=!0,("undefined"===typeof i.volumeControl||be(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),n=t.call(this,e,i)||this,n.on(e,["loadstart"],n.volumePanelState_),n.on(n.muteToggle,"keyup",n.handleKeyPress),n.on(n.volumeControl,"keyup",n.handleVolumeControlKeyUp),n.on("keydown",n.handleKeyPress),n.on("mouseover",n.handleMouseOver),n.on("mouseout",n.handleMouseOut),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}d()(e,t);var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(t){g.a.isEventKey(t,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(t){this.addClass("vjs-hover"),vi(o.a,"keyup",Ci(this,this.handleKeyPress))},i.handleMouseOut=function(t){this.removeClass("vjs-hover"),bi(o.a,"keyup",Ci(this,this.handleKeyPress))},i.handleKeyPress=function(t){g.a.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(qi);Ms.prototype.options_={children:["muteToggle","volumeControl"]},qi.registerComponent("VolumePanel",Ms);var ks=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,i&&(n.menuButton_=i.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyDown),n.boundHandleBlur_=Ci(c()(n),n.handleBlur),n.boundHandleTapClick_=Ci(c()(n),n.handleTapClick),n}d()(e,t);var i=e.prototype;return i.addEventListenerForItem=function(t){t instanceof qi&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(t){t instanceof qi&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"===typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=Pe(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),vi(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(t){var e=t.relatedTarget||o.a.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var i=this.menuButton_;i&&i.buttonPressed_&&e!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var i=e.filter((function(e){return e.el()===t.target}))[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(t){g.a.isEventKey(t,"Left")||g.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(g.a.isEventKey(t,"Right")||g.a.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var e=this.children().slice(),i=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);i&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(qi);qi.registerComponent("Menu",ks);var Ls=function(t){function e(e,i){var n;void 0===i&&(i={}),n=t.call(this,e,i)||this,n.menuButton_=new Yr(e,i),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var r=Yr.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+r,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"keydown",n.handleKeyDown),n.on(n.menuButton_,"mouseenter",(function(){n.addClass("vjs-hover"),n.menu.show(),vi(o.a,"keyup",Ci(c()(n),n.handleMenuKeyUp))})),n.on("mouseleave",n.handleMouseLeave),n.on("keydown",n.handleSubmenuKeyDown),n}d()(e,t);var i=e.prototype;return i.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var t=new ks(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=Pe("li",{className:"vjs-menu-title",innerHTML:Wi(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var i=new qi(this.player_,{el:e});t.addItem(i)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var i=Yr.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+i+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(t){this.removeClass("vjs-hover"),bi(o.a,"keyup",Ci(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(t){g.a.isEventKey(t,"Esc")||g.a.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),g.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(g.a.isEventKey(t,"Up")||g.a.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(t){(g.a.isEventKey(t,"Esc")||g.a.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},i.handleSubmenuKeyDown=function(t){(g.a.isEventKey(t,"Esc")||g.a.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),g.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),dn&&Ce())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(qi);qi.registerComponent("MenuButton",Ls);var Is=function(t){function e(e,i){var n,r=i.tracks;if(n=t.call(this,e,i)||this,n.items.length<=1&&n.hide(),!r)return c()(n);var s=Ci(c()(n),n.update);return r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),n.player_.on("ready",s),n.player_.on("dispose",(function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s)})),n}return d()(e,t),e}(Ls);qi.registerComponent("TrackButton",Is);var Os=["Tab","Esc","Up","Down","Right","Left"],Rs=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.selectable=i.selectable,n.isSelected_=i.selected||!1,n.multiSelectable=i.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}d()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",ye({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},i.handleKeyDown=function(e){Os.some((function(t){return g.a.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Vr);qi.registerComponent("MenuItem",Rs);var Ns=function(t){function e(e,i){var n,s=i.track,a=e.textTracks();i.label=s.label||s.language||"Unknown",i.selected="showing"===s.mode,n=t.call(this,e,i)||this,n.track=s,n.kinds=(i.kinds||[i.kind||n.track.kind]).filter(Boolean);var l,u=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(c()(n),e)},h=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleSelectedLanguageChange.apply(c()(n),e)};(e.on(["loadstart","texttrackchange"],u),a.addEventListener("change",u),a.addEventListener("selectedlanguagechange",h),n.on("dispose",(function(){e.off(["loadstart","texttrackchange"],u),a.removeEventListener("change",u),a.removeEventListener("selectedlanguagechange",h)})),void 0===a.onchange)&&n.on(["tap","click"],(function(){if("object"!==typeof r.a.Event)try{l=new r.a.Event("change")}catch(t){}l||(l=o.a.createEvent("Event"),l.initEvent("change",!0,!0)),a.dispatchEvent(l)}));return n.handleTracksChange(),n}d()(e,t);var i=e.prototype;return i.handleClick=function(e){var i=this.track,n=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),n)for(var r=0;r<n.length;r++){var s=n[r];-1!==this.kinds.indexOf(s.kind)&&(s===i?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},i.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},i.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Rs);qi.registerComponent("TextTrackMenuItem",Ns);var Ds=function(t){function e(e,i){return i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,t.call(this,e,i)||this}d()(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(this.options_.kinds.indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},i.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Ns);qi.registerComponent("OffTextTrackMenuItem",Ds);var Bs=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.textTracks(),t.call(this,e,i)||this}d()(e,t);var i=e.prototype;return i.createItems=function(t,e){var i;void 0===t&&(t=[]),void 0===e&&(e=Ns),this.label_&&(i=this.label_+" off"),t.push(new Ds(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var s=n[r];if(this.kinds_.indexOf(s.kind)>-1){var o=new e(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+s.kind+"-menu-item"),t.push(o)}}return t},e}(Is);qi.registerComponent("TextTrackButton",Bs);var Fs=function(t){function e(e,i){var n,r=i.track,s=i.cue,o=e.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=s.text,i.selected=s.startTime<=o&&o<s.endTime,n=t.call(this,e,i)||this,n.track=r,n.cue=s,r.addEventListener("cuechange",Ci(c()(n),n.update)),n}d()(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(Rs);qi.registerComponent("ChaptersTrackMenuItem",Fs);var Vs=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Wi(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],s=new Fs(this.player_,{track:this.track_,cue:r});t.push(s)}return t},e}(Bs);Vs.prototype.kind_="chapters",Vs.prototype.controlText_="Chapters",qi.registerComponent("ChaptersButton",Vs);var js=function(t){function e(e,i,n){var r;r=t.call(this,e,i,n)||this;var s=e.textTracks(),o=Ci(c()(r),r.handleTracksChange);return s.addEventListener("change",o),r.on("dispose",(function(){s.removeEventListener("change",o)})),r}d()(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Bs);js.prototype.kind_="descriptions",js.prototype.controlText_="Descriptions",qi.registerComponent("DescriptionsButton",js);var Us=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Bs);Us.prototype.kind_="subtitles",Us.prototype.controlText_="Subtitles",qi.registerComponent("SubtitlesButton",Us);var Gs=function(t){function e(e,i){var n;return i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",n=t.call(this,e,i)||this,n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+i.kind+" settings dialog"),n}d()(e,t);var i=e.prototype;return i.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Ns);qi.registerComponent("CaptionSettingsMenuItem",Gs);var Ws=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Gs(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Bs);Ws.prototype.kind_="captions",Ws.prototype.controlText_="Captions",qi.registerComponent("CaptionsButton",Ws);var zs=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>";var s=t.prototype.createEl.call(this,e,ye({innerHTML:r},i),n);return s},e}(Ns);qi.registerComponent("SubsCapsMenuItem",zs);var Hs=function(t){function e(e,i){var n;return void 0===i&&(i={}),n=t.call(this,e,i)||this,n.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(Wi(n.label_)),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Gs(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,zs),e},e}(Bs);Hs.prototype.kinds_=["captions","subtitles"],Hs.prototype.controlText_="Subtitles",qi.registerComponent("SubsCapsButton",Hs);var qs=function(t){function e(e,i){var n,r=i.track,s=e.audioTracks();i.label=r.label||r.language||"Unknown",i.selected=r.enabled,n=t.call(this,e,i)||this,n.track=r,n.addClass("vjs-"+r.kind+"-menu-item");var o=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(c()(n),e)};return s.addEventListener("change",o),n.on("dispose",(function(){s.removeEventListener("change",o)})),n}d()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>";var s=t.prototype.createEl.call(this,e,ye({innerHTML:r},i),n);return s},i.handleClick=function(e){var i=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var n=0;n<i.length;n++){var r=i[n];r.enabled=r===this.track}},i.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Rs);qi.registerComponent("AudioTrackMenuItem",qs);var $s=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.audioTracks(),t.call(this,e,i)||this}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];t.push(new qs(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},e}(Is);$s.prototype.controlText_="Audio Track",qi.registerComponent("AudioTrackButton",$s);var Ys=function(t){function e(e,i){var n,r=i.rate,s=parseFloat(r,10);return i.label=r,i.selected=1===s,i.selectable=!0,i.multiSelectable=!1,n=t.call(this,e,i)||this,n.label=r,n.rate=s,n.on(e,"ratechange",n.update),n}d()(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Rs);Ys.prototype.contentElType="button",qi.registerComponent("PlaybackRateMenuItem",Ys);var Xs=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}d()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=Pe("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createMenu=function(){var t=new ks(this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new Ys(this.player(),{rate:e[i]+"x"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>e){n=i[r];break}this.player().playbackRate(n)},i.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Ls);Xs.prototype.controlText_="Playback Rate",qi.registerComponent("PlaybackRateMenuButton",Xs);var Ks=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(qi);qi.registerComponent("Spacer",Ks);var Qs=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(Ks);qi.registerComponent("CustomControlSpacer",Qs);var Zs=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(qi);Zs.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in o.a&&Zs.prototype.options_.children.splice(Zs.prototype.options_.children.length-1,0,"pictureInPictureToggle"),qi.registerComponent("ControlBar",Zs);var Js=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.on(e,"error",n.open),n}d()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Nn);Js.prototype.options_=l()({},Nn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),qi.registerComponent("ErrorDisplay",Js);var to="vjs-text-track-settings",eo=["#000","Black"],io=["#00F","Blue"],no=["#0FF","Cyan"],ro=["#0F0","Green"],so=["#F0F","Magenta"],oo=["#F00","Red"],ao=["#FFF","White"],lo=["#FF0","Yellow"],uo=["1","Opaque"],co=["0.5","Semi-Transparent"],ho=["0","Transparent"],fo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[eo,ao,oo,ro,io,lo,so,no]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[uo,co,ho]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ao,eo,oo,ro,io,lo,so,no]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[uo,co]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ho,co,uo]}};function po(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function mo(t,e){var i=t.options[t.options.selectedIndex].value;return po(i,e)}function go(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(po(t.options[n].value,i)===e){t.selectedIndex=n;break}}fo.windowColor.options=fo.backgroundColor.options;var yo=function(t){function e(e,i){var n;return i.temporary=!1,n=t.call(this,e,i)||this,n.updateDisplay=Ci(c()(n),n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=Pe("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===i.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",(function(){n.saveSettings(),n.close()})),n.on(n.$(".vjs-default-button"),"click",(function(){n.setDefaults(),n.updateDisplay()})),me(fo,(function(t){n.on(n.$(t.selector),"change",n.updateDisplay)})),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}d()(e,t);var i=e.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(t,e,i){var n=this;void 0===e&&(e=""),void 0===i&&(i="label");var r=fo[t],s=r.id.replace("%s",this.id_),o=[e,s].join(" ").trim();return["<"+i+' id="'+s+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+o+'">'].concat(r.options.map((function(t){var e=s+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+o+" "+e+'">',n.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},i.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Pe("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Pe("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var t=this.localize("restore all settings to the default values");return Pe("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var t=this;return ge(fo,(function(e,i,n){var r=mo(t.$(i.selector),i.parser);return void 0!==r&&(e[n]=r),e}),{})},i.setValues=function(t){var e=this;me(fo,(function(i,n){go(e.$(i.selector),t[n],i.parser)}))},i.setDefaults=function(){var t=this;me(fo,(function(e){var i=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=i}))},i.restoreSettings=function(){var t;try{t=JSON.parse(r.a.localStorage.getItem(to))}catch(e){he.warn(e)}t&&this.setValues(t)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?r.a.localStorage.setItem(to,JSON.stringify(t)):r.a.localStorage.removeItem(to)}catch(e){he.warn(e)}}},i.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,i=t&&t.captionsButton;e?e.focus():i&&i.focus()},e}(Nn);qi.registerComponent("TextTrackSettings",yo);var vo=function(t){function e(e,i){var n,s=i.ResizeObserver||r.a.ResizeObserver;null===i.ResizeObserver&&(s=!1);var o=Hi({createEl:!s,reportTouchActivity:!1},i);return n=t.call(this,e,o)||this,n.ResizeObserver=i.ResizeObserver||r.a.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=Pi((function(){n.resizeHandler()}),100,!1,c()(n)),s?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(e.el())):(n.loadListener_=function(){if(n.el_&&n.el_.contentWindow){var t=n.debouncedHandler_,e=n.unloadListener_=function(){bi(this,"resize",t),bi(this,"unload",e),e=null};vi(n.el_.contentWindow,"unload",e),vi(n.el_.contentWindow,"resize",t)}},n.one("load",n.loadListener_)),n}d()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(qi);qi.registerComponent("ResizeManager",vo);var bo={trackingThreshold:30,liveTolerance:15},_o=function(t){function e(e,i){var n,r=Hi(bo,i,{createEl:!1});return n=t.call(this,e,r)||this,n.reset_(),n.on(n.player_,"durationchange",n.handleDurationchange),on&&"hidden"in o.a&&"visibilityState"in o.a&&n.on(o.a,"visibilitychange",n.handleVisibilityChange),n}d()(e,t);var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(o.a.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var t=this.player_.seekable();if(t&&t.length){var e=Number(r.a.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(e-this.lastTime_)/1e3;this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+i;var n=this.liveCurrentTime(),s=this.player_.currentTime(),o=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-s)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,Ei),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},i.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&t>2,this.skipNextSeeked_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},i.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){var t=this.player_.seekable(),e=[],i=t?t.length:0;while(i--)e.push(t.end(i));return e.length?e.sort()[e.length-1]:1/0},i.seekableStart=function(){var t=this.player_.seekable(),e=[],i=t?t.length:0;while(i--)e.push(t.start(i));return e.length?e.sort()[0]:0},i.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"===typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(o.a,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),t.prototype.dispose.call(this)},e}(qi);qi.registerComponent("LiveTracker",_o);var So,wo=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],r="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&-1===n.indexOf(o)&&n.push(o)}return!!n.length&&(1===n.length&&(r=n[0]),t.triggerSourceset(r),!0)},To=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=o.a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;var i=o.a.createDocumentFragment();while(e.childNodes.length)i.appendChild(e.childNodes[0]);return this.innerText="",r.a.Element.prototype.appendChild.call(this,i),this.innerHTML}}),xo=function(t,e){for(var i={},n=0;n<t.length;n++)if(i=Object.getOwnPropertyDescriptor(t[n],e),i&&i.set&&i.get)break;return i.enumerable=!0,i.configurable=!0,i},Eo=function(t){return xo([t.el(),r.a.HTMLMediaElement.prototype,r.a.Element.prototype,To],"innerHTML")},Co=function(t){var e=t.el();if(!e.resetSourceWatch_){var i={},n=Eo(t),r=function(i){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var o=i.apply(e,r);return wo(t),o}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){e[t]&&(i[t]=e[t],e[t]=r(i[t]))})),Object.defineProperty(e,"innerHTML",Hi(n,{set:r(n.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(i).forEach((function(t){e[t]=i[t]})),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)}},Ao=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Qn(r.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return r.a.Element.prototype.setAttribute.call(this,"src",t),t}}),Po=function(t){return xo([t.el(),r.a.HTMLMediaElement.prototype,Ao],"src")},Mo=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var i=Po(t),n=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Hi(i,{set:function(n){var r=i.set.call(e,n);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(i,r){var s=n.call(e,i,r);return/src/i.test(i)&&t.triggerSourceset(e.src),s},e.load=function(){var i=r.call(e);return wo(t)||(t.triggerSourceset(""),Co(t)),i},e.currentSrc?t.triggerSourceset(e.currentSrc):wo(t)||Co(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},ko=function(t,e,i,n){void 0===n&&(n=!0);var r=function(i){return Object.defineProperty(t,e,{value:i,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var t=i();return r(t),t}};return n&&(s.set=r),Object.defineProperty(t,e,s)},Lo=function(t){function e(e,i){var n;n=t.call(this,e,i)||this;var r=e.source,s=!1;if(r&&(n.el_.currentSrc!==r.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(r):n.handleLateInit_(n.el_),e.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){var o=n.el_.childNodes,a=o.length,l=[];while(a--){var u=o[a],c=u.nodeName.toLowerCase();"track"===c&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(u),n.remoteTextTracks().addTrack(u.track),n.textTracks().addTrack(u.track),s||n.el_.hasAttribute("crossorigin")||!Jn(u.src)||(s=!0)):l.push(u))}for(var h=0;h<l.length;h++)n.el_.removeChild(l[h])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&s&&he.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),n.restoreMetadataTracksInIOSNativePlayer_(),(un||hn||tn)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}d()(e,t);var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){Mo(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),i=function(){t=[];for(var i=0;i<e.length;i++){var n=e[i];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};i(),e.addEventListener("change",i),this.on("dispose",(function(){return e.removeEventListener("change",i)}));var n=function i(){for(var n=0;n<t.length;n++){var r=t[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)}))},i.overrideNative_=function(t,e){var i=this;if(e===this["featuresNative"+t+"Tracks"]){var n=t.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach((function(t){var e=i.el()[n+"Tracks"];e.removeEventListener(t,i[n+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},i.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},i.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},i.proxyNativeTracksForType_=function(t){var e=this,i=hr[t],n=this.el()[i.getterName],r=this[i.getterName]();if(this["featuresNative"+i.capitalName+"Tracks"]&&n&&n.addEventListener){var s={change:function(i){var n={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(n),"text"===t&&e[dr.remoteText.getterName]().trigger(n)},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},o=function(){for(var t=[],e=0;e<r.length;e++){for(var i=!1,s=0;s<n.length;s++)if(n[s]===r[e]){i=!0;break}i||t.push(r[e])}while(t.length)r.removeTrack(t.shift())};this[i.getterName+"Listeners_"]=s,Object.keys(s).forEach((function(t){var i=s[t];n.addEventListener(t,i),e.on("dispose",(function(e){return n.removeEventListener(t,i)}))})),this.on("loadstart",o),this.on("dispose",(function(t){return e.off("loadstart",o)}))}},i.proxyNativeTracks_=function(){var t=this;hr.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},i.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),e.disposeMediaElement(t),t=i}else{t=o.a.createElement("video");var n=this.options_.tag&&De(this.options_.tag),r=Hi({},n);un&&!0===this.options_.nativeControlsForTouch||delete r.controls,Ne(t,ye(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&Fe(t,"preload",this.options_.preload);for(var s=["loop","muted","playsinline","autoplay"],a=0;a<s.length;a++){var l=s[a],u=this.options_[l];"undefined"!==typeof u&&(u?Fe(t,l,l):Ve(t,l),t[l]=u)}return t},i.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},i.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){he(e,"Video is not ready. (Video.js)")}},i.duration=function(){var t=this;if(this.el_.duration===1/0&&Zi&&rn&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)}))}},i.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var t=r.a.navigator&&r.a.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},i.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Mn(this.el_.play()),this.setTimeout((function(){t.pause();try{t.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{t.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},i.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(t){this.el_.controls=!!t},i.addTextTrack=function(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):t.prototype.addTextTrack.call(this,e,i,n)},i.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var i=o.a.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e["default"]&&(i["default"]=e["default"]),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i},i.addRemoteTextTrack=function(e,i){var n=t.prototype.addRemoteTextTrack.call(this,e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},i.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks){var i=this.$$("track"),n=i.length;while(n--)e!==i[n]&&e!==i[n].track||this.el().removeChild(i[n])}},i.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),r.a.performance&&"function"===typeof r.a.performance.now?t.creationTime=r.a.performance.now():r.a.performance&&r.a.performance.timing&&"number"===typeof r.a.performance.timing.navigationStart&&(t.creationTime=r.a.Date.now()-r.a.performance.timing.navigationStart),t},e}(mr);ko(Lo,"TEST_VID",(function(){if(xe()){var t=o.a.createElement("video"),e=o.a.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),Lo.isSupported=function(){try{Lo.TEST_VID.volume=.5}catch(t){return!1}return!(!Lo.TEST_VID||!Lo.TEST_VID.canPlayType)},Lo.canPlayType=function(t){return Lo.TEST_VID.canPlayType(t)},Lo.canPlaySource=function(t,e){return Lo.canPlayType(t.type)},Lo.canControlVolume=function(){try{var t=Lo.TEST_VID.volume;return Lo.TEST_VID.volume=t/2+.1,t!==Lo.TEST_VID.volume}catch(e){return!1}},Lo.canMuteVolume=function(){try{var t=Lo.TEST_VID.muted;return Lo.TEST_VID.muted=!t,Lo.TEST_VID.muted?Fe(Lo.TEST_VID,"muted","muted"):Ve(Lo.TEST_VID,"muted","muted"),t!==Lo.TEST_VID.muted}catch(e){return!1}},Lo.canControlPlaybackRate=function(){if(Zi&&rn&&sn<58)return!1;try{var t=Lo.TEST_VID.playbackRate;return Lo.TEST_VID.playbackRate=t/2+.1,t!==Lo.TEST_VID.playbackRate}catch(e){return!1}},Lo.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(o.a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(o.a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(o.a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(o.a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(e){return!1}return!0},Lo.supportsNativeTextTracks=function(){return fn||dn&&rn},Lo.supportsNativeVideoTracks=function(){return!(!Lo.TEST_VID||!Lo.TEST_VID.videoTracks)},Lo.supportsNativeAudioTracks=function(){return!(!Lo.TEST_VID||!Lo.TEST_VID.audioTracks)},Lo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],i=t[1];ko(Lo.prototype,e,(function(){return Lo[i]()}),!0)})),Lo.prototype.movingMediaElementInDOM=!dn,Lo.prototype.featuresFullscreenResize=!0,Lo.prototype.featuresProgressEvents=!0,Lo.prototype.featuresTimeupdateEvents=!0,Lo.patchCanPlayType=function(){Ji>=4&&!en&&!rn&&(So=Lo.TEST_VID&&Lo.TEST_VID.constructor.prototype.canPlayType,Lo.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":So.call(this,t)})},Lo.unpatchCanPlayType=function(){var t=Lo.TEST_VID.constructor.prototype.canPlayType;return So&&(Lo.TEST_VID.constructor.prototype.canPlayType=So),t},Lo.patchCanPlayType(),Lo.disposeMediaElement=function(t){if(t){t.parentNode&&t.parentNode.removeChild(t);while(t.hasChildNodes())t.removeChild(t.firstChild);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},Lo.resetMediaElement=function(t){if(t){var e=t.querySelectorAll("source"),i=e.length;while(i--)t.removeChild(e[i]);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Lo.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Lo.prototype["set"+Wi(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){Lo.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","crossOrigin"].forEach((function(t){Lo.prototype["set"+Wi(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Lo.prototype[t]=function(){return this.el_[t]()}})),mr.withSourceHandlers(Lo),Lo.nativeSourceHandler={},Lo.nativeSourceHandler.canPlayType=function(t){try{return Lo.TEST_VID.canPlayType(t)}catch(e){return""}},Lo.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Lo.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=Zn(t.src);return Lo.nativeSourceHandler.canPlayType("video/"+i)}return""},Lo.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},Lo.nativeSourceHandler.dispose=function(){},Lo.registerSourceHandler(Lo.nativeSourceHandler),mr.registerTech("Html5",Lo);var Io=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Oo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ro=["tiny","xsmall","small","medium","large","xlarge","huge"],No={};Ro.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;No[t]="vjs-layout-"+e}));var Do={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Bo=function(t){function e(i,n,r){var s;if(i.id=i.id||n.id||"vjs_video_"+ci(),n=ye(e.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"===typeof i.closest){var a=i.closest("[lang]");a&&a.getAttribute&&(n.language=a.getAttribute("lang"))}else{var l=i;while(l&&1===l.nodeType){if(De(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}}if(s=t.call(this,null,n,r)||this,s.boundDocumentFullscreenChange_=Ci(c()(s),s.documentFullscreenChange_),s.boundFullWindowOnEscKey_=Ci(c()(s),s.fullWindowOnEscKey),s.isFullscreen_=!1,s.log=de(s.id_),s.fsApi_=Sn,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&De(i),s.language(s.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach((function(t){u[t.toLowerCase()]=n.languages[t]})),s.languages_=u}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=n.poster||"",s.controls_=!!n.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach((function(t){if("function"!==typeof s[t])throw new Error('plugin "'+t+'" does not exist')})),s.scrubbing_=!1,s.el_=s.createEl(),Vi(c()(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(vi(o.a,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on("playerreset",s.updateStyleEl_);var h=Hi(s.options_);n.plugins&&Object.keys(n.plugins).forEach((function(t){s[t](n.plugins[t])})),s.options_.playerOptions=h,s.middleware_=[],s.initChildren(),s.isAudio("audio"===i.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),un&&s.addClass("vjs-touch-enabled"),dn||s.addClass("vjs-workinghover"),e.players[s.id_]=c()(s);var d=ae.split(".")[0];return s.addClass("vjs-v"+d),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}d()(e,t);var i=e.prototype;return i.dispose=function(){var i=this;this.trigger("dispose"),this.off("dispose"),bi(o.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),bi(o.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),kr(this),fr.names.forEach((function(t){var e=fr[t],n=i[e.getterName]();n&&n.off&&n.off()})),t.prototype.dispose.call(this)},i.createEl=function(){var e,i=this.tag,n=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();n?e=this.el_=i.parentNode:s||(e=this.el_=t.prototype.createEl.call(this,"div"));var a=De(i);if(s){e=this.el_=i,i=this.tag=o.a.createElement("video");while(e.children.length)i.appendChild(e.firstChild);Le(e,"video-js")||Ie(e,"video-js"),e.appendChild(i),n=this.playerElIngest_=e,Object.keys(e).forEach((function(t){try{i[t]=e[t]}catch(n){}}))}if(i.setAttribute("tabindex","-1"),a.tabindex="-1",(on||rn&&ln)&&(i.setAttribute("role","application"),a.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach((function(t){s&&"class"===t||e.setAttribute(t,a[t]),s&&i.setAttribute(t,a[t])})),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=e.player=this,this.addClass("vjs-paused"),!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=oi("vjs-styles-dimensions");var l=Ze(".vjs-styles-defaults"),u=Ze("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=i.getElementsByTagName("a"),h=0;h<c.length;h++){var d=c.item(h);Ie(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!n&&i.parentNode.insertBefore(e,i),ke(i,e),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=e,e},i.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):he.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},i.width=function(t){return this.dimension("width",t)},i.height=function(t){return this.dimension("height",t)},i.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e||"auto"===e)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?he.error('Improper value "'+e+'" supplied for for '+t):(this[i]=n,this.updateStyleEl_())},i.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,ki(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),Li((function(){this.on("playerreset",this.updateStyleEl_)}))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,i,n;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=i.split(":"),o=s[1]/s[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),ai(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"===typeof this.width_?this.width_:this.options_.width,l="number"===typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),l>=0&&(u.height=l))}},i.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_();var n=Wi(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(mr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var s="string"!==typeof this.autoplay()&&this.autoplay(),o={source:e,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};fr.names.forEach((function(t){var e=fr[t];o[e.getterName]=i[e.privateName]})),ye(o,this.options_[n]),ye(o,this.options_[r]),ye(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=mr.getTech(t);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(Ci(this,this.handleTechReady_),!0),On.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Io.forEach((function(t){i.on(i.tech_,t,i["handleTech"+Wi(t)+"_"])})),Object.keys(Oo).forEach((function(t){i.on(i.tech_,t,(function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Oo[t]+"_"].bind(i),event:e}):i["handleTech"+Oo[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||ke(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var t=this;fr.names.forEach((function(e){var i=fr[e];t[i.privateName]=t[i.getterName]()})),this.textTracksJson_=On.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(t){return void 0===t&&he.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},i.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"===typeof t){var i,n=function(){var t=e.muted();e.muted(!0);var i=function(){e.muted(t)};e.playTerminatedQueue_.push(i);var n=e.play();if(Pn(n))return n["catch"](i)};if("any"===t&&!0!==this.muted()?(i=this.play(),Pn(i)&&(i=i["catch"](n))):i="muted"===t&&!0!==this.muted()?n():this.play(),Pn(i))return i.then((function(){e.trigger({type:"autoplay-success",autoplay:t})}))["catch"]((function(i){e.trigger({type:"autoplay-failure",autoplay:t})}))}},i.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,i="";"string"!==typeof e&&(e=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!i&&(i=Nr(this,e)),this.cache_.source=Hi({},t,{src:e,type:i});for(var n=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],s=this.$$("source"),o=[],a=0;a<s.length;a++){var l=De(s[a]);r.push(l),l.src&&l.src===e&&o.push(l.src)}o.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},i.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var i=function(t){return e.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(i=function(){}),i(r),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var i=e.techGet("currentSrc");e.lastSource_.tech=i,e.updateSourceCaches_(i)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},i.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime(),i=function i(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",i))};this.on("timeupdate",i)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(he.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(t){Ke(t)&&this.controls_&&(this.paused()?Mn(this.play()):this.pause())},i.handleTechDoubleClick_=function(t){if(this.controls_){var e=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}));e||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(t){t.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var i=this.el(),n=o.a[this.fsApi_.fullscreenElement]===i;!n&&i.matches?n=i.matches(":"+this.fsApi_.fullscreen):!n&&i.msMatchesSelector&&(n=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}},i.handleTechFullscreenChange_=function(t,e){e&&(e.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(e.isFullscreen))},i.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var t=this.tech_.error();this.error(t)},i.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},i.techCall_=function(t,e){this.ready((function(){if(t in Cr)return Tr(this.middleware_,this.tech_,t,e);if(t in Ar)return xr(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(i){throw he(i),i}}),!0)},i.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Er)return wr(this.middleware_,this.tech_,t);if(t in Ar)return xr(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw he("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw he("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw he(e),e}}},i.play=function(){var t=this,e=this.options_.Promise||r.a.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},i.play_=function(t){var e=this;void 0===t&&(t=Mn),this.playCallbacks_.push(t);var i=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(i||!fn&&!dn||this.load());var n=this.techGet_("play");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},i.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},i.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},i.pause=function(){this.techCall_("pause")},i.paused=function(){return!1!==this.techGet_("paused")},i.played=function(){return this.techGet_("played")||vn(0,0)},i.scrubbing=function(t){if("undefined"===typeof t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(t){return"undefined"!==typeof t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=vn(0,0)),t},i.bufferedPercent=function(){return bn(this.buffered(),this.duration())},i.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},i.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},i.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},i.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},i.requestFullscreen=function(t){var e=this.options_.Promise||r.a.Promise;if(e){var i=this;return new e((function(e,n){function r(){i.off(i.fsApi_.fullscreenerror,o),i.off(i.fsApi_.fullscreenchange,s)}function s(){r(),e()}function o(t,e){r(),n(e)}i.one("fullscreenchange",s),i.one("fullscreenerror",o);var a=i.requestFullscreenHelper_(t);if(a)return a.then(r,r),a}))}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(t){var e,i=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](e);return n&&n.then((function(){return i.isFullscreen(!0)}),(function(){return i.isFullscreen(!1)})),n}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var t=this.options_.Promise||r.a.Promise;if(t){var e=this;return new t((function(t,i){function n(){e.off(e.fsApi_.fullscreenerror,s),e.off(e.fsApi_.fullscreenchange,r)}function r(){n(),t()}function s(t,e){n(),i(e)}e.one("fullscreenchange",r),e.one("fullscreenerror",s);var o=e.exitFullscreenHelper_();if(o)return o.then(n,n),o}))}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=o.a[this.fsApi_.exitFullscreen]();return e&&e.then((function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=o.a.documentElement.style.overflow,vi(o.a,"keydown",this.boundFullWindowOnEscKey_),o.a.documentElement.style.overflow="hidden",Ie(o.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(t){g.a.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,bi(o.a,"keydown",this.boundFullWindowOnEscKey_),o.a.documentElement.style.overflow=this.docOrigOverflow,Oe(o.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in o.a)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in o.a)return o.a.exitPictureInPicture()},i.handleKeyDown=function(t){var e=this.options_.userActions;if(e&&e.hotkeys){var i=function(t){var e=t.tagName.toLowerCase();if(t.isContentEditable)return!0;var i=["button","checkbox","hidden","radio","reset","submit"];if("input"===e)return-1===i.indexOf(t.type);var n=["textarea"];return-1!==n.indexOf(e)};i(this.el_.ownerDocument.activeElement)||("function"===typeof e.hotkeys?e.hotkeys.call(this,t):this.handleHotkeys(t))}},i.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},i=e.fullscreenKey,n=void 0===i?function(t){return g.a.isEventKey(t,"f")}:i,r=e.muteKey,s=void 0===r?function(t){return g.a.isEventKey(t,"m")}:r,a=e.playPauseKey,l=void 0===a?function(t){return g.a.isEventKey(t,"k")||g.a.isEventKey(t,"Space")}:a;if(n.call(this,t)){t.preventDefault(),t.stopPropagation();var u=qi.getComponent("FullscreenToggle");!1!==o.a[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,t)}else if(s.call(this,t)){t.preventDefault(),t.stopPropagation();var c=qi.getComponent("MuteToggle");c.prototype.handleClick.call(this,t)}else if(l.call(this,t)){t.preventDefault(),t.stopPropagation();var h=qi.getComponent("PlayToggle");h.prototype.handleClick.call(this,t)}},i.canPlayType=function(t){for(var e,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],s=mr.getTech(r);if(s||(s=qi.getComponent(r)),s){if(s.isSupported()&&(e=s.canPlayType(t),e))return e}else he.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(t){var e,i=this,n=this.options_.techOrder.map((function(t){return[t,mr.getTech(t)]})).filter((function(t){var e=t[0],i=t[1];return i?i.isSupported():(he.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),r=function(t,e,i){var n;return t.some((function(t){return e.some((function(e){if(n=i(t,e),n)return!0}))})),n},s=function(t){return function(e,i){return t(i,e)}},o=function(t,e){var n=t[0],r=t[1];if(r.canPlaySource(e,i.options_[n.toLowerCase()]))return{source:e,tech:n}};return e=this.options_.sourceOrder?r(t,n,s(o)):r(n,t,o),e||!1},i.src=function(t){var e=this;if("undefined"===typeof t)return this.cache_.src||"";var i=Dr(t);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),_r(this,i[0],(function(t,n){e.middleware_=n,e.cache_.sources=i,e.updateSourceCaches_(t);var r=e.src_(t);if(r)return i.length>1?e.src(i.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());Sr(n,e.tech_)}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},i.src_=function(t){var e=this,i=this.selectSource([t]);return!i||(zi(i.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){e.changingSrc_=!1})),!1))},i.load=function(){this.techCall_("load")},i.reset=function(){var t=this,e=this.options_.Promise||r.a.Promise;if(this.paused()||!e)this.doReset_();else{var i=this.play();Mn(i.then((function(){return t.doReset_()})))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ki(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,i=t.remainingTimeDisplay;e&&e.updateContent(),i&&i.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},i.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"===typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e="undefined"===typeof e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},i.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},i.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},i.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Cn(t),this.addClass("vjs-error"),he.error("(CODE:"+this.error_.code+" "+Cn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},i.reportUserActivity=function(t){this.userActivity_=!0},i.userActive=function(t){if(void 0===t)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var t,e,i,n=Ci(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,n())},s=function(){n(),this.clearInterval(t),t=this.setInterval(n,250)},o=function(e){n(),this.clearInterval(t)};this.on("mousedown",s),this.on("mousemove",r),this.on("mouseup",o),this.on("mouseleave",o);var a,l=this.getChild("controlBar");!l||dn||Zi||(l.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),l.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",n),this.on("keyup",n),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var t=this.options_.inactivityTimeout;t<=0||(a=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},i.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},i.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},i.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},i.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},i.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t,i=e.track;if(i||(i=t),this.tech_)return this.tech_.removeRemoteTextTrack(i)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},i.languages=function(){return Hi(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var t=Hi(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];n=Hi(n),n.player=void 0,t.tracks[i]=n}return t},i.createModal=function(t,e){var i=this;e=e||{},e.content=t||"";var n=new Nn(this,e);return this.addChild(n),n.on("dispose",(function(){i.removeChild(n)})),n.open(),n},i.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),i=0;i<Ro.length;i++){var n=Ro[i],r=this.breakpoints_[n];if(e<=r){if(t===n)return;t&&this.removeClass(No[t]),this.addClass(No[n]),this.breakpoint_=n;break}}},i.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},i.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=ye({},Do,t),this.updateCurrentBreakpoint_()),ye(this.breakpoints_)},i.responsive=function(t){if(void 0===t)return this.responsive_;t=Boolean(t);var e=this.responsive_;return t!==e?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return No[this.breakpoint_]||""},i.loadMedia=function(t,e){var i=this;if(t&&"object"===typeof t){this.reset(),this.cache_.media=Hi(t);var n=this.cache_.media,r=n.artwork,s=n.poster,o=n.src,a=n.textTracks;!r&&s&&(this.cache_.media.artwork=[{src:s,type:Rr(s)}]),o&&this.src(o),s&&this.poster(s),Array.isArray(a)&&a.forEach((function(t){return i.addRemoteTextTrack(t,!1)})),this.ready(e)}},i.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}})),n={src:e,textTracks:i};return t&&(n.poster=t,n.artwork=[{src:n.poster,type:Rr(n.poster)}]),n}return Hi(this.cache_.media)},e.getTagSettings=function(t){var e={sources:[],tracks:[]},i=De(t),n=i["data-setup"];if(Le(t,"vjs-fill")&&(i.fill=!0),Le(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=p()(n||"{}"),s=r[0],o=r[1];s&&he.error(s),ye(i,o)}if(ye(e,i),t.hasChildNodes())for(var a=t.childNodes,l=0,u=a.length;l<u;l++){var c=a[l],h=c.nodeName.toLowerCase();"source"===h?e.sources.push(De(c)):"track"===h&&e.tracks.push(De(c))}return e},i.flexNotSupported_=function(){var t=o.a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(qi);fr.names.forEach((function(t){var e=fr[t];Bo.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),Bo.prototype.crossorigin=Bo.prototype.crossOrigin,Bo.players={};var Fo=r.a.navigator;Bo.prototype.options_={techOrder:mr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Fo&&(Fo.languages&&Fo.languages[0]||Fo.userLanguage||Fo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Bo.prototype[t]=function(){return this.techGet_(t)}})),Io.forEach((function(t){Bo.prototype["handleTech"+Wi(t)+"_"]=function(){return this.trigger(t)}})),qi.registerComponent("Player",Bo);var Vo="plugin",jo="activePlugins_",Uo={},Go=function(t){return Uo.hasOwnProperty(t)},Wo=function(t){return Go(t)?Uo[t]:void 0},zo=function(t,e){t[jo]=t[jo]||{},t[jo][e]=!0},Ho=function(t,e,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},qo=function(t,e){var i=function(){Ho(this,{name:t,plugin:e,instance:null},!0);var i=e.apply(this,arguments);return zo(this,t),Ho(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach((function(t){i[t]=e[t]})),i},$o=function(t,e){return e.prototype.name=t,function(){Ho(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=w()(e,[this].concat(n));return this[t]=function(){return s},Ho(this,s.getEventHash()),s}},Yo=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,Vi(this),delete this.trigger,Ui(this,this.constructor.defaultState),zo(e,this.name),this.dispose=Ci(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),_i(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[jo][t]=!1,this.player=this.state=null,e[t]=$o(t,Uo[t])},t.isBasic=function(e){var i="string"===typeof e?Wo(e):e;return"function"===typeof i&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(e,i){if("string"!==typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(Go(e))he.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Bo.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!==typeof i)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof i+".");return Uo[e]=i,e!==Vo&&(t.isBasic(i)?Bo.prototype[e]=qo(e,i):Bo.prototype[e]=$o(e,i)),i},t.deregisterPlugin=function(t){if(t===Vo)throw new Error("Cannot de-register base plugin.");Go(t)&&(delete Uo[t],delete Bo.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Uo)),t.forEach((function(t){var i=Wo(t);i&&(e=e||{},e[t]=i)})),e},t.getPluginVersion=function(t){var e=Wo(t);return e&&e.VERSION||""},t}();Yo.getPlugin=Wo,Yo.BASE_PLUGIN_NAME=Vo,Yo.registerPlugin(Vo,Yo),Bo.prototype.usingPlugin=function(t){return!!this[jo]&&!0===this[jo][t]},Bo.prototype.hasPlugin=function(t){return!!Go(t)};var Xo=function(t,e){void 0===e&&(e={});var i=function(){t.apply(this,arguments)},n={};for(var r in"object"===typeof e?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"===typeof e&&(i=e),x()(i,t),t&&(i.super_=t),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},Ko=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Qo(t,e,i){var n=Qo.getPlayer(t);if(n)return e&&he.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r="string"===typeof t?Ze("#"+Ko(t)):t;if(!Ee(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||he.warn("The element supplied is not included in the DOM"),e=e||{},Qo.hooks("beforesetup").forEach((function(t){var i=t(r,Hi(e));ve(i)&&!Array.isArray(i)?e=Hi(e,i):he.error("please return an object in beforesetup hooks")}));var s=qi.getComponent("Player");return n=new s(r,e,i),Qo.hooks("setup").forEach((function(t){return t(n)})),n}if(Qo.hooks_={},Qo.hooks=function(t,e){return Qo.hooks_[t]=Qo.hooks_[t]||[],e&&(Qo.hooks_[t]=Qo.hooks_[t].concat(e)),Qo.hooks_[t]},Qo.hook=function(t,e){Qo.hooks(t,e)},Qo.hookOnce=function(t,e){Qo.hooks(t,[].concat(e).map((function(e){var i=function i(){return Qo.removeHook(t,i),e.apply(void 0,arguments)};return i})))},Qo.removeHook=function(t,e){var i=Qo.hooks(t).indexOf(e);return!(i<=-1)&&(Qo.hooks_[t]=Qo.hooks_[t].slice(),Qo.hooks_[t].splice(i,1),!0)},!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE&&xe()){var Zo=Ze(".vjs-styles-defaults");if(!Zo){Zo=oi("vjs-styles-defaults");var Jo=Ze("head");Jo&&Jo.insertBefore(Zo,Jo.firstChild),ai(Zo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}ni(1,Qo),Qo.VERSION=ae,Qo.options=Bo.prototype.options_,Qo.getPlayers=function(){return Bo.players},Qo.getPlayer=function(t){var e,i=Bo.players;if("string"===typeof t){var n=Ko(t),r=i[n];if(r)return r;e=Ze("#"+n)}else e=t;if(Ee(e)){var s=e,o=s.player,a=s.playerId;if(o||i[a])return o||i[a]}},Qo.getAllPlayers=function(){return Object.keys(Bo.players).map((function(t){return Bo.players[t]})).filter(Boolean)},Qo.players=Bo.players,Qo.getComponent=qi.getComponent,Qo.registerComponent=function(t,e){mr.isTech(e)&&he.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),qi.registerComponent.call(qi,t,e)},Qo.getTech=mr.getTech,Qo.registerTech=mr.registerTech,Qo.use=br,Object.defineProperty(Qo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qo.middleware,"TERMINATOR",{value:vr,writeable:!1,enumerable:!0}),Qo.browser=pn,Qo.TOUCH_ENABLED=un,Qo.extend=Xo,Qo.mergeOptions=Hi,Qo.bind=Ci,Qo.registerPlugin=Yo.registerPlugin,Qo.deregisterPlugin=Yo.deregisterPlugin,Qo.plugin=function(t,e){return he.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Yo.registerPlugin(t,e)},Qo.getPlugins=Yo.getPlugins,Qo.getPlugin=Yo.getPlugin,Qo.getPluginVersion=Yo.getPluginVersion,Qo.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),Qo.options.languages=Hi(Qo.options.languages,(i={},i[t]=e,i)),Qo.options.languages[t]},Qo.log=he,Qo.createLogger=de,Qo.createTimeRange=Qo.createTimeRanges=vn,Qo.formatTime=is,Qo.setFormatTime=ts,Qo.resetFormatTime=es,Qo.parseUrl=Kn,Qo.isCrossOrigin=Jn,Qo.EventTarget=Mi,Qo.on=vi,Qo.one=Si,Qo.off=bi,Qo.trigger=_i,Qo.xhr=v.a,Qo.TextTrack=nr,Qo.AudioTrack=rr,Qo.VideoTrack=sr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Qo[t]=function(){return he.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),ti[t].apply(null,arguments)}})),Qo.computedStyle=_e,Qo.dom=ti,Qo.url=tr,Qo.defineLazyProperty=ko;
/**
 * @videojs/http-streaming
 * @version 1.13.2
 * @copyright 2020 Brightcove, Inc
 * @license Apache-2.0
 */
var ta=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=C.a.buildAbsoluteURL(r.a.location.href,t)),C.a.buildAbsoluteURL(t,e))},ea=function(t,e,i){return t&&i.responseURL&&e!==i.responseURL?i.responseURL:e},ia=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},na=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ra=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0},sa=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},oa=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},aa=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)if(i.push(o.value),e&&i.length===e)break}catch(l){r=!0,s=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),la=Qo.mergeOptions,ua=Qo.EventTarget,ca=Qo.log,ha=function(t,e){["AUDIO","SUBTITLES"].forEach((function(i){for(var n in t.mediaGroups[i])for(var r in t.mediaGroups[i][n]){var s=t.mediaGroups[i][n][r];e(s,i,n,r)}}))},da=function(t,e,i){var n=e.slice();i=i||0;for(var r=Math.min(t.length,e.length+i),s=i;s<r;s++)n[s-i]=la(t[s],n[s-i]);return n},fa=function(t,e){t.resolvedUri||(t.resolvedUri=ta(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=ta(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=ta(e,t.map.uri))},pa=function(t,e){var i=la(t,{}),n=i.playlists[e.id];if(!n)return null;if(n.segments&&e.segments&&n.segments.length===e.segments.length&&n.endList===e.endList&&n.mediaSequence===e.mediaSequence)return null;var r=la(n,e);n.segments&&(r.segments=da(n.segments,e.segments,e.mediaSequence-n.mediaSequence)),r.segments.forEach((function(t){fa(t,r.resolvedUri)}));for(var s=0;s<i.playlists.length;s++)i.playlists[s].id===e.id&&(i.playlists[s]=r);return i.playlists[e.id]=r,i.playlists[e.uri]=r,i},ma=function(t,e){return t+"-"+e},ga=function(t){var e=t.playlists.length;while(e--){var i=t.playlists[e];i.resolvedUri=ta(t.uri,i.uri),i.id=ma(e,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes||(i.attributes={},ca.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},ya=function(t){ha(t,(function(e){e.uri&&(e.resolvedUri=ta(t.uri,e.uri))}))},va=function(t,e){var i=t.segments[t.segments.length-1],n=void 0;return n=e&&i&&i.duration?1e3*i.duration:500*(t.targetDuration||10),n},ba=function(t){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ia(this,e);var r=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),s=n.withCredentials,o=void 0!==s&&s,a=n.handleManifestRedirects,l=void 0!==a&&a;r.srcUrl=t,r.hls_=i,r.withCredentials=o,r.handleManifestRedirects=l;var u=i.options_;if(r.customTagParsers=u&&u.customTagParsers||[],r.customTagMappers=u&&u.customTagMappers||[],!r.srcUrl)throw new Error("A non-empty playlist URL is required");return r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:ta(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri,r.media().id)})))})),r}return sa(e,t),na(e,[{key:"playlistRequestError",value:function(t,e,i){var n=e.uri,r=e.id;this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+n+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e,i){var n=this;this.request=null,this.state="HAVE_METADATA";var s=new D;this.customTagParsers.forEach((function(t){return s.addParser(t)})),this.customTagMappers.forEach((function(t){return s.addTagMapper(t)})),s.push(t.responseText),s.end(),s.manifest.uri=e,s.manifest.id=i,s.manifest.attributes=s.manifest.attributes||{};var o=pa(this.master,s.manifest);this.targetDuration=s.manifest.targetDuration,o?(this.master=o,this.media_=this.master.playlists[i]):this.trigger("playlistunchanged"),this.media().endList||(r.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=r.a.setTimeout((function(){n.trigger("mediaupdatetimeout")}),va(this.media(),!!o))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.finalRenditionTimeout),this.off()}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t,e){var i=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"===typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(r.a.clearTimeout(this.finalRenditionTimeout),e){var n=t.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=r.a.setTimeout(this.media.bind(this,t,!1),n)}else{var s=this.state,o=!this.media_||t.id!==this.media_.id;if(this.master.playlists[t.id].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(o&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(o){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},(function(e,n){if(i.request){if(t.resolvedUri=ea(i.handleManifestRedirects,t.resolvedUri,n),e)return i.playlistRequestError(i.request,t,s);i.haveMetadata(n,t.uri,t.id),"HAVE_MASTER"===s?i.trigger("loadedmetadata"):i.trigger("mediachange")}}))}}}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;r.a.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(t){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout((function(){return e.load()}),n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"HLS playlist request error at URL: "+t.srcUrl+".",responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var n=new D;if(t.customTagParsers.forEach((function(t){return n.addParser(t)})),t.customTagMappers.forEach((function(t){return n.addTagMapper(t)})),n.push(i.responseText),n.end(),t.state="HAVE_MASTER",t.srcUrl=ea(t.handleManifestRedirects,t.srcUrl,i),n.manifest.uri=t.srcUrl,n.manifest.playlists)return t.master=n.manifest,ga(t.master),ya(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(n.manifest.playlists[0]));var s=ma(0,t.srcUrl);return t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:r.a.location.href,playlists:[{uri:t.srcUrl,id:s,resolvedUri:t.srcUrl,attributes:{}}]},t.master.playlists[s]=t.master.playlists[0],t.master.playlists[t.srcUrl]=t.master.playlists[0],t.haveMetadata(i,t.srcUrl,s),t.trigger("loadedmetadata")}}))}}]),e}(ua),_a=Qo.createTimeRange,Sa=function(t,e){var i=0,n=e-t.mediaSequence,r=t.segments[n];if(r){if("undefined"!==typeof r.start)return{result:r.start,precise:!0};if("undefined"!==typeof r.end)return{result:r.end-r.duration,precise:!0}}while(n--){if(r=t.segments[n],"undefined"!==typeof r.end)return{result:i+r.end,precise:!0};if(i+=r.duration,"undefined"!==typeof r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}},wa=function(t,e){for(var i=0,n=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(n=t.segments[r],"undefined"!==typeof n.start)return{result:n.start-i,precise:!0};if(i+=n.duration,"undefined"!==typeof n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},Ta=function(t,e,i){var n=void 0,r=void 0;return"undefined"===typeof e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(n=Sa(t,e),n.precise?n.result:(r=wa(t,e),r.precise?r.result:n.result+i))},xa=function(t,e,i){if(!t)return 0;if("number"!==typeof i&&(i=0),"undefined"===typeof e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return r.a.Infinity}return Ta(t,e,i)},Ea=function(t,e,i){var n=0;if(e>i){var r=[i,e];e=r[0],i=r[1]}if(e<0){for(var s=e;s<Math.min(0,i);s++)n+=t.targetDuration;e=0}for(var o=e;o<i;o++)n+=t.segments[o].duration;return n},Ca=function(t,e){if(!t.segments.length)return 0;var i=t.segments.length,n=t.segments[i-1].duration||t.targetDuration,r="number"===typeof e?e:n+2*t.targetDuration;if(0===r)return i;var s=0;while(i--)if(s+=t.segments[i].duration,s>=r)break;return Math.max(0,i)},Aa=function(t,e,i,n){if(!t||!t.segments)return null;if(t.endList)return xa(t);if(null===e)return null;e=e||0;var r=i?Ca(t,n):t.segments.length;return Ta(t,t.mediaSequence+r,e)},Pa=function(t,e,i){var n=!0,r=e||0,s=Aa(t,e,n,i);return null===s?_a():_a(r,s)},Ma=function(t){return t-Math.floor(t)===0},ka=function(t,e){if(Ma(e))return e+.1*t;for(var i=e.toString().split(".")[1].length,n=1;n<=i;n++){var r=Math.pow(10,n),s=e*r;if(Ma(s)||n===i)return(s+t)/r}},La=ka.bind(null,1),Ia=ka.bind(null,-1),Oa=function(t,e,i,n){var r=void 0,s=void 0,o=t.segments.length,a=e-n;if(a<0){if(i>0)for(r=i-1;r>=0;r--)if(s=t.segments[r],a+=Ia(s.duration),a>0)return{mediaIndex:r,startTime:n-Ea(t,i,r)};return{mediaIndex:0,startTime:e}}if(i<0){for(r=i;r<0;r++)if(a-=t.targetDuration,a<0)return{mediaIndex:0,startTime:e};i=0}for(r=i;r<o;r++)if(s=t.segments[r],a-=La(s.duration),a<0)return{mediaIndex:r,startTime:n+Ea(t,i,r)};return{mediaIndex:o-1,startTime:e}},Ra=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Na=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Da=function(t){var e=Ra(t);return!t.disabled&&!e},Ba=function(t){return t.disabled},Fa=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Va=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},ja=function(t,e){return e.attributes&&e.attributes[t]},Ua=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!ja("BANDWIDTH",i))return NaN;var r=t*i.attributes.BANDWIDTH;return(r-8*n)/e},Ga=function(t,e){if(1===t.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!Da(t)&&(t.attributes.BANDWIDTH||0)<i})).length},Wa={duration:xa,seekable:Pa,safeLiveIndex:Ca,getMediaInfoForTime:Oa,isEnabled:Da,isDisabled:Ba,isBlacklisted:Ra,isIncompatible:Na,playlistEnd:Aa,isAes:Fa,isFmp4:Va,hasAttribute:ja,estimateSegmentRequestTime:Ua,isLowestEnabledRendition:Ga},za=Qo.xhr,Ha=Qo.mergeOptions,qa=function(){var t=function t(e,i){e=Ha({timeout:45e3},e);var n=t.beforeRequest||Qo.Hls.xhr.beforeRequest;if(n&&"function"===typeof n){var r=n(e);r&&(e=r)}var s=za(e,(function(t,e){var n=s.response;!t&&n&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=n.byteLength||n.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e.headers&&(s.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(s.timedout=!0),t||s.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(s&&(n||s.responseText)))),i(t,s)})),o=s.abort;return s.abort=function(){return s.aborted=!0,o.apply(s,arguments)},s.uri=e.uri,s.requestTime=Date.now(),s};return t},$a=function(t){var e=void 0,i=void 0;return i=t.offset+t.length-1,e=t.offset,"bytes="+e+"-"+i},Ya=function(t){var e={};return t.byterange&&(e.Range=$a(t.byterange)),e},Xa=function(t,e){return t.start(e)+"-"+t.end(e)},Ka=function(t,e){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},Qa=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Za=function(t){var e={};return Object.keys(t).forEach((function(i){var n=t[i];ArrayBuffer.isView(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n})),e},Ja=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},tl=function(t){return t.resolvedUri},el=function(t){for(var e=Array.prototype.slice.call(t),i=16,n="",r=void 0,s=void 0,o=0;o<e.length/i;o++)r=e.slice(o*i,o*i+i).map(Ka).join(""),s=e.slice(o*i,o*i+i).map(Qa).join(""),n+=r+" "+s+"\n";return n},il=function(t){var e=t.bytes;return el(e)},nl=function(t){var e="",i=void 0;for(i=0;i<t.length;i++)e+=Xa(t,i)+" ";return e},rl=Object.freeze({createTransferableMessage:Za,initSegmentId:Ja,segmentKeyId:tl,hexDump:el,tagDump:il,textRanges:nl}),sl=.25,ol=function(t,e){if(!e.dateTimeObject)return null;var i=e.videoTimingInfo.transmuxerPrependedSeconds,n=e.videoTimingInfo.transmuxedPresentationStart,r=n+i,s=t-r;return new Date(e.dateTimeObject.getTime()+1e3*s)},al=function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds},ll=function(t,e){var i=void 0;try{i=new Date(t)}catch(c){return null}if(!e||!e.segments||0===e.segments.length)return null;var n=e.segments[0];if(i<n.dateTimeObject)return null;for(var r=0;r<e.segments.length-1;r++){n=e.segments[r];var s=e.segments[r+1].dateTimeObject;if(i<s)break}var o=e.segments[e.segments.length-1],a=o.dateTimeObject,l=o.videoTimingInfo?al(o.videoTimingInfo):o.duration+o.duration*sl,u=new Date(a.getTime()+1e3*l);return i>u?null:(i>a&&(n=o),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Wa.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},ul=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var i=0,n=void 0,r=0;r<e.segments.length;r++)if(n=e.segments[r],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,t<=i)break;var s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+s.duration*sl)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},cl=function(t,e){var i=void 0,n=void 0;try{i=new Date(t),n=new Date(e)}catch(o){}var r=i.getTime(),s=n.getTime();return(s-r)/1e3},hl=function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++){var i=t.segments[e];if(!i.dateTimeObject)return!1}return!0},dl=function(t){var e=t.playlist,i=t.time,n=void 0===i?void 0:i,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===n)return r({message:"getProgramTime: playlist and time must be provided"});var s=ul(n,e);if(!s)return r({message:"valid programTime was not found"});if("estimate"===s.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:n},a=ol(n,s.segment);return a&&(o.programDateTime=a.toISOString()),r(null,o)},fl=function t(e){var i=e.programTime,n=e.playlist,r=e.retryCount,s=void 0===r?2:r,o=e.seekTo,a=e.pauseAfterSeek,l=void 0===a||a,u=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if("undefined"===typeof i||!n||!o)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!hl(n))return c({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var h=ll(i,n);if(!h)return c({message:i+" was not found in the stream"});var d=h.segment,f=cl(d.dateTimeObject,i);if("estimate"===h.type)return 0===s?c({message:i+" is not buffered yet. Try again"}):(o(h.estimatedStart+f),void u.one("seeked",(function(){t({programTime:i,playlist:n,retryCount:s-1,seekTo:o,pauseAfterSeek:l,tech:u,callback:c})})));var p=d.start+f,m=function(){return c(null,u.currentTime())};u.one("seeked",m),l&&u.pause(),o(p)},pl=1/30,ml=3*pl,gl=function(t,e){var i=[],n=void 0;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return Qo.createTimeRanges(i)},yl=function(t,e){return gl(t,(function(t,i){return t-ml<=e&&i+ml>=e}))},vl=function(t,e){return gl(t,(function(t){return t-pl>=e}))},bl=function(t){if(t.length<2)return Qo.createTimeRanges();for(var e=[],i=1;i<t.length;i++){var n=t.end(i-1),r=t.start(i);e.push([n,r])}return Qo.createTimeRanges(e)},_l=function(t){var e=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},Sl=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t.length?t.end(t.length-1):0;return(n-e)/i},wl=function(t){for(var e=[],i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},Tl=function(t,e,i){var n=e.player_;if(i.captions&&i.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),i.captionStreams)if(!t.inbandTextTracks_[r]){n.tech_.trigger({type:"usage",name:"hls-608"});var s=n.textTracks().getTrackById(r);t.inbandTextTracks_[r]=s||n.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}i.metadata&&i.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)},xl=function(t,e,i){var n=void 0,r=void 0;if(i&&i.cues){n=i.cues.length;while(n--)r=i.cues[n],r.startTime<=e&&r.endTime>=t&&i.removeCue(r)}},El=function(t){Object.defineProperties(t.frame,{id:{get:function(){return Qo.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Qo.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Qo.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},Cl=function(t){var e=void 0;return e=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t,e},Al=function(t,e,i){var n=r.a.WebKitDataCue||r.a.VTTCue;if(e&&e.forEach((function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new n(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))}),t),i){var s=Cl(t.mediaSource_.duration);if(i.forEach((function(t){var e=t.cueTime+this.timestampOffset;!("number"!==typeof e||r.a.isNaN(e)||e<0)&&e<1/0&&t.frames.forEach((function(t){var i=new n(e,e,t.value||t.url||t.data||"");i.frame=t,i.value=t,El(i),this.metadataTrack_.addCue(i)}),this)}),t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var o=t.metadataTrack_.cues,a=[],l=0;l<o.length;l++)o[l]&&a.push(o[l]);var u=a.reduce((function(t,e){var i=t[e.startTime]||[];return i.push(e),t[e.startTime]=i,t}),{}),c=Object.keys(u).sort((function(t,e){return Number(t)-Number(e)}));c.forEach((function(t,e){var i=u[t],n=Number(c[e+1])||s;i.forEach((function(t){t.endTime=n}))}))}}},Pl="undefined"!==typeof window?window:{},Ml="undefined"===typeof Symbol?"__target":Symbol(),kl="application/javascript",Ll=Pl.BlobBuilder||Pl.WebKitBlobBuilder||Pl.MozBlobBuilder||Pl.MSBlobBuilder,Il=Pl.URL||Pl.webkitURL||Il&&Il.msURL,Ol=Pl.Worker;function Rl(t,e){return function(i){var n=this;if(!e)return new Ol(t);if(Ol&&!i){var r=e.toString().replace(/^function.+?{/,"").slice(0,-1),s=Fl(r);return this[Ml]=new Ol(s),Vl(this[Ml],s),this[Ml]}var o={postMessage:function(t){n.onmessage&&setTimeout((function(){n.onmessage({data:t,target:o})}))}};e.call(o),this.postMessage=function(t){setTimeout((function(){o.onmessage({data:t,target:n})}))},this.isThisThread=!0}}if(Ol){var Nl,Dl=Fl("self.onmessage = function () {}"),Bl=new Uint8Array(1);try{Nl=new Ol(Dl),Nl.postMessage(Bl,[Bl.buffer])}catch(Yc){Ol=null}finally{Il.revokeObjectURL(Dl),Nl&&Nl.terminate()}}function Fl(t){try{return Il.createObjectURL(new Blob([t],{type:kl}))}catch(Yc){var e=new Ll;return e.append(t),Il.createObjectURL(e.getBlob(type))}}function Vl(t,e){if(t&&e){var i=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&Il.revokeObjectURL(t.objURL),i.call(t)}}}var jl=new Rl("./transmuxer-worker.worker.js",(function(t,e){var i=this;(function(){var t=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,r,s;if(i=t[e],i)if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(s=[],n=arguments.length,n=1;n<arguments.length;++n)s.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,s)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,n,r,s,o,a,l,u,c,h,d,f,p,m,g,y,v,b,_,S,w,T,x,E,C,A,P,M,k,L,I,O,R,N,D,B,F=t,V=Math.pow(2,32)-1;(function(){var t;if(x={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(t in x)x.hasOwnProperty(t)&&(x[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k={video:P,audio:M},O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),N=R,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=R,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),e=function(t){var e,i,n,r=[],s=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);e=r.length;while(e--)s+=r[e].byteLength;for(i=new Uint8Array(s+8),n=new DataView(i.buffer,i.byteOffset,i.byteLength),n.setUint32(0,i.byteLength),i.set(t,4),e=0,s=8;e<r.length;e++)i.set(r[e],s),s+=r[e].byteLength;return i},n=function(){return e(x.dinf,e(x.dref,O))},r=function(t){return e(x.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},s=function(){return e(x.ftyp,E,C,E,A)},y=function(t){return e(x.hdlr,k[t])},o=function(t){return e(x.mdat,t)},g=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(i[12]=t.samplerate>>>24&255,i[13]=t.samplerate>>>16&255,i[14]=t.samplerate>>>8&255,i[15]=255&t.samplerate),e(x.mdhd,i)},m=function(t){return e(x.mdia,g(t),y(t.type),l(t))},a=function(t){return e(x.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},l=function(t){return e(x.minf,"video"===t.type?e(x.vmhd,L):e(x.smhd,I),n(),b(t))},u=function(t,i){var n=[],r=i.length;while(r--)n[r]=S(i[r]);return e.apply(null,[x.moof,a(t)].concat(n))},c=function(t){var i=t.length,n=[];while(i--)n[i]=f(t[i]);return e.apply(null,[x.moov,d(4294967295)].concat(n).concat(h(t)))},h=function(t){var i=t.length,n=[];while(i--)n[i]=w(t[i]);return e.apply(null,[x.mvex].concat(n))},d=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(x.mvhd,i)},v=function(t){var i,n,r=t.samples||[],s=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,s[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e(x.sdtp,s)},b=function(t){return e(x.stbl,_(t),e(x.stts,B),e(x.stsc,N),e(x.stsz,D),e(x.stco,R))},function(){var t,i;_=function(n){return e(x.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?t(n):i(n))},t=function(t){var i,n,r=t.sps||[],s=t.pps||[],o=[],a=[];for(i=0;i<r.length;i++)o.push((65280&r[i].byteLength)>>>8),o.push(255&r[i].byteLength),o=o.concat(Array.prototype.slice.call(r[i]));for(i=0;i<s.length;i++)a.push((65280&s[i].byteLength)>>>8),a.push(255&s[i].byteLength),a=a.concat(Array.prototype.slice.call(s[i]));if(n=[x.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(x.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length],o,[s.length],a))),e(x.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var l=t.sarRatio[0],u=t.sarRatio[1];n.push(e(x.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return e.apply(null,n)},i=function(t){return e(x.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))}}(),p=function(t){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(x.tkhd,i)},S=function(t){var i,n,r,s,o,a,l;return i=e(x.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(V+1)),l=Math.floor(t.baseMediaDecodeTime%(V+1)),n=e(x.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),o=92,"audio"===t.type?(r=T(t,o),e(x.traf,i,n,r)):(s=v(t),r=T(t,s.length+o),e(x.traf,i,n,r,s))},f=function(t){return t.duration=t.duration||4294967295,e(x.trak,p(t),m(t))},w=function(t){var i=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(i[i.length-1]=0),e(x.trex,i)},function(){var t,i,n;n=function(t,e){var i=0,n=0,r=0,s=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,i|n|r|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},i=function(t,i){var r,s,o,a;for(s=t.samples||[],i+=20+16*s.length,r=n(s,i),a=0;a<s.length;a++)o=s[a],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return e(x.trun,new Uint8Array(r))},t=function(t,i){var r,s,o,a;for(s=t.samples||[],i+=20+8*s.length,r=n(s,i),a=0;a<s.length;a++)o=s[a],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return e(x.trun,new Uint8Array(r))},T=function(e,n){return"audio"===e.type?t(e,n):i(e,n)}}();var j,U,G,W,z,H,q,$={ftyp:s,mdat:o,moof:u,moov:c,initSegment:function(t){var e,i=s(),n=c(t);return e=new Uint8Array(i.byteLength+n.byteLength),e.set(i),e.set(n,i.byteLength),e}},Y=function(t){var e,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,n.byteLength=0,e=0;e<t.length;e++)i=t[e],"access_unit_delimiter_rbsp"===i.nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),n=[i],n.byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},X=function(t){var e,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)i=t[e],i.keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),n=[i],n.nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},K=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},Q=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Z=function(t,e){var i=Q();return i.dataOffset=e,i.compositionTimeOffset=t.pts-t.dts,i.duration=t.duration,i.size=4*t.length,i.size+=t.byteLength,t.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},J=function(t,e){var i,n,r,s,o,a=e||0,l=[];for(i=0;i<t.length;i++)for(s=t[i],n=0;n<s.length;n++)o=s[n],r=Z(o,a),a+=r.size,l.push(r);return l},tt=function(t){var e,i,n,r,s,o,a=0,l=t.byteLength,u=t.nalCount,c=l+4*u,h=new Uint8Array(c),d=new DataView(h.buffer);for(e=0;e<t.length;e++)for(r=t[e],i=0;i<r.length;i++)for(s=r[i],n=0;n<s.length;n++)o=s[n],d.setUint32(a,o.data.byteLength),a+=4,h.set(o.data,a),a+=o.data.byteLength;return h},et=function(t,e){var i,n=e||0,r=[];return i=Z(t,n),r.push(i),r},it=function(t){var e,i,n=0,r=t.byteLength,s=t.length,o=r+4*s,a=new Uint8Array(o),l=new DataView(a.buffer);for(e=0;e<t.length;e++)i=t[e],l.setUint32(n,i.data.byteLength),n+=4,a.set(i.data,n),n+=i.data.byteLength;return a},nt={groupNalsIntoFrames:Y,groupFramesIntoGops:X,extendFirstKeyFrame:K,generateSampleTable:J,concatenateNalData:tt,generateSampleTableForFrame:et,concatenateNalDataForFrame:it},rt=[33,16,5,32,164,27],st=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ot=function(t){var e=[];while(t--)e.push(0);return e},at=function(t){return Object.keys(t).reduce((function(e,i){return e[i]=new Uint8Array(t[i].reduce((function(t,e){return t.concat(e)}),[])),e}),{})},lt={96e3:[rt,[227,64],ot(154),[56]],88200:[rt,[231],ot(170),[56]],64e3:[rt,[248,192],ot(240),[56]],48e3:[rt,[255,192],ot(268),[55,148,128],ot(54),[112]],44100:[rt,[255,192],ot(268),[55,163,128],ot(84),[112]],32e3:[rt,[255,192],ot(268),[55,234],ot(226),[112]],24e3:[rt,[255,192],ot(268),[55,255,128],ot(268),[111,112],ot(126),[224]],16e3:[rt,[255,192],ot(268),[55,255,128],ot(268),[111,255],ot(269),[223,108],ot(195),[1,192]],12e3:[st,ot(268),[3,127,248],ot(268),[6,255,240],ot(268),[13,255,224],ot(268),[27,253,128],ot(259),[56]],11025:[st,ot(268),[3,127,248],ot(268),[6,255,240],ot(268),[13,255,224],ot(268),[27,255,192],ot(268),[55,175,128],ot(108),[112]],8e3:[st,ot(268),[3,121,16],ot(47),[7]]},ut=at(lt),ct=9e4;j=function(t){return t*ct},U=function(t,e){return t*e},G=function(t){return t/ct},W=function(t,e){return t/e},z=function(t,e){return j(W(t,e))},H=function(t,e){return U(G(t),e)},q=function(t,e,i){return G(i?t:t-e)};var ht={ONE_SECOND_IN_TS:ct,secondsToVideoTs:j,secondsToAudioTs:U,videoTsToSeconds:G,audioTsToSeconds:W,audioTsToVideoTs:z,videoTsToAudioTs:H,metadataTsToSeconds:q},dt=function(t){var e,i,n=0;for(e=0;e<t.length;e++)i=t[e],n+=i.data.byteLength;return n},ft=function(t,e,i,n){var r,s,o,a,l=0,u=0,c=0,h=0;if(e.length&&(r=ht.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),l=Math.ceil(ht.ONE_SECOND_IN_TS/(t.samplerate/1024)),i&&n&&(u=r-Math.max(i,n),c=Math.floor(u/l),h=c*l),!(c<1||h>ht.ONE_SECOND_IN_TS/2))){for(s=ut[t.samplerate],s||(s=e[0].data),o=0;o<c;o++)a=e[0],e.splice(0,0,{data:s,dts:a.dts-l,pts:a.pts-l});t.baseMediaDecodeTime-=Math.floor(ht.videoTsToAudioTs(h,t.samplerate))}},pt=function(t,e,i){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},mt=function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],n.push({size:i.data.byteLength,duration:1024});return n},gt=function(t){var e,i,n=0,r=new Uint8Array(dt(t));for(e=0;e<t.length;e++)i=t[e],r.set(i.data,n),n+=i.data.byteLength;return r},yt={prefixWithSilence:ft,trimAdtsFramesByEarliestDts:pt,generateSampleTable:mt,concatenateFrameData:gt},vt=ht.ONE_SECOND_IN_TS,bt=function(t,e){"number"===typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"===typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},_t=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},St=function(t,e){var i,n,r=t.minSegmentDts;return e||(r-=t.timelineStartInfo.dts),i=t.timelineStartInfo.baseMediaDecodeTime,i+=r,i=Math.max(0,i),"audio"===t.type&&(n=t.samplerate/vt,i*=n,i=Math.floor(i)),i},wt={clearDtsInfo:_t,calculateTrackBaseMediaDecodeTime:St,collectDtsInfo:bt},Tt=4,xt=128,Et=function(t){var e=0,i={payloadType:-1,payloadSize:0},n=0,r=0;while(e<t.byteLength){if(t[e]===xt)break;while(255===t[e])n+=255,e++;n+=t[e++];while(255===t[e])r+=255,e++;if(r+=t[e++],!i.payload&&n===Tt){i.payloadType=n,i.payloadSize=r,i.payload=t.subarray(e,e+r);break}e+=r,n=0,r=0}return i},Ct=function(t){return 181!==t.payload[0]||49!==(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},At=function(t,e){var i,n,r,s,o=[];if(!(64&e[0]))return o;for(n=31&e[0],i=0;i<n;i++)r=3*i,s={type:3&e[r+2],pts:t},4&e[r+2]&&(s.ccData=e[r+3]<<8|e[r+4],o.push(s));return o},Pt=function(t){var e,i,n=t.byteLength,r=[],s=1;while(s<n-2)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var o=0;for(s=0;s<e;o++,s++)o===r[0]&&(o++,r.shift()),i[s]=t[o];return i},Mt={parseSei:Et,parseUserData:Ct,parseCaptionPackets:At,discardEmulationPreventionBytes:Pt,USER_DATA_REGISTERED_ITU_T_T35:Tt},kt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Dt(0,0),new Dt(0,1),new Dt(1,0),new Dt(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};kt.prototype=new F,kt.prototype.push=function(t){var e,i,n;if("sei_rbsp"===t.nalUnitType&&(e=Mt.parseSei(t.escapedRBSP),e.payloadType===Mt.USER_DATA_REGISTERED_ITU_T_T35&&(i=Mt.parseUserData(e),i)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Mt.parseCaptionPackets(t.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},kt.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},kt.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},kt.prototype.flush=function(){return this.flushStream("flush")},kt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},kt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},kt.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},kt.prototype.setsChannel1Active=function(t){return 4096===(30720&t.ccData)},kt.prototype.setsChannel2Active=function(t){return 6144===(30720&t.ccData)},kt.prototype.setsTextOrXDSActive=function(t){return 256===(28928&t.ccData)||4138===(30974&t.ccData)||6186===(30974&t.ccData)};var Lt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},It=function(t){return null===t?"":(t=Lt[t]||t,String.fromCharCode(t))},Ot=14,Rt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Nt=function(){var t=[],e=Ot+1;while(e--)t.push("");return t},Dt=function t(e,i){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,r,s;if(e=32639&t.ccData,e!==this.lastControlCode_){if(4096===(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Nt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Nt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Nt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(n,r))n=(3&n)<<8,s=It(n|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),n=(3&n)<<8,s=It(n|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14===(14&r)&&this.addFormatting(t.pts,["i"]),1===(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var o=Rt.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16===(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=It(n),s+=It(r),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};Dt.prototype=new F,Dt.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(Yc){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Dt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Nt(),this.nonDisplayed_=Nt(),this.lastControlCode_=null,this.column_=0,this.row_=Ot,this.rollUpRows_=2,this.formatting_=[]},Dt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Dt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Dt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Dt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Dt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Dt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Dt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Dt.prototype.isNormalChar=function(t){return t>=32&&t<=127},Dt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=Ot,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Nt(),this.displayed_=Nt()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Dt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,i)},Dt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},Dt.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},Dt.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},Dt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<Ot+1;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Dt.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i};var Bt={CaptionStream:kt,Cea608Stream:Dt},Ft={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Vt=8589934592,jt=4294967296,Ut="shared",Gt=function(t,e){var i=1;t>e&&(i=-1);while(Math.abs(e-t)>jt)t+=i*Vt;return t},Wt=function t(e){var i,n;t.prototype.init.call(this),this.type_=e||Ut,this.push=function(t){this.type_!==Ut&&t.type!==this.type_||(void 0===n&&(n=t.dts),t.dts=Gt(t.dts,n),t.pts=Gt(t.pts,n),i=t.dts,this.trigger("data",t))},this.flush=function(){n=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Wt.prototype=new F;var zt,Ht={TimestampRolloverStream:Wt,handleRollover:Gt},qt=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},$t=function(t,e,i){return decodeURIComponent(qt(t,e,i))},Yt=function(t,e,i){return unescape(qt(t,e,i))},Xt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Kt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.value=$t(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.url=$t(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=Yt(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};zt=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},n=0,r=[],s=0;if(zt.prototype.init.call(this),this.dispatchType=Ft.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,o,a,l,u,c;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),s+=t.data.byteLength,1===r.length&&(n=Xt(t.data.subarray(6,10)),n+=10),!(s<n)){for(e={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},u=0;u<n;)e.data.set(r[0].data.subarray(0,n-u),u),u+=r[0].data.byteLength,s-=r[0].data.byteLength,r.shift();o=10,64&e.data[5]&&(o+=4,o+=Xt(e.data.subarray(10,14)),n-=Xt(e.data.subarray(16,20)));do{if(a=Xt(e.data.subarray(o+4,o+8)),a<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(c=String.fromCharCode(e.data[o],e.data[o+1],e.data[o+2],e.data[o+3]),l={id:c,data:e.data.subarray(o+10,o+a+10)},l.key=l.id,Kt[l.id]&&(Kt[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var h=l.data,d=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;d*=4,d+=3&h[7],l.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),o+=10,o+=a}while(o<n);this.trigger("data",e)}}},zt.prototype=new F;var Qt,Zt,Jt,te=zt,ee=Ht.TimestampRolloverStream,ie=188,ne=71;Qt=function(){var t=new Uint8Array(ie),e=0;Qt.prototype.init.call(this),this.push=function(i){var n,r=0,s=ie;e?(n=new Uint8Array(i.byteLength+e),n.set(t.subarray(0,e)),n.set(i,e),e=0):n=i;while(s<n.byteLength)n[r]!==ne||n[s]!==ne?(r++,s++):(this.trigger("data",n.subarray(r,s)),r+=ie,s+=ie);r<n.byteLength&&(t.set(n.subarray(r),0),e=n.byteLength-r)},this.flush=function(){e===ie&&t[0]===ne&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}},Qt.prototype=new F,Zt=function(){var t,e,i,n;Zt.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,n){var r=0;n.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===n.type?e(t.subarray(r),n):i(t.subarray(r),n)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],n.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=n.pmtPid},i=function(t,e){var i,r,s,o;if(1&t[5]){n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=(15&t[1])<<8|t[2],r=3+i-4,s=(15&t[10])<<8|t[11],o=12+s;while(o<r){var a=t[o],l=(31&t[o+1])<<8|t[o+2];a===Ft.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=l:a===Ft.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=l:a===Ft.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][l]=a),o+=5+((15&t[o+3])<<8|t[o+4])}e.programMapTable=n.programMapTable}},this.push=function(e){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&e[1]),i.pid=31&e[1],i.pid<<=8,i.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===i.pid)i.type="pat",t(e.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid){i.type="pmt",t(e.subarray(n),i),this.trigger("data",i);while(this.packetsWaitingForPmt.length)this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,i]):this.processPes_(e,n,i)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=Ft.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Ft.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}},Zt.prototype=new F,Zt.STREAM_TYPES={h264:27,adts:15},Jt=function(){var t,e=this,i={data:[],size:0},n={data:[],size:0},r={data:[],size:0},s=function(t,e){var i;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!==(4&t[6]),i=t[7],192&i&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&i&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},o=function(t,i,n){var r,o=new Uint8Array(t.size),a={type:i},l=0,u=0,c=!1;if(t.data.length&&!(t.size<9)){for(a.trackId=t.data[0].pid,l=0;l<t.data.length;l++)r=t.data[l],o.set(r.data,u),u+=r.data.byteLength;s(o,a),c="video"===i||a.packetLength<=t.size,(n||c)&&(t.size=0,t.data.length=0),c&&e.trigger("data",a)}};Jt.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var t,e;switch(s.streamType){case Ft.H264_STREAM_TYPE:case Ft.H264_STREAM_TYPE:t=i,e="video";break;case Ft.ADTS_STREAM_TYPE:t=n,e="audio";break;case Ft.METADATA_STREAM_TYPE:t=r,e="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&o(t,e,!0),t.data.push(s),t.size+=s.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};t=s.programMapTable,null!==t.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",i)}})[s.type]()},this.reset=function(){i.size=0,i.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(i,"video"),o(n,"audio"),o(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},Jt.prototype=new F;var re={PAT_PID:0,MP2T_PACKET_LENGTH:ie,TransportPacketStream:Qt,TransportParseStream:Zt,ElementaryStream:Jt,TimestampRolloverStream:ee,CaptionStream:Bt.CaptionStream,Cea608Stream:Bt.Cea608Stream,MetadataStream:te};for(var se in Ft)Ft.hasOwnProperty(se)&&(re[se]=Ft[se]);var oe,ae=re,le=ht.ONE_SECOND_IN_TS,ue=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];oe=function(t){var e,i=0;oe.prototype.init.call(this),this.push=function(n){var r,s,o,a,l,u,c=0;if(t||(i=0),"audio"===n.type){e?(a=e,e=new Uint8Array(a.byteLength+n.data.byteLength),e.set(a),e.set(n.data,a.byteLength)):e=n.data;while(c+5<e.length)if(255===e[c]&&240===(246&e[c+1])){if(s=2*(1&~e[c+1]),r=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,l=1024*(1+(3&e[c+6])),u=l*le/ue[(60&e[c+2])>>>2],o=c+r,e.byteLength<o)return;if(this.trigger("data",{pts:n.pts+i*u,dts:n.dts+i*u,sampleCount:l,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:ue[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+s,o)}),i++,e.byteLength===o)return void(e=void 0);e=e.subarray(o)}else c++}},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}},oe.prototype=new F;var ce,he=oe;ce=function(t){var e=t.byteLength,i=0,n=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+n},this.loadWord=function(){var r=t.byteLength-e,s=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");s.set(t.subarray(r,r+o)),i=new DataView(s.buffer).getUint32(0),n=8*o,e-=o},this.skipBits=function(t){var r;n>t?(i<<=t,n-=t):(t-=n,r=Math.floor(t/8),t-=8*r,e-=r,this.loadWord(),i<<=t,n-=t)},this.readBits=function(t){var r=Math.min(n,t),s=i>>>32-r;return n-=r,n>0?i<<=r:e>0&&this.loadWord(),r=t-r,r>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t)if(0!==(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var de,fe,pe,me=ce;fe=function(){var t,e,i=0;fe.prototype.init.call(this),this.push=function(n){var r;e?(r=new Uint8Array(e.byteLength+n.data.byteLength),r.set(e),r.set(n.data,e.byteLength),e=r):e=n.data;for(var s=e.byteLength;i<s-3;i++)if(1===e[i+2]){t=i+5;break}while(t<s)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));do{t++}while(1!==e[t]&&t<s);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3;break}e=e.subarray(i),t-=i,i=0},this.reset=function(){e=null,i=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(i+3)),e=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},fe.prototype=new F,pe={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},de=function(){var t,e,i,n,r,s,o,a=new fe;de.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,i=t.pts,n=t.dts,a.push(t))},a.on("data",(function(o){var a={trackId:e,pts:i,dts:n,data:o};switch(31&o[0]){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=r(o.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=r(o.subarray(1)),a.config=s(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp";break}t.trigger("data",a)})),a.on("done",(function(){t.trigger("done")})),a.on("partialdone",(function(){t.trigger("partialdone")})),a.on("reset",(function(){t.trigger("reset")})),a.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){a.flush()},this.partialFlush=function(){a.partialFlush()},this.reset=function(){a.reset()},this.endTimeline=function(){a.endTimeline()},o=function(t,e){var i,n,r=8,s=8;for(i=0;i<t;i++)0!==s&&(n=e.readExpGolomb(),s=(r+n+256)%256),r=0===s?r:s},r=function(t){var e,i,n=t.byteLength,r=[],s=1;while(s<n-2)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var o=0;for(s=0;s<e;o++,s++)o===r[0]&&(o++,r.shift()),i[s]=t[o];return i},s=function(t){var e,i,n,r,s,a,l,u,c,h,d,f,p,m,g=0,y=0,v=0,b=0,_=1;if(e=new me(t),i=e.readUnsignedByte(),r=e.readUnsignedByte(),n=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),pe[i]&&(s=e.readUnsignedExpGolomb(),3===s&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==s?8:12,m=0;m<d;m++)e.readBoolean()&&o(m<6?16:64,e);if(e.skipUnsignedExpGolomb(),a=e.readUnsignedExpGolomb(),0===a)e.readUnsignedExpGolomb();else if(1===a)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),m=0;m<l;m++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),h=e.readBits(1),0===h&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(p=e.readUnsignedByte(),p){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()];break}f&&(_=f[0]/f[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*g-2*y)*_),height:(2-h)*(c+1)*16-2*v-2*b,sarRatio:f}}},de.prototype=new F;var ge,ye={H264Stream:de,NalByteStream:fe},ve=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],be=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},_e=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Se=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},we=function(t,e,i){return unescape(Se(t,e,i))},Te=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],n=t[e+5],r=(16&n)>>4;return r?i+20:i+10},xe=function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3,r=6144&t[e+3];return r|n|i},Ee=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240===(240&t[e+1])?"audio":null},Ce=function(t){var e=0;while(e+5<t.length){if(255===t[e]&&240===(246&t[e+1]))return ve[(60&t[e+2])>>>2];e++}return null},Ae=function(t){var e,i,n,r;e=10,64&t[5]&&(e+=4,e+=_e(t.subarray(10,14)));do{if(i=_e(t.subarray(e+4,e+8)),i<1)return null;if(r=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]),"PRIV"===r){n=t.subarray(e+10,e+i+10);for(var s=0;s<n.byteLength;s++)if(0===n[s]){var o=we(n,0,s);if("com.apple.streaming.transportStreamTimestamp"===o){var a=n.subarray(s+1),l=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return l*=4,l+=3&a[7],l}break}}e+=10,e+=i}while(e<t.byteLength);return null},Pe={isLikelyAacData:be,parseId3TagSize:Te,parseAdtsSize:xe,parseType:Ee,parseSampleRate:Ce,parseAacTimestamp:Ae};ge=function(){var t=new Uint8Array,e=0;ge.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(i){var n,r,s,o,a=0,l=0;t.length?(o=t.length,t=new Uint8Array(i.byteLength+o),t.set(t.subarray(0,o)),t.set(i,o)):t=i;while(t.length-l>=3)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(255!==(255&t[l])||240!==(240&t[l+1]))l++;else{if(t.length-l<7)break;if(a=Pe.parseAdtsSize(t,l),l+a>t.length)break;s={type:"audio",data:t.subarray(l,l+a),pts:e,dts:e},this.trigger("data",s),l+=a}else{if(t.length-l<10)break;if(a=Pe.parseId3TagSize(t,l),l+a>t.length)break;r={type:"timed-metadata",data:t.subarray(l,l+a)},this.trigger("data",r),l+=a}n=t.length-l,t=n>0?t.subarray(l):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}},ge.prototype=new F;var Me,ke,Le,Ie,Oe=ge,Re=ye.H264Stream,Ne=Pe.isLikelyAacData,De=ht.ONE_SECOND_IN_TS,Be=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Fe=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ve=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},je=function(t,e,i,n,r,s){var o=i-e,a=n-e,l=r-i;return{start:{dts:t,pts:t+o},end:{dts:t+a,pts:t+l},prependedContentDuration:s,baseMediaDecodeTime:t}};ke=function(t,e){var i=[],n=0,r=0,s=0,o=1/0;e=e||{},ke.prototype.init.call(this),this.push=function(e){wt.collectDtsInfo(t,e),t&&Be.forEach((function(i){t[i]=e[i]})),i.push(e)},this.setEarliestDts=function(e){r=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){o=t},this.setAudioAppendStart=function(t){s=t},this.flush=function(){var a,l,u,c,h;0!==i.length?(a=yt.trimAdtsFramesByEarliestDts(i,t,r),t.baseMediaDecodeTime=wt.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),yt.prefixWithSilence(t,a,s,o),t.samples=yt.generateSampleTable(a),u=$.mdat(yt.concatenateFrameData(a)),i=[],l=$.moof(n,[t]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),wt.clearDtsInfo(t),h=Math.ceil(1024*De/t.samplerate),a.length&&this.trigger("timingInfo",{start:a[0].pts,end:a[0].pts+a.length*h}),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){wt.clearDtsInfo(t),i=[],this.trigger("reset")}},ke.prototype=new F,Me=function(t,e){var i,n,r=0,s=[],o=[];e=e||{},Me.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){wt.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],Fe.forEach((function(e){t[e]=i[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,t.pps=[e.data]),s.push(e)},this.flush=function(){var i,n,a,l,u,c,h,d,f=0;while(s.length){if("access_unit_delimiter_rbsp"===s[0].nalUnitType)break;s.shift()}if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=nt.groupNalsIntoFrames(s),a=nt.groupFramesIntoGops(i),a[0][0].keyFrame||(n=this.getGopForFusion_(s[0],t),n?(f=n.duration,a.unshift(n),a.byteLength+=n.byteLength,a.nalCount+=n.nalCount,a.pts=n.pts,a.dts=n.dts,a.duration+=n.duration):a=nt.extendFirstKeyFrame(a)),o.length){var p;if(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a),!p)return this.gopCache_.unshift({gop:a.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");wt.clearDtsInfo(t),a=p}wt.collectDtsInfo(t,a),t.samples=nt.generateSampleTable(a),u=$.mdat(nt.concatenateNalData(a)),t.baseMediaDecodeTime=wt.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),h=a[0],d=a[a.length-1],this.trigger("segmentTimingInfo",je(t.baseMediaDecodeTime,h.dts,h.pts,d.dts+d.duration,d.pts+d.duration,f)),this.trigger("timingInfo",{start:a[0].pts,end:a[a.length-1].pts+a[a.length-1].duration}),this.gopCache_.unshift({gop:a.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),l=$.moof(r,[t]),c=new Uint8Array(l.byteLength+u.byteLength),r++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),s=[],this.gopCache_.length=0,o.length=0,this.trigger("reset")},this.resetStream_=function(){wt.clearDtsInfo(t),i=void 0,n=void 0},this.getGopForFusion_=function(e){var i,n,r,s,o,a=45e3,l=1e4,u=1/0;for(o=0;o<this.gopCache_.length;o++)s=this.gopCache_[o],r=s.gop,t.pps&&Ve(t.pps[0],s.pps[0])&&t.sps&&Ve(t.sps[0],s.sps[0])&&(r.dts<t.timelineStartInfo.dts||(i=e.dts-r.dts-r.duration,i>=-l&&i<=a&&(!n||u>i)&&(n=s,u=i)));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,i,n,r,s,a,l,u;s=t.byteLength,a=t.nalCount,l=t.duration,e=i=0;while(e<o.length&&i<t.length){if(n=o[e],r=t[i],n.pts===r.pts)break;r.pts>n.pts?e++:(i++,s-=r.byteLength,a-=r.nalCount,l-=r.duration)}return 0===i?t:i===t.length?null:(u=t.slice(i),u.byteLength=s,u.duration=l,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,i,n,r,s,a,l;e=o.length-1,i=t.length-1,s=null,a=!1;while(e>=0&&i>=0){if(n=o[e],r=t[i],n.pts===r.pts){a=!0;break}n.pts>r.pts?e--:(e===o.length-1&&(s=i),i--)}if(!a&&null===s)return null;if(l=a?i:s,0===l)return t;var u=t.slice(l),c=u.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){o=t}},Me.prototype=new F,Ie=function(t,e){this.numberOfTracks=0,this.metadataStream=e,t=t||{},"undefined"!==typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"===typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ie.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}},Ie.prototype=new F,Ie.prototype.flush=function(t){var e,i,n,r,s=0,o={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,Fe.forEach((function(t){o.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,Be.forEach((function(t){o.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=$.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)e=this.pendingCaptions[r],e.startTime=ht.metadataTsToSeconds(e.startPts,a,this.keepOriginalTimestamps),e.endTime=ht.metadataTsToSeconds(e.endPts,a,this.keepOriginalTimestamps),o.captionStreams[e.stream]=!0,o.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)i=this.pendingMetadata[r],i.cueTime=ht.metadataTsToSeconds(i.pts,a,this.keepOriginalTimestamps),o.metadata.push(i);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),r=0;r<o.captions.length;r++)e=o.captions[r],this.trigger("caption",e);for(r=0;r<o.metadata.length;r++)i=o.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ie.prototype.setRemux=function(t){this.remuxTracks=t},Le=function(t){var e,i,n=this,r=!0;Le.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new ae.MetadataStream,r.aacStream=new Oe,r.audioTimestampRolloverStream=new ae.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ae.TimestampRolloverStream("timed-metadata"),r.adtsStream=new he,r.coalesceStream=new Ie(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(t){r.aacStream.setTimestamp(t.timeStamp)})),r.aacStream.on("data",(function(s){"timed-metadata"!==s.type||r.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ke(i,t),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e})})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new ae.MetadataStream,r.packetStream=new ae.TransportPacketStream,r.parseStream=new ae.TransportParseStream,r.elementaryStream=new ae.ElementaryStream,r.timestampRolloverStream=new ae.TimestampRolloverStream,r.adtsStream=new he,r.h264Stream=new Re,r.captionStream=new ae.CaptionStream,r.coalesceStream=new Ie(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(s){var o;if("metadata"===s.type){o=s.tracks.length;while(o--)e||"video"!==s.tracks[o].type?i||"audio"!==s.tracks[o].type||(i=s.tracks[o],i.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(e=s.tracks[o],e.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime);e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new Me(e,t),r.videoSegmentStream.on("timelineStartInfo",(function(t){i&&(i.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts))})),r.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(t){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),r.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ke(i,t),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(t){t.dispatchType=r.metadataStream.dispatchType,n.trigger("id3Frame",t)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,wt.clearDtsInfo(i),t.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,wt.clearDtsInfo(e),r.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=n)),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var i=this.transmuxPipeline_;t.remux=e,i&&i.coalesceStream&&i.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Ne(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Le.prototype=new F;var Ue={Transmuxer:Le,VideoSegmentStream:Me,AudioSegmentStream:ke,AUDIO_PROPERTIES:Be,VIDEO_PROPERTIES:Fe,generateVideoSegmentTimingInfo:je},Ge=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},We=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ze=function(t,e){e.on("data",(function(e){var i=e.initSegment;e.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};var n=e.data;e.data=n.buffer,t.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])})),e.captionStream&&e.captionStream.on("data",(function(e){t.postMessage({action:"caption",data:e})})),e.on("done",(function(e){t.postMessage({action:"done"})})),e.on("gopInfo",(function(e){t.postMessage({action:"gopInfo",gopInfo:e})})),e.on("videoSegmentTimingInfo",(function(e){t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}))},He=function(){function t(e,i){Ge(this,t),this.options=i||{},this.self=e,this.init()}return We(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ue.Transmuxer(this.options),ze(this.self,this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}(),qe=function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new He(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new He(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}},$e=new qe(i)})()})),Ul={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Gl=function(t){return t.map((function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,i){var n=("00"+Number(e).toString(16)).slice(-2),r=("00"+Number(i).toString(16)).slice(-2);return"avc1."+n+"00"+r}))}))},Wl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={codecCount:0},i=void 0;return e.codecCount=t.split(",").length,e.codecCount=e.codecCount||2,i=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t),i&&(e.videoCodec=i[2],e.videoObjectTypeIndicator=i[3]),e.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),e.audioProfile=e.audioProfile&&e.audioProfile[2],e},zl=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return Gl([t])[0]}))},Hl=function(t,e,i){return t+"/"+e+'; codecs="'+i.filter((function(t){return!!t})).join(", ")+'"'},ql=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"},$l=function(t){var e=t.attributes||{};return e.CODECS?Wl(e.CODECS):Ul},Yl=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var i=t.mediaGroups.AUDIO[e];if(!i)return null;for(var n in i){var r=i[n];if(r["default"]&&r.playlists)return Wl(r.playlists[0].attributes.CODECS).audioProfile}return null},Xl=function(t,e){var i=ql(e),n=$l(e),r=e.attributes||{},s=!0,o=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var a=t.mediaGroups.AUDIO[r.AUDIO];if(a)for(var l in o=!0,s=!1,a)if(!a[l].uri&&!a[l].playlists){s=!0;break}}o&&!n.audioProfile&&(s||(n.audioProfile=Yl(t,r.AUDIO)),n.audioProfile||(Qo.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=Ul.audioProfile));var u={};n.videoCodec&&(u.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(u.audio="mp4a.40."+n.audioProfile);var c=Hl("audio",i,[u.audio]),h=Hl("video",i,[u.video]),d=Hl("video",i,[u.video,u.audio]);return o?!s&&u.video?[h,c]:s||u.video?[d,c]:[c,c]:u.video?[d]:[c]},Kl=function(t){var e={type:"",parameters:{}},i=t.trim().split(";");return e.type=i.shift().trim(),i.forEach((function(t){var i=t.trim().split("=");if(i.length>1){var n=i[0].replace(/"/g,"").trim(),r=i[1].replace(/"/g,"").trim();e.parameters[n]=r}})),e},Ql=function(t){return/mp4a\.\d+.\d+/i.test(t)},Zl=function(t){return/avc1\.[\da-f]+/i.test(t)},Jl=function(t,e,i){if("undefined"===typeof e||null===e||!t.length)return[];var n=Math.ceil(9e4*(e-i+3)),r=void 0;for(r=0;r<t.length;r++)if(t[r].pts>n)break;return t.slice(r)},tu=function(t,e,i){if(!e.length)return t;if(i)return e.slice();var n=e[0].pts,r=0;for(r;r<t.length;r++)if(t[r].pts>=n)break;return t.slice(0,r).concat(e)},eu=function(t,e,i,n){var r=Math.ceil(9e4*(e-n)),s=Math.ceil(9e4*(i-n)),o=t.slice(),a=t.length;while(a--)if(t[a].pts<=s)break;if(-1===a)return o;var l=a+1;while(l--)if(t[l].pts<=r)break;return l=Math.max(l,0),o.splice(l,a-l+1),o},iu=function(t,e,i){var n=null,r=null,s=0,o=[],a=[];if(!t&&!e)return Qo.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(i)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return Qo.createTimeRange();var l=t.buffered,u=e.buffered,c=l.length;while(c--)o.push({time:l.start(c),type:"start"}),o.push({time:l.end(c),type:"end"});c=u.length;while(c--)o.push({time:u.start(c),type:"start"}),o.push({time:u.end(c),type:"end"});for(o.sort((function(t,e){return t.time-e.time})),c=0;c<o.length;c++)"start"===o[c].type?(s++,2===s&&(n=o[c].time)):"end"===o[c].type&&(s--,1===s&&(r=o[c].time)),null!==n&&null!==r&&(a.push([n,r]),n=null,r=null);return Qo.createTimeRanges(a)},nu=9e4,ru=function(t,e){var i=t.addSourceBuffer(e),n=Object.create(null);n.updating=!1,n.realBuffer_=i;var r=function(t){"function"===typeof i[t]?n[t]=function(){return i[t].apply(i,arguments)}:"undefined"===typeof n[t]&&Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){return i[t]=e}})};for(var s in i)r(s);return n},su=function(t){function e(t,i){ia(this,e);var n=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Qo.EventTarget));n.timestampOffset_=0,n.pendingBuffers_=[],n.bufferUpdating_=!1,n.mediaSource_=t,n.codecs_=i,n.audioCodec_=null,n.videoCodec_=null,n.audioDisabled_=!1,n.appendAudioInitSegment_=!0,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=Qo.browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:n.safeAppend_};return n.codecs_.forEach((function(t){Ql(t)?n.audioCodec_=t:Zl(t)&&(n.videoCodec_=t)})),n.transmuxer_=new jl,n.transmuxer_.postMessage({action:"init",options:r}),n.transmuxer_.onmessage=function(t){return"data"===t.data.action?n.data_(t):"done"===t.data.action?n.done_(t):"gopInfo"===t.data.action?n.appendGopInfo_(t):"videoSegmentTimingInfo"===t.data.action?n.videoSegmentTimingInfo_(t.data.videoSegmentTimingInfo):void 0},Object.defineProperty(n,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"===typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(n,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(n,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(n,"buffered",{get:function(){return iu(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),n}return sa(e,t),na(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),Tl(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(t){var e={start:{decode:t.start.dts/nu,presentation:t.start.pts/nu},end:{decode:t.end.dts/nu,presentation:t.end.pts/nu},baseMediaDecodeTime:t.baseMediaDecodeTime/nu};t.prependedContentDuration&&(e.prependedContentDuration=t.prependedContentDuration/nu),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach((function(i){if(t[i+"Codec_"]&&!t[i+"Buffer_"]){var n=null;if(t.mediaSource_[i+"Buffer_"])n=t.mediaSource_[i+"Buffer_"],n.updating=!1;else{var r=i+"Codec_",s=i+'/mp4;codecs="'+t[r]+'"';n=ru(t.mediaSource_.nativeMediaSource_,s),t.mediaSource_[i+"Buffer_"]=n}t[i+"Buffer_"]=n,["update","updatestart","updateend"].forEach((function(r){n.addEventListener(r,(function(){if("audio"!==i||!t.audioDisabled_){"updateend"===r&&(t[i+"Buffer_"].updating=!1);var n=e.every((function(e){return!("audio"!==e||!t.audioDisabled_)||(i===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)}));return n?t.trigger(r):void 0}}))}))}}))}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:Jl(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=tu(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=eu(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),xl(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)xl(t,e,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);t=this.pendingBuffers_.reduce((function(t,e){var i=e.type,n=e.data,r=e.initSegment;return t[i].segments.push(n),t[i].bytes+=n.byteLength,t[i].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[i].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t}),t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),Al(this,t.captions,t.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var i=0,n=void 0;if(t.bytes){n=new Uint8Array(t.bytes),t.segments.forEach((function(t){n.set(t,i),i+=t.byteLength}));try{e.updating=!0,e.appendBuffer(n)}catch(r){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:r.message,originalError:r})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"dispose",value:function(){this.transmuxer_&&this.transmuxer_.terminate(),this.trigger("dispose"),this.off()}}]),e}(Qo.EventTarget),ou=function(t){function e(){ia(this,e);var t=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=void 0;for(i in t.nativeMediaSource_=new r.a.MediaSource,t.nativeMediaSource_)i in e.prototype||"function"!==typeof t.nativeMediaSource_[i]||(t[i]=t.nativeMediaSource_[i].bind(t.nativeMediaSource_));return t.duration_=NaN,Object.defineProperty(t,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(t,"seekable",{get:function(){return this.duration_===1/0?Qo.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(t,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(t,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),t.sourceBuffers=[],t.activeSourceBuffers_=[],t.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var i=!1,n=!0,r=0;r<t.player_.audioTracks().length;r++){var s=t.player_.audioTracks()[r];if(s.enabled&&"main"!==s.kind){i=!0,n=!1;break}}t.sourceBuffers.forEach((function(e,r){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=i;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=r?n:!n,e.audioDisabled_))return;t.activeSourceBuffers_.push(e)}))},t.onPlayerMediachange_=function(){t.sourceBuffers.forEach((function(t){t.appendAudioInitSegment_=!0}))},t.onHlsReset_=function(){t.sourceBuffers.forEach((function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})}))},t.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach((function(t){return t.timeMapping_=e.mapping}))},["sourceopen","sourceclose","sourceended"].forEach((function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))}),t),t.on("sourceopen",(function(e){var i=o.a.querySelector('[src="'+t.url_+'"]');i&&(t.player_=Qo(i.parentNode),t.player_&&(t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_)))})),t.on("sourceended",(function(e){for(var i=Cl(t.duration),n=0;n<t.sourceBuffers.length;n++){var r=t.sourceBuffers[n],s=r.metadataTrack_&&r.metadataTrack_.cues;s&&s.length&&(s[s.length-1].endTime=i)}})),t.on("sourceclose",(function(t){this.sourceBuffers.forEach((function(t){t.transmuxer_&&t.transmuxer_.terminate()})),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})),t}return sa(e,t),na(e,[{key:"addSeekableRange_",value:function(t,e){var i=void 0;if(this.duration!==1/0)throw i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),i.name="InvalidStateError",i.code=11,i;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,i=Kl(t);if(/^(video|audio)\/mp2t$/i.test(i.type)){var n=[];i.parameters&&i.parameters.codecs&&(n=i.parameters.codecs.split(","),n=Gl(n),n=n.filter((function(t){return Ql(t)||Zl(t)}))),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),e=new su(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}},{key:"dispose",value:function(){this.trigger("dispose"),this.off(),this.sourceBuffers.forEach((function(t){t.dispose&&t.dispose()})),this.sourceBuffers.length=0}}]),e}(Qo.EventTarget),au=0;Qo.mediaSources={};var lu=function(t,e){var i=Qo.mediaSources[t];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:e})},uu=function(){return!!r.a.MediaSource&&!!r.a.MediaSource.isTypeSupported&&r.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},cu=function(){if(this.MediaSource={open:lu,supportsNativeMediaSources:uu},uu())return new ou;throw new Error("Cannot use create a virtual MediaSource for this video")};cu.open=lu,cu.supportsNativeMediaSources=uu;var hu={createObjectURL:function(t){var e="blob:vjs-media-source/",i=void 0;return t instanceof ou?(i=r.a.URL.createObjectURL(t.nativeMediaSource_),t.url_=i,i):t instanceof ou?(i=e+au,au++,Qo.mediaSources[i]=t,i):(i=r.a.URL.createObjectURL(t),t.url_=i,i)}};Qo.MediaSource=cu,Qo.URL=hu;var du=Qo.EventTarget,fu=Qo.mergeOptions,pu=function(t,e){for(var i=void 0,n=fu(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var s=pa(n,e.playlists[r]);s?n=s:i=!0}return ha(e,(function(t,e,r,s){if(t.playlists&&t.playlists.length){var o=t.playlists[0].id,a=pa(n,t.playlists[0]);a&&(n=a,n.mediaGroups[e][r][s].playlists[0]=n.playlists[o],i=!1)}})),i?null:n},mu=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},gu=function(t,e){var i=Boolean(!t.map&&!e.map),n=i||Boolean(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length);return n&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length},yu=function(t,e){var i={};for(var n in t){var r=t[n],s=r.sidx;if(s){var o=mu(s);if(!e[o])break;var a=e[o].sidxInfo;gu(a,s)&&(i[o]=e[o])}}return i},vu=function(t,e,i,n){var r=Ft(t,{manifestUri:e,clientOffset:i}),s=yu(r.playlists,n),o=s;return ha(r,(function(t,e,i,r){if(t.playlists&&t.playlists.length){var s=t.playlists;o=fu(o,yu(s,n))}})),o},bu=function(t,e,i,n,r){var s={uri:ea(n.handleManifestRedirects,t.resolvedUri),byterange:t.byterange,playlist:e},o=Qo.mergeOptions(s,{responseType:"arraybuffer",headers:Ya(s)});return i(o,r)},_u=function(t){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];ia(this,e);var s=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=n.withCredentials,a=void 0!==o&&o,l=n.handleManifestRedirects,u=void 0!==l&&l;if(s.hls_=i,s.withCredentials=a,s.handleManifestRedirects=u,!t)throw new Error("A non-empty playlist URL or playlist is required");return s.on("minimumUpdatePeriod",(function(){s.refreshXml_()})),s.on("mediaupdatetimeout",(function(){s.refreshMedia_(s.media().id)})),s.state="HAVE_NOTHING",s.loadedPlaylists_={},"string"===typeof t?(s.srcUrl=t,s.sidxMapping_={},oa(s)):(s.setupChildLoader(r,t),s)}return sa(e,t),na(e,[{key:"setupChildLoader",value:function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),r.a.clearTimeout(this.mediaRequest_),r.a.clearTimeout(this.mediaUpdateTimeout),this.off()}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"sidxRequestFinished_",value:function(t,e,i,n){var r=this;return function(s,o){if(r.request){if(r.request=null,s)return r.error={status:o.status,message:"DASH playlist request error at URL: "+t.uri,response:o.response,code:2},i&&(r.state=i),r.trigger("error"),n(e,null);var a=new Uint8Array(o.response),l=Ut.a.parseSidx(a.subarray(8));return n(e,l)}}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"===typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.id!==this.media_.id;if(n&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList)return this.state="HAVE_METADATA",this.media_=t,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(n)if(this.media_&&this.trigger("mediachanging"),t.sidx){var s=void 0,o=void 0;this.masterPlaylistLoader_?(s=this.masterPlaylistLoader_.master,o=this.masterPlaylistLoader_.sidxMapping_):(s=this.master,o=this.sidxMapping_);var a=mu(t.sidx);o[a]={sidxInfo:t.sidx},this.request=bu(t.sidx,t,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(t,s,i,(function(n,r){if(!n||!r)throw new Error("failed to request sidx");o[a].sidx=r,e.haveMetadata({startingState:i,playlist:n.playlists[t.id]})})))}else this.mediaRequest_=r.a.setTimeout(this.haveMetadata.bind(this,{startingState:i,playlist:t}),0)}},{key:"haveMetadata",value:function(t){var e=t.startingState,i=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(t){var e=this;r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(t){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout((function(){return e.load()}),n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var t=Ft(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});t.uri=this.srcUrl;for(var e=0;e<t.playlists.length;e++){var i="placeholder-uri-"+e;t.playlists[e].uri=i}return ha(t,(function(e,i,n,r){if(e.playlists&&e.playlists.length){var s="placeholder-uri-"+i+"-"+n+"-"+r,o=ma(0,s);e.playlists[0].uri=s,e.playlists[0].id=o,t.playlists[o]=e.playlists[0],t.playlists[s]=e.playlists[0]}})),ga(t),ya(t),t}},{key:"start",value:function(){var t=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=r.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?t.masterLoaded_=Date.parse(i.responseHeaders.date):t.masterLoaded_=Date.now(),t.srcUrl=ea(t.handleManifestRedirects,t.srcUrl,i),t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}}))}},{key:"syncClientServerClock_",value:function(t){var e=this,i=Vt(this.masterXml_);return null===i?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===i.method?(this.clientOffset_=i.value-Date.now(),t()):void(this.request=this.hls_.xhr({uri:ta(this.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},(function(n,r){if(e.request){if(n)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var s=void 0;s="HEAD"===i.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=s-Date.now(),t()}})))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=r.a.setTimeout((function(){t.trigger("minimumUpdatePeriod")}),this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=i.responseText,t.sidxMapping_=vu(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var n=t.parseMasterXml(),s=pu(t.master,n),o=t.media().sidx;if(s)if(o){var a=mu(o);if(!t.sidxMapping_[a]){var l=t.media();t.request=bu(l.sidx,l,t.hls_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(l,n,t.state,(function(e,i){if(!e||!i)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[a].sidx=i,t.minimumUpdatePeriodTimeout_=r.a.setTimeout((function(){t.trigger("minimumUpdatePeriod")}),t.master.minimumUpdatePeriod),t.refreshMedia_(t.media().id)})))}}else t.master=s;t.minimumUpdatePeriodTimeout_=r.a.setTimeout((function(){t.trigger("minimumUpdatePeriod")}),t.master.minimumUpdatePeriod)}}))}},{key:"refreshMedia_",value:function(t){var e=this;if(!t)throw new Error("refreshMedia_ must take a media id");var i=void 0,n=void 0;this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(i=this.master,n=this.parseMasterXml());var s=pu(i,n);s?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=s:this.master=s,this.media_=s.playlists[t]):(this.media_=n.playlists[t],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=r.a.setTimeout((function(){e.trigger("mediaupdatetimeout")}),va(this.media(),!!s))),this.trigger("loadedplaylist")}}]),e}(du),Su=function(t){return Qo.log.debug?Qo.log.debug.bind(Qo,"VHS:",t+" >"):function(){}};function wu(){}var Tu=function(){function t(e,i,n,r){ia(this,t),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=n,this.mimeType_=i,this.logger_=Su("SourceUpdater["+n+"]["+i+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,i,r)):this.createSourceBuffer_(i,r)}return na(t,[{key:"createSourceBuffer_",value:function(t,e){var i=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",(function(){i.start_()})):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.sourceBuffer_.removing=!1,t.logger_("buffered ["+_l(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_((function(){e.sourceBuffer_.abort()}),t)}},{key:"appendBuffer",value:function(t,e){var i=this;this.processedAppend_=!0,this.queueCallback_((function(){t.videoSegmentTimingInfoCallback&&i.sourceBuffer_.addEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),i.sourceBuffer_.appendBuffer(t.bytes)}),(function(){t.videoSegmentTimingInfoCallback&&i.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),e()}))}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Qo.createTimeRanges()}},{key:"remove",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wu;this.processedAppend_&&this.queueCallback_((function(){i.logger_("remove ["+t+" => "+e+"]"),i.sourceBuffer_.removing=!0,i.sourceBuffer_.remove(t,e)}),n)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==wu}},{key:"timestampOffset",value:function(t){var e=this;return"undefined"!==typeof t&&(this.queueCallback_((function(){e.sourceBuffer_.timestampOffset=t,e.runCallback_()})),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){var t=this,e=function e(){t.sourceBuffer_&&"open"===t.mediaSource.readyState&&t.sourceBuffer_.abort(),t.sourceBuffer_.removeEventListener("updateend",e)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),t}(),xu={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Eu={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Cu=function(t){t.forEach((function(t){t.abort()}))},Au=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},Pu=function(t){var e=t.target,i=Date.now()-e.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},Mu=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Eu.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Eu.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Eu.FAILURE,xhr:e}:null},ku=function(t,e){return function(i,n){var r=n.response,s=Mu(i,n);if(s)return e(s,t);if(16!==r.byteLength)return e({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Eu.FAILURE,xhr:n},t);var o=new DataView(r);return t.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),e(null,t)}},Lu=function(t,e,i){return function(n,r){var s=r.response,o=Mu(n,r);return o?i(o,t):0===s.byteLength?i({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Eu.FAILURE,xhr:r},t):(t.map.bytes=new Uint8Array(r.response),e&&!e.isInitialized()&&e.init(),t.map.timescales=Wt.a.timescale(t.map.bytes),t.map.videoTrackIds=Wt.a.videoTrackIds(t.map.bytes),i(null,t))}},Iu=function(t,e,i){return function(n,r){var s=r.response,o=Mu(n,r),a=void 0;return o?i(o,t):0===s.byteLength?i({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Eu.FAILURE,xhr:r},t):(t.stats=Au(r),t.key?t.encryptedBytes=new Uint8Array(r.response):t.bytes=new Uint8Array(r.response),e&&t.map&&t.map.bytes&&(e.isInitialized()||e.init(),a=e.parse(t.bytes,t.map.videoTrackIds,t.map.timescales),a&&a.captions&&(t.captionStreams=a.captionStreams,t.fmp4Captions=a.captions)),i(null,t))}},Ou=function(t,e,i){var n=function n(r){if(r.data.source===e.requestId){t.removeEventListener("message",n);var s=r.data.decrypted;return e.bytes=new Uint8Array(s.bytes,s.byteOffset,s.byteLength),i(null,e)}};t.addEventListener("message",n);var r=void 0;r=e.key.bytes.slice?e.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.key.bytes)),t.postMessage(Za({source:e.requestId,encrypted:e.encryptedBytes,key:r,iv:e.key.iv}),[e.encryptedBytes.buffer,r.buffer])},Ru=function(t,e,i){var n=0,r=!1;return function(s,o){if(!r)return s?(r=!0,Cu(t),i(s,o)):(n+=1,n===t.length?(o.endOfAllRequests=Date.now(),o.encryptedBytes?Ou(e,o,i):i(null,o)):void 0)}},Nu=function(t,e){return function(i){return t.stats=Qo.mergeOptions(t.stats,Pu(i)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(i,t)}},Du=function(t,e,i,n,r,s,o){var a=[],l=Ru(a,i,o);if(r.key&&!r.key.bytes){var u=Qo.mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),c=ku(r,l),h=t(u,c);a.push(h)}if(r.map&&!r.map.bytes){var d=Qo.mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Ya(r.map)}),f=Lu(r,n,l),p=t(d,f);a.push(p)}var m=Qo.mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Ya(r)}),g=Iu(r,n,l),y=t(m,g);return y.addEventListener("progress",Nu(r,s)),a.push(y),function(){return Cu(a)}},Bu=function(t,e){var i=void 0;return t?(i=r.a.getComputedStyle(t),i?i[e]:""):""},Fu=function(t,e){var i=t.slice();t.sort((function(t,n){var r=e(t,n);return 0===r?i.indexOf(t)-i.indexOf(n):r}))},Vu=function(t,e){var i=void 0,n=void 0;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||r.a.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||r.a.Number.MAX_VALUE,i-n},ju=function(t,e){var i=void 0,n=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||r.a.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||r.a.Number.MAX_VALUE,i===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n},Uu=function(t,e,i,n,s){var o=t.playlists.map((function(t){var e=void 0,i=void 0,n=void 0;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,n=t.attributes.BANDWIDTH,n=n||r.a.Number.MAX_VALUE,{bandwidth:n,width:e,height:i,playlist:t}}));Fu(o,(function(t,e){return t.bandwidth-e.bandwidth})),o=o.filter((function(t){return!Wa.isIncompatible(t.playlist)}));var a=o.filter((function(t){return Wa.isEnabled(t.playlist)}));a.length||(a=o.filter((function(t){return!Wa.isDisabled(t.playlist)})));var l=a.filter((function(t){return t.bandwidth*xu.BANDWIDTH_VARIANCE<e})),u=l[l.length-1],c=l.filter((function(t){return t.bandwidth===u.bandwidth}))[0];if(!1===s){var h=c||a[0]||o[0];return h?h.playlist:null}var d=l.filter((function(t){return t.width&&t.height}));Fu(d,(function(t,e){return t.width-e.width}));var f=d.filter((function(t){return t.width===i&&t.height===n}));u=f[f.length-1];var p=f.filter((function(t){return t.bandwidth===u.bandwidth}))[0],m=void 0,g=void 0,y=void 0;p||(m=d.filter((function(t){return t.width>i||t.height>n})),g=m.filter((function(t){return t.width===m[0].width&&t.height===m[0].height})),u=g[g.length-1],y=g.filter((function(t){return t.bandwidth===u.bandwidth}))[0]);var v=y||p||c||a[0]||o[0];return v?v.playlist:null},Gu=function(){var t=this.useDevicePixelRatio&&r.a.devicePixelRatio||1;return Uu(this.playlists.master,this.systemBandwidth,parseInt(Bu(this.tech_.el(),"width"),10)*t,parseInt(Bu(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions)},Wu=function(t){var e=t.master,i=t.currentTime,n=t.bandwidth,r=t.duration,s=t.segmentDuration,o=t.timeUntilRebuffer,a=t.currentTimeline,l=t.syncController,u=e.playlists.filter((function(t){return!Wa.isIncompatible(t)})),c=u.filter(Wa.isEnabled);c.length||(c=u.filter((function(t){return!Wa.isDisabled(t)})));var h=c.filter(Wa.hasAttribute.bind(null,"BANDWIDTH")),d=h.map((function(t){var e=l.getSyncPoint(t,r,a,i),u=e?1:2,c=Wa.estimateSegmentRequestTime(s,n,t),h=c*u-o;return{playlist:t,rebufferingImpact:h}})),f=d.filter((function(t){return t.rebufferingImpact<=0}));return Fu(f,(function(t,e){return Vu(e.playlist,t.playlist)})),f.length?f[0]:(Fu(d,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),d[0]||null)},zu=function(){var t=this.playlists.master.playlists.filter(Wa.isEnabled);Fu(t,(function(t,e){return Vu(t,e)}));var e=t.filter((function(t){return Wl(t.attributes.CODECS).videoCodec}));return e[0]||null},Hu=function(t,e,i){for(var n in i)if(!t[n]){e.trigger({type:"usage",name:"hls-608"});var r=e.textTracks().getTrackById(n);t[n]=r||e.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}},qu=function(t){var e=t.inbandTextTracks,i=t.captionArray,n=t.timestampOffset;if(i){var r=window.WebKitDataCue||window.VTTCue;i.forEach((function(t){var i=t.stream,s=t.startTime,o=t.endTime;e[i]&&(s+=n,o+=n,e[i].addCue(new r(s,o,t.text)))}))}},$u=500,Yu=function(t,e,i){if(!t||!e)return!1;var n=t.segments,r=i===n.length;return t.endList&&"open"===e.readyState&&r},Xu=function(t){return"number"===typeof t&&isFinite(t)},Ku=function(t,e,i){return"main"===t&&e&&i?i.containsAudio||i.containsVideo?e.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},Qu=function(t,e,i){var n=e-30;t.length&&(n=Math.max(n,t.start(0)));var r=e-i;return Math.min(r,n)},Zu=function(t){var e=t.segment,i=e.start,n=e.end,r=t.playlist,s=r.mediaSequence,o=r.id,a=r.segments,l=void 0===a?[]:a,u=t.mediaIndex,c=t.timeline;return["appending ["+u+"] of ["+s+", "+(s+l.length)+"] from playlist ["+o+"]","["+i+" => "+n+"] in timeline ["+c+"]"].join(" ")},Ju=function(t){function e(t){ia(this,e);var i=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!==typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.hls_=t.hls,i.loaderType_=t.loaderType,i.startingMedia_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.mimeType_=null,i.sourceUpdater_=null,i.xhrOptions_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},"main"===i.loaderType_?i.captionParser_=new Ht.a:i.captionParser_=null,i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",(function(){return i.ended_=!1})),i.fetchAtBuffer_=!1,i.logger_=Su("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(i,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),i}return sa(e,t),na(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset(),this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return"undefined"!==typeof t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Qo.createTimeRanges()}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var i=Ja(t),n=this.initSegments_[i];return e&&!n&&t.bytes&&(this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),n||t}},{key:"segmentKey",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var i=tl(t),n=this.keyCache_[i];this.cacheEncryptionKeys_&&e&&!n&&t.bytes&&(this.keyCache_[i]=n={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(n||t).resolvedUri};return n&&(r.bytes=n.bytes),r}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Tu(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var i=this.playlist_,n=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(i&&i.uri===t.uri){var s=t.mediaSequence-i.mediaSequence;this.logger_("live window shift ["+s+"]"),null!==this.mediaIndex&&(this.mediaIndex-=s),n&&(n.mediaIndex-=s,n.mediaIndex>=0&&(n.segment=t.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,1/0,t),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,i){if(e===1/0&&(e=this.duration_()),this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,i),xl(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)xl(t,e,this.inbandTextTracks_[n])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),$u)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(this.isEndOfStream_(t.mediaIndex)?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(t.timeline!==this.currentTimeline_&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(t)))}}},{key:"isEndOfStream_",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return Yu(e,this.mediaSource_,t)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(t,e,i,n,r,s){var o=0,a=void 0;t.length&&(o=t.end(t.length-1));var l=Math.max(0,o-r);if(!e.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!n&&l>=1)return null;if(null===s)return i=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,i,null,!0);if(null!==i){e.segments[i];return a=o,this.generateSegmentInfo_(e,i+1,a,!1)}if(this.fetchAtBuffer_){var u=Wa.getMediaInfoForTime(e,o,s.segmentIndex,s.time);i=u.mediaIndex,a=u.startTime}else{var c=Wa.getMediaInfoForTime(e,r,s.segmentIndex,s.time);i=c.mediaIndex,a=c.startTime}return this.generateSegmentInfo_(e,i,a,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var i=t.segments.map((function(t,e){return{timeline:t.timeline,segmentIndex:e}})).filter((function(t){return t.timeline===e.currentTimeline_}));return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,i,n){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:n,startOfSegment:i,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),i=t.bandwidth,n=this.pendingSegment_.duration,r=Wa.estimateSegmentRequestTime(n,i,this.playlist_,t.bytesReceived),s=Sl(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=s)return!1;var o=Wu({master:this.hls_.playlists.master,currentTime:e,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var a=r-s,l=a-o.rebufferingImpact,u=.5;return s<=pl&&(u=1),!o.playlist||o.playlist.uri===this.playlist_.uri||l<u?!1:(this.bandwidth=o.playlist.attributes.BANDWIDTH*xu.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=Du(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=Qu(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,i={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var n=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);i.key=this.segmentKey(e.key),i.key.iv=n}return e.map&&(i.map=this.initSegment(e.map)),i}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===Eu.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===Eu.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),e.key&&this.segmentKey(e.key,!0),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(Hu(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),qu({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,i=e.segment,n=this.syncController_.probeSegmentInfo(e);"undefined"===typeof this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var r=Ku(this.loaderType_,this.startingMedia_,n);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(n&&n.segmentTimestampInfo){var s=n.segmentTimestampInfo[0].ptsTime,o=n.segmentTimestampInfo[0].dtsTime;e.timestampOffset-=s-o}this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset")}var a=this.syncController_.mappingForTimeline(e.timeline);if(null!==a&&this.trigger({type:"segmenttimemapping",mapping:a}),this.state="APPENDING",i.map){var l=Ja(i.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==l){var u=this.initSegment(i.map);this.sourceUpdater_.appendBuffer({bytes:u.bytes},(function(){t.activeInitSegmentId_=l}))}}e.byteLength=e.bytes.byteLength,"number"===typeof i.start&&"number"===typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.logger_(Zu(e)),this.sourceUpdater_.appendBuffer({bytes:e.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,e.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment;i.videoTimingInfo||(i.videoTimingInfo={}),i.videoTimingInfo.transmuxerPrependedSeconds=e.videoSegmentTimingInfo.prependedContentDuration||0,i.videoTimingInfo.transmuxedPresentationStart=e.videoSegmentTimingInfo.start.presentation,i.videoTimingInfo.transmuxedPresentationEnd=e.videoSegmentTimingInfo.end.presentation,i.videoTimingInfo.baseMediaDecodeTime=e.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,i=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(t.mediaIndex+1,t.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,i=Date.now()-t.endOfAllRequests+1,n=Math.floor(t.byteLength/i*8*1e3);this.throughput.rate+=(n-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,i=e.start,n=e.end;if(Xu(i)&&Xu(n)){xl(i,n,this.segmentMetadataTrack_);var s=r.a.WebKitDataCue||r.a.VTTCue,o={custom:e.custom,dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:i,end:n},a=JSON.stringify(o),l=new s(i,n,a);l.value=o,this.segmentMetadataTrack_.addCue(l)}}}}]),e}(Qo.EventTarget),tc=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},ec=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),ic=function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ia(this,e);var n=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.mediaSource_=null,n.subtitlesTrack_=null,n.featuresNativeTextTracks_=t.featuresNativeTextTracks,n}return sa(e,t),na(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Qo.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,i=t[t.length-1].startTime;return Qo.createTimeRanges([[e,i]])}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var i=Ja(t),n=this.initSegments_[i];if(e&&!n&&t.bytes){var r=ec.byteLength+t.bytes.byteLength,s=new Uint8Array(r);s.set(t.bytes),s.set(ec,t.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:s}}return n||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return"undefined"===typeof t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(t,e){xl(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e),e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){var i=function(){t.state="READY",t.paused()||t.monitorBuffer_()};return this.syncController_.one("timestampoffset",i),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){while(t&&t.segment.empty)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,i=e.segment;if("function"!==typeof r.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var n=void 0,s=function(){t.subtitlesTrack_.tech_.off("vttjsloaded",n),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")};return n=function(){t.subtitlesTrack_.tech_.off("vttjserror",s),t.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",n),void this.subtitlesTrack_.tech_.one("vttjserror",s)}i.requested=!0;try{this.parseVTTCues_(e)}catch(Yc){return this.error({message:Yc.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach((function(e){t.subtitlesTrack_.addCue(t.featuresNativeTextTracks_?new r.a.VTTCue(e.startTime,e.endTime,e.text):e)})),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,i=!1;"function"===typeof r.a.TextDecoder?e=new r.a.TextDecoder("utf8"):(e=r.a.WebVTT.StringDecoder(),i=!0);var n=new r.a.WebVTT.Parser(r.a,r.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){return t.timestampmap=e},n.onparsingerror=function(t){Qo.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var s=t.segment.map.bytes;i&&(s=tc(s)),n.parse(s)}var o=t.bytes;i&&(o=tc(o)),n.parse(o),n.flush()}},{key:"updateTimeMapping_",value:function(t,e,i){var n=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,s=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=s,t.endTime+=s})),!i.syncInfo){var o=t.cues[0].startTime,a=t.cues[t.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:Math.min(o,a-n.duration)}}}else n.empty=!0}}]),e}(Ju),nc=function(t,e){for(var i=t.cues,n=0;n<i.length;n++){var r=i[n];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},rc=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.segments)for(var n=i,s=void 0,o=0;o<t.segments.length;o++){var a=t.segments[o];if(s||(s=nc(e,n+a.duration/2)),s){if("cueIn"in a){s.endTime=n,s.adEndTime=n,n+=a.duration,s=null;continue}if(n<s.endTime){n+=a.duration;continue}s.endTime+=a.duration}else if("cueOut"in a&&(s=new r.a.VTTCue(n,n+a.duration,a.cueOut),s.adStartTime=n,s.adEndTime=n+parseFloat(a.cueOut),e.addCue(s)),"cueOutCont"in a){var l=void 0,u=void 0,c=a.cueOutCont.split("/").map(parseFloat),h=aa(c,2);l=h[0],u=h[1],s=new r.a.VTTCue(n,n+a.duration,""),s.adStartTime=n-l,s.adEndTime=s.adStartTime+u,e.addCue(s)}n+=a.duration}},sc=$t.a.inspect,oc=[{name:"VOD",run:function(t,e,i,n,r){if(i!==1/0){var s={time:0,segmentIndex:0};return s}return null}},{name:"ProgramDateTime",run:function(t,e,i,n,r){if(!t.datetimeToDisplayTime)return null;var s=e.segments||[],o=null,a=null;r=r||0;for(var l=0;l<s.length;l++){var u=s[l];if(u.dateTimeObject){var c=u.dateTimeObject.getTime()/1e3,h=c+t.datetimeToDisplayTime,d=Math.abs(r-h);if(null!==a&&(0===d||a<d))break;a=d,o={time:h,segmentIndex:l}}}return o}},{name:"Segment",run:function(t,e,i,n,r){var s=e.segments||[],o=null,a=null;r=r||0;for(var l=0;l<s.length;l++){var u=s[l];if(u.timeline===n&&"undefined"!==typeof u.start){var c=Math.abs(r-u.start);if(null!==a&&a<c)break;(!o||null===a||a>=c)&&(a=c,o={time:u.start,segmentIndex:l})}}return o}},{name:"Discontinuity",run:function(t,e,i,n,r){var s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var o=null,a=0;a<e.discontinuityStarts.length;a++){var l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,c=t.discontinuities[u];if(c){var h=Math.abs(r-c.time);if(null!==o&&o<h)break;(!s||null===o||o>=h)&&(o=h,s={time:c.time,segmentIndex:l})}}return s}},{name:"Playlist",run:function(t,e,i,n,r){if(e.syncInfo){var s={time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence};return s}return null}}],ac=function(t){function e(){ia(this,e);var t=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=Su("SyncController"),t}return sa(e,t),na(e,[{key:"getSyncPoint",value:function(t,e,i,n){var r=this.runStrategies_(t,e,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var i=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+Ea(t,n.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,i,n){for(var r=[],s=0;s<oc.length;s++){var o=oc[s],a=o.run(this,t,e,i,n);a&&(a.strategy=o.name,r.push({strategy:o.name,syncPoint:a}))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var i=t[0].syncPoint,n=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,s=1;s<t.length;s++){var o=Math.abs(t[s].syncPoint[e.key]-e.value);o<n&&(n=o,i=t[s].syncPoint,r=t[s].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var i=e.mediaSequence-t.mediaSequence,n=i-1;n>=0;n--){var r=t.segments[n];if(r&&"undefined"!==typeof r.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,i=t.playlist,n=void 0;return n=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t),n&&this.calculateSegmentTimeMapping_(t,n)&&(this.saveDiscontinuitySyncInfo_(t),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:e.start})),n}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,i=Wt.a.timescale(e.map.bytes),n=Wt.a.compositionStartTime(i,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=n),{start:n,end:n+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=sc(t.bytes,this.inspectCache_),i=void 0,n=void 0,r=void 0;if(!e)return null;e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,i=e.video[0].dtsTime,n=e.video[1].dtsTime,r=e.video):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,i=e.audio[0].dtsTime,n=e.audio[1].dtsTime,r=e.audio);var s={segmentTimestampInfo:r,start:i,end:n,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length};return s}},{key:"timestampOffsetForTimeline",value:function(t){return"undefined"===typeof this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return"undefined"===typeof this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var i=t.segment,n=this.timelines[t.timeline];if(null!==t.timestampOffset)n={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]"),i.start=t.startOfSegment,i.end=e.end+n.mapping;else{if(!n)return!1;i.start=e.start+n.mapping,i.end=e.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var n=0;n<e.discontinuityStarts.length;n++){var r=e.discontinuityStarts[n],s=e.discontinuitySequence+n+1,o=r-t.mediaIndex,a=Math.abs(o);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>a){var l=void 0;l=o<0?i.start-Ea(e,t.mediaIndex,r):i.end+Ea(e,t.mediaIndex+1,r),this.discontinuities[s]={time:l,accuracy:a}}}}},{key:"dispose",value:function(){this.trigger("dispose"),this.off()}}]),e}(Qo.EventTarget),lc=new Rl("./decrypter-worker.worker.js",(function(t,e){var i=this;(function(){function t(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},o=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],i=t[1],n=e[4],r=i[4],s=void 0,o=void 0,a=void 0,l=[],u=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;for(s=0;s<256;s++)u[(l[s]=s<<1^283*(s>>7))^s]=s;for(o=a=0;!n[o];o^=c||1,a=u[a]||1)for(f=a^a<<1^a<<2^a<<3^a<<4,f=f>>8^255&f^99,n[o]=f,r[f]=o,d=l[h=l[c=l[o]]],m=16843009*d^65537*h^257*c^16843008*o,p=257*l[f]^16843008*f,s=0;s<4;s++)e[s][o]=p=p<<24^p>>>8,i[s][f]=m=m<<24^m>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),i[s]=i[s].slice(0);return t},a=null,l=function(){function t(i){e(this,t),a||(a=o()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var n=void 0,r=void 0,s=void 0,l=void 0,u=void 0,c=this._tables[0][4],h=this._tables[1],d=i.length,f=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(l=i.slice(0),u=[],this._key=[l,u],n=d;n<4*d+28;n++)s=l[n-1],(n%d===0||8===d&&n%d===4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],n%d===0&&(s=s<<8^s>>>24^f<<24,f=f<<1^283*(f>>7))),l[n]=l[n-d]^s;for(r=0;n;r++,n--)s=l[3&r?n:n-4],u[r]=n<=4||r<4?s:h[0][c[s>>>24]]^h[1][c[s>>16&255]]^h[2][c[s>>8&255]]^h[3][c[255&s]]}return t.prototype.decrypt=function(t,e,i,n,r,s){var o=this._key[1],a=t^o[0],l=n^o[1],u=i^o[2],c=e^o[3],h=void 0,d=void 0,f=void 0,p=o.length/4-2,m=void 0,g=4,y=this._tables[1],v=y[0],b=y[1],_=y[2],S=y[3],w=y[4];for(m=0;m<p;m++)h=v[a>>>24]^b[l>>16&255]^_[u>>8&255]^S[255&c]^o[g],d=v[l>>>24]^b[u>>16&255]^_[c>>8&255]^S[255&a]^o[g+1],f=v[u>>>24]^b[c>>16&255]^_[a>>8&255]^S[255&l]^o[g+2],c=v[c>>>24]^b[a>>16&255]^_[l>>8&255]^S[255&u]^o[g+3],g+=4,a=h,l=d,u=f;for(m=0;m<4;m++)r[(3&-m)+s]=w[a>>>24]<<24^w[l>>16&255]<<16^w[u>>8&255]<<8^w[255&c]^o[g++],h=a,a=l,l=u,u=c,c=h},t}(),u=function(){function t(){e(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,o=0;o<s;++o)e[o].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),c=function(t){function i(){e(this,i);var n=s(this,t.call(this,u));return n.jobs=[],n.delay=1,n.timeout_=null,n}return r(i,t),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(u),h=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},d=function(t,e,i){var n=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new l(Array.prototype.slice.call(e)),s=new Uint8Array(t.byteLength),o=new Int32Array(s.buffer),a=void 0,u=void 0,c=void 0,d=void 0,f=void 0,p=void 0,m=void 0,g=void 0,y=void 0;for(a=i[0],u=i[1],c=i[2],d=i[3],y=0;y<n.length;y+=4)f=h(n[y]),p=h(n[y+1]),m=h(n[y+2]),g=h(n[y+3]),r.decrypt(f,p,m,g,o,y),o[y]=h(o[y]^a),o[y+1]=h(o[y+1]^u),o[y+2]=h(o[y+2]^c),o[y+3]=h(o[y+3]^d),a=f,u=p,c=m,d=g;return s},f=function(){function i(n,r,s,o){e(this,i);var a=i.STEP,l=new Int32Array(n.buffer),u=new Uint8Array(n.byteLength),d=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+a),r,s,u)),d=a;d<l.length;d+=a)s=new Uint32Array([h(l[d-4]),h(l[d-3]),h(l[d-2]),h(l[d-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+a),r,s,u));this.asyncStream_.push((function(){o(null,t(u))}))}return i.prototype.decryptChunk_=function(t,e,i,n){return function(){var r=d(t,e,i);n.set(r,t.byteOffset)}},n(i,null,[{key:"STEP",get:function(){return 32e3}}]),i}(),p=function(t){var e={};return Object.keys(t).forEach((function(i){var n=t[i];ArrayBuffer.isView(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n})),e},m=function(t){t.onmessage=function(e){var i=e.data,n=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),r=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),s=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new f(n,r,s,(function(e,n){t.postMessage(p({source:i.source,decrypted:n}),[n.buffer])}))}},g=new m(i)})()})),uc=function(t){var e=t["default"]?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},cc=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},hc=function(t,e){e.activePlaylistLoader=t,t.load()},dc=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,s=e.mediaTypes[t],o=s.activeTrack(),a=s.activeGroup(o),l=s.activePlaylistLoader;cc(n,s),a&&(a.playlistLoader?(n.resyncLoader(),hc(a.playlistLoader,s)):l&&r.resetEverything())}},fc=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,s=e.mediaTypes[t],o=s.activeTrack(),a=s.activeGroup(o),l=s.activePlaylistLoader;cc(n,s),a&&(a.playlistLoader?l!==a.playlistLoader?(n.track&&n.track(o),n.resetEverything(),hc(a.playlistLoader,s)):hc(a.playlistLoader,s):r.resetEverything())}},pc={AUDIO:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;cc(i,n);var s=n.activeTrack(),o=n.activeGroup(),a=(o.filter((function(t){return t["default"]}))[0]||o[0]).id,l=n.tracks[a];if(s!==l){for(var u in Qo.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[u].enabled=n.tracks[u]===l;n.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];Qo.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),cc(i,n);var r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}}},mc={AUDIO:function(t,e,i){if(e){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();s.playlist(t,r),(!n.paused()||t.endList&&"none"!==n.preload())&&s.load()})),e.on("loadedplaylist",(function(){s.playlist(e.media(),r),n.paused()||s.load()})),e.on("error",pc[t](t,i))}},SUBTITLES:function(t,e,i){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[t],o=i.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();s.playlist(t,r),s.track(o.activeTrack()),(!n.paused()||t.endList&&"none"!==n.preload())&&s.load()})),e.on("loadedplaylist",(function(){s.playlist(e.media(),r),n.paused()||s.load()})),e.on("error",pc[t](t,i))}},gc={AUDIO:function(t,e){var i=e.hls,n=e.sourceType,r=e.segmentLoaders[t],s=e.requestOptions,o=e.master.mediaGroups,a=e.mediaTypes[t],l=a.groups,u=a.tracks,c=e.masterPlaylistLoader;for(var h in o[t]&&0!==Object.keys(o[t]).length||(o[t]={main:{default:{default:!0}}}),o[t])for(var d in l[h]||(l[h]=[]),o[t][h]){var f=o[t][h][d],p=void 0;if(p=f.resolvedUri?new ba(f.resolvedUri,i,s):f.playlists&&"dash"===n?new _u(f.playlists[0],i,s,c):null,f=Qo.mergeOptions({id:d,playlistLoader:p},f),mc[t](t,f.playlistLoader,e),l[h].push(f),"undefined"===typeof u[d]){var m=new Qo.AudioTrack({id:d,kind:uc(f),enabled:!1,language:f.language,default:f["default"],label:d});u[d]=m}}r.on("error",pc[t](t,e))},SUBTITLES:function(t,e){var i=e.tech,n=e.hls,r=e.sourceType,s=e.segmentLoaders[t],o=e.requestOptions,a=e.master.mediaGroups,l=e.mediaTypes[t],u=l.groups,c=l.tracks,h=e.masterPlaylistLoader;for(var d in a[t])for(var f in u[d]||(u[d]=[]),a[t][d])if(!a[t][d][f].forced){var p=a[t][d][f],m=void 0;if("hls"===r?m=new ba(p.resolvedUri,n,o):"dash"===r&&(m=new _u(p.playlists[0],n,o,h)),p=Qo.mergeOptions({id:f,playlistLoader:m},p),mc[t](t,p.playlistLoader,e),u[d].push(p),"undefined"===typeof c[f]){var g=i.addRemoteTextTrack({id:f,kind:"subtitles",default:p["default"]&&p.autoselect,language:p.language,label:f},!1).track;c[f]=g}}s.on("error",pc[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i=e.tech,n=e.master.mediaGroups,r=e.mediaTypes[t],s=r.groups,o=r.tracks;for(var a in n[t])for(var l in s[a]||(s[a]=[]),n[t][a]){var u=n[t][a][l];if(u.instreamId.match(/CC\d/)&&(s[a].push(Qo.mergeOptions({id:l},u)),"undefined"===typeof o[l])){var c=i.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u["default"]&&u.autoselect,language:u.language,label:l},!1).track;o[l]=c}}}},yc=function(t,e){return function(i){var n=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,s=n.media();if(!s)return null;var o=null;return s.attributes[t]&&(o=r[s.attributes[t]]),o=o||r.main,"undefined"===typeof i?o:null===i?null:o.filter((function(t){return t.id===i.id}))[0]||null}},vc={AUDIO:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if("showing"===i[n].mode||"hidden"===i[n].mode)return i[n];return null}}},bc=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){gc[e](e,t)}));var e=t.mediaTypes,i=t.masterPlaylistLoader,n=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach((function(i){e[i].activeGroup=yc(i,t),e[i].activeTrack=vc[i](i,t),e[i].onGroupChanged=dc(i,t),e[i].onTrackChanged=fc(i,t)}));var s=e.AUDIO.activeGroup(),o=(s.filter((function(t){return t["default"]}))[0]||s[0]).id;e.AUDIO.tracks[o].enabled=!0,e.AUDIO.onTrackChanged(),i.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))}));var a=function(){e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})};for(var l in n.audioTracks().addEventListener("change",a),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",(function(){n.audioTracks().removeEventListener("change",a),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),n.clearTracks("audio"),e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[l])},_c=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:wu,activeTrack:wu,onGroupChanged:wu,onTrackChanged:wu}})),t},Sc=120,wc=void 0,Tc=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],xc=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},Ec=function(t){var e=t.currentPlaylist,i=t.nextPlaylist,n=t.forwardBuffer,r=t.bufferLowWaterLine,s=t.duration;t.log;return i?!e.endList||(s<xu.MAX_BUFFER_LOW_WATER_LINE||(i.attributes.BANDWIDTH<e.attributes.BANDWIDTH||n>=r)):(Qo.log.warn("We received no playlist to switch to. Please check your stream."),!1)},Cc=function(t){function e(t){ia(this,e);var i=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=t.url,r=t.handleManifestRedirects,s=t.withCredentials,o=t.tech,a=t.bandwidth,l=t.externHls,u=t.useCueTags,c=t.blacklistDuration,h=t.enableLowInitialPlaylist,d=t.cacheEncryptionKeys,f=t.sourceType;if(!n)throw new Error("A non-empty playlist URL is required");wc=l,i.withCredentials=s,i.tech_=o,i.hls_=o.hls,i.sourceType_=f,i.useCueTags_=u,i.blacklistDuration=c,i.enableLowInitialPlaylist=h,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:s,handleManifestRedirects:r,timeout:null},i.mediaTypes_=_c(),i.mediaSource=new Qo.MediaSource,i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_.bind(i)),i.seekable_=Qo.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new ac(t),i.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new lc,i.inbandTextTracks_={};var p={hls:i.hls_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.mediaSource.duration},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:a,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:d};return i.masterPlaylistLoader_="dash"===i.sourceType_?new _u(n,i.hls_,i.requestOptions_):new ba(n,i.hls_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new Ju(Qo.mergeOptions(p,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),t),i.audioSegmentLoader_=new Ju(Qo.mergeOptions(p,{loaderType:"audio"}),t),i.subtitleSegmentLoader_=new ic(Qo.mergeOptions(p,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),t),i.setupSegmentLoaderListeners_(),Tc.forEach((function(t){i[t+"_"]=xc.bind(i,t)})),i.logger_=Su("MPC"),i.masterPlaylistLoader_.load(),i}return sa(e,t),na(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),i=1.5*e.targetDuration*1e3;Ga(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),bc({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(Yc){return Qo.log.warn("Failed to create SourceBuffers",Yc),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){t.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var i=void 0;return t.enableLowInitialPlaylist&&(i=t.selectInitialPlaylist()),i||(i=t.selectPlaylist()),t.initialMedia_=i,void t.masterPlaylistLoader_.media(t.initialMedia_)}if(t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!e.endList){var n=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};if(t.duration()!==1/0){var r=function e(){t.duration()===1/0?n():t.tech_.one("durationchange",e)};t.tech_.one("durationchange",r)}else n()}})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),i=1.5*e.targetDuration*1e3;Ga(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media(),i=t.stuckAtPlaylistEnd_(e);i&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))}},{key:"triggerPresenceUsage_",value:function(t,e){var i=t.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var s in i.AUDIO)for(var o in i.AUDIO[s]){var a=i.AUDIO[s][o];a.uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),wc.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),wc.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(i.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist(),i=t.masterPlaylistLoader_.media(),n=t.tech_.buffered(),r=n.length?n.end(n.length-1)-t.tech_.currentTime():0,s=t.bufferLowWaterLine();Ec({currentPlaylist:i,nextPlaylist:e,forwardBuffer:r,bufferLowWaterLine:s,duration:t.duration(),log:t.logger_})&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("ended",(function(){t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},Sc)})),this.mainSegmentLoader_.on("reseteverything",(function(){t.tech_.trigger("hls-reset")})),this.mainSegmentLoader_.on("segmenttimemapping",(function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})})),this.audioSegmentLoader_.on("ended",(function(){t.onEndOfStream()}))}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything((function(){Qo.browser.IE_VERSION||Qo.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())})))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var i=this.seekable();if(!i.length)return!1;if(Qo.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.tech_.setCurrentTime(i.end(0)),t.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(Yc){return Qo.log.warn("Failed to create Source Buffers",Yc),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();"undefined"!==typeof t&&"function"===typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(Yc){Qo.log.warn("Failed to call media source endOfStream",Yc)}}}},{key:"stuckAtPlaylistEnd_",value:function(t){var e=this.seekable();if(!e.length)return!1;var i=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===i)return!1;var n=wc.Playlist.playlistEnd(t,i),r=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return n-r<=ml;var o=s.end(s.length-1);return o-r<=ml&&n-o<=ml}},{key:"blacklistCurrentPlaylist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=void 0,n=void 0;if(i=t.playlist||this.masterPlaylistLoader_.media(),e=e||t.blacklistDuration||this.blacklistDuration,!i){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(Yc){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(Da).length,s=this.masterPlaylistLoader_.master.playlists;return 1===s.length?(Qo.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(r&&(Qo.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),s.forEach((function(t){t.excludeUntil!==1/0&&delete t.excludeUntil})),this.tech_.trigger("retryplaylist")),i.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),n=this.selectPlaylist(),Qo.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(n,r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=yl(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:wc.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var i=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null!==i){var n=this.masterPlaylistLoader_.master.suggestedPresentationDelay,r=wc.Playlist.seekable(e,i,n);if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(e,this.mediaSource.duration),null===i)return;if(t=wc.Playlist.seekable(e,i,n),0===t.length)return}var s=void 0,o=void 0;this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),o=this.seekable_.start(0)),t?t.start(0)>r.end(0)||r.start(0)>t.end(0)?this.seekable_=r:this.seekable_=Qo.createTimeRanges([[t.start(0)>r.start(0)?t.start(0):r.start(0),t.end(0)<r.end(0)?t.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===o||(this.logger_("seekable updated ["+_l(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,i=wc.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),r=function e(){t.logger_("Setting duration from "+t.mediaSource.duration+" => "+i);try{t.mediaSource.duration=i}catch(Yc){Qo.log.warn("Failed to set media source duration",Yc)}t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};n.length>0&&(i=Math.max(i,n.end(n.length-1))),e!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var t=this;this.trigger("dispose"),this.decrypter_&&this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(e){var i=t.mediaTypes_[e].groups;for(var n in i)i[n].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.off(),this.mediaSource.dispose&&this.mediaSource.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t=this.masterPlaylistLoader_.media(),e=void 0;if(t&&"open"===this.mediaSource.readyState){if(e=Xl(this.masterPlaylistLoader_.master,t),e.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=t.length>1&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new Qo.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach((function(t){t.attributes.CODECS&&r.a.MediaSource&&r.a.MediaSource.isTypeSupported&&!r.a.MediaSource.isTypeSupported('video/mp4; codecs="'+zl(t.attributes.CODECS)+'"')&&(t.excludeUntil=1/0)}))}},{key:"excludeIncompatibleVariants_",value:function(t){var e=2,i=null,n=void 0;t.attributes.CODECS&&(n=Wl(t.attributes.CODECS),i=n.videoCodec,e=n.codecCount),this.master().playlists.forEach((function(t){var n={codecCount:2,videoCodec:null};t.attributes.CODECS&&(n=Wl(t.attributes.CODECS)),n.codecCount!==e&&(t.excludeUntil=1/0),n.videoCodec!==i&&(t.excludeUntil=1/0)}))}},{key:"updateAdCues_",value:function(t){var e=0,i=this.seekable();i.length&&(e=i.start(0)),rc(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=xu.GOAL_BUFFER_LENGTH,i=xu.GOAL_BUFFER_LENGTH_RATE,n=Math.max(e,xu.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*i,n)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=xu.BUFFER_LOW_WATER_LINE,i=xu.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(e,xu.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*i,n)}}]),e}(Qo.EventTarget),Ac=function(t,e,i){return function(n){var r=t.master.playlists[e],s=Na(r),o=Da(r);return"undefined"===typeof n?o:(n?delete r.disabled:r.disabled=!0,n===o||s||(i(),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)}},Pc=function t(e,i,n){ia(this,t);var r=e.masterPlaylistController_,s=e.options_.smoothQualityChange,o=s?"smooth":"fast",a=r[o+"QualityChange_"].bind(r);if(i.attributes.RESOLUTION){var l=i.attributes.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=i.attributes.BANDWIDTH,this.id=n,this.enabled=Ac(e.playlists,i.id,a)},Mc=function(t){var e=t.playlists;t.representations=function(){return e&&e.master&&e.master.playlists?e.master.playlists.filter((function(t){return!Na(t)})).map((function(e,i){return new Pc(t,e,e.id)})):[]}},kc=["seeking","seeked","pause","playing","error"],Lc=function(){function t(e){var i=this;ia(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Su("PlaybackWatcher"),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},a=function(){return i.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",s),this.tech_.on(kc,o),this.tech_.on("canplay",n),this.dispose=function(){i.logger_("dispose"),i.tech_.off("seekablechanged",a),i.tech_.off("waiting",s),i.tech_.off(kc,o),i.tech_.off("canplay",n),i.checkCurrentTimeTimeout_&&r.a.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}return na(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&r.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=r.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+ml>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking();if(!t)return!1;var e=this.seekable(),i=this.tech_.currentTime(),n=this.afterSeekableWindow_(e,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow),r=void 0;if(n){var s=e.end(e.length-1);r=s}if(this.beforeSeekableWindow_(e,i)){var o=e.start(0);r=o+ml}return"undefined"!==typeof r&&(this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+_l(e)+". Seeking to "+r+"."),this.tech_.setCurrentTime(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),i=yl(e,t);return i.length&&t+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var i=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),r=vl(n,e);if(this.videoUnderflow_(r,n,e))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var s=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+s+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t.length)return!1;var r=t.end(t.length-1)+ml,s=!i.endList;return s&&n&&(r=t.end(t.length-1)+3*i.targetDuration),e>r}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-ml)}},{key:"videoUnderflow_",value:function(t,e,i){if(0===t.length){var n=this.gapFromVideoUnderflow_(e,i);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),i=this.tech_.currentTime(),n=vl(e,i);this.cancelTimer_(),0!==n.length&&i===t&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",t,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+pl),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var i=bl(t),n=0;n<i.length;n++){var r=i.start(n),s=i.end(n);if(e-r<4&&e-r>2)return{start:r,end:s}}return null}}]),t}(),Ic={errorInterval:30,getSource:function(t){var e=this.tech({IWillNotUseThisInPlugins:!0}),i=e.currentSource_;return t(i)}},Oc=function t(e,i){var n=0,r=0,s=Qo.mergeOptions(Ic,i);e.ready((function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var o=function(){r&&e.currentTime(r)},a=function(t){null!==t&&void 0!==t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",o),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<1e3*s.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"===typeof s.getSource)return n=Date.now(),s.getSource.call(e,a);Qo.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},u=function t(){e.off("loadedmetadata",o),e.off("error",l),e.off("dispose",t)},c=function(i){u(),t(e,i)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=c},Rc=function(t){Oc(this,t)},Nc="1.13.2",Dc={PlaylistLoader:ba,Playlist:Wa,Decrypter:oe,AsyncStream:ne,decrypt:se,utils:rl,STANDARD_PLAYLIST_SELECTOR:Gu,INITIAL_PLAYLIST_SELECTOR:zu,comparePlaylistBandwidth:Vu,comparePlaylistResolution:ju,xhr:qa()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(t){Object.defineProperty(Dc,t,{get:function(){return Qo.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),xu[t]},set:function(e){Qo.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!==typeof e||e<0?Qo.log.warn("value of Hls."+t+" must be greater than or equal to 0"):xu[t]=e}})}));var Bc="videojs-vhs",Fc=function(t){var e=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(e.test(t))return"hls";var i=/^application\/dash\+xml/i;return i.test(t)?"dash":null},Vc=function(t,e){for(var i=e.media(),n=-1,r=0;r<t.length;r++)if(t[r].id===i.id){n=r;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},jc=function(t,e){e.representations().forEach((function(e){t.addQualityLevel(e)})),Vc(t,e.playlists)};Dc.canPlaySource=function(){return Qo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Uc=function(t,e,i){if(!t)return t;var n=void 0,r=void 0;if(i.mimeType_)n=e.mimeType_,r=i.mimeType_;else{var s=Kl(e.mimeType_),o=s.parameters.codecs.split(","),a=void 0,l=void 0;o.forEach((function(t){t=t.trim(),Ql(t)?a=t:Zl(t)&&(l=t)})),n=s.type+'; codecs="'+l+'"',r=s.type.replace("video","audio")+'; codecs="'+a+'"'}var u={},c=e.playlist_;for(var h in t)u[h]={audioContentType:r,videoContentType:n},c.contentProtection&&c.contentProtection[h]&&c.contentProtection[h].pssh&&(u[h].pssh=c.contentProtection[h].pssh),"string"===typeof t[h]&&(u[h].url=t[h]);return Qo.mergeOptions(t,u)},Gc=function(t){var e=t.masterPlaylistController_.mainSegmentLoader_,i=t.masterPlaylistController_.audioSegmentLoader_,n=Qo.players[t.tech_.options_.playerId];if(n.eme){var r=Uc(t.source_.keySystems,e,i);r&&(n.currentSource().keySystems=r,11!==Qo.browser.IE_VERSION&&n.eme.initializeMediaKeys&&n.eme.initializeMediaKeys())}},Wc=function(){if(!window.localStorage)return null;var t=window.localStorage.getItem(Bc);if(!t)return null;try{return JSON.parse(t)}catch(Yc){return null}},zc=function(t){if(!window.localStorage)return!1;var e=Wc();e=e?Qo.mergeOptions(e,t):t;try{window.localStorage.setItem(Bc,JSON.stringify(e))}catch(Yc){return!1}return e};Dc.supportsNativeHls=function(){var t=o.a.createElement("video");if(!Qo.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),Dc.supportsNativeDash=function(){return!!Qo.getTech("Html5").isSupported()&&/maybe|probably/i.test(o.a.createElement("video").canPlayType("application/dash+xml"))}(),Dc.supportsTypeNatively=function(t){return"hls"===t?Dc.supportsNativeHls:"dash"===t&&Dc.supportsNativeDash},Dc.isSupported=function(){return Qo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Hc=Qo.getComponent("Component"),qc=function(t){function e(t,i,n){ia(this,e);var r=oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n.hls));if(i.options_&&i.options_.playerId){var s=Qo(i.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return Qo.log.warn("player.hls is deprecated. Use player.tech().hls instead."),i.trigger({type:"usage",name:"hls-player-access"}),r},configurable:!0}),s.vhs=r,s.dash=r,r.player_=s}if(r.tech_=i,r.source_=t,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(o.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var e=o.a.fullscreenElement||o.a.webkitFullscreenElement||o.a.mozFullScreenElement||o.a.msFullscreenElement;e&&e.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()})),r.on(r.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),r.on(r.tech_,"error",(function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),r.on(r.tech_,"play",r.play),r}return sa(e,t),na(e,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!==typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!==typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=Wc();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=xu.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===xu.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach((function(e){"undefined"!==typeof t.source_[e]&&(t.options_[e]=t.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}},{key:"src",value:function(t,e){var i=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Dc,this.options_.sourceType=Fc(e),this.options_.seekTo=function(t){i.tech_.setCurrentTime(t)},this.masterPlaylistController_=new Cc(this.options_),this.playbackWatcher_=new Lc(Qo.mergeOptions(this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",(function(){var t=Qo.players[i.tech_.options_.playerId];t.error(i.masterPlaylistController_.error)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Dc.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Dc.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;e=this.throughput>0?1/this.throughput:0;var i=Math.floor(1/(t+e));return i},set:function(){Qo.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return wl(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return wl(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){i.options_.useBandwidthFromLocalStorage&&zc({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){Mc(i),Gc(i)})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&this.tech_.src(Qo.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=Qo.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){jc(t.qualityLevels_,t)})),this.playlists.on("mediachange",(function(){Vc(t.qualityLevels_,t.playlists)})))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,ra(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(t,e){return dl({playlist:this.masterPlaylistController_.media(),time:t,callback:e})}},{key:"seekToProgramTime",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return fl({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})}}]),e}(Hc),$c={name:"videojs-http-streaming",VERSION:Nc,canHandleSource:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Qo.mergeOptions(Qo.options,e);return $c.canPlayType(t.type,i)},handleSource:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Qo.mergeOptions(Qo.options,i);return e.hls=new qc(t,e,n),e.hls.xhr=qa(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Qo.mergeOptions(Qo.options,e),n=i.hls.overrideNative,r=Fc(t),s=r&&(!Dc.supportsTypeNatively(r)||n);return s?"maybe":""}};"undefined"!==typeof Qo.MediaSource&&"undefined"!==typeof Qo.URL||(Qo.MediaSource=cu,Qo.URL=hu),cu.supportsNativeMediaSources()&&Qo.getTech("Html5").registerSourceHandler($c,0),Qo.HlsHandler=qc,Qo.HlsSourceHandler=$c,Qo.Hls=Dc,Qo.use||Qo.registerComponent("Hls",Dc),Qo.options.hls=Qo.options.hls||{},Qo.registerPlugin?Qo.registerPlugin("reloadSourceOnError",Rc):Qo.plugin("reloadSourceOnError",Rc);e["default"]=Qo},f183:function(t,e,i){var n=i("d012"),r=i("861d"),s=i("5135"),o=i("9bf2").f,a=i("90e3"),l=i("bb2f"),u=a("meta"),c=0,h=Object.isExtensible||function(){return!0},d=function(t){o(t,u,{value:{objectID:"O"+ ++c,weakData:{}}})},f=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,u)){if(!h(t))return"F";if(!e)return"E";d(t)}return t[u].objectID},p=function(t,e){if(!s(t,u)){if(!h(t))return!0;if(!e)return!1;d(t)}return t[u].weakData},m=function(t){return l&&g.REQUIRED&&h(t)&&!s(t,u)&&d(t),t},g=t.exports={REQUIRED:!1,fastKey:f,getWeakData:p,onFreeze:m};n[u]=!0},f2e7:function(t,e,i){"use strict";i.d(e,"b",(function(){return s}));var n=i("ade3"),r=i("2b0e");function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input";return r["a"].extend({name:"toggleable",model:{prop:e,event:i},props:Object(n["a"])({},e,{required:!1}),data:function(){return{isActive:!!this[e]}},watch:(t={},Object(n["a"])(t,e,(function(t){this.isActive=!!t})),Object(n["a"])(t,"isActive",(function(t){!!t!==this[e]&&this.$emit(i,t)})),t)})}var o=s();e["a"]=o},f309:function(t,e,i){"use strict";i.d(e,"a",(function(){return kt}));var n={};i.r(n),i.d(n,"linear",(function(){return M})),i.d(n,"easeInQuad",(function(){return k})),i.d(n,"easeOutQuad",(function(){return L})),i.d(n,"easeInOutQuad",(function(){return I})),i.d(n,"easeInCubic",(function(){return O})),i.d(n,"easeOutCubic",(function(){return R})),i.d(n,"easeInOutCubic",(function(){return N})),i.d(n,"easeInQuart",(function(){return D})),i.d(n,"easeOutQuart",(function(){return B})),i.d(n,"easeInOutQuart",(function(){return F})),i.d(n,"easeInQuint",(function(){return V})),i.d(n,"easeOutQuint",(function(){return j})),i.d(n,"easeInOutQuint",(function(){return U}));i("4160"),i("caad"),i("2532"),i("159b");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}var a=i("2b0e"),l=i("d9bd");function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!u.installed){u.installed=!0,a["a"]!==t&&Object(l["b"])("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");var i=e.components||{},n=e.directives||{};for(var r in n){var s=n[r];t.directive(r,s)}(function e(i){if(i){for(var n in i){var r=i[n];r&&!e(r.$_vuetify_subcomponents)&&t.component(n,r)}return!0}return!1})(i),t.$_vuetify_installed||(t.$_vuetify_installed=!0,t.mixin({beforeCreate:function(){var e=this.$options;e.vuetify?(e.vuetify.init(this,e.ssrContext),this.$vuetify=t.observable(e.vuetify.framework)):this.$vuetify=e.parent&&e.parent.$vuetify||this}}))}}i("a4d3"),i("c975"),i("b64b");function c(t,e){if(null==t)return{};var i,n,r={},s=Object.keys(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}function h(t,e){if(null==t)return{};var i,n,r=c(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}i("4ae1"),i("3410");function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}i("d3b7"),i("25f0");function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var g=i("53ca");function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return!e||"object"!==Object(g["a"])(e)&&"function"!==typeof e?y(t):e}function b(t){var e=m();return function(){var i,n=p(t);if(e){var r=p(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return v(this,i)}}i("95ed");var _={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}}},S={breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:_},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}},w=i("80d2"),T=function(){function t(){r(this,t),this.framework={}}return o(t,[{key:"init",value:function(t,e){}}]),t}(),x=function(t){f(i,t);var e=b(i);function i(t,n){var s;r(this,i),s=e.call(this);var o=Object(w["v"])({},S),a=n.userPreset,u=a.preset,c=void 0===u?{}:u,d=h(a,["preset"]);return null!=c.preset&&Object(l["c"])("Global presets do not support the **preset** option, it can be safely omitted"),n.preset=Object(w["v"])(Object(w["v"])(o,c),d),s}return i}(T);x.property="presets";i("13d5"),i("07ac");var E=i("ade3"),C=function(t){f(i,t);var e=b(i);function i(){var t;return r(this,i),t=e.apply(this,arguments),t.bar=0,t.top=0,t.left=0,t.insetFooter=0,t.right=0,t.bottom=0,t.footer=0,t.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}},t}return o(i,[{key:"register",value:function(t,e,i){this.application[e]=Object(E["a"])({},t,i),this.update(e)}},{key:"unregister",value:function(t,e){null!=this.application[e][t]&&(delete this.application[e][t],this.update(e))}},{key:"update",value:function(t){this[t]=Object.values(this.application[t]).reduce((function(t,e){return t+e}),0)}}]),i}(T);C.property="application";i("b0c0");var A=function(t){f(i,t);var e=b(i);function i(t){var n;r(this,i),n=e.call(this),n.xs=!1,n.sm=!1,n.md=!1,n.lg=!1,n.xl=!1,n.xsOnly=!1,n.smOnly=!1,n.smAndDown=!1,n.smAndUp=!1,n.mdOnly=!1,n.mdAndDown=!1,n.mdAndUp=!1,n.lgOnly=!1,n.lgAndDown=!1,n.lgAndUp=!1,n.xlOnly=!1,n.name="xs",n.height=0,n.width=0,n.mobile=!0,n.resizeTimeout=0;var s=t[i.property],o=s.mobileBreakpoint,a=s.scrollBarWidth,l=s.thresholds;return n.mobileBreakpoint=o,n.scrollBarWidth=a,n.thresholds=l,n.init(),n}return o(i,[{key:"init",value:function(){"undefined"!==typeof window&&(window.addEventListener("resize",this.onResize.bind(this),{passive:!0}),this.update())}},{key:"onResize",value:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}},{key:"update",value:function(){var t=this.getClientHeight(),e=this.getClientWidth(),i=e<this.thresholds.xs,n=e<this.thresholds.sm&&!i,r=e<this.thresholds.md-this.scrollBarWidth&&!(n||i),s=e<this.thresholds.lg-this.scrollBarWidth&&!(r||n||i),o=e>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=t,this.width=e,this.xs=i,this.sm=n,this.md=r,this.lg=s,this.xl=o,this.xsOnly=i,this.smOnly=n,this.smAndDown=(i||n)&&!(r||s||o),this.smAndUp=!i&&(n||r||s||o),this.mdOnly=r,this.mdAndDown=(i||n||r)&&!(s||o),this.mdAndUp=!(i||n)&&(r||s||o),this.lgOnly=s,this.lgAndDown=(i||n||r||s)&&!o,this.lgAndUp=!(i||n||r)&&(s||o),this.xlOnly=o,!0){case i:this.name="xs";break;case n:this.name="sm";break;case r:this.name="md";break;case s:this.name="lg";break;default:this.name="xl";break}if("number"!==typeof this.mobileBreakpoint){var a={xs:0,sm:1,md:2,lg:3,xl:4},l=a[this.name],u=a[this.mobileBreakpoint];this.mobile=l<=u}else this.mobile=e<parseInt(this.mobileBreakpoint,10)}},{key:"getClientWidth",value:function(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}},{key:"getClientHeight",value:function(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}]),i}(T);A.property="breakpoint";var P=i("5530"),M=function(t){return t},k=function(t){return Math.pow(t,2)},L=function(t){return t*(2-t)},I=function(t){return t<.5?2*Math.pow(t,2):(4-2*t)*t-1},O=function(t){return Math.pow(t,3)},R=function(t){return Math.pow(--t,3)+1},N=function(t){return t<.5?4*Math.pow(t,3):(t-1)*(2*t-2)*(2*t-2)+1},D=function(t){return Math.pow(t,4)},B=function(t){return 1-Math.pow(--t,4)},F=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},V=function(t){return Math.pow(t,5)},j=function(t){return 1+Math.pow(--t,5)},U=function(t){return t<.5?16*Math.pow(t,5):1+16*Math.pow(--t,5)};function G(t){if("number"===typeof t)return t;var e=H(t);if(!e)throw"string"===typeof t?new Error('Target element "'.concat(t,'" not found.')):new TypeError("Target must be a Number/Selector/HTMLElement/VueComponent, received ".concat(z(t)," instead."));var i=0;while(e)i+=e.offsetTop,e=e.offsetParent;return i}function W(t){var e=H(t);if(e)return e;throw"string"===typeof t?new Error('Container element "'.concat(t,'" not found.')):new TypeError("Container must be a Selector/HTMLElement/VueComponent, received ".concat(z(t)," instead."))}function z(t){return null==t?t:t.constructor.name}function H(t){return"string"===typeof t?document.querySelector(t):t&&t._isVue?t.$el:t instanceof HTMLElement?t:null}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(P["a"])({container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0},e),r=W(i.container);if(i.appOffset&&q.framework.application){var s=r.classList.contains("v-navigation-drawer"),o=r.classList.contains("v-navigation-drawer--clipped"),a=q.framework.application,l=a.bar,u=a.top;i.offset+=l,s&&!o||(i.offset+=u)}var c,h=performance.now();c="number"===typeof t?G(t)-i.offset:G(t)-G(r)-i.offset;var d=r.scrollTop;if(c===d)return Promise.resolve(c);var f="function"===typeof i.easing?i.easing:n[i.easing];if(!f)throw new TypeError('Easing function "'.concat(i.easing,'" not found.'));return new Promise((function(t){return requestAnimationFrame((function e(n){var s=n-h,o=Math.abs(i.duration?Math.min(s/i.duration,1):1);r.scrollTop=Math.floor(d+(c-d)*f(o));var a=r===document.body?document.documentElement.clientHeight:r.clientHeight;if(1===o||a+r.scrollTop===r.scrollHeight)return t(c);requestAnimationFrame(e)}))}))}q.framework={},q.init=function(){};var $=function(t){f(i,t);var e=b(i);function i(){var t;return r(this,i),t=e.call(this),v(t,q)}return i}(T);$.property="goTo";i("ddb0"),i("dca8");var Y={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"},X=Y,K={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"},Q=K,Z={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},J=Z,tt={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"},et=tt,it={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"},nt=it;i("ac1f"),i("1276");function rt(t,e){var i={};for(var n in e)i[n]={component:t,props:{icon:e[n].split(" fa-")}};return i}var st=rt("font-awesome-icon",et),ot=Object.freeze({mdiSvg:X,md:Q,mdi:J,fa:et,fa4:nt,faSvg:st}),at=function(t){f(i,t);var e=b(i);function i(t){var n;r(this,i),n=e.call(this);var s=t[i.property],o=s.iconfont,a=s.values;return n.iconfont=o,n.values=Object(w["v"])(ot[o],a),n}return i}(T);at.property="icons";i("e01a"),i("99af"),i("5319"),i("2ca0");var lt="$vuetify.",ut=Symbol("Lang fallback");function ct(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,r=e.replace(lt,""),s=Object(w["m"])(t,r,ut);return s===ut&&(i?(Object(l["b"])('Translation key "'.concat(r,'" not found in fallback')),s=e):(Object(l["c"])('Translation key "'.concat(r,'" not found, falling back to default')),s=ct(n,e,!0,n))),s}var ht=function(t){f(i,t);var e=b(i);function i(t){var n;r(this,i),n=e.call(this),n.defaultLocale="en";var s=t[i.property],o=s.current,a=s.locales,l=s.t;return n.current=o,n.locales=a,n.translator=l||n.defaultTranslator,n}return o(i,[{key:"currentLocale",value:function(t){var e=this.locales[this.current],i=this.locales[this.defaultLocale];return ct(e,t,!1,i)}},{key:"t",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.startsWith(lt)?this.translator.apply(this,[t].concat(i)):this.replace(t,i)}},{key:"defaultTranslator",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return this.replace(this.currentLocale(t),i)}},{key:"replace",value:function(t,e){return t.replace(/\{(\d+)\}/g,(function(t,i){return String(e[+i])}))}}]),i}(T);ht.property="lang";i("7db0"),i("18a5");var dt=i("3835"),ft=i("7bc6"),pt=i("8da5"),mt=(i("3ea3"),.20689655172413793),gt=function(t){return t>Math.pow(mt,3)?Math.cbrt(t):t/(3*Math.pow(mt,2))+4/29},yt=function(t){return t>mt?Math.pow(t,3):3*Math.pow(mt,2)*(t-4/29)};function vt(t){var e=gt,i=e(t[1]);return[116*i-16,500*(e(t[0]/.95047)-i),200*(i-e(t[2]/1.08883))]}function bt(t){var e=yt,i=(t[0]+16)/116;return[.95047*e(i+t[1]/500),e(i),1.08883*e(i-t[2]/200)]}function _t(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.anchor,r=h(t,["anchor"]),s=Object.keys(r),o={},a=0;a<s.length;++a){var l=s[a],u=t[l];null!=u&&(i?e?("base"===l||l.startsWith("lighten")||l.startsWith("darken"))&&(o[l]=Object(ft["a"])(u)):"object"===Object(g["a"])(u)?o[l]=_t(u,!0,i):o[l]=Ct(l,Object(ft["b"])(u)):o[l]={base:Object(ft["c"])(Object(ft["b"])(u))})}return e||(o.anchor=n||o.base||o.primary.base),o}var St=function(t,e){return"\n.v-application .".concat(t," {\n  background-color: ").concat(e," !important;\n  border-color: ").concat(e," !important;\n}\n.v-application .").concat(t,"--text {\n  color: ").concat(e," !important;\n  caret-color: ").concat(e," !important;\n}")},wt=function(t,e,i){var n=e.split(/(\d)/,2),r=Object(dt["a"])(n,2),s=r[0],o=r[1];return"\n.v-application .".concat(t,".").concat(s,"-").concat(o," {\n  background-color: ").concat(i," !important;\n  border-color: ").concat(i," !important;\n}\n.v-application .").concat(t,"--text.text--").concat(s,"-").concat(o," {\n  color: ").concat(i," !important;\n  caret-color: ").concat(i," !important;\n}")},Tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"--v-".concat(t,"-").concat(e)},xt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"var(".concat(Tt(t,e),")")};function Et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.anchor,n=h(t,["anchor"]),r=Object.keys(n);if(!r.length)return"";var s="",o="",a=e?xt("anchor"):i;o+=".v-application a { color: ".concat(a,"; }"),e&&(s+="  ".concat(Tt("anchor"),": ").concat(i,";\n"));for(var l=0;l<r.length;++l){var u=r[l],c=t[u];o+=St(u,e?xt(u):c.base),e&&(s+="  ".concat(Tt(u),": ").concat(c.base,";\n"));for(var d=Object.keys(c),f=0;f<d.length;++f){var p=d[f],m=c[p];"base"!==p&&(o+=wt(u,p,e?xt(u,p):m),e&&(s+="  ".concat(Tt(u,p),": ").concat(m,";\n")))}}return e&&(s=":root {\n".concat(s,"}\n\n")),s+o}function Ct(t,e){for(var i={base:Object(ft["c"])(e)},n=5;n>0;--n)i["lighten".concat(n)]=Object(ft["c"])(At(e,n));for(var r=1;r<=4;++r)i["darken".concat(r)]=Object(ft["c"])(Pt(e,r));return i}function At(t,e){var i=vt(pt["b"](t));return i[0]=i[0]+10*e,pt["a"](bt(i))}function Pt(t,e){var i=vt(pt["b"](t));return i[0]=i[0]-10*e,pt["a"](bt(i))}var Mt=function(t){f(i,t);var e=b(i);function i(t){var n;r(this,i),n=e.call(this),n.disabled=!1,n.isDark=null,n.vueInstance=null,n.vueMeta=null;var s=t[i.property],o=s.dark,a=s.disable,l=s.options,u=s.themes;return n.dark=Boolean(o),n.defaults=n.themes=u,n.options=l,a?(n.disabled=!0,v(n)):(n.themes={dark:n.fillVariant(u.dark,!0),light:n.fillVariant(u.light,!1)},n)}return o(i,[{key:"applyTheme",value:function(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}},{key:"clearCss",value:function(){this.css=""}},{key:"init",value:function(t,e){this.disabled||(t.$meta?this.initVueMeta(t):e&&this.initSSR(e),this.initTheme())}},{key:"setTheme",value:function(t,e){this.themes[t]=Object.assign(this.themes[t],e),this.applyTheme()}},{key:"resetThemes",value:function(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}},{key:"checkOrCreateStyleElement",value:function(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}},{key:"fillVariant",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=this.themes[e?"dark":"light"];return Object.assign({},i,t)}},{key:"genStyleElement",value:function(){"undefined"!==typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}},{key:"initVueMeta",value:function(t){var e=this;if(this.vueMeta=t.$meta(),this.isVueMeta23)t.$nextTick((function(){e.applyVueMeta23()}));else{var i="function"===typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",n=t.$options[i]||{};t.$options[i]=function(){n.style=n.style||[];var t=n.style.find((function(t){return"vuetify-theme-stylesheet"===t.id}));return t?t.cssText=e.generatedStyles:n.style.push({cssText:e.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(e.options||{}).cspNonce}),n}}}},{key:"applyVueMeta23",value:function(){var t=this.vueMeta.addApp("vuetify"),e=t.set;e({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}},{key:"initSSR",value:function(t){var e=this.options.cspNonce?' nonce="'.concat(this.options.cspNonce,'"'):"";t.head=t.head||"",t.head+='<style type="text/css" id="vuetify-theme-stylesheet"'.concat(e,">").concat(this.generatedStyles,"</style>")}},{key:"initTheme",value:function(){var t=this;"undefined"!==typeof document&&(this.vueInstance&&this.vueInstance.$destroy(),this.vueInstance=new a["a"]({data:{themes:this.themes},watch:{themes:{immediate:!0,deep:!0,handler:function(){return t.applyTheme()}}}}))}},{key:"css",set:function(t){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=t)}},{key:"dark",set:function(t){var e=this.isDark;this.isDark=t,null!=e&&this.applyTheme()},get:function(){return Boolean(this.isDark)}},{key:"currentTheme",get:function(){var t=this.dark?"dark":"light";return this.themes[t]}},{key:"generatedStyles",get:function(){var t,e=this.parsedTheme,i=this.options||{};return null!=i.themeCache&&(t=i.themeCache.get(e),null!=t)||(t=Et(e,i.customProperties),null!=i.minifyTheme&&(t=i.minifyTheme(t)),null!=i.themeCache&&i.themeCache.set(e,t)),t}},{key:"parsedTheme",get:function(){return _t(this.currentTheme||{},void 0,Object(w["l"])(this.options,["variations"],!0))}},{key:"isVueMeta23",get:function(){return"function"===typeof this.vueMeta.addApp}}]),i}(T);Mt.property="theme";var kt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.framework={},this.installed=[],this.preset={},this.userPreset={},this.userPreset=e,this.use(x),this.use(C),this.use(A),this.use($),this.use(at),this.use(ht),this.use(Mt)}return o(t,[{key:"init",value:function(t,e){var i=this;this.installed.forEach((function(n){var r=i.framework[n];r.framework=i.framework,r.init(t,e)})),this.framework.rtl=Boolean(this.preset.rtl)}},{key:"use",value:function(t){var e=t.property;this.installed.includes(e)||(this.framework[e]=new t(this.preset,this),this.installed.push(e))}}]),t}();kt.install=u,kt.installed=!1,kt.version="2.3.2",kt.config={silent:!1}},f5df:function(t,e,i){var n=i("00ee"),r=i("c6b6"),s=i("b622"),o=s("toStringTag"),a="Arguments"==r(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(i){}};t.exports=n?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=l(e=Object(t),o))?i:a?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},f6b4:function(t,e,i){"use strict";var n=i("c532");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},f6c4:function(t,e,i){"use strict";i("bd0c");var n=i("d10f");e["a"]=n["a"].extend({name:"v-main",props:{tag:{type:String,default:"main"}},computed:{styles:function(){var t=this.$vuetify.application,e=t.bar,i=t.top,n=t.right,r=t.footer,s=t.insetFooter,o=t.bottom,a=t.left;return{paddingTop:"".concat(i+e,"px"),paddingRight:"".concat(n,"px"),paddingBottom:"".concat(r+s+o,"px"),paddingLeft:"".concat(a,"px")}}},render:function(t){var e={staticClass:"v-main",style:this.styles,ref:"main"};return t(this.tag,e,[t("div",{staticClass:"v-main__wrap"},this.$slots.default)])}})},f748:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},f772:function(t,e,i){var n=i("5692"),r=i("90e3"),s=n("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},f774:function(t,e,i){"use strict";i("99af"),i("a9e3"),i("c7cd");var n=i("5530"),r=(i("7958"),i("adda")),s=i("3a66"),o=i("a9ad"),a=i("b848"),l=(i("caad"),i("b0c0"),i("d9bd")),u=i("2b0e"),c=u["a"].extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default:function(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:function(t){return!isNaN(Number(t))||["xs","sm","md","lg","xl"].includes(String(t))}}},computed:{isMobile:function(){var t=this.$vuetify.breakpoint,e=t.mobile,i=t.width,n=t.name,r=t.mobileBreakpoint;if(r===this.mobileBreakpoint)return e;var s=parseInt(this.mobileBreakpoint,10),o=!isNaN(s);return o?i<s:n===this.mobileBreakpoint}},created:function(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(l["d"])("mobile-break-point","mobile-breakpoint",this)}}),h=(i("2532"),i("3c93"),i("7560")),d=i("f2e7"),f=i("58df"),p=Object(f["a"])(o["a"],h["a"],d["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes:function(){return Object(n["a"])({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(t){var e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},e)}}),m=p,g=i("80d2"),y=u["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{animationFrame:0,overlay:null}},watch:{hideOverlay:function(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var t=new m({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();var e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay:function(){var t=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame((function(){t.overlay&&(void 0!==t.activeZIndex?t.overlay.zIndex=String(t.activeZIndex-1):t.$el&&(t.overlay.zIndex=Object(g["q"])(t.$el)),t.overlay.value=!0)})),!0},removeOverlay:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(g["a"])(this.overlay.$el,"transitionend",(function(){t.overlay&&t.overlay.$el&&t.overlay.$el.parentNode&&!t.overlay.value&&(t.overlay.$el.parentNode.removeChild(t.overlay.$el),t.overlay.$destroy(),t.overlay=null)})),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),e&&this.showScroll()},scrollListener:function(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;var e=[g["t"].up,g["t"].pageup],i=[g["t"].down,g["t"].pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!i.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar:function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},shouldScroll:function(t,e){return 0===t.scrollTop&&e<0||t.scrollTop+t.clientHeight===t.scrollHeight&&e>0},isInside:function(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath:function(t){var e=t.path||this.composedPath(t),i=t.deltaY;if("keydown"===t.type&&e[0]===document.body){var n=this.$refs.dialog,r=window.getSelection().anchorNode;return!(n&&this.hasScrollbar(n)&&this.isInside(r,n))||this.shouldScroll(n,i)}for(var s=0;s<e.length;s++){var o=e[s];if(o===document)return!0;if(o===document.documentElement)return!0;if(o===this.$refs.content)return!0;if(this.hasScrollbar(o))return this.shouldScroll(o,i)}return!0},composedPath:function(t){if(t.composedPath)return t.composedPath();var e=[],i=t.target;while(i){if(e.push(i),"HTML"===i.tagName)return e.push(document),e.push(window),e;i=i.parentElement}return e},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(g["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),v=i("d10f"),b=i("a293"),_=i("dc22"),S=i("c3f0"),w=Object(f["a"])(Object(s["a"])("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),o["a"],a["a"],c,y,v["a"],h["a"]);e["a"]=w.extend({name:"v-navigation-drawer",provide:function(){return{isInNav:"nav"===this.tag}},directives:{ClickOutside:b["a"],Resize:_["a"],Touch:S["a"]},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default:function(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:56},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default:function(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:null},data:function(){return{isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}},computed:{applicationProperty:function(){return this.right?"right":"left"},classes:function(){return Object(n["a"])({"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--custom-mini-variant":56!==Number(this.miniVariantWidth),"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary},this.themeClasses)},computedMaxHeight:function(){if(!this.hasApp)return null;var t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},computedTop:function(){if(!this.hasApp)return 0;var t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},computedTransform:function(){return this.isActive?0:this.isBottom||this.right?100:-100},computedWidth:function(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp:function(){return this.app&&!this.isMobile&&!this.temporary},isBottom:function(){return this.bottom&&this.isMobile},isMiniVariant:function(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile:function(){return!this.stateless&&!this.permanent&&c.options.computed.isMobile.call(this)},reactsToClick:function(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile:function(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize:function(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute:function(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay:function(){return!this.hideOverlay&&this.isActive&&(this.isMobile||this.temporary)},styles:function(){var t=this.isBottom?"translateY":"translateX",e={height:Object(g["f"])(this.height),top:this.isBottom?"auto":Object(g["f"])(this.computedTop),maxHeight:null!=this.computedMaxHeight?"calc(100% - ".concat(Object(g["f"])(this.computedMaxHeight),")"):void 0,transform:"".concat(t,"(").concat(Object(g["f"])(this.computedTransform,"%"),")"),width:Object(g["f"])(this.computedWidth)};return e}},watch:{$route:"onRouteChange",isActive:function(t){this.$emit("input",t)},isMobile:function(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!t)},permanent:function(t){t&&(this.isActive=!0)},showOverlay:function(t){t?this.genOverlay():this.removeOverlay()},value:function(t){this.permanent||(null!=t?t!==this.isActive&&(this.isActive=t):this.init())},expandOnHover:"updateMiniVariant",isMouseover:function(t){this.updateMiniVariant(!t)}},beforeMount:function(){this.init()},methods:{calculateTouchArea:function(){var t=this.$el.parentNode;if(t){var e=t.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}}},closeConditional:function(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend:function(){return this.genPosition("append")},genBackground:function(){var t={height:"100%",width:"100%",src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img(t):this.$createElement(r["a"],{props:t});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[e])},genDirectives:function(){var t=this,e=[{name:"click-outside",value:{handler:function(){t.isActive=!1},closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||e.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),e},genListeners:function(){var t=this,e={transitionend:function(e){if(e.target===e.currentTarget){t.$emit("transitionend",e);var i=document.createEvent("UIEvents");i.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(i)}}};return this.miniVariant&&(e.click=function(){return t.$emit("update:mini-variant",!1)}),this.expandOnHover&&(e.mouseenter=function(){return t.isMouseover=!0},e.mouseleave=function(){return t.isMouseover=!1}),e},genPosition:function(t){var e=Object(g["o"])(this,t);return e?this.$createElement("div",{staticClass:"v-navigation-drawer__".concat(t)},e):e},genPrepend:function(){return this.genPosition("prepend")},genContent:function(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder:function(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init:function(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},onRouteChange:function(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft:function(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight:function(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication:function(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;var t=Number(this.computedWidth);return isNaN(t)?this.$el.clientWidth:t},updateMiniVariant:function(t){this.miniVariant!==t&&this.$emit("update:mini-variant",t)}},render:function(t){var e=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||Object(g["o"])(this,"img"))&&e.unshift(this.genBackground()),t(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),e)}})},f97d:function(t,e){var i={"":!0,up:!0};function n(t){if("string"!==typeof t)return!1;var e=i[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){return"number"===typeof t&&t>=0&&t<=100}function s(){var t=100,e=3,i=0,s=100,o=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!==typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw new Error("RegionAnchorX must be between 0 and 100.");s=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!r(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw new Error("ViewportAnchorY must be between 0 and 100.");a=t}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw new Error("ViewportAnchorX must be between 0 and 100.");o=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=n(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):l=e}}})}t.exports=s},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("861d"),s=i("e8b5"),o=i("23cb"),a=i("50c4"),l=i("fc6a"),u=i("8418"),c=i("b622"),h=i("1dde"),d=i("ae40"),f=h("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),m=c("species"),g=[].slice,y=Math.max;n({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,e){var i,n,c,h=l(this),d=a(h.length),f=o(t,d),p=o(void 0===e?d:e,d);if(s(h)&&(i=h.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?r(i)&&(i=i[m],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return g.call(h,f,p);for(n=new(void 0===i?Array:i)(y(p-f,0)),c=0;f<p;f++,c++)f in h&&u(n,c,h[f]);return n.length=c,n}})},fbd0:function(t,e,i){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},s=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},o=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},a=function(t,e,i){return unescape(o(t,e,i))},l=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],n=t[e+5],r=(16&n)>>4;return r?i+20:i+10},u=function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3,r=6144&t[e+3];return r|n|i},c=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240===(240&t[e+1])?"audio":null},h=function(t){var e=0;while(e+5<t.length){if(255===t[e]&&240===(246&t[e+1]))return n[(60&t[e+2])>>>2];e++}return null},d=function(t){var e,i,n,r;e=10,64&t[5]&&(e+=4,e+=s(t.subarray(10,14)));do{if(i=s(t.subarray(e+4,e+8)),i<1)return null;if(r=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]),"PRIV"===r){n=t.subarray(e+10,e+i+10);for(var o=0;o<n.byteLength;o++)if(0===n[o]){var l=a(n,0,o);if("com.apple.streaming.transportStreamTimestamp"===l){var u=n.subarray(o+1),c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;return c*=4,c+=3&u[7],c}break}}e+=10,e+=i}while(e<t.byteLength);return null};t.exports={isLikelyAacData:r,parseId3TagSize:l,parseAdtsSize:u,parseType:c,parseSampleRate:h,parseAacTimestamp:d}},fc6a:function(t,e,i){var n=i("44ad"),r=i("1d80");t.exports=function(t){return n(r(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,i){var n=i("4930");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe09:function(t,e,i){"use strict";i("4de4"),i("45fc"),i("d3b7"),i("25f0");var n=i("c37a"),r=i("5311"),s=i("8547"),o=i("58df");e["a"]=Object(o["a"])(n["a"],r["a"],s["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=this,e=n["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:function(e){e.preventDefault(),t.onChange()}},e):e},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur:function(){this.isFocused=!1},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var n=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===n&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})},fe6c:function(t,e,i){"use strict";i.d(e,"b",(function(){return o}));var n=i("2b0e"),r=i("80d2"),s={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n["a"].extend({name:"positionable",props:t.length?Object(r["k"])(s,t):s})}e["a"]=o()},fea9:function(t,e,i){var n=i("da84");t.exports=n.Promise}}]);
//# sourceMappingURL=chunk-vendors.5860c34b.js.map