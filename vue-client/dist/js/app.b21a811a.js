(function(e){function t(t){for(var r,o,a=t[0],l=t[1],c=t[2],d=0,h=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==s[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},s={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"027b":function(e,t,n){"use strict";var r=n("e345"),s=n.n(r);s.a},"034f":function(e,t,n){"use strict";var r=n("8a23"),s=n.n(r);s.a},"1efa":function(e,t,n){},"359f":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_fill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cb29"),core_js_modules_es_array_fill__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_fill__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("caad"),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("c975"),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a434"),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b64b"),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("2532"),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("466d"),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("1276"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_11__);Vex.UI={};var VF=Vex.Flow;function getRandomInt(e){return Math.floor(Math.random()*Math.floor(e))}function getStyle(e,t){var n=null,r=document.getElementById(e);return r.currentStyle?n=r.currentStyle[t]:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(r,null).getPropertyValue(t)),n}function getMousePositionInCanvas(e,t){var n=getStyle(e.id,"border-left-width"),r=null!=n?n.substring(0,n.indexOf(n.match(/\D/))):0,s=getStyle(e.id,"padding-left"),i=null!=s?s.substring(0,s.indexOf(s.match(/\D/))):0,o=e.getBoundingClientRect();return{x:(t.clientX-o.left-r-i)/Vex.UI.scale,y:(t.clientY-o.top-r-i)/Vex.UI.scale}}function getAbsoluteMousePositionInCanvas(e,t){var n=getStyle(e.id,"border-left-width"),r=null!=n?n.substring(0,n.indexOf(n.match(/\D/))):0,s=getStyle(e.id,"padding-left"),i=null!=s?s.substring(0,s.indexOf(s.match(/\D/))):0,o=e.getBoundingClientRect();return{x:t.clientX-o.left-r-i,y:t.clientY-o.top-r-i}}function isCursorWithinRectangle(e,t,n,r,s,i){return s>e&&s<e+n&&i>t&&i<t+r}function getFirstTickableAfterXPosition(e,t){for(var n=null,r=0;r<e.getTickables().length;r++)if(t<e.getTickables()[r].getAbsoluteX()&&(n=e.getTickables()[r]),null!=n)break;return n}function getLastTickableBeforeXPosition(e,t){for(var n=null,r=e.getTickables().length-1;r>=0;r--)if(t>e.getTickables()[r].getAbsoluteX()&&(n=e.getTickables()[r]),null!=n)break;return n}function mergeProperties(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function getStemDirection(e,t){var n=e.getYForLine(2);return t<n?Vex.Flow.StaveNote.STEM_DOWN:Vex.Flow.StaveNote.STEM_UP}Vex.UI.provisoryTickableStyle={shadowBlur:0,shadowColor:"gray",fillStyle:"gray",strokeStyle:"gray"},Vex.UI.highlightNoteStyle={shadowBlur:15,shadowColor:"red",fillStyle:"black",strokeStyle:"black"},Vex.UI.defaultNoteStyle={shadowBlur:0,shadowColor:"black",fillStyle:"black",strokeStyle:"black"},Vex.UI.scale=1.5,Vex.UI.Handler=function(e,t){this.container=document.getElementById(e);var n={canEdit:!0,canPlay:!0,canAddStaves:!0,canChangeNoteValue:!0,showToolbar:!0,numberOfStaves:4,canvasProperties:{id:e+"-canvas",width:1225,height:320,tabindex:1}};this.options=mergeProperties(n,t||{}),this.canvas=this.createCanvas(),this.renderer=new Vex.Flow.Renderer(this.canvas,Vex.Flow.Renderer.Backends.CANVAS),this.ctx=this.renderer.getContext(),this.staveList=this.createStaves(),this.ctx.scale(1.5,1.5),this.currentNote=null,this.currentStave=null,this.provisoryTickable=null,this.mouseListener=new Vex.UI.MouseListener(this,this.canvas,this.staveList),this.noteMenu=new Vex.UI.NoteMenu(this,this.canvas,this.ctx),this.noteMenu.init(),this.tipRenderer=new Vex.UI.TipRenderer(this.canvas),this.tipRenderer.init()},Vex.UI.Handler.prototype.createCanvas=function(){for(var e=document.createElement("canvas"),t=Object.keys(this.options.canvasProperties),n=0;n<t.length;n++)e[t[n]]=this.options.canvasProperties[t[n]];return this.container.appendChild(e),e},Vex.UI.Handler.prototype.createStaves=function(){for(var e=[],t=0,n=0;n<this.options.numberOfStaves;n++){var r={};(n+1)%2==0?(r=new Vex.Flow.Stave(410,t,400),t+=1.2*r.height):(r=new Vex.Flow.Stave(10,t,400),r.addClef("treble").addTimeSignature("4/4")),r.font={family:"sans-serif",size:12,weight:""},e.push(r),r.setContext(this.ctx),r.setTickables([])}return e},Vex.UI.Handler.prototype.init=function(){return this.redraw(),this.options.canEdit&&this.mouseListener.startListening(),this},Vex.UI.Handler.prototype.redraw=function(e){this.ctx.clear(),this.drawStaves(),e?this.drawNotes(void 0,!0):this.drawNotes()},Vex.UI.Handler.prototype.redrawStave=function(e){var t=e.getBoundingBox(),n=this.staveList.indexOf(e);(n+1)%2==0?this.ctx.clearRect(t.getX(),t.getY(),t.getW()+15,t.getH()+5):this.ctx.clearRect(t.getX()-15,t.getY(),t.getW()+16,t.getH()),this.drawStaves(e,!0),this.drawNotes(e)},Vex.UI.Handler.prototype.drawStaves=function(e){if(e)e.draw();else for(var t=0;t<this.staveList.length;t++)this.staveList[t].draw()},Vex.UI.Handler.prototype.drawNotes=function(e,t){if(void 0===e)for(var n=0;n<this.staveList.length;n++)this.drawNotes(this.staveList[n],t);else{var r=new Vex.Flow.Voice(Vex.Flow.TIME4_4).setMode(Vex.Flow.Voice.Mode.SOFT);r.setStrict(!1),r.addTickables(e.getTickables());var s=new Vex.Flow.Formatter;0!=e.getTickables().length&&(s.joinVoices([r]),s.formatToStave([r],e),r.draw(this.ctx,e),t?this.drawBeams(e,!0):this.drawBeams(e))}},Vex.UI.Handler.prototype.drawBeams=function(e,t){(t||null==e.beams)&&(e.beams=Vex.Flow.Beam.generateBeams(e.getTickables()));for(var n=0;n<e.beams.length;n++)e.beams[n].setContext(this.ctx).draw()},Vex.UI.Handler.prototype.updateProvisoryKey=function(e){if(null==this.provisoryTickable&&(this.provisoryTickable=new Vex.Flow.StaveNote({keys:["d/4"],duration:"4"})),null!=this.currentStave){if(this.provisoryTickable instanceof Vex.Flow.StaveNote&&"r"!=this.provisoryTickable.noteType){var t=NoteMap.getNoteName(this.currentStave,e);t!=this.provisoryTickable.keys[0]&&(this.provisoryTickable=this.provisoryTickable.clone({keys:[t]}),void 0!==this.provisoryTickable&&this.provisoryTickable.setStyle(Vex.UI.provisoryTickableStyle),this.provisoryTickable.setStemDirection(getStemDirection(this.currentStave,e.y)),this.provisoryTickable.setStave(this.currentStave),this.provisoryTickable.setTickContext(new Vex.Flow.TickContext))}else;this.drawProvisoryTickable(e)}},Vex.UI.Handler.prototype.updateProvisoryDuration=function(e){var t=null;this.provisoryTickable&&(t=this.provisoryTickable.x_shift),this.provisoryTickable=this.provisoryTickable.clone({duration:e}),t&&(this.provisoryTickable.x_shift=t),this.provisoryTickable.setStave(this.currentStave||this.staveList[0]),this.provisoryTickable.setTickContext(new Vex.Flow.TickContext),this.drawProvisoryTickable()},Vex.UI.Handler.prototype.updateProvisoryType=function(e){var t=null;switch(this.provisoryTickable&&(t=this.provisoryTickable.x_shift),e){case Vex.UI.TickableType.NOTE:this.provisoryTickable=new Vex.Flow.StaveNote({keys:["d/4"],duration:"4"});break;case Vex.UI.TickableType.REST:var n="4";this.provisoryTickable&&(n=this.provisoryTickable.duration),this.provisoryTickable=new Vex.Flow.StaveNote({keys:["b/4"],duration:n+"r"});break;case Vex.UI.TickableType.BAR:this.provisoryTickable=new Vex.Flow.BarNote;break;case Vex.UI.TickableType.CLEF:this.provisoryTickable=new Vex.Flow.ClefNote("treble"),this.provisoryTickable.clefKey="treble";break}this.provisoryTickable.setStave(this.currentStave||this.staveList[0]),this.provisoryTickable.setTickContext(new Vex.Flow.TickContext),void 0!==this.provisoryTickable.setStyle&&this.provisoryTickable.setStyle(Vex.UI.provisoryTickableStyle),t&&(this.provisoryTickable.x_shift=t),this.drawProvisoryTickable()},Vex.UI.Handler.prototype.drawProvisoryTickable=function(e){if(this.provisoryTickable&&null!=this.currentStave){if(this.redrawStave(this.currentStave),void 0!==e)if(this.provisoryTickable instanceof Vex.Flow.StaveNote)this.provisoryTickable.x_shift=e.x-this.provisoryTickable.getAbsoluteX()-5;else if(this.provisoryTickable instanceof Vex.Flow.BarNote){var t=new Vex.Flow.Barline(1);t.setX(e.x),t.draw(this.currentStave)}else this.provisoryTickable.getTickContext().setX(e.x-this.currentStave.getNoteStartX()-this.provisoryTickable.render_options.stave_padding);if(null==this.currentNote){var n=this.ctx.fillStyle,r=this.ctx.strokeStyle;this.ctx.fillStyle="gray",this.ctx.strokeStyle="gray",this.provisoryTickable instanceof Vex.Flow.BarNote||this.provisoryTickable.draw(),this.ctx.fillStyle=n,this.ctx.strokeStyle=r}}},Vex.UI.Handler.prototype.openMenuForKey=function(e,t){this.mouseListener.stopListening(),this.noteMenu.setNote(this.currentNote),this.noteMenu.setKeyIndex(this.currentNote.indexOfKey(e)),this.noteMenu.open(t)},Vex.UI.Handler.prototype.noteMenuClosed=function(){this.redraw(),this.mouseListener.startListening()},Vex.UI.Handler.prototype.addAccidentalToNote=function(e,t,n){void 0!==n&&-1!=n||(n=0);var r=new Vex.Flow.Accidental(e);t.addAccidental(n,r)},Vex.UI.Handler.prototype.addDotToNote=function(e){0==e.dots&&e.addDotToAll()},Vex.UI.Handler.prototype.beamWithNextNote=function(e){var t=this.currentStave.getNextNote(e);if(null!=t){notes=[e,t],t.setStemDirection(e.getStemDirection());var n=new Vex.Flow.Beam(notes);this.currentStave.pushBeam(n)}},Vex.UI.Handler.prototype.deleteNote=function(e){for(var t=0;t<this.staveList.length;t++){var n=this.staveList[t].getNotes(),r=n.indexOf(e);r>-1&&this.staveList[t].removeTickable(e)}},Vex.UI.Handler.prototype.exportNotes=function(){for(var e=[],t=0;t<this.staveList.length;t++)for(var n=0;n<this.staveList[t].getTickables().length;n++){var r=this.staveList[t].getTickables()[n];if(r instanceof Vex.Flow.StaveNote){var s=r.duration,i=r.keys[0],o=r.dots,a=r.noteType,l=i+"/"+s;"r"==a&&(l+="r"),1==o&&(l+="d"),e.push(l)}}return e},Vex.UI.Handler.prototype.importNotes=function(notes,timeSignature){if(notes&&timeSignature){for(var tickables=[],barNum=0,barDuration=eval(timeSignature),accumDuration=0,j=0;j<this.staveList.length;j++)this.staveList[j].setTickables([]);for(var i=0;i<notes.length;i++){var noteArr=notes[i].split("/"),dur=noteArr[2],isDot=!1;dur.includes("r")&&(dur=dur.replace("r","")),dur.includes("d")&&(dur=dur.replace("d",""),isDot=!0);var staveNote=new Vex.Flow.StaveNote({clef:"treble",keys:[noteArr[0]+"/"+noteArr[1]],duration:dur});staveNote.setStyle(Vex.UI.defaultNoteStyle),staveNote.setTickContext(new Vex.Flow.TickContext),dur=1/parseInt(dur),isDot&&(dur*=1.5,staveNote.addDotToAll()),accumDuration+dur>barDuration?(this.staveList[barNum].setTickables(tickables),tickables=[],barNum++,accumDuration=dur):accumDuration+=dur,staveNote.setStave(this.staveList[barNum]),tickables.push(staveNote)}tickables.length>0&&barNum+1<=this.options.numberOfStaves&&this.staveList[barNum].setTickables(tickables);for(var j=0;j<this.staveList.length;j++)this.drawBeams(this.staveList[j],!0);this.redraw()}},Vex.UI.Handler.prototype.numBars=4,Vex.UI.Handler.prototype.timeSignature="4/4",Vex.UI.Handler.prototype.changeBars=function(e){if(e>this.numBars){for(var t=this.numBars;t<e;t++)this.staveList[t].setTickables([]),this.staveList[t].usable=!0;this.redraw()}else if(e<this.numBars){for(var n=[],r=this.timeSignature.split("/")[1]+"r",s=0;s<parseInt(this.timeSignature.split("/")[0]);s++)n.push(new Vex.Flow.StaveNote({clef:"treble",keys:["b/4"],duration:r}));for(t=e;t<this.staveList.length;t++)this.staveList[t].setTickables(n),this.staveList[t].usable=!1;this.redraw()}this.numBars=e},Vex.UI.Handler.prototype.setTimeSignature=function(e){for(var t=0;t<this.staveList.length;t++)(t+1)%2==1&&this.staveList[t].setTimeSignature(e);this.timeSignature=e,this.redraw()},Vex.UI.Handler.prototype.highlightNote=function(e){if(console.log("called with",e),0==e)this.staveList[0].getTickables()[0].setHighlight(!0),this.redraw();else{var t=0,n=this.staveList[t].getTickables().length;while(e>n)e-=n,t++,n=this.staveList[t].getTickables().length;n>e&&this.staveList[t].getTickables()[e].setHighlight(!0),this.redraw()}},Vex.UI.NoteMenu=function(e,t,n){this.handler=e,this.canvas=t,this.ctx=n,this.note=null,this.keyIndex=null,this.panelProps=null,this.buttons=[],this.accidentals=["doubleFlat","flat","natural","sharp","doubleSharp"],this.canRender=!1,this.currentButton=null,this.buttonRenderer=new Vex.UI.NoteMenuButtonRenderer},Vex.UI.NoteMenu.prototype.init=function(){},Vex.UI.NoteMenu.prototype.setTipArea=function(){var e=5,t=5,n=5,r=10,s=this.panelProps.x+e,i=this.panelProps.bottomY-n-r,o=this.panelProps.width-e-t,a=r-n;this.handler.tipRenderer.boundingBox={x:s,y:i,width:o,height:a},this.handler.tipRenderer.backgroundColor=this.panelProps.backgroundColor},Vex.UI.NoteMenu.prototype.open=function(e){this.panelProps=this.drawMenuPanel(e),this.buttonRenderer.panel=this.panelProps,this.buttonRenderer.context=this.ctx,this.buttonRenderer.ready&&(this.drawButtons(),this.canvas.addEventListener("mouseup",this,!1),this.canvas.addEventListener("mousemove",this,!1),this.canvas.addEventListener("contextmenu",this,!1),this.setTipArea())},Vex.UI.NoteMenu.prototype.close=function(){this.buttons=[],this.currentButton=null,this.canvas.removeEventListener("mouseup",this,!1),this.canvas.removeEventListener("mousemove",this,!1),this.canvas.removeEventListener("contextmenu",this,!1),this.handler.noteMenuClosed()},Vex.UI.NoteMenu.prototype.handleEvent=function(e){switch(e.preventDefault(),e.type){case"mouseup":this.handleMouseClick(e);break;case"mousemove":this.handleMouseMove(e);break}},Vex.UI.NoteMenu.prototype.setNote=function(e){this.note=e},Vex.UI.NoteMenu.prototype.setKeyIndex=function(e){this.keyIndex=e},Vex.UI.NoteMenu.prototype.drawMenuPanel=function(e){var t=this.canvas,n=200,r=100,s=e.x+30,i=e.y,o="right";(s+n)*Vex.UI.scale>t.width&&(s=e.x-n-30,o="left"),(i+r)*Vex.UI.scale>t.height&&(i=t.height/Vex.UI.scale-r-10);var a=this.ctx;return a.beginPath(),a.rect(s,i,n,r),a.fillStyle="#ddc",a.fill(),a.lineWidth=3,a.strokeStyle="black",a.stroke(),a.beginPath(),a.moveTo(e.x,e.y),"right"==o?a.lineTo(s,i):a.lineTo(s+n,i),a.stroke(),{width:n,height:r,x:s,y:i,rightX:s+n,bottomY:i+r,backgroundColor:"#ddc",position:o}},Vex.UI.NoteMenu.prototype.drawButtons=function(){this.buttons.push(this.buttonRenderer.closeButton());for(var e=0;e<this.accidentals.length;e++)this.buttons.push(this.buttonRenderer.accidentalButton(e));this.buttons.push(this.buttonRenderer.dotButton()),this.buttons.push(this.buttonRenderer.beamButton()),this.buttons.push(this.buttonRenderer.deleteButton())},Vex.UI.NoteMenu.prototype.handleMouseClick=function(e){if(0==e.button)for(var t=getMousePositionInCanvas(this.canvas,e),n=0;n<this.buttons.length;n++){var r=this.buttons[n];if(isCursorWithinRectangle(r.props.x,r.props.y,r.props.width,r.props.height,t.x,t.y)){r.callAction(this);break}}},Vex.UI.NoteMenu.prototype.handleMouseMove=function(e){for(var t=getMousePositionInCanvas(this.canvas,e),n=0;n<this.buttons.length;n++){var r=this.buttons[n];if(isCursorWithinRectangle(r.props.x,r.props.y,r.props.width,r.props.height,t.x,t.y)){null!=this.currentButton&&this.currentButton==r||(null!=this.currentButton&&this.currentButton.highlight(this.canvas,null,this.currentButton),this.currentButton=r,this.currentButton.highlight(this.canvas,"yellow",this.currentButton),this.handler.tipRenderer.showTip(this.currentButton.props.tip));break}r.highlight(this.canvas,null,r)}},Vex.UI.NoteMenu.prototype.addDoubleFlat=function(){this.handler.addAccidentalToNote("bb",this.note,this.keyIndex),this.close()},Vex.UI.NoteMenu.prototype.addFlat=function(){this.handler.addAccidentalToNote("b",this.note,this.keyIndex),this.close()},Vex.UI.NoteMenu.prototype.addNatural=function(){this.handler.addAccidentalToNote("n",this.note,this.keyIndex),this.close()},Vex.UI.NoteMenu.prototype.addSharp=function(){this.handler.addAccidentalToNote("#",this.note,this.keyIndex),this.close()},Vex.UI.NoteMenu.prototype.addDoubleSharp=function(){this.handler.addAccidentalToNote("##",this.note,this.keyIndex),this.close()},Vex.UI.NoteMenu.prototype.addDot=function(){console.log("got here"),this.handler.addDotToNote(this.note),this.close()},Vex.UI.NoteMenu.prototype.addBeam=function(){this.handler.beamWithNextNote(this.note),this.close()},Vex.UI.NoteMenu.prototype.deleteNote=function(){this.handler.deleteNote(this.note),this.close()},Vex.UI.MouseListener=function(e,t,n){this.handler=e,this.canvas=t,this.staveList=n},Vex.UI.MouseListener.prototype.handleEvent=function(e){switch(e.preventDefault(),e.type){case"mouseup":this.handleMouseClick(e);break;case"mousemove":this.handleMouseOver(e);break;case"wheel":this.handleMouseWheel(e);break;case"contextmenu":this.handleRightMouseClick(e);break;case"mouseleave":this.handleMouseLeave(e);break}},Vex.UI.MouseListener.prototype.startListening=function(){this.canvas.addEventListener("mouseup",this,!1),this.canvas.addEventListener("mousemove",this,!1),this.canvas.addEventListener("wheel",this,!1),this.canvas.addEventListener("contextmenu",this,!1),this.canvas.addEventListener("mouseleave",this,!1)},Vex.UI.MouseListener.prototype.stopListening=function(){this.canvas.removeEventListener("mouseup",this,!1),this.canvas.removeEventListener("mousemove",this,!1),this.canvas.removeEventListener("wheel",this,!1),this.canvas.removeEventListener("contextmenu",this,!1),this.canvas.removeEventListener("mouseleave",this,!1)},Vex.UI.MouseListener.prototype.handleMouseLeave=function(e){this.handler.redraw()},Vex.UI.MouseListener.prototype.handleMouseOver=function(e){var t=getMousePositionInCanvas(this.canvas,e),n=r(this.staveList,t);function r(e,t){for(var n=0;n<e.length;n++){var r=e[n].getBoundingBox();if(isCursorWithinRectangle(r.getX(),r.getY(),r.getW(),r.getH(),t.x,t.y)&&e[n].usable)return e[n]}return null}function s(e,t){var n=[];null!=e&&(n=e.getTickables());for(var r=0;r<n.length;r++)if(n[r]instanceof Vex.Flow.StaveNote){void 0!==n[r].setHighlight&&n[r].setHighlight(!1);var s=n[r].getBoundingBox(),i=e.getBoundingBox();if(isCursorWithinRectangle(s.getX(),i.getY(),s.getW(),i.getH(),t.x,t.y))return n[r]}return null}n&&this.handler.currentStave&&n!=this.handler.currentStave&&this.handler.redraw(),this.handler.currentStave=n,this.handler.currentNote=s(this.handler.currentStave,t),this.handler.updateProvisoryKey(t),null!=this.handler.currentNote&&(this.handler.currentNote.setHighlight(!0),this.handler.redraw())},Vex.UI.MouseListener.prototype.handleMouseClick=function(e){switch(e.button){case 0:this.handleLeftMouseClick(e);break;case 1:this.handleMiddleMouseClick(e);break;case 2:break;default:alert("You have a strange Mouse!")}},Vex.UI.MouseListener.prototype.handleMouseWheel=function(e){var t=Math.max(-1,Math.min(1,e.wheelDelta||e.deltaY));if(null!=this.handler.currentNote){var n=this.handler.currentNote.duration,r=void 0!==Vex.Flow.durationAliases[n];r&&(n=Vex.Flow.durationAliases[n]),t>0?n*=2:n/=2,n<1&&(n=1),n=""+n;var s=this.handler.currentNote.clone({duration:n});this.handler.currentStave.replaceTickable(this.handler.currentNote,s),this.handler.currentNote=s,this.handler.currentNote.setHighlight(!0),this.handler.redraw()}else if(null!=this.handler.provisoryTickable)if(this.handler.provisoryTickable instanceof Vex.Flow.StaveNote){n=this.handler.provisoryTickable.duration,r=void 0!==Vex.Flow.durationAliases[n];r&&(n=Vex.Flow.durationAliases[n]),t>0?n*=2:n/=2,n<1&&(n=1),n=""+n,this.handler.updateProvisoryDuration(n)}else if(this.handler.provisoryTickable instanceof Vex.Flow.BarNote){var i=(this.handler.provisoryTickable.type+5+t)%6+1;this.handler.provisoryTickable.setType(i),this.handler.drawProvisoryTickable()}else if(this.handler.provisoryTickable instanceof Vex.Flow.ClefNote){switch(this.handler.provisoryTickable.clefKey){case"treble":this.handler.provisoryTickable.clefKey="bass",this.handler.provisoryTickable.setClef("bass");break;case"bass":this.handler.provisoryTickable.clefKey="treble",this.handler.provisoryTickable.setClef("treble")}this.handler.drawProvisoryTickable()}},Vex.UI.MouseListener.prototype.handleLeftMouseClick=function(e){if(null!=this.handler.currentStave&&this.handler.currentStave.usable){var t=getMousePositionInCanvas(this.canvas,e);if(null==this.handler.currentNote){var n=getLastTickableBeforeXPosition(this.handler.currentStave,t.x),r=getFirstTickableAfterXPosition(this.handler.currentStave,t.x),s=this.handler.provisoryTickable.clone();this.handler.currentStave.insertTickableBetween(s,n,r),this.handler.redraw(!0)}else{var i=NoteMap.getNoteName(this.handler.currentStave,t),o=this.handler.currentNote.indexOfKey(i);if(-1==o){var a=this.handler.currentNote.keys;a.push(i);var l=this.handler.currentNote;s=l.clone({keys:a});this.handler.currentStave.replaceTickable(l,s),this.handler.currentNote=s,this.handler.redraw()}}}},Vex.UI.MouseListener.prototype.handleMiddleMouseClick=function(e){var t=this.handler.provisoryTickable,n=null;t instanceof Vex.Flow.StaveNote?n="n"==t.noteType?Vex.UI.TickableType.REST:Vex.UI.TickableType.BAR:t instanceof Vex.Flow.BarNote&&(n=Vex.UI.TickableType.NOTE),this.handler.updateProvisoryType(n)},Vex.UI.MouseListener.prototype.handleRightMouseClick=function(e){if(null!=this.handler.currentStave&&null!=this.handler.currentNote){var t=getMousePositionInCanvas(this.canvas,e),n=NoteMap.getNoteName(this.handler.currentStave,t);this.handler.openMenuForKey(n,t)}},Vex.Flow.Stave.prototype.tickables=[],Vex.Flow.Stave.prototype.beams=[],Vex.Flow.Stave.prototype.usable=!0,Vex.Flow.Stave.prototype.setTickables=function(e){this.tickables=e},Vex.Flow.Stave.prototype.getTickables=function(){return this.tickables},Vex.Flow.Stave.prototype.getNotes=function(){for(var e=[],t=0;t<this.tickables.length;t++){var n=this.tickables[t];n instanceof Vex.Flow.StaveNote&&e.push(n)}return e},Vex.Flow.Stave.prototype.insertTickableBetween=function(e,t,n){if(e instanceof Vex.Flow.ClefNote){if(this.getClefModifierIndex()<0)return void this.addClef(e.clefKey);if(null==t)return void this.replaceClef(e.clefKey);if(0==this.getNotes().length)return}else if(e instanceof Vex.Flow.BarNote){if(null==n)return void this.setEndBarType(e.type);if(0==this.getNotes().length)return}if(null==n)this.pushTickable(e);else{var r=this.tickables.indexOf(n);this.tickables.splice(r,0,e)}},Vex.Flow.Stave.prototype.getClefModifierIndex=function(){for(var e=0;e<this.modifiers.length;e++){var t=this.modifiers[e];if(t instanceof Vex.Flow.Clef)return e}return-1},Vex.Flow.Stave.prototype.replaceClef=function(e){var t=this.start_x;this.clef=e;new Vex.Flow.Clef(e);this.modifiers.splice(this.getClefModifierIndex(),1),this.glyphs=[],this.addClef(e),this.start_x=t},Vex.Flow.Stave.prototype.getPreviousTickable=function(e){var t=this.tickables.indexOf(e);return 0==t?null:this.tickables[t-1]},Vex.Flow.Stave.prototype.getNextTickable=function(e){var t=this.tickables.indexOf(e);return t==this.tickables.length-1?null:this.tickables[t+1]},Vex.Flow.Stave.prototype.getNextNote=function(e){var t=this.tickables.indexOf(e);while(t<this.tickables.length)if(t++,this.tickables[t]instanceof Vex.Flow.StaveNote)return this.tickables[t];return null},Vex.Flow.Stave.prototype.replaceTickable=function(e,t){if(null!=e.beam){var n=e.beam,r=n.tickables.indexOf(e);n.notes[r]=t}r=this.tickables.indexOf(e);this.tickables[r]=t},Vex.Flow.Stave.prototype.removeTickable=function(e){this.tickables.splice(this.tickables.indexOf(e),1)},Vex.Flow.Stave.prototype.pushTickable=function(e){this.tickables.push(e)},Vex.Flow.Stave.prototype.beams=[],Vex.Flow.Stave.prototype.setBeams=function(e){this.beams=e},Vex.Flow.Stave.prototype.getBeams=function(){return this.beams},Vex.Flow.Stave.prototype.pushBeam=function(e){this.beams.push(e)},Vex.Flow.StaveNote.prototype.indexOfKey=function(e){return this.keys.indexOf(e)},Vex.Flow.StaveNote.prototype.letter="R",Vex.Flow.StaveNote.prototype.getPlayEvents=function(e){for(var t=[],n=0;n<this.keys.length;n++)t.push(MIDI.keyToNote[this.keys[n].replace("/","")]);for(n=0;n<t.length;n++)t[n]+=Vex.UI.ClefOffsets[e.clef];var r=e.defaultTime/this.duration;for(n=0;n<this.modifiers.length;n++){var s=this.modifiers[n];if(s instanceof Vex.Flow.Accidental){var i;switch(s.type){case"bb":i=-2;break;case"b":i=-1;break;case"n":i=0;break;case"#":i=1;break;case"##":i=2;break}t[s.index]+=i}else s instanceof Vex.Flow.Dot&&(r*=1.5)}var o=[];return o.push({type:"channel",channel:0,subtype:1==t.length?"noteOn":"chordOn",noteNumber:1==t.length?t[0]:t,velocity:127,queuedTime:e.delay,note:this}),o.push({type:"channel",channel:0,subtype:1==t.length?"noteOff":"chordOff",noteNumber:1==t.length?t[0]:t,queuedTime:e.delay+r,note:this}),e.delay=e.delay+r,o},Vex.Flow.StaveNote.prototype.clone=function(e){var t={keys:this.keys,stem_direction:this.getStemDirection(),duration:this.duration,noteType:this.noteType},n=mergeProperties(t,e);n.duration=n.duration+n.noteType;var r=new Vex.Flow.StaveNote(n);r.setStyle(this.note_heads[0].style),null!=this.modifierContext&&null!=this.getDots()&&r.addDotToAll(),r.beam=this.beam;for(var s=0;s<this.modifiers.length;s++)this.modifiers[0]instanceof Vex.Flow.Accidental&&r.addAccidental(this.modifiers[s].index,new Vex.Flow.Accidental(this.modifiers[s].type));return r},Vex.Flow.StaveNote.prototype.setHighlight=function(e){e?this.setStyle(Vex.UI.highlightNoteStyle):this.setStyle(Vex.UI.defaultNoteStyle)},Vex.Flow.StaveNote.prototype.change=function(e){var t=new Array;for(var n in this.keys){var r=this.keys[n].split("/");r[0]=r[0].toUpperCase();var s=r[0].substring(0,1),i=r[0].substring(1),o=parseInt(r[1]),a=0;for(var l in NoteMap.noteMap)if(NoteMap.noteMap[l]==s){a=l;break}if("UP"==e)a++;else if("DOWN"==e)a--;else if("SHARP"==e){switch(i){case"":case null:case void 0:i="#";break;case"#":i="##";break}alert(i)}a==NoteMap.noteMap.length?(a=0,o++):a<0&&(a=NoteMap.noteMap.length-1,o--),s=NoteMap.noteMap[a],t.push(s+i+"/"+o)}var c=this.duration,u=this.noteType;if("PAUSE"==e){"n"==u?u="r":"r"==u&&(u="n"),c=Vex.Flow.parseNoteDurationString(this.duration);for(var d="",h=0;h<c.dots;h++)d+="d";c=c.duration+d+u}return this.clone({keys:t,duration:c})},Vex.Flow.StaveNote.prototype.drawFlag=function(){if(!this.context)throw new Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");var e=this.context,t=this.getGlyph(),n=null===this.beam,r=this.getNoteHeadBounds(),s=this.getNoteHeadBeginX(),i=this.getNoteHeadEndX();if(t.flag&&n){var o,a,l=this.stem.getHeight();this.getStemDirection()===Vex.Flow.Stem.DOWN?(o=s,a=r.y_top-l,t.code_flag_downstem):(o=i,a=r.y_bottom-l,t.code_flag_upstem);var c=e.fillStyle;e.fillStyle=this.note_heads[0].style.fillStyle,e.openGroup("flag",null,{pointerBBox:!0}),this.applyStyle(e,this.getFlagStyle()||!1),this.flag.render(e,o,a),this.restoreStyle(e,this.getFlagStyle()||!1),e.closeGroup(),e.fillStyle=c}},Vex.Flow.Dot.prototype.draw=function(){if(!this.context)throw new Vex.RERR("NoContext","Can't draw dot without a context.");if(!this.note||null==this.index)throw new Vex.RERR("NoAttachedNote","Can't draw dot without a note and index.");this.note.stave.options.spacing_between_lines_px;var e=this.note.getModifierStartXY(this.position,this.index);"tabnotes"===this.note.getCategory()&&(e.y=this.note.getStemExtents().baseY);var t=e.x+this.x_shift+this.width-this.radius,n=e.y+this.y_shift,r=this.context;r.beginPath(),r.arc(t,n,this.radius,0,2*Math.PI,!1),r.fill()},Vex.Flow.BarNote.prototype.clone=function(){var e=new Vex.Flow.BarNote;return e.setType(this.getType()),e.setStave(this.getStave()),e.setTickContext(this.getTickContext()),e},Vex.Flow.BarNote.prototype.getPlayEvents=function(e,t){var n=[];function r(){e.beginRepeatIndex=t.length+n.length}function s(){for(var r=e.beginRepeatIndex||0;r<t.length;r++)n.push(t[r])}switch(this.type){case Vex.Flow.Barline.type.REPEAT_BEGIN:r();break;case Vex.Flow.Barline.type.REPEAT_END:s();break;case Vex.Flow.Barline.type.REPEAT_BOTH:s(),r();break}return n},Vex.Flow.ClefNote.prototype.clone=function(){var e=new Vex.Flow.ClefNote(this.clefKey);return e.clefKey=this.clefKey,e.setTickContext(new Vex.Flow.TickContext),e.getTickContext().setX(this.getTickContext().getX()),e},Vex.Flow.ClefNote.prototype.getPlayEvents=function(e){return e.clef=this.clefKey,[]},Vex.UI.NoteMap=function(){this.noteMap=["C","D","E","F","G","A","B"]},Vex.UI.NoteMap.prototype.getNoteName=function(e,t){var n=t.y-e.getBoundingBox().getY(),r=Math.round(n/(e.options.spacing_between_lines_px/2));return this.toNoteName(r,e)},Vex.UI.NoteMap.prototype.toNoteName=function(e,t){var n=this.getBaseNote(t),r=this.noteMap.indexOf(n.note),s=(r-e)%7;while(s<0)s+=7;var i=n.octave-Math.floor(e/7);return 5!=s&&6!=s||i--,this.noteMap[s]+"/"+i},Vex.UI.NoteMap.prototype.getBaseNote=function(e){return{note:"G",octave:6}};var NoteMap=new Vex.UI.NoteMap;Vex.UI.TipRenderer=function(e){this.canvas=e,this.color=null,this.fontSize=null,this.fontName=null,this.style=null,this.context=null,this.lineWidth=null,this.textAlign=null,this.textBaseline=null,this.boundingBox=null,this.showingTip=null,this.backgroundColor=null},Vex.UI.TipRenderer.prototype.init=function(){this.textAlign="left",this.textBaseline="middle",this.color="black",this.fontName="Calibri",this.lineWidth=1,this.style="normal",this.fontSize=10,this.boundingBox={x:0,y:0,width:200,height:20},this.context=this.canvas.getContext("2d"),this.showingTip=!1,this.backgroundColor="white"},Vex.UI.TipRenderer.prototype.showTip=function(e){this.showingTip&&this.hideTip();var t=this.style+" "+this.fontSize+"pt "+this.fontName;this.context.font=t,this.context.fillStyle=this.color,this.context.textAlign=this.textAlign,this.context.lineWidth=this.lineWidth,this.context.textBaseline=this.textBaseline,this.context.fillText(e,this.boundingBox.x,this.boundingBox.y),this.showingTip=!0},Vex.UI.TipRenderer.prototype.hideTip=function(){this.context.beginPath(),this.context.rect(this.boundingBox.x,this.boundingBox.y-5,this.boundingBox.width,this.boundingBox.height+10),this.context.fillStyle=this.backgroundColor,this.context.fill(),this.showingTip=!1},Vex.UI.NoteMenuButtonRenderer=function(e,t){this.ready=!1;var n=this;this.menuButtonsImg=new Image,this.menuButtonsImg.src="https://cdn.jsdelivr.net/gh/R-D-D-D/Ground-Zero/web_frontend/src/resources/noteMenuButtons.gif",this.menuButtonsImg.onload=function(){n.ready=!0}},Vex.UI.NoteMenuButtonRenderer.prototype.closeButton=function(){var e=this.panel,t=this.context,n=5,r=4,s=15,i=e.rightX-s-n,o=e.y+n;return t.beginPath(),t.rect(i,o,s,s),t.fillStyle="red",t.fill(),t.beginPath(),t.lineWidth=3,t.moveTo(i+r,o+r),t.lineTo(i+s-r,o+s-r),t.moveTo(i+r,o+s-r),t.lineTo(i+s-r,o+r),t.strokeStyle="white",t.stroke(),new Vex.UI.Button({backgroundColor:"red",width:s,height:s,x:i,y:o,rightX:i+s,bottomY:o+s,name:"closeButton",action:"close",tip:"Close the menu"})},Vex.UI.NoteMenuButtonRenderer.prototype.closeButton=function(){var e=this.panel,t=this.context,n=5,r=4,s=15,i=e.rightX-s-n,o=e.y+n;return t.beginPath(),t.rect(i,o,s,s),t.fillStyle="red",t.fill(),t.beginPath(),t.lineWidth=3,t.moveTo(i+r,o+r),t.lineTo(i+s-r,o+s-r),t.moveTo(i+r,o+s-r),t.lineTo(i+s-r,o+r),t.strokeStyle="white",t.stroke(),new Vex.UI.Button({backgroundColor:"red",width:s,height:s,x:i,y:o,rightX:i+s,bottomY:o+s,name:"closeButton",action:"close",tip:"Close the menu"})},Vex.UI.NoteMenuButtonRenderer.prototype.accidentalButton=function(e){var t=this.panel,n=this.context,r=this.menuButtonsImg,s=[400,100,200,0,300],i=["addDoubleFlat","addFlat","addNatural","addSharp","addDoubleSharp"],o=["Add double flat to key","Add flat to key","Add natural to key","Add sharp to key","Add double sharp to key"],a=10,l=5,c=10,u=s[e],d=0,h=100,p=100,v=25,_=v,m=t.x+a+e*(l+v),f=t.y+c;return n.drawImage(r,u,d,h,p,m,f,v,_),new Vex.UI.Button({backgroundColor:"white",x:m,y:f,rightX:m+v,bottomY:f+_,width:v,height:_,action:i[e],tip:o[e]})},Vex.UI.NoteMenuButtonRenderer.prototype.dotButton=function(){var e=this.panel,t=this.context,n=this.menuButtonsImg,r=700,s=10,i=10,o=r,a=0,l=100,c=100,u=25,d=u,h=e.x+s,p=e.y+2*i+d;return t.drawImage(n,o,a,l,c,h,p,u,d),new Vex.UI.Button({backgroundColor:"white",x:h,y:p,rightX:h+u,bottomY:p+d,width:u,height:d,action:"addDot",tip:"Add dot to key"})},Vex.UI.NoteMenuButtonRenderer.prototype.beamButton=function(){var e=this.panel,t=this.context,n=this.menuButtonsImg,r=500,s=10,i=5,o=10,a=r,l=0,c=100,u=100,d=25,h=d,p=e.x+s+(i+d),v=e.y+2*o+h;return t.drawImage(n,a,l,c,u,p,v,d,h),new Vex.UI.Button({backgroundColor:"white",x:p,y:v,rightX:p+d,bottomY:v+h,width:d,height:h,action:"addBeam",tip:"Beam with next note"})},Vex.UI.NoteMenuButtonRenderer.prototype.deleteButton=function(){var e=this.panel,t=this.context,n=this.menuButtonsImg,r=800,s=10,i=5,o=10,a=r,l=0,c=100,u=100,d=25,h=d,p=e.x+s+3*(i+d),v=e.y+2*o+h;return t.drawImage(n,a,l,c,u,p,v,d,h),new Vex.UI.Button({backgroundColor:"white",x:p,y:v,rightX:p+d,bottomY:v+h,width:d,height:h,action:"deleteNote",tip:"Remove key"})},Vex.UI.NoteMenuButtonRenderer.prototype.tieButton=function(){var e=this.panel,t=this.context,n=this.menuButtonsImg,r=600,s=10,i=5,o=10,a=r,l=0,c=100,u=100,d=25,h=d,p=e.x+s+2*(i+d),v=e.y+2*o+h;return t.drawImage(n,a,l,c,u,p,v,d,h),new Vex.UI.Button({backgroundColor:"white",x:p,y:v,rightX:p+d,bottomY:v+h,width:d,height:h,action:"addTie",tip:"Tie with next note"})},Vex.UI.Button=function(e){this.props=e},Vex.UI.Button.prototype.highlight=function(e,t,n){null==t&&(t=n.props.backgroundColor);var r=4,s=e.getContext("2d");s.beginPath(),s.lineWidth=r,s.rect(n.props.x,n.props.y,n.props.width,n.props.height),s.strokeStyle=t,s.stroke()},Vex.UI.Button.prototype.showTip=function(){},Vex.UI.Button.prototype.callAction=function(e){e[this.props.action]()},Vex.UI.TickableType={NOTE:"note",REST:"rest",BAR:"bar",CLEF:"clef"},__webpack_exports__["a"]=Vex.UI},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("page-header"),n("v-main",[n("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[n("router-view")],1)],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(" "+e._s(e.msg)+" ")])])},a=[],l={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},c=l,u=(n("027b"),n("2877")),d=Object(u["a"])(c,o,a,!1,null,"0f42bf65",null),h=d.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"nav"}},[n("v-app-bar",{attrs:{dark:"",color:"indigo",app:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}),n("v-toolbar-title",[e._v("Rhythm Academy")]),n("v-spacer"),e.$store.state.isUserLoggedIn?e._e():n("v-toolbar-items",[n("v-btn",{attrs:{depressed:"",to:"/register",color:"indigo"}},[e._v("Register")]),n("v-btn",{attrs:{depressed:"",to:"/login",color:"indigo"}},[e._v("Log In")])],1),e.$store.state.isUserLoggedIn?n("v-toolbar-items",[e.$store.state.user.isStudent?n("v-btn",{attrs:{depressed:"",to:"/student",color:"indigo"}},[e._v("Lessons")]):e._e(),e.$store.state.user.isStudent?n("v-btn",{attrs:{depressed:"",color:"indigo"},on:{click:e.browseAllTutors}},[e._v("All Tutors")]):e._e(),n("v-btn",{attrs:{depressed:"",color:"indigo"},on:{click:e.logout}},[e._v("Log Out")])],1):e._e()],1),n("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.$store.state.isUserLoggedIn?n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item-group",{attrs:{"active-class":"text--accent-4"}},[n("v-list-item",{attrs:{to:"/home"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-title",[e._v("Home")])],1),e.$store.state.user.isStudent?n("v-list-item",{attrs:{to:"/student"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-playlist-music")])],1),n("v-list-item-title",[e._v("Lessons")])],1):e._e(),e.$store.state.user.isStudent?n("v-list-item",{on:{click:e.browseAllTutors}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-account")])],1),n("v-list-item-title",[e._v("All Tutors")])],1):e._e(),e.$store.state.user.isTutor?n("v-list-item",{on:{click:e.go_to_lessons}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-notebook-outline")])],1),n("v-list-item-title",[e._v("Lessons")])],1):e._e(),e.$store.state.isUserLoggedIn?n("v-list-item",{on:{click:e.logout}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-logout")])],1),n("v-list-item-title",[e._v("Log Out")])],1):e._e()],1)],1):n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item-group",{attrs:{"active-class":"text--accent-4"}},[n("v-list-item",{attrs:{to:"/home"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-title",[e._v("Home")])],1),e.$store.state.isUserLoggedIn?e._e():n("v-list-item",{attrs:{to:"/register"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-account")])],1),n("v-list-item-title",[e._v("Register")])],1),e.$store.state.isUserLoggedIn?e._e():n("v-list-item",{attrs:{to:"/login"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-account")])],1),n("v-list-item-title",[e._v("Log In")])],1)],1)],1)],1)],1)},v=[],_=(n("96cf"),n("1da1")),m={name:"Header",data:function(){return{drawer:!1}},methods:{logout:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push("/")},browseAllTutors:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.$store.state.allTutors.length){t.next=3;break}return t.next=3,e.$store.dispatch("getAllTutors");case 3:e.$router.push("/tutor/index");case 4:case"end":return t.stop()}}),t)})))()},go_to_lessons:function(){this.$router.push("/lesson/index/".concat(this.$store.state.user.id))}}},f=m,b=n("6544"),g=n.n(b),y=n("40dc"),x=n("5bc1"),w=n("8336"),k=n("132d"),T=n("8860"),V=n("da13"),S=n("1baa"),I=n("34c3"),M=n("5d23"),N=n("f774"),C=n("2fa4"),R=n("2a7f"),L=Object(u["a"])(f,p,v,!1,null,null,null),B=L.exports;g()(L,{VAppBar:y["a"],VAppBarNavIcon:x["a"],VBtn:w["a"],VIcon:k["a"],VList:T["a"],VListItem:V["a"],VListItemGroup:S["a"],VListItemIcon:I["a"],VListItemTitle:M["b"],VNavigationDrawer:N["a"],VSpacer:C["a"],VToolbarItems:R["a"],VToolbarTitle:R["b"]});var E={name:"App",components:{helloworld:h,"page-header":B},data:function(){return{}}},O=E,U=(n("034f"),n("7496")),P=n("a523"),D=n("f6c4"),F=Object(u["a"])(O,s,i,!1,null,null,null),A=F.exports;g()(F,{VApp:U["a"],VContainer:P["a"],VMain:D["a"]});var j=n("8c4f"),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"register"}},[n("panel",{attrs:{title:"Register"}},[n("v-card-text",[n("v-form",{ref:"form"},[n("v-text-field",{attrs:{label:"Username",name:"username","prepend-icon":"mdi-account",type:"text",rules:e.nameRules},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}},[n("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-account",type:"text",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-radio-group",{attrs:{row:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},[n("v-radio",{attrs:{label:"Student",value:"Student",color:"indigo"}}),n("v-radio",{attrs:{label:"Tutor",value:"Tutor",color:"indigo"}})],1),n("v-spacer"),n("v-btn",{staticClass:"mt-5",attrs:{loading:e.loading},on:{click:e.register}},[e._v("Register")]),n("v-spacer")],1)],1)],1),n("v-card-text",[n("div",{staticClass:"error",domProps:{innerHTML:e._s(e.error)}},[e._v(e._s(e.error))])])],1)],1)},W=[],q=(n("4d63"),n("ac1f"),n("25f0"),n("bc3a")),K=n.n(q),H=function(){return K.a.create({baseURL:"/api/"})},X={register:function(e){return H().post("register",e)},login:function(e){return H().post("login",e)}},Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"panel"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"10",md:"6"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{light:""}},[n("v-toolbar-title",{staticClass:"text-h4"},[e._v(e._s(e.title))]),n("v-spacer")],1),e._t("default",[e._v("No slot defined")])],2)],1)],1)],1)},G=[],z={name:"Panel",props:["title"]},Z=z,J=n("b0af"),Q=n("62ad"),ee=n("0fd9"),te=n("71d9"),ne=Object(u["a"])(Z,Y,G,!1,null,"035e563a",null),re=ne.exports;g()(ne,{VCard:J["a"],VCol:Q["a"],VRow:ee["a"],VSpacer:C["a"],VToolbar:te["a"],VToolbarTitle:R["b"]});var se={name:"Register",components:{panel:re},data:function(){return{username:"",nameRules:[function(e){return!!e||"Username is required"},function(e){return new RegExp("^[a-zA-Z0-9]{1,32}$").test(e)||"Name must be alphanumeric characters and of length 8 - 32"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return new RegExp("^[a-zA-Z0-9]{8,32}$").test(e)||"Password must be alphanumeric characters and of length 8 - 32"}],error:null,loading:!1,role:""}},methods:{register:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.error="",e.loading=!0,t.prev=4,t.next=7,X.register({username:e.username,email:e.email,password:e.password,role:e.role});case 7:n=t.sent,console.log(n.data),e.loading=!1,e.$store.dispatch("setToken",n.data.token),e.$store.dispatch("setUser",n.data.user),e.$router.push("/"),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](4),e.error=t.t0.response.data.error,e.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[4,15]])})))()}}},ie=se,oe=n("99d9"),ae=n("4bd4"),le=n("67b6"),ce=n("43a6"),ue=n("8654"),de=Object(u["a"])(ie,$,W,!1,null,"05892ff6",null),he=de.exports;g()(de,{VBtn:w["a"],VCardText:oe["b"],VForm:ae["a"],VRadio:le["a"],VRadioGroup:ce["a"],VSpacer:C["a"],VTextField:ue["a"]});var pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"student"}},[n("panel",{attrs:{title:"Lessons By"}},[n("v-list",e._l(e.subscribedTutors,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.go_to_lessons(n,t)}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.username)}})],1),n("v-list-item-avatar",[n("v-img",{attrs:{src:e.avatar}})],1)],1)})),1)],1)],1)},ve=[],_e=n("5530"),me=n("2f62"),fe={name:"Student",data:function(){return{avatar:"https://cdn.vuetifyjs.com/images/lists/2.jpg"}},components:{panel:re},computed:Object(_e["a"])({},Object(me["b"])(["user","subscribedTutors"])),methods:{go_to_lessons:function(e,t){var n=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t.lessons){e.next=3;break}return e.next=3,n.$store.dispatch("getLessonsForStudent",t);case 3:n.$router.push("/lesson/index/".concat(t.id));case 4:case"end":return e.stop()}}),e)})))()}}},be=fe,ge=n("adda"),ye=n("8270"),xe=Object(u["a"])(be,pe,ve,!1,null,"04f99ef2",null),we=xe.exports;g()(xe,{VImg:ge["a"],VList:T["a"],VListItem:V["a"],VListItemAvatar:ye["a"],VListItemContent:M["a"],VListItemTitle:M["b"]});var ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("panel",{attrs:{title:"Log In"}},[n("v-card-text",[n("v-form",{ref:"form"},[n("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-account",type:"text",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-spacer"),n("v-btn",{staticClass:"mt-5",attrs:{loading:e.loading},on:{click:e.login}},[e._v("Log In")]),n("v-spacer")],1)],1),n("v-card-text",[n("div",{staticClass:"error",domProps:{innerHTML:e._s(e.error)}},[e._v(e._s(e.error))])])],1)],1)},Te=[],Ve={name:"LogIn",components:{panel:re},data:function(){return{email:"testing@gmail.com",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:"12345678",passwordRules:[function(e){return!!e||"Password is required"}],error:null,loading:!1}},methods:{login:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return e.error="",e.loading=!0,t.prev=4,t.next=7,X.login({email:e.email,password:e.password});case 7:n=t.sent,e.loading=!1,e.$store.dispatch("setToken",n.data.token),e.$store.dispatch("setUser",n.data.user),n.data.user.isStudent?e.$store.dispatch("getTutorsOfStudent",n.data.user.id):e.$store.dispatch("getLessons",n.data.user.id),e.$router.push({name:"home"}),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](4),e.error=t.t0.response.data.error,e.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[4,15]])})))()}}},Se=Ve,Ie=Object(u["a"])(Se,ke,Te,!1,null,"13f0db2f",null),Me=Ie.exports;g()(Ie,{VBtn:w["a"],VCardText:oe["b"],VForm:ae["a"],VSpacer:C["a"],VTextField:ue["a"]});var Ne,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"show-lesson"},on:{click:function(t){return e.disable_title_edit(t)}}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"p-0",attrs:{cols:"9","background-color":"grey lighten-3"}},[n("v-sheet",{attrs:{color:"grey lighten-4",height:e.height,dark:""}},[n("div",{attrs:{id:"vexflow-wrapper"},on:{click:e.enable_save_btn}}),e.is_student?n("v-row",[n("v-col",[n("v-btn",{staticClass:"mt-5",attrs:{"x-large":"",light:"",loading:e.save_btn_loading},on:{click:function(t){return e.$emit("play_sequence")}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-play-outline")]),e._v("Play Rhythm")],1)],1)],1):n("v-row",[n("v-col",[n("v-btn",{staticClass:"mt-5",attrs:{"x-large":"",light:"",disabled:e.disable,loading:e.save_btn_loading},on:{click:e.update_rhythms}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-content-save-all-outline")]),e._v("Save Rhythm")],1)],1)],1),n("v-row",[n("v-col",[n("v-btn",{staticClass:"mt-5 record",attrs:{"x-large":"",light:""},on:{click:function(e){}}},[n("v-icon",{attrs:{left:"",dark:"",color:"red darken-3"}},[e._v("mdi-circle-slice-8")]),e._v("Record")],1),n("v-btn",{staticClass:"mt-5 stop",attrs:{"x-large":"",light:""}},[n("v-icon",{attrs:{left:"",dark:"",color:"red darken-3"}},[e._v("mdi-stop-circle-outline")]),e._v("Stop")],1)],1)],1)],1)],1),n("v-col",{staticClass:"p-0",attrs:{cols:"3"}},[n("v-card",{staticClass:"elevation-12 pa-0",attrs:{height:e.height}},[e.lesson?n("v-toolbar",{attrs:{light:""}},[n("v-toolbar-title",{staticClass:"text-h4"},[e._v(e._s(e.lesson.name))]),n("v-spacer")],1):e._e(),n("v-card-text",{staticClass:"py-0",class:{"rhythm-list-half":!e.is_student,"rhythm-list-full":e.is_student}},[e.lesson?n("v-list",e._l(e.lesson.rhythms,(function(t){return n("v-list-item",{key:t.id,attrs:{active:""},on:{click:function(n){return e.display_rhythm(n,t)},dblclick:e.edit_rhythm_title}},[n("v-list-item-icon",[e.active_rhythm==t?n("v-icon",{attrs:{color:"pink"}},[e._v("mdi-star")]):n("v-icon",[e._v("mdi-star")])],1),n("v-list-item-content",[e.title_editable&&t==e.active_rhythm?n("v-text-field",{staticClass:"py-0",attrs:{id:"title_edit",type:"text",required:"",rules:e.nameRules},on:{input:e.enable_save_btn},model:{value:e.active_rhythm_title,callback:function(t){e.active_rhythm_title=t},expression:"active_rhythm_title"}}):n("v-list-item-title",{staticClass:"text-left text-h5",domProps:{textContent:e._s(t.title)}})],1),e.is_student?e._e():n("v-list-item-icon",[n("v-btn",{staticClass:"delete_btn"},[n("v-icon",{attrs:{color:"indigo"},on:{click:function(e){}}},[e._v("mdi-trash-can-outline")])],1)],1)],1)})),1):e._e()],1),e.is_student?e._e():n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"mt-3",attrs:{id:"add_btn",outlined:"",color:"indigo"},on:{click:e.open_dialogue}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-plus-thick")]),e._v(" Add Rhythm")],1),n("v-spacer")],1),e.is_student?e._e():n("v-toolbar",{attrs:{light:"",flat:""}},[n("v-toolbar-title",[e._v("Current Rhythm")]),n("v-spacer")],1),e.is_student?e._e():n("v-card-text",[n("v-select",{staticClass:"pt-0",attrs:{items:e.time_signatures,label:"Time Signature"},on:{change:function(t){return e.$emit("change_time_signature")},click:e.enable_save_btn},model:{value:e.time_signature,callback:function(t){e.time_signature=t},expression:"time_signature"}}),n("v-slider",{attrs:{min:"0",max:"4",label:e.bars_label},on:{change:function(t){return e.$emit("change_bars")},click:e.enable_save_btn},model:{value:e.no_bars,callback:function(t){e.no_bars=t},expression:"no_bars"}}),n("v-slider",{attrs:{min:"60",max:"120",label:e.bpm_label},on:{click:e.enable_save_btn},model:{value:e.bpm,callback:function(t){e.bpm=t},expression:"bpm"}})],1)],1)],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(e){e.on,e.attrs}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Rhythm Details")])]),n("v-card-text",{staticClass:"py-0"},[n("v-form",{ref:"form"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{type:"text",label:"Rhythm name*",required:"",rules:e.nameRules},model:{value:e.active_rhythm_title,callback:function(t){e.active_rhythm_title=t},expression:"active_rhythm_title"}})],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.add_btn_loading},on:{click:e.add_rhythm}},[e._v("Save")])],1),e.error?n("v-card-text",[n("p",[e._v(e._s(e.error)+" ")])]):e._e()],1)],1)],1)],1)},Re=[],Le=(n("c975"),n("a434"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("4160"),n("caad"),n("90d7"),n("2532"),n("5319"),n("1276"),n("159b"),n("ade3")),Be=n("8cc4"),Ee=n.n(Be),Oe=(Ne={lowPass:new Ee.a.Filter({frequency:11e3}),noise:new Ee.a.NoiseSynth({volume:-12,noise:{type:"pink",playbackRate:3},envelope:{attack:.001,decay:.13,sustain:0,release:.03}}),poly:new Ee.a.PolySynth(6,Ee.a.Synth,{volume:-10,oscillator:{partials:[0,2,3,4]},envelope:{attack:.001,decay:.17,sustain:0,release:.05}}),freqEnv:[],started:!1,player:null},Object(Le["a"])(Ne,"started",!1),Object(Le["a"])(Ne,"initiated",!1),Object(Le["a"])(Ne,"idx",0),Object(Le["a"])(Ne,"notesToEvents",(function(e){var t=[],n=0;return e.forEach((function(e){var r=e.split("/")[2],s=!1,i=!1;(r.includes("d")||r.includes("r"))&&(r.includes("r")&&(r=r.replace("r",""),s=!0),r.includes("d")&&(r=r.replace("d",""),i=!0)),r+="n",i&&(r+="."),s||t.push(n),n+=Ee.a.Time(r)})),t})),Object(Le["a"])(Ne,"init",(function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initiated){t.next=2;break}return t.abrupt("return");case 2:if(e.initiated=!0,e.poly.voices.forEach((function(t,n){var r=new Ee.a.FrequencyEnvelope({attack:.001,decay:.08,release:.08,baseFrequency:Ee.a.Frequency("A4"),octaves:Math.log2(13),releaseCurve:"exponential",exponent:3.5});r.connect(t.oscillator.frequency),e.freqEnv[n]=r})),e.noise.connect(e.lowPass),e.lowPass.toMaster(),e.poly.toMaster(),null!=e.player){t.next=12;break}return e.player=new Ee.a.Player,t.next=11,e.player.load("https://cdn.jsdelivr.net/gh/R-D-D-D/Ground-Zero/web_frontend/src/resources/metronome_click.mp3");case 11:e.player.toMaster();case 12:case"end":return t.stop()}}),t)})))()})),Object(Le["a"])(Ne,"playSequence",(function(e,t,n,r,s){this.createAndRecordSequence(e,t,n,r,void 0,!0,s)})),Object(Le["a"])(Ne,"createAndRecordSequence",(function(e,t,n,r,s,i,o){var a=this;if(!this.started&&0!=r){this.started=!0,Ee.a.Transport.bpm.value=parseInt(t),this.notesToEvents([]);var l=e.split("/");Ee.a.Transport.timeSignature=[parseInt(l[0]),parseInt(l[1])],Ee.a.Context.latencyHint="fastest";var c=new Ee.a.Part((function(e){a.poly.voices.forEach((function(t,n){a.freqEnv[n].triggerAttackRelease("16n",e),t.envelope.triggerAttackRelease("16n",e)})),a.noise.triggerAttackRelease("16n",e)}),this.notesToEvents(n));c.start("1m"),c.loop=r;var u=r+"m";if(Ee.a.Transport.scheduleRepeat((function(){a.player.restart()}),"4n","0m"),i)Ee.a.Transport.schedule((function(e){console.log("stopped"),Ee.a.Transport.stop(),Ee.a.Transport.cancel(0),a.started=!1,a.idx=0}),u),Ee.a.Transport.start();else{var d=Ee.a.context,h=d.createMediaStreamDestination(),p=new MediaRecorder(h.stream);this.lowPass.connect(h),this.poly.connect(h),this.player.connect(h);var v=[];p.ondataavailable=function(e){return v.push(e.data)},p.onstop=function(e){var t=new Blob(v,{type:"audio/ogg; codecs=opus"});s.src=URL.createObjectURL(t)},Ee.a.Transport.schedule((function(e){p.stop(),console.log("stopped"),Ee.a.Transport.stop(),Ee.a.Transport.cancel(0),a.started=!1,a.idx=0}),u),p.start(),Ee.a.Transport.start()}}})),Ne),Ue=n("359f"),Pe=(n("a15b"),n("d81d"),n("b0c0"),n("2909")),De={generateRhythmString:function(e){return void 0!=e?e.id.toString()+"&"+e.title+"&"+e.timeSignature+"&"+e.noOfBars.toString()+"&"+e.bpm.toString()+"&"+e.rhythm.join("-"):""},generateRhythmsString:function(e){for(var t="",n=0;n<e.length;n++)n==e.length-1?t+=this.generateRhythmString(e[n]):t+=this.generateRhythmString(e[n])+"$";return t},parseRhythmString:function(e){var t=e.split("&"),n={id:parseInt(t[0]),title:t[1],timeSignature:t[2],noOfBars:t[3],bpm:t[4],rhythm:t[5]?t[5].split("-"):[]};return n},parseRhythmsString:function(e){var t=this;if(0==e.length)return[];var n=e.split("$").map((function(e){return t.parseRhythmString(e)}));return n},cloneRhythms:function(e){for(var t=[],n=0;n<e.length;n++){var r={};r.id=e[n].id,r.title=e[n].title,r.timeSignature=e[n].timeSignature,r.noOfBars=e[n].noOfBars,r.bpm=e[n].bpm,r.rhythm=Object(Pe["a"])(e[n].rhythm),t.push(r)}return t},cloneLesson:function(e){return{id:e.id,name:e.name,TutorId:e.TutorId,rhythms:this.cloneRhythms(e.rhythms),date:e.date}}},Fe={name:"ShowLesson",data:function(){return{height:"100vh",no_bars:4,bpm:60,time_signatures:["4/4","3/4","2/4","3/8","6/8"],time_signature:"4/4",bars_label:"No. Bars: 4",bpm_label:"BPM: 60",handler:{},disable:!0,active_rhythm:null,active_rhythm_title:"",title_editable:!1,save_btn_loading:!1,add_btn_loading:!1,nameRules:[function(e){return!!e||"Title is required"}],dialog:!1,error:null,recording:!1}},components:{panel:re},computed:Object(_e["a"])({lesson:function(){return this.user.isStudent?this.$store.getters.lessonFromSubscribedTutors(this.$route.params.tutor_id,this.$route.params.lesson_id):this.$store.getters.lesson(this.$route.params.lesson_id)},tutor:function(){return this.user.isStudent?this.$store.getters.tutorFromSubscribedTutors:null},is_student:function(){return this.user.isStudent}},Object(me["b"])(["user","students","subscribedTutors","lessons"])),watch:{bpm:function(e){this.bpm_label="BPM: "+e},no_bars:function(e){this.bars_label="No. Bars: "+e}},methods:{alert:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){alert("testing")})),display_rhythm:function(e,t){var n=this;return Object(_["a"])(regeneratorRuntime.mark((function r(){var s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=18;break}if(!e.target||!e.target.nodeName||"BUTTON"!=e.target.nodeName){r.next=18;break}return confirm("Are you sure you want to delete?"),s=n.lesson.rhythms.indexOf(t),i=De.cloneLesson(n.lesson),i.rhythms.splice(s,1),console.log(i),i.rhythms=De.generateRhythmsString(i.rhythms),r.prev=8,r.next=11,n.$store.dispatch("editRhythm",{lesson:n.lesson,newLesson:i});case 11:return r.abrupt("return");case 14:return r.prev=14,r.t0=r["catch"](8),console.log(r.t0),r.abrupt("return");case 18:n.active_rhythm=t,n.active_rhythm_title=t.title,n.disable=!0,n.no_bars=t.noOfBars,n.handler.changeBars(n.no_bars),n.time_signature=t.timeSignature,n.handler.setTimeSignature(n.time_signature),n.bpm=t.bpm,n.handler.importNotes(t.rhythm,n.time_signature);case 27:case"end":return r.stop()}}),r,null,[[8,14]])})))()},enable_save_btn:function(){this.disable=!1},edit_rhythm_title:function(){this.title_editable=!0},update_rhythms:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.save_btn_loading=!0,n=e.lesson.rhythms.indexOf(e.active_rhythm),r={id:e.active_rhythm.id,title:e.active_rhythm_title,timeSignature:e.time_signature,noOfBars:e.no_bars,bpm:e.bpm,rhythm:e.handler.exportNotes()},s=De.cloneLesson(e.lesson),s.rhythms[n]=r,s.rhythms=De.generateRhythmsString(s.rhythms),t.next=8,e.$store.dispatch("editRhythm",{lesson:e.lesson,newLesson:s});case 8:e.save_btn_loading=!1,e.display_rhythm({},e.lesson.rhythms[n]);case 10:case"end":return t.stop()}}),t)})))()},disable_title_edit:function(e){"title_edit"!=e.target.id&&(this.title_editable=!1)},add_rhythm:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=11;break}return e.add_btn_loading=!0,n={id:e.lesson.rhythms.length>0?e.lesson.rhythms[e.lesson.rhythms.length-1].id+1:1,title:e.active_rhythm_title,timeSignature:e.time_signature,noOfBars:e.no_bars,bpm:e.bpm,rhythm:[]},r=De.cloneLesson(e.lesson),r.rhythms.push(n),r.rhythms=De.generateRhythmsString(r.rhythms),t.next=8,e.$store.dispatch("editRhythm",{lesson:e.lesson,newLesson:r});case 8:e.display_rhythm({},e.lesson.rhythms[e.lesson.rhythms.length-1]),e.add_btn_loading=!1,e.dialog=!1;case 11:case"end":return t.stop()}}),t)})))()},open_dialogue:function(){this.dialog=!0},record:function(){var e=document.querySelector(".record"),t=document.querySelector(".stop"),n=document.querySelector(".sound-clips");document.querySelector(".main-controls");if(t.disabled=!0,navigator.mediaDevices.getUserMedia){console.log("getUserMedia supported.");var r={audio:!0},s=[],i=function(r){var i=new MediaRecorder(r);e.onclick=function(){i.start(),console.log(i.state),console.log("recorder started"),e.style.background="red",t.disabled=!1,e.disabled=!0},t.onclick=function(){i.stop(),console.log(i.state),console.log("recorder stopped"),e.style.background="",e.style.color="",t.disabled=!0,e.disabled=!1},i.onstop=function(e){console.log("data available after MediaRecorder.stop() called.");var t=prompt("Enter a name for your sound clip?","My unnamed clip"),r=document.createElement("div"),i=document.createElement("p"),o=document.createElement("audio"),a=document.createElement("button"),l=document.createElement("img");r.classList.add("clip","col-12","text-center"),a.classList.add("btn","btn-outline-light"),i.classList.add("text-light"),o.setAttribute("controls",""),a.textContent="Delete",l.src="resources/comparison.png",l.classList.add("col-12","mt-2"),i.textContent=null===t?"My unnamed clip":t,r.appendChild(o),r.appendChild(i),r.appendChild(a),n.appendChild(r),n.appendChild(l),o.controls=!0;var c=new Blob(s,{type:"audio/ogg; codecs=opus"});s=[];var u=window.URL.createObjectURL(c);o.src=u,console.log("recorder stopped"),a.onclick=function(e){var t=e.target;t.parentNode.parentNode.removeChild(t.parentNode.parentNode.childNodes[0])},i.onclick=function(){var e=i.textContent,t=prompt("Enter a new name for your sound clip?");i.textContent=null===t?e:t}},i.ondataavailable=function(e){s.push(e.data)}},o=function(e){console.log("The following error occured: "+e)};navigator.mediaDevices.getUserMedia(r).then(i,o)}else console.log("getUserMedia not supported on your browser!")}},mounted:function(){var e=this;this.handler=new Ue["a"].Handler("vexflow-wrapper").init(),this.$on("play_and_record_sequence",(function(){var t=document.getElementById("solution-audio");Oe.init(),Oe.createAndRecordSequence(e.time_signature,60,e.handler.exportNotes(),2,t),Oe.createAndRecordSequence(e.time_signature,e.bpm,e.handler.exportNotes(),parseInt(e.num_of_bars)+1,t,!1,e.handler)})),this.$on("play_sequence",(function(){Oe.init(),console.log(e.handler.exportNotes()),Oe.playSequence(e.time_signature,e.bpm,e.handler.exportNotes(),parseInt(e.no_bars)+1,e.handler)})),this.$on("change_time_signature",(function(){e.handler.setTimeSignature(e.time_signature)})),this.$on("change_bars",(function(){e.handler.changeBars(e.no_bars)}))}},Ae=Fe,je=(n("64ae"),n("169a")),$e=n("b974"),We=n("8dd9"),qe=n("ba0d"),Ke=Object(u["a"])(Ae,Ce,Re,!1,null,null,null),He=Ke.exports;g()(Ke,{VBtn:w["a"],VCard:J["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:oe["c"],VCol:Q["a"],VContainer:P["a"],VDialog:je["a"],VForm:ae["a"],VIcon:k["a"],VList:T["a"],VListItem:V["a"],VListItemContent:M["a"],VListItemIcon:I["a"],VListItemTitle:M["b"],VRow:ee["a"],VSelect:$e["a"],VSheet:We["a"],VSlider:qe["a"],VSpacer:C["a"],VTextField:ue["a"],VToolbar:te["a"],VToolbarTitle:R["b"]});var Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-5",attrs:{id:"lessons"}},[n("panel",{attrs:{title:"Upcoming Lessons"}},[e.is_student?n("v-list",e._l(e.tutor.lessons,(function(t){return n("v-list-item",{key:t.name,on:{click:function(n){return e.showlesson(n,t.id)}}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5 py-0",domProps:{textContent:e._s(t.name)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.date)}})],1)],1)})),1):n("v-list",e._l(e.lessons,(function(t){return n("v-list-item",{key:t.name},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5 py-0",domProps:{textContent:e._s(t.name)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.date)}})],1),n("v-list-item-icon",[n("v-btn",{attrs:{outlined:"",color:"indigo"},on:{click:function(n){return e.showlesson(n,t.id)}}},[n("v-icon",[e._v("mdi-pencil")])],1)],1)],1)})),1)],1),e.is_student?e._e():n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mt-5",attrs:{"x-large":""}},"v-btn",s,!1),r),[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-plus-thick")]),e._v("Add Lesson")],1)]}}],null,!1,328248797),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Lesson Details")])]),n("v-card-text",{staticClass:"py-0"},[n("v-form",{ref:"form"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{type:"text",label:"Lesson name*",required:"",rules:e.nameRules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-date-picker",{staticClass:"elevation-6",attrs:{"full-width":"",rules:e.pickerRules},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}})],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading},on:{click:e.submit}},[e._v("Save")])],1),e.error?n("v-card-text",[n("p",[e._v(e._s(e.error))])]):e._e()],1)],1)],1)],1)},Ye=[],Ge=(n("99af"),{create:function(e){return H().post("lesson/new",e)},list:function(e){return H().get("lesson/list?uid=".concat(e))},edit:function(e){return H().put("lesson/edit",e)}}),ze={data:function(){return{dialog:!1,picker:(new Date).toISOString().substr(0,10),name:"",nameRules:[function(e){return!!e||"Name is required"}],pickerRules:[function(e){return!!e||"Password is required"}],validation:{namePassed:!1},error:null,loading:!1}},computed:Object(_e["a"])({is_student:function(){return this.user.isStudent},tutor:function(){return this.$store.getters.tutorFromSubscribedTutors(this.$route.params.tutor_id)}},Object(me["b"])(["user","students","subscribedTutors","lessons"])),components:{panel:re},methods:{submit:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=15;break}return e.loading=!0,e.error=null,t.prev=3,t.next=6,Ge.create({name:e.name,date:e.picker,TutorId:e.user?e.user.id:2,rhythms:""});case 6:n=t.sent,e.$store.dispatch("addLesson",n.data.lesson),e.dialog=!1,e.$router.push("/lesson/show/".concat(n.data.lesson.id)),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))()},showlesson:function(e,t){this.is_student?this.$router.push("/lesson/show/".concat(this.tutor.id,"/").concat(t)):this.$router.push("/lesson/show/".concat(this.user.id,"/").concat(t))}},mounted:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},Ze=ze,Je=n("2e4b"),Qe=Object(u["a"])(Ze,Xe,Ye,!1,null,null,null),et=Qe.exports;g()(Qe,{VBtn:w["a"],VCard:J["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:oe["c"],VCol:Q["a"],VContainer:P["a"],VDatePicker:Je["a"],VDialog:je["a"],VForm:ae["a"],VIcon:k["a"],VList:T["a"],VListItem:V["a"],VListItemContent:M["a"],VListItemIcon:I["a"],VListItemTitle:M["b"],VRow:ee["a"],VSpacer:C["a"],VTextField:ue["a"]});var tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"student"}},[n("panel",{attrs:{title:"Tutors"}},[n("v-list",e._l(e.allTutors,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-icon",[e.subscribedTutorsId.includes(t.id)?n("v-btn",{attrs:{dark:"",color:"grey darken-2",disable:""},on:{click:function(e){}}},[e._v("Subscribed")]):n("v-btn",{attrs:{dark:"",color:"red darken-3"},on:{click:function(n){return e.subscribe(n,t)}}},[e._v("Subscribe")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"mr-5",domProps:{textContent:e._s(t.username)}})],1),n("v-list-item-avatar",[n("v-img",{attrs:{src:e.avatar}})],1)],1)})),1)],1)],1)},nt=[],rt={name:"Student",data:function(){return{avatar:"https://cdn.vuetifyjs.com/images/lists/2.jpg"}},components:{panel:re},computed:Object(_e["a"])({subscribedTutorsId:function(){return this.subscribedTutors.map((function(e){return e.id}))}},Object(me["b"])(["user","allTutors","subscribedTutors"])),methods:{subscribe:function(e,t){var n=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$store.dispatch("subscribe",{studentId:n.user.id,tutorId:t.id});case 2:case"end":return e.stop()}}),e)})))()}}},st=rt,it=Object(u["a"])(st,tt,nt,!1,null,"9146ff12",null),ot=it.exports;g()(it,{VBtn:w["a"],VImg:ge["a"],VList:T["a"],VListItem:V["a"],VListItemAvatar:ye["a"],VListItemContent:M["a"],VListItemIcon:I["a"],VListItemTitle:M["b"]}),r["a"].use(j["a"]);var at=[{path:"/",name:"home",component:h},{path:"/register",name:"register",component:he},{path:"/login",name:"login",component:Me},{path:"/student",name:"student",component:we},{path:"/lesson/show/:tutor_id/:lesson_id",name:"showlesson",component:He},{path:"/lesson/index/:tutor_id",name:"lessonindex",component:et},{path:"/tutor/index",name:"tutorindex",component:ot}],lt=new j["a"]({routes:at}),ct=lt,ut=(n("4de4"),{subscribe:function(e){return H().post("subscribe/new",e)},getSubscriptionInfoOfStudent:function(e){return H().get("subscribe/get/student?uid=".concat(e))},getSubscriptionInfoOfTutor:function(e){return H().get("subscribe/get/tutor?uid=".concat(e))},getAllTutors:function(){return H().get("tutor/list")}});r["a"].use(me["a"]);var dt=new me["a"].Store({strict:!0,state:{token:null,user:{id:2,email:"testing@gmail.com",isTutor:!1,isStudent:!0},subscribedStudents:[],subscribedTutors:[],allTutors:[],lessons:[],isUserLoggedIn:!0},getters:{lesson:function(e){return function(t){return e.lessons.filter((function(e){return e.id==t}))[0]}},lessonFromSubscribedTutors:function(e){return function(t,n){return e.subscribedTutors.filter((function(e){return e.id==t}))[0].lessons.filter((function(e){return e.id==n}))[0]}},tutorFromSubscribedTutors:function(e){return function(t){return e.subscribedTutors.filter((function(e){return e.id==t}))[0]}}},mutations:{setToken:function(e,t){e.token=t},setUser:function(e,t){e.user=t},logIn:function(e){e.isUserLoggedIn=!0},logOut:function(e){e.isUserLoggedIn=!1},addLesson:function(e,t){t.rhythms=De.parseRhythmsString(t.rhythms),e.lessons.push(t)},setLessons:function(e,t){e.lessons=t},setAllTutors:function(e,t){e.allTutors=t},setTutors:function(e,t){e.subscribedTutors=t},setLessonsForTutor:function(e,t){for(var n=-1,r=0;r<e.subscribedTutors.length;r++)e.subscribedTutors[r].id==t.tutor.id&&(n=r);if(n<0)throw new Error("Negative index");e.subscribedTutors[n].lessons=t.lessons}},actions:{setToken:function(e,t){var n=e.commit;n("setToken",t),n(t?"logIn":"logOut")},setUser:function(e,t){var n=e.commit;n("setUser",t)},addLesson:function(e,t){var n=e.commit;n("addLesson",t)},getLessons:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Ge.list(t);case 4:s=n.sent,i=s.data.lessons.map((function(e){return e.rhythms=De.parseRhythmsString(e.rhythms),e})),r("setLessons",i),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},editRhythm:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ge.edit({lessonObj:t.newLesson});case 3:return n.next=5,e.dispatch("getLessons",e.state.user.id);case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},subscribe:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ut.subscribe(t);case 3:e.dispatch("getTutorsOfStudent",t.studentId),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},getAllTutors:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,ut.getAllTutors();case 4:r=t.sent,s=r.data.tutors.map((function(e){return e.lessons=null,e})),n("setAllTutors",s),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getTutorsOfStudent:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,ut.getSubscriptionInfoOfStudent(t);case 4:s=n.sent,i=s.data.tutors.map((function(e){return e.lessons=null,e})),r("setTutors",i),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},getStudentsOfTutor:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,ut.getSubscriptionInfoOfTutor(t);case 4:s=n.sent,r("setStudents",s.data.students),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},getLessonsForStudent:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Ge.list(t.id);case 3:s=n.sent,i=s.data.lessons.map((function(e){return e.rhythms=De.parseRhythmsString(e.rhythms),e})),r("setLessonsForTutor",{tutor:t,lessons:i});case 6:case"end":return n.stop()}}),n)})))()}}}),ht=n("f309");r["a"].use(ht["a"]);var pt=new ht["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:ct,store:dt,vuetify:pt,render:function(e){return e(A)}}).$mount("#app")},"64ae":function(e,t,n){"use strict";var r=n("1efa"),s=n.n(r);s.a},"8a23":function(e,t,n){},e345:function(e,t,n){}});
//# sourceMappingURL=app.b21a811a.js.map